"use strict";(self.webpackChunktaormina_duel=self.webpackChunktaormina_duel||[]).push([[179],{5900:(L,P,E)=>{var l=E(4650);let V=null;function W(){return V}const O=new l.OlP("DocumentToken");class as{constructor(i,n,a,d){this.$implicit=i,this.ngForOf=n,this.index=a,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qt=(()=>{class r{constructor(n,a,d){this._viewContainer=n,this._template=a,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const a=this._viewContainer;n.forEachOperation((d,p,_)=>{if(null==d.previousIndex)a.createEmbeddedView(this._template,new as(d.item,this._ngForOf,-1,-1),null===_?void 0:_);else if(null==_)a.remove(null===p?void 0:p);else if(null!==p){const D=a.get(p);a.move(D,_),Ut(D,d)}});for(let d=0,p=a.length;d<p;d++){const D=a.get(d).context;D.index=d,D.count=p,D.ngForOf=this._ngForOf}n.forEachIdentityChange(d=>{Ut(a.get(d.currentIndex),d)})}static ngTemplateContextGuard(n,a){return!0}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();function Ut(r,i){r.context.$implicit=i.item}let Dt=(()=>{class r{constructor(n,a){this._viewContainer=n,this._context=new On,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){w("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){w("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,a){return!0}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.s_b),l.Y36(l.Rgc))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class On{constructor(){this.$implicit=null,this.ngIf=null}}function w(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,l.AaK)(i)}'.`)}class H{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let R=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const a=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||a,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),a}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let a=0;a<this._defaultViews.length;a++)this._defaultViews[a].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=l.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),U=(()=>{class r{constructor(n,a,d){this.ngSwitch=d,d._addCase(),this._view=new H(n,a)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(R,9))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),Et=(()=>{class r{constructor(n,a,d){this._ngEl=n,this._differs=a,this._renderer=d,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,a){const[d,p]=n.split("."),_=-1===d.indexOf("-")?void 0:l.JOm.DashCase;null!=a?this._renderer.setStyle(this._ngEl.nativeElement,d,p?`${a}${p}`:a,_):this._renderer.removeStyle(this._ngEl.nativeElement,d,_)}_applyChanges(n){n.forEachRemovedItem(a=>this._setStyle(a.key,null)),n.forEachAddedItem(a=>this._setStyle(a.key,a.currentValue)),n.forEachChangedItem(a=>this._setStyle(a.key,a.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();class Lh{createSubscription(i,n){return i.subscribe({next:n,error:a=>{throw a}})}dispose(i){i.unsubscribe()}}class Qc{createSubscription(i,n){return i.then(n,a=>{throw a})}dispose(i){}}const Jc=new Qc,bC=new Lh;let ls=(()=>{class r{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,a=>this._updateLatestValue(n,a))}_selectStrategy(n){if((0,l.QGY)(n))return Jc;if((0,l.F4k)(n))return bC;throw function At(r,i){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,a){n===this._obj&&(this._latestValue=a,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.sBO,16))},r.\u0275pipe=l.Yjl({name:"async",type:r,pure:!1}),r})(),Vh=(()=>{class r{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Ga}transform(n,a=Ga){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const d=this.differ.diff(n),p=a!==this.compareFn;return d&&(this.keyValues=[],d.forEachItem(_=>{this.keyValues.push(function Mi(r,i){return{key:r,value:i}}(_.key,_.currentValue))})),(d||p)&&(this.keyValues.sort(a),this.compareFn=a),this.keyValues}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.aQg,16))},r.\u0275pipe=l.Yjl({name:"keyvalue",type:r,pure:!1}),r})();function Ga(r,i){const n=r.key,a=i.key;if(n===a)return 0;if(void 0===n)return 1;if(void 0===a)return-1;if(null===n)return 1;if(null===a)return-1;if("string"==typeof n&&"string"==typeof a)return n<a?-1:1;if("number"==typeof n&&"number"==typeof a)return n-a;if("boolean"==typeof n&&"boolean"==typeof a)return n<a?-1:1;const d=String(n),p=String(a);return d==p?0:d<p?-1:1}let Nn=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})();class ru extends class Lt extends class T{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function N(r){V||(V=r)}(new ru)}onAndCancel(i,n,a){return i.addEventListener(n,a,!1),()=>{i.removeEventListener(n,a,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=function Ya(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}();return null==n?null:function uy(r){fn=fn||document.createElement("a"),fn.setAttribute("href",r);const i=fn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function go(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const a=n.indexOf("="),[d,p]=-1==a?[n,""]:[n.slice(0,a),n.slice(a+1)];if(d.trim()===i)return decodeURIComponent(p)}return null}(document.cookie,i)}}let fn,za=null;const Za=new l.OlP("TRANSITION_ID"),xn=[{provide:l.ip1,useFactory:function cs(r,i,n){return()=>{n.get(l.CZH).donePromise.then(()=>{const a=W(),d=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let p=0;p<d.length;p++)a.remove(d[p])})}},deps:[Za,O,l.zs3],multi:!0}];let iu=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const qa=new l.OlP("EventManagerPlugins");let Xn=(()=>{class r{constructor(n,a){this._zone=a,this._eventNameToPlugin=new Map,n.forEach(d=>d.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,a,d){return this._findPluginFor(a).addEventListener(n,a,d)}addGlobalEventListener(n,a,d){return this._findPluginFor(a).addGlobalEventListener(n,a,d)}getZone(){return this._zone}_findPluginFor(n){const a=this._eventNameToPlugin.get(n);if(a)return a;const d=this._plugins;for(let p=0;p<d.length;p++){const _=d[p];if(_.supports(n))return this._eventNameToPlugin.set(n,_),_}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(qa),l.LFG(l.R0b))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class su{constructor(i){this._doc=i}addGlobalEventListener(i,n,a){const d=W().getGlobalEventTarget(this._doc,i);if(!d)throw new Error(`Unsupported event target ${d} for event ${n}`);return this.addEventListener(d,n,a)}}let Qa=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const a=new Set;n.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),a.add(d))}),this.onStylesAdded(a)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),Pe=(()=>{class r extends Qa{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,a,d){n.forEach(p=>{const _=this._doc.createElement("style");_.textContent=p,d.push(a.appendChild(_))})}addHost(n){const a=[];this._addStylesToHost(this._stylesSet,n,a),this._hostNodes.set(n,a)}removeHost(n){const a=this._hostNodes.get(n);a&&a.forEach(ou),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((a,d)=>{this._addStylesToHost(n,d,a)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(ou))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(O))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();function ou(r){W().remove(r)}const Gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},au=/%COMP%/g;function $e(r,i,n){for(let a=0;a<i.length;a++){let d=i[a];Array.isArray(d)?$e(r,d,n):(d=d.replace(au,r),n.push(d))}return n}function lu(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let bt=(()=>{class r{constructor(n,a,d){this.eventManager=n,this.sharedStylesHost=a,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new Ja(n)}createRenderer(n,a){if(!n||!a)return this.defaultRenderer;switch(a.encapsulation){case l.ifc.Emulated:{let d=this.rendererByCompId.get(a.id);return d||(d=new cu(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,d)),d.applyToHost(n),d}case 1:case l.ifc.ShadowDom:return new kC(this.eventManager,this.sharedStylesHost,n,a);default:if(!this.rendererByCompId.has(a.id)){const d=$e(a.id,a.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(Xn),l.LFG(Pe),l.LFG(l.AFp))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class Ja{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,n){return n?document.createElementNS(Gh[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){(Xa(i)?i.content:i).appendChild(n)}insertBefore(i,n,a){i&&(Xa(i)?i.content:i).insertBefore(n,a)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let a="string"==typeof i?document.querySelector(i):i;if(!a)throw new Error(`The selector "${i}" did not match any elements`);return n||(a.textContent=""),a}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,a,d){if(d){n=d+":"+n;const p=Gh[d];p?i.setAttributeNS(p,n,a):i.setAttribute(n,a)}else i.setAttribute(n,a)}removeAttribute(i,n,a){if(a){const d=Gh[a];d?i.removeAttributeNS(d,n):i.removeAttribute(`${a}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,a,d){d&(l.JOm.DashCase|l.JOm.Important)?i.style.setProperty(n,a,d&l.JOm.Important?"important":""):i.style[n]=a}removeStyle(i,n,a){a&l.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,a){i[n]=a}setValue(i,n){i.nodeValue=n}listen(i,n,a){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,lu(a)):this.eventManager.addEventListener(i,n,lu(a))}}function Xa(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class cu extends Ja{constructor(i,n,a,d){super(i),this.component=a;const p=$e(d+"-"+a.id,a.styles,[]);n.addStyles(p),this.contentAttr=function fy(r){return"_ngcontent-%COMP%".replace(au,r)}(d+"-"+a.id),this.hostAttr=function Q(r){return"_nghost-%COMP%".replace(au,r)}(d+"-"+a.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const a=super.createElement(i,n);return super.setAttribute(a,this.contentAttr,""),a}}class kC extends Ja{constructor(i,n,a,d){super(i),this.sharedStylesHost=n,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=$e(d.id,d.styles,[]);for(let _=0;_<p.length;_++){const D=document.createElement("style");D.textContent=p[_],this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,a){return super.insertBefore(this.nodeOrShadowRoot(i),n,a)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let py=(()=>{class r extends su{constructor(n){super(n)}supports(n){return!0}addEventListener(n,a,d){return n.addEventListener(a,d,!1),()=>this.removeEventListener(n,a,d)}removeEventListener(n,a,d){return n.removeEventListener(a,d)}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(O))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const gy=["alt","control","meta","shift"],hn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yh={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let us=(()=>{class r extends su{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,a,d){const p=r.parseEventName(a),_=r.eventCallback(p.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(n,p.domEventName,_))}static parseEventName(n){const a=n.toLowerCase().split("."),d=a.shift();if(0===a.length||"keydown"!==d&&"keyup"!==d)return null;const p=r._normalizeKey(a.pop());let _="";if(gy.forEach(S=>{const x=a.indexOf(S);x>-1&&(a.splice(x,1),_+=S+".")}),_+=p,0!=a.length||0===p.length)return null;const D={};return D.domEventName=d,D.fullKey=_,D}static getEventFullKey(n){let a="",d=function Nr(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&mr.hasOwnProperty(i)&&(i=mr[i]))}return hn[i]||i}(n);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),gy.forEach(p=>{p!=d&&Yh[p](n)&&(a+=p+".")}),a+=d,a}static eventCallback(n,a,d){return p=>{r.getEventFullKey(p)===n&&d.runGuarded(()=>a(p))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(O))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const pu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function _y(){ru.makeCurrent()},multi:!0},{provide:O,useFactory:function fu(){return(0,l.RDi)(document),document},deps:[]}]),Zh=new l.OlP(""),gu=[{provide:l.rWj,useClass:class $h{addToWindow(i){l.dqk.getAngularTestability=(a,d=!0)=>{const p=i.findTestabilityInTree(a,d);if(null==p)throw new Error("Could not find testability for element.");return p},l.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(a=>{const d=l.dqk.getAllAngularTestabilities();let p=d.length,_=!1;const D=function(S){_=_||S,p--,0==p&&a(_)};d.forEach(function(S){S.whenStable(D)})})}findTestabilityInTree(i,n,a){return null==n?null:i.getTestability(n)??(a?W().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],_o=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function du(){return new l.qLn},deps:[]},{provide:qa,useClass:py,multi:!0,deps:[O,l.R0b,l.Lbi]},{provide:qa,useClass:us,multi:!0,deps:[O]},{provide:bt,useClass:bt,deps:[Xn,Pe,l.AFp]},{provide:l.FYo,useExisting:bt},{provide:Qa,useExisting:Pe},{provide:Pe,useClass:Pe,deps:[O]},{provide:Xn,useClass:Xn,deps:[qa,l.R0b]},{provide:class cy{},useClass:iu,deps:[]},[]];let mu=(()=>{class r{constructor(n){}static withServerTransition(n){return{ngModule:r,providers:[{provide:l.AFp,useValue:n.appId},{provide:Za,useExisting:l.AFp},xn]}}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(Zh,12))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[..._o,...gu],imports:[Nn,l.hGG]}),r})();typeof window<"u"&&window;class Su{}const Dn="*";function vo(r,i=null){return{type:2,steps:r,options:i}}function Ty(r){return{type:6,styles:r,offset:null}}function Do(r){Promise.resolve(null).then(r)}class Qr{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Do(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}class ip{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,a=0,d=0;const p=this.players.length;0==p?Do(()=>this._onFinish()):this.players.forEach(_=>{_.onDone(()=>{++n==p&&this._onFinish()}),_.onDestroy(()=>{++a==p&&this._onDestroy()}),_.onStart(()=>{++d==p&&this._onStart()})}),this.totalTime=this.players.reduce((_,D)=>Math.max(_,D.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(a=>{const d=a.totalTime?Math.min(1,n/a.totalTime):1;a.setPosition(d)})}getPosition(){const i=this.players.reduce((n,a)=>null===n||a.totalTime>n.totalTime?a:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}function Mu(r){return new l.vHH(3e3,!1)}function tw(){return typeof window<"u"&&typeof window.document<"u"}function Ou(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kt(r){switch(r.length){case 0:return new Qr;case 1:return r[0];default:return new ip(r)}}function _r(r,i,n,a,d=new Map,p=new Map){const _=[],D=[];let S=-1,x=null;if(a.forEach(G=>{const Z=G.get("offset"),_e=Z==S,pe=_e&&x||new Map;G.forEach((ae,Ee)=>{let le=Ee,ie=ae;if("offset"!==Ee)switch(le=i.normalizePropertyName(le,_),ie){case"!":ie=d.get(Ee);break;case Dn:ie=p.get(Ee);break;default:ie=i.normalizeStyleValue(Ee,le,ie,_)}pe.set(le,ie)}),_e||D.push(pe),x=pe,S=Z}),_.length)throw function KC(r){return new l.vHH(3502,!1)}();return D}function ol(r,i,n,a){switch(i){case"start":r.onStart(()=>a(n&&ms(n,"start",r)));break;case"done":r.onDone(()=>a(n&&ms(n,"done",r)));break;case"destroy":r.onDestroy(()=>a(n&&ms(n,"destroy",r)))}}function ms(r,i,n){const p=Pi(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,n.totalTime??r.totalTime,!!n.disabled),_=r._data;return null!=_&&(p._data=_),p}function Pi(r,i,n,a,d="",p=0,_){return{element:r,triggerName:i,fromState:n,toState:a,phaseName:d,totalTime:p,disabled:!!_}}function En(r,i,n){let a=r.get(i);return a||r.set(i,a=n),a}function fp(r){const i=r.indexOf(":");return[r.substring(1,i),r.slice(i+1)]}let Fu=(r,i)=>!1,ky=(r,i,n)=>[],Vy=null;function al(r){const i=r.parentNode||r.host;return i===Vy?null:i}(Ou()||typeof Element<"u")&&(tw()?(Vy=(()=>document.documentElement)(),Fu=(r,i)=>{for(;i;){if(i===r)return!0;i=al(i)}return!1}):Fu=(r,i)=>r.contains(i),ky=(r,i,n)=>{if(n)return Array.from(r.querySelectorAll(i));const a=r.querySelector(i);return a?[a]:[]});let $n=null,By=!1;const pp=Fu,gp=ky;let mp=(()=>{class r{validateStyleProperty(n){return function hp(r){$n||($n=function Hy(){return typeof document<"u"?document.body:null}()||{},By=!!$n.style&&"WebkitAppearance"in $n.style);let i=!0;return $n.style&&!function Nu(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in $n.style,!i&&By&&(i="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in $n.style)),i}(n)}matchesElement(n,a){return!1}containsElement(n,a){return pp(n,a)}getParentElement(n){return al(n)}query(n,a,d){return gp(n,a,d)}computeStyle(n,a,d){return d||""}animate(n,a,d,p,_,D=[],S){return new Qr(d,p)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),Ao=(()=>{class r{}return r.NOOP=new mp,r})();const So="ng-enter",Oi="ng-leave",cl="ng-trigger",Mo=".ng-trigger",_p="ng-animating",ul=".ng-animating";function Gn(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:_s(parseFloat(i[1]),i[2])}function _s(r,i){return"s"===i?1e3*r:r}function dl(r,i,n){return r.hasOwnProperty("duration")?r:function Vt(r,i,n){let d,p=0,_="";if("string"==typeof r){const D=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===D)return i.push(Mu()),{duration:0,delay:0,easing:""};d=_s(parseFloat(D[1]),D[2]);const S=D[3];null!=S&&(p=_s(parseFloat(S),D[4]));const x=D[5];x&&(_=x)}else d=r;if(!n){let D=!1,S=i.length;d<0&&(i.push(function sp(){return new l.vHH(3100,!1)}()),D=!0),p<0&&(i.push(function Fy(){return new l.vHH(3101,!1)}()),D=!0),D&&i.splice(S,0,Mu())}return{duration:d,delay:p,easing:_}}(r,i,n)}function ys(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function yp(r){const i=new Map;return Object.keys(r).forEach(n=>{i.set(n,r[n])}),i}function Jr(r,i=new Map,n){if(n)for(let[a,d]of n)i.set(a,d);for(let[a,d]of r)i.set(a,d);return i}function vp(r,i,n){return n?i+":"+n+";":""}function Dp(r){let i="";for(let n=0;n<r.style.length;n++){const a=r.style.item(n);i+=vp(0,a,r.style.getPropertyValue(a))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=vp(0,jy(n),r.style[n]));r.setAttribute("style",i)}function Ln(r,i,n){r.style&&(i.forEach((a,d)=>{const p=ku(d);n&&!n.has(d)&&n.set(d,r.style[p]),r.style[p]=a}),Ou()&&Dp(r))}function tr(r,i){r.style&&(i.forEach((n,a)=>{const d=ku(a);r.style[d]=""}),Ou()&&Dp(r))}function Fi(r){return Array.isArray(r)?1==r.length?r[0]:vo(r):r}const xu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Lu(r){let i=[];if("string"==typeof r){let n;for(;n=xu.exec(r);)i.push(n[1]);xu.lastIndex=0}return i}function Xr(r,i,n){const a=r.toString(),d=a.replace(xu,(p,_)=>{let D=i[_];return null==D&&(n.push(function Eo(r){return new l.vHH(3003,!1)}()),D=""),D.toString()});return d==a?r:d}function Ni(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const Ep=/-+([a-z0-9])/g;function ku(r){return r.replace(Ep,(...i)=>i[1].toUpperCase())}function jy(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kn(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw function Ny(r){return new l.vHH(3004,!1)}()}}function $y(r,i){return window.getComputedStyle(r)[i]}function Cp(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(a=>function ow(r,i,n){if(":"==r[0]){const S=function wp(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,a)=>parseFloat(a)>parseFloat(n);case":decrement":return(n,a)=>parseFloat(a)<parseFloat(n);default:return i.push(function gs(r){return new l.vHH(3016,!1)}()),"* => *"}}(r,n);if("function"==typeof S)return void i.push(S);r=S}const a=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return n.push(function Iu(r){return new l.vHH(3015,!1)}()),i;const d=a[1],p=a[2],_=a[3];i.push(pl(d,_));"<"==p[0]&&!("*"==d&&"*"==_)&&i.push(pl(_,d))}(a,n,i)):n.push(r),n}const Bu=new Set(["true","1"]),Ri=new Set(["false","0"]);function pl(r,i){const n=Bu.has(r)||Ri.has(r),a=Bu.has(i)||Ri.has(i);return(d,p)=>{let _="*"==r||r==d,D="*"==i||i==p;return!_&&n&&"boolean"==typeof d&&(_=d?Bu.has(r):Ri.has(r)),!D&&a&&"boolean"==typeof p&&(D=p?Bu.has(i):Ri.has(i)),_&&D}}const zy=new RegExp("s*:selfs*,?","g");function Hu(r,i,n,a){return new gl(r).build(i,n,a)}class gl{constructor(i){this._driver=i}build(i,n,a){const d=new bp(n);return this._resetContextStyleTimingState(d),kn(this,Fi(i),d)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,n){let a=n.queryCount=0,d=n.depCount=0;const p=[],_=[];return"@"==i.name.charAt(0)&&n.errors.push(function ap(){return new l.vHH(3006,!1)}()),i.definitions.forEach(D=>{if(this._resetContextStyleTimingState(n),0==D.type){const S=D,x=S.name;x.toString().split(/\s*,\s*/).forEach(G=>{S.name=G,p.push(this.visitState(S,n))}),S.name=x}else if(1==D.type){const S=this.visitTransition(D,n);a+=S.queryCount,d+=S.depCount,_.push(S)}else n.errors.push(function ds(){return new l.vHH(3007,!1)}())}),{type:7,name:i.name,states:p,transitions:_,queryCount:a,depCount:d,options:null}}visitState(i,n){const a=this.visitStyle(i.styles,n),d=i.options&&i.options.params||null;if(a.containsDynamicStyles){const p=new Set,_=d||{};a.styles.forEach(D=>{D instanceof Map&&D.forEach(S=>{Lu(S).forEach(x=>{_.hasOwnProperty(x)||p.add(x)})})}),p.size&&(Ni(p.values()),n.errors.push(function Ry(r,i){return new l.vHH(3008,!1)}()))}return{type:0,name:i.name,style:a,options:d?{params:d}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const a=kn(this,Fi(i.animation),n);return{type:1,matchers:Cp(i.expr,n.errors),animation:a,queryCount:n.queryCount,depCount:n.depCount,options:Li(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(a=>kn(this,a,n)),options:Li(i.options)}}visitGroup(i,n){const a=n.currentTime;let d=0;const p=i.steps.map(_=>{n.currentTime=a;const D=kn(this,_,n);return d=Math.max(d,n.currentTime),D});return n.currentTime=d,{type:3,steps:p,options:Li(i.options)}}visitAnimate(i,n){const a=function Mp(r,i){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return ju(dl(r,i).duration,0,"");const n=r;if(n.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=ju(0,0,"");return p.dynamic=!0,p.strValue=n,p}const d=dl(n,i);return ju(d.duration,d.delay,d.easing)}(i.timings,n.errors);n.currentAnimateTimings=a;let d,p=i.styles?i.styles:Ty({});if(5==p.type)d=this.visitKeyframes(p,n);else{let _=i.styles,D=!1;if(!_){D=!0;const x={};a.easing&&(x.easing=a.easing),_=Ty(x)}n.currentTime+=a.duration+a.delay;const S=this.visitStyle(_,n);S.isEmptyStep=D,d=S}return n.currentAnimateTimings=null,{type:4,timings:a,style:d,options:null}}visitStyle(i,n){const a=this._makeStyleAst(i,n);return this._validateStyleAst(a,n),a}_makeStyleAst(i,n){const a=[],d=Array.isArray(i.styles)?i.styles:[i.styles];for(let D of d)"string"==typeof D?D===Dn?a.push(D):n.errors.push(new l.vHH(3002,!1)):a.push(yp(D));let p=!1,_=null;return a.forEach(D=>{if(D instanceof Map&&(D.has("easing")&&(_=D.get("easing"),D.delete("easing")),!p))for(let S of D.values())if(S.toString().indexOf("{{")>=0){p=!0;break}}),{type:6,styles:a,easing:_,offset:i.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(i,n){const a=n.currentAnimateTimings;let d=n.currentTime,p=n.currentTime;a&&p>0&&(p-=a.duration+a.delay),i.styles.forEach(_=>{"string"!=typeof _&&_.forEach((D,S)=>{const x=n.collectedStyles.get(n.currentQuerySelector),G=x.get(S);let Z=!0;G&&(p!=d&&p>=G.startTime&&d<=G.endTime&&(n.errors.push(function xy(r,i,n,a,d){return new l.vHH(3010,!1)}()),Z=!1),p=G.startTime),Z&&x.set(S,{startTime:p,endTime:d}),n.options&&function To(r,i,n){const a=i.params||{},d=Lu(r);d.length&&d.forEach(p=>{a.hasOwnProperty(p)||n.push(function sl(r){return new l.vHH(3001,!1)}())})}(D,n.options,n.errors)})})}visitKeyframes(i,n){const a={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function up(){return new l.vHH(3011,!1)}()),a;let p=0;const _=[];let D=!1,S=!1,x=0;const G=i.steps.map(ie=>{const se=this._makeStyleAst(ie,n);let ne=null!=se.offset?se.offset:function Sp(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(n instanceof Map&&n.has("offset")){const a=n;i=parseFloat(a.get("offset")),a.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const n=r;i=parseFloat(n.get("offset")),n.delete("offset")}return i}(se.styles),ge=0;return null!=ne&&(p++,ge=se.offset=ne),S=S||ge<0||ge>1,D=D||ge<x,x=ge,_.push(ge),se});S&&n.errors.push(function Tu(){return new l.vHH(3012,!1)}()),D&&n.errors.push(function fs(){return new l.vHH(3200,!1)}());const Z=i.steps.length;let _e=0;p>0&&p<Z?n.errors.push(function hs(){return new l.vHH(3202,!1)}()):0==p&&(_e=1/(Z-1));const pe=Z-1,ae=n.currentTime,Ee=n.currentAnimateTimings,le=Ee.duration;return G.forEach((ie,se)=>{const ne=_e>0?se==pe?1:_e*se:_[se],ge=ne*le;n.currentTime=ae+Ee.delay+ge,Ee.duration=ge,this._validateStyleAst(ie,n),ie.offset=ne,a.styles.push(ie)}),a}visitReference(i,n){return{type:8,animation:kn(this,Fi(i.animation),n),options:Li(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:Li(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:Li(i.options)}}visitQuery(i,n){const a=n.currentQuerySelector,d=i.options||{};n.queryCount++,n.currentQuery=i;const[p,_]=function Uu(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(zy,"")),r=r.replace(/@\*/g,Mo).replace(/@\w+/g,n=>Mo+"-"+n.slice(1)).replace(/:animating/g,ul),[r,i]}(i.selector);n.currentQuerySelector=a.length?a+" "+p:p,En(n.collectedStyles,n.currentQuerySelector,new Map);const D=kn(this,Fi(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=a,{type:11,selector:p,limit:d.limit||0,optional:!!d.optional,includeSelf:_,animation:D,originalSelector:i.selector,options:Li(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push(function ps(){return new l.vHH(3013,!1)}());const a="full"===i.timings?{duration:0,delay:0,easing:"full"}:dl(i.timings,n.errors,!0);return{type:12,animation:kn(this,Fi(i.animation),n),timings:a,options:null}}}class bp{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function Li(r){return r?(r=ys(r)).params&&(r.params=function Ap(r){return r?ys(r):null}(r.params)):r={},r}function ju(r,i,n){return{duration:r,delay:i,easing:n}}function $u(r,i,n,a,d,p,_=null,D=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:a,duration:d,delay:p,totalTime:d+p,easing:_,subTimeline:D}}class ml{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,n){let a=this._map.get(i);a||this._map.set(i,a=[]),a.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Oo=new RegExp(":enter","g"),aw=new RegExp(":leave","g");function Tp(r,i,n,a,d,p=new Map,_=new Map,D,S,x=[]){return(new lw).buildKeyframes(r,i,n,a,d,p,_,D,S,x)}class lw{buildKeyframes(i,n,a,d,p,_,D,S,x,G=[]){x=x||new ml;const Z=new Ip(i,n,x,d,p,G,[]);Z.options=S;const _e=S.delay?Gn(S.delay):0;Z.currentTimeline.delayNextStep(_e),Z.currentTimeline.setStyles([_],null,Z.errors,S),kn(this,a,Z);const pe=Z.timelines.filter(ae=>ae.containsAnimation());if(pe.length&&D.size){let ae;for(let Ee=pe.length-1;Ee>=0;Ee--){const le=pe[Ee];if(le.element===n){ae=le;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([D],null,Z.errors,S)}return pe.length?pe.map(ae=>ae.buildKeyframes()):[$u(n,[],[],[],0,_e,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const a=n.subInstructions.get(n.element);if(a){const d=n.createSubContext(i.options),p=n.currentTimeline.currentTime,_=this._visitSubInstructions(a,d,d.options);p!=_&&n.transformIntoNewTimeline(_)}n.previousNode=i}visitAnimateRef(i,n){const a=n.createSubContext(i.options);a.transformIntoNewTimeline(),this.visitReference(i.animation,a),n.transformIntoNewTimeline(a.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,a){let p=n.currentTimeline.currentTime;const _=null!=a.duration?Gn(a.duration):null,D=null!=a.delay?Gn(a.delay):null;return 0!==_&&i.forEach(S=>{const x=n.appendInstructionToTimeline(S,_,D);p=Math.max(p,x.duration+x.delay)}),p}visitReference(i,n){n.updateOptions(i.options,!0),kn(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const a=n.subContextCount;let d=n;const p=i.options;if(p&&(p.params||p.delay)&&(d=n.createSubContext(p),d.transformIntoNewTimeline(),null!=p.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Gu);const _=Gn(p.delay);d.delayNextStep(_)}i.steps.length&&(i.steps.forEach(_=>kn(this,_,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>a&&d.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const a=[];let d=n.currentTimeline.currentTime;const p=i.options&&i.options.delay?Gn(i.options.delay):0;i.steps.forEach(_=>{const D=n.createSubContext(i.options);p&&D.delayNextStep(p),kn(this,_,D),d=Math.max(d,D.currentTimeline.currentTime),a.push(D.currentTimeline)}),a.forEach(_=>n.currentTimeline.mergeTimelineCollectedStyles(_)),n.transformIntoNewTimeline(d),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const a=i.strValue;return dl(n.params?Xr(a,n.params,n.errors):a,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const a=n.currentAnimateTimings=this._visitTiming(i.timings,n),d=n.currentTimeline;a.delay&&(n.incrementTime(a.delay),d.snapshotCurrentStyles());const p=i.style;5==p.type?this.visitKeyframes(p,n):(n.incrementTime(a.duration),this.visitStyle(p,n),d.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const a=n.currentTimeline,d=n.currentAnimateTimings;!d&&a.hasCurrentStyleProperties()&&a.forwardFrame();const p=d&&d.easing||i.easing;i.isEmptyStep?a.applyEmptyStep(p):a.setStyles(i.styles,p,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const a=n.currentAnimateTimings,d=n.currentTimeline.duration,p=a.duration,D=n.createSubContext().currentTimeline;D.easing=a.easing,i.styles.forEach(S=>{D.forwardTime((S.offset||0)*p),D.setStyles(S.styles,S.easing,n.errors,n.options),D.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(D),n.transformIntoNewTimeline(d+p),n.previousNode=i}visitQuery(i,n){const a=n.currentTimeline.currentTime,d=i.options||{},p=d.delay?Gn(d.delay):0;p&&(6===n.previousNode.type||0==a&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Gu);let _=a;const D=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!d.optional,n.errors);n.currentQueryTotal=D.length;let S=null;D.forEach((x,G)=>{n.currentQueryIndex=G;const Z=n.createSubContext(i.options,x);p&&Z.delayNextStep(p),x===n.element&&(S=Z.currentTimeline),kn(this,i.animation,Z),Z.currentTimeline.applyStylesToKeyframe(),_=Math.max(_,Z.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(_),S&&(n.currentTimeline.mergeTimelineCollectedStyles(S),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const a=n.parentContext,d=n.currentTimeline,p=i.timings,_=Math.abs(p.duration),D=_*(n.currentQueryTotal-1);let S=_*n.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":S=D-S;break;case"full":S=a.currentStaggerTime}const G=n.currentTimeline;S&&G.delayNextStep(S);const Z=G.currentTime;kn(this,i.animation,n),n.previousNode=i,a.currentStaggerTime=d.currentTime-Z+(d.startTime-a.currentTimeline.startTime)}}const Gu={};class Ip{constructor(i,n,a,d,p,_,D,S){this._driver=i,this.element=n,this.subInstructions=a,this._enterClassName=d,this._leaveClassName=p,this.errors=_,this.timelines=D,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=S||new Fo(this._driver,n,0),D.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const a=i;let d=this.options;null!=a.duration&&(d.duration=Gn(a.duration)),null!=a.delay&&(d.delay=Gn(a.delay));const p=a.params;if(p){let _=d.params;_||(_=this.options.params={}),Object.keys(p).forEach(D=>{(!n||!_.hasOwnProperty(D))&&(_[D]=Xr(p[D],_,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const a=i.params={};Object.keys(n).forEach(d=>{a[d]=n[d]})}}return i}createSubContext(i=null,n,a){const d=n||this.element,p=new Ip(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,a||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(i),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(i){return this.previousNode=Gu,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,a){const d={duration:n??i.duration,delay:this.currentTimeline.currentTime+(a??0)+i.delay,easing:""},p=new Qy(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,d,i.stretchStartingKeyframe);return this.timelines.push(p),d}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,a,d,p,_){let D=[];if(d&&D.push(this.element),i.length>0){i=(i=i.replace(Oo,"."+this._enterClassName)).replace(aw,"."+this._leaveClassName);let x=this._driver.query(this.element,i,1!=a);0!==a&&(x=a<0?x.slice(x.length+a,x.length):x.slice(0,a)),D.push(...x)}return!p&&0==D.length&&_.push(function dp(r){return new l.vHH(3014,!1)}()),D}}class Fo{constructor(i,n,a,d){this._driver=i,this.element=n,this.startTime=a,this._elementTimelineStylesLookup=d,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new Fo(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles.set(i,n),this._globalTimelineStyles.set(i,n),this._styleSummary.set(i,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[n,a]of this._globalTimelineStyles)this._backFill.set(n,a||Dn),this._currentKeyframe.set(n,Dn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,a,d){n&&this._previousKeyframe.set("easing",n);const p=d&&d.params||{},_=function Jy(r,i){const n=new Map;let a;return r.forEach(d=>{if("*"===d){a=a||i.keys();for(let p of a)n.set(p,Dn)}else Jr(d,n)}),n}(i,this._globalTimelineStyles);for(let[D,S]of _){const x=Xr(S,p,a);this._pendingStyles.set(D,x),this._localTimelineStyles.has(D)||this._backFill.set(D,this._globalTimelineStyles.get(D)||Dn),this._updateStyle(D,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,n)=>{this._currentKeyframe.set(n,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,i)}))}snapshotCurrentStyles(){for(let[i,n]of this._localTimelineStyles)this._pendingStyles.set(i,n),this._updateStyle(i,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((n,a)=>{const d=this._styleSummary.get(a);(!d||n.time>d.time)&&this._updateStyle(a,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,a=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((D,S)=>{const x=Jr(D,new Map,this._backFill);x.forEach((G,Z)=>{"!"===G?i.add(Z):G===Dn&&n.add(Z)}),a||x.set("offset",S/this.duration),d.push(x)});const p=i.size?Ni(i.values()):[],_=n.size?Ni(n.values()):[];if(a){const D=d[0],S=new Map(D);D.set("offset",0),S.set("offset",1),d=[D,S]}return $u(this.element,d,p,_,this.duration,this.startTime,this.easing,!1)}}class Qy extends Fo{constructor(i,n,a,d,p,_,D=!1){super(i,n,_.delay),this.keyframes=a,this.preStyleProps=d,this.postStyleProps=p,this._stretchStartingKeyframe=D,this.timings={duration:_.duration,delay:_.delay,easing:_.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:a,easing:d}=this.timings;if(this._stretchStartingKeyframe&&n){const p=[],_=a+n,D=n/_,S=Jr(i[0]);S.set("offset",0),p.push(S);const x=Jr(i[0]);x.set("offset",Pp(D)),p.push(x);const G=i.length-1;for(let Z=1;Z<=G;Z++){let _e=Jr(i[Z]);const pe=_e.get("offset");_e.set("offset",Pp((n+pe*a)/_)),p.push(_e)}a=_,n=0,d="",i=p}return $u(this.element,i,this.preStyleProps,this.postStyleProps,a,n,d,!0)}}function Pp(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class Op{}const _l=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fp extends Op{normalizePropertyName(i,n){return ku(i)}normalizeStyleValue(i,n,a,d){let p="";const _=a.toString().trim();if(_l.has(n)&&0!==a&&"0"!==a)if("number"==typeof a)p="px";else{const D=a.match(/^[+-]?[\d\.]+([a-z]*)$/);D&&0==D[1].length&&d.push(function op(r,i){return new l.vHH(3005,!1)}())}return _+p}}function nr(r,i,n,a,d,p,_,D,S,x,G,Z,_e){return{type:0,element:r,triggerName:i,isRemovalTransition:d,fromState:n,fromStyles:p,toState:a,toStyles:_,timelines:D,queriedElements:S,preStyleProps:x,postStyleProps:G,totalTime:Z,errors:_e}}const ki={};class Wu{constructor(i,n,a){this._triggerName=i,this.ast=n,this._stateStyles=a}match(i,n,a,d){return function Np(r,i,n,a,d){return r.some(p=>p(i,n,a,d))}(this.ast.matchers,i,n,a,d)}buildStyles(i,n,a){let d=this._stateStyles.get("*");return void 0!==i&&(d=this._stateStyles.get(i?.toString())||d),d?d.buildStyles(n,a):new Map}build(i,n,a,d,p,_,D,S,x,G){const Z=[],_e=this.ast.options&&this.ast.options.params||ki,ae=this.buildStyles(a,D&&D.params||ki,Z),Ee=S&&S.params||ki,le=this.buildStyles(d,Ee,Z),ie=new Set,se=new Map,ne=new Map,ge="void"===d,be={params:Rp(Ee,_e),delay:this.ast.options?.delay},He=G?[]:Tp(i,n,this.ast.animation,p,_,ae,le,be,x,Z);let je=0;if(He.forEach(zt=>{je=Math.max(zt.duration+zt.delay,je)}),Z.length)return nr(n,this._triggerName,a,d,ge,ae,le,[],[],se,ne,je,Z);He.forEach(zt=>{const Pn=zt.element,Ph=En(se,Pn,new Set);zt.preStyleProps.forEach(oo=>Ph.add(oo));const so=En(ne,Pn,new Set);zt.postStyleProps.forEach(oo=>so.add(oo)),Pn!==n&&ie.add(Pn)});const Bt=Ni(ie.values());return nr(n,this._triggerName,a,d,ge,ae,le,He,Bt,se,ne,je)}}function Rp(r,i){const n=ys(i);for(const a in r)r.hasOwnProperty(a)&&null!=r[a]&&(n[a]=r[a]);return n}class dw{constructor(i,n,a){this.styles=i,this.defaultParams=n,this.normalizer=a}buildStyles(i,n){const a=new Map,d=ys(this.defaultParams);return Object.keys(i).forEach(p=>{const _=i[p];null!==_&&(d[p]=_)}),this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((_,D)=>{_&&(_=Xr(_,d,n));const S=this.normalizer.normalizePropertyName(D,n);_=this.normalizer.normalizeStyleValue(D,S,_,n),a.set(S,_)})}),a}}class hw{constructor(i,n,a){this.name=i,this.ast=n,this._normalizer=a,this.transitionFactories=[],this.states=new Map,n.states.forEach(d=>{this.states.set(d.name,new dw(d.style,d.options&&d.options.params||{},a))}),yl(this.states,"true","1"),yl(this.states,"false","0"),n.transitions.forEach(d=>{this.transitionFactories.push(new Wu(i,d,this.states))}),this.fallbackTransition=function Ku(r,i,n){return new Wu(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_,D)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,a,d){return this.transitionFactories.find(_=>_.match(i,n,a,d))||null}matchStyles(i,n,a){return this.fallbackTransition.buildStyles(i,n,a)}}function yl(r,i,n){r.has(i)?r.has(n)||r.set(n,r.get(i)):r.has(n)&&r.set(i,r.get(n))}const zu=new ml;class pw{constructor(i,n,a){this.bodyNode=i,this._driver=n,this._normalizer=a,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,n){const a=[],p=Hu(this._driver,n,a,[]);if(a.length)throw function zC(r){return new l.vHH(3503,!1)}();this._animations.set(i,p)}_buildPlayer(i,n,a){const d=i.element,p=_r(0,this._normalizer,0,i.keyframes,n,a);return this._driver.animate(d,p,i.duration,i.delay,i.easing,[],!0)}create(i,n,a={}){const d=[],p=this._animations.get(i);let _;const D=new Map;if(p?(_=Tp(this._driver,n,p,So,Oi,new Map,new Map,a,zu,d),_.forEach(G=>{const Z=En(D,G.element,new Map);G.postStyleProps.forEach(_e=>Z.set(_e,null))})):(d.push(function YC(){return new l.vHH(3300,!1)}()),_=[]),d.length)throw function ZC(r){return new l.vHH(3504,!1)}();D.forEach((G,Z)=>{G.forEach((_e,pe)=>{G.set(pe,this._driver.computeStyle(Z,pe,Dn))})});const x=kt(_.map(G=>{const Z=D.get(G.element);return this._buildPlayer(G,new Map,Z)}));return this._playersById.set(i,x),x.onDestroy(()=>this.destroy(i)),this.players.push(x),x}destroy(i){const n=this._getPlayer(i);n.destroy(),this._playersById.delete(i);const a=this.players.indexOf(n);a>=0&&this.players.splice(a,1)}_getPlayer(i){const n=this._playersById.get(i);if(!n)throw function qC(r){return new l.vHH(3301,!1)}();return n}listen(i,n,a,d){const p=Pi(n,"","","");return ol(this._getPlayer(i),a,p,d),()=>{}}command(i,n,a,d){if("register"==a)return void this.register(i,d[0]);if("create"==a)return void this.create(i,n,d[0]||{});const p=this._getPlayer(i);switch(a){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(i)}}}const Xy="ng-animate-queued",Yu="ng-animate-disabled",Lp=[],No={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cn="__ng_removed";class Zu{constructor(i,n=""){this.namespaceId=n;const a=i&&i.hasOwnProperty("value");if(this.value=function ov(r){return r??null}(a?i.value:i),a){const p=ys(i);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const a=this.options.params;Object.keys(n).forEach(d=>{null==a[d]&&(a[d]=n[d])})}}}const yt="void",qu=new Zu(yt);class iv{constructor(i,n,a){this.id=i,this.hostElement=n,this._engine=a,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,on(n,this._hostClassName)}listen(i,n,a,d){if(!this._triggers.has(n))throw function QC(r,i){return new l.vHH(3302,!1)}();if(null==a||0==a.length)throw function JC(r){return new l.vHH(3303,!1)}();if(!function av(r){return"start"==r||"done"==r}(a))throw function Co(r,i){return new l.vHH(3400,!1)}();const p=En(this._elementListeners,i,[]),_={name:n,phase:a,callback:d};p.push(_);const D=En(this._engine.statesByElement,i,new Map);return D.has(n)||(on(i,cl),on(i,cl+"-"+n),D.set(n,qu)),()=>{this._engine.afterFlush(()=>{const S=p.indexOf(_);S>=0&&p.splice(S,1),this._triggers.has(n)||D.delete(n)})}}register(i,n){return!this._triggers.has(i)&&(this._triggers.set(i,n),!0)}_getTrigger(i){const n=this._triggers.get(i);if(!n)throw function XC(r){return new l.vHH(3401,!1)}();return n}trigger(i,n,a,d=!0){const p=this._getTrigger(n),_=new vl(this.id,n,i);let D=this._engine.statesByElement.get(i);D||(on(i,cl),on(i,cl+"-"+n),this._engine.statesByElement.set(i,D=new Map));let S=D.get(n);const x=new Zu(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&S&&x.absorbOptions(S.options),D.set(n,x),S||(S=qu),x.value!==yt&&S.value===x.value){if(!function dv(r,i){const n=Object.keys(r),a=Object.keys(i);if(n.length!=a.length)return!1;for(let d=0;d<n.length;d++){const p=n[d];if(!i.hasOwnProperty(p)||r[p]!==i[p])return!1}return!0}(S.params,x.params)){const Ee=[],le=p.matchStyles(S.value,S.params,Ee),ie=p.matchStyles(x.value,x.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{tr(i,le),Ln(i,ie)})}return}const _e=En(this._engine.playersByElement,i,[]);_e.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==n&&Ee.queued&&Ee.destroy()});let pe=p.matchTransition(S.value,x.value,i,x.params),ae=!1;if(!pe){if(!d)return;pe=p.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:pe,fromState:S,toState:x,player:_,isFallbackTransition:ae}),ae||(on(i,Xy),_.onStart(()=>{ti(i,Xy)})),_.onDone(()=>{let Ee=this.players.indexOf(_);Ee>=0&&this.players.splice(Ee,1);const le=this._engine.playersByElement.get(i);if(le){let ie=le.indexOf(_);ie>=0&&le.splice(ie,1)}}),this.players.push(_),_e.push(_),_}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(n=>n.delete(i)),this._elementListeners.forEach((n,a)=>{this._elementListeners.set(a,n.filter(d=>d.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(a=>a.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const a=this._engine.driver.query(i,Mo,!0),d=i.shadowRoot?this._engine.driver.query(i.shadowRoot,Mo,!0):[];[...a,...d].forEach(p=>{if(p[Cn])return;const _=this._engine.fetchNamespacesByElement(p);_.size?_.forEach(D=>D.triggerLeaveAnimation(p,n,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(i,n,a,d){const p=this._engine.statesByElement.get(i),_=new Map;if(p){const D=[];if(p.forEach((S,x)=>{if(_.set(x,S.value),this._triggers.has(x)){const G=this.trigger(i,x,yt,d);G&&D.push(G)}}),D.length)return this._engine.markElementAsRemoved(this.id,i,!0,n,_),a&&kt(D).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),a=this._engine.statesByElement.get(i);if(n&&a){const d=new Set;n.forEach(p=>{const _=p.name;if(d.has(_))return;d.add(_);const S=this._triggers.get(_).fallbackTransition,x=a.get(_)||qu,G=new Zu(yt),Z=new vl(this.id,_,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:_,transition:S,fromState:x,toState:G,player:Z,isFallbackTransition:!0})})}}removeNode(i,n){const a=this._engine;if((!!i.childElementCount||!(!i.shadowRoot||!i.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let _=!1;if(a.totalAnimations){const D=a.players.length?a.playersByQueriedElement.get(i):[];if(D&&D.length)_=!0;else{let S=i;for(;S=S.parentNode;)if(a.statesByElement.get(S)){_=!0;break}}}if(this.prepareLeaveAnimationListeners(i),_)a.markElementAsRemoved(this.id,i,!1,n);else{const D=i[Cn];(!D||D===No)&&(a.afterFlush(()=>this.clearElementCache(i)),a.destroyInnerAnimations(i),a._onRemovalComplete(i,n))}}insertNode(i,n){on(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(a=>{const d=a.player;if(d.destroyed)return;const p=a.element,_=this._elementListeners.get(p);_&&_.forEach(D=>{if(D.name==a.triggerName){const S=Pi(p,a.triggerName,a.fromState.value,a.toState.value);S._data=i,ol(a.player,D.phase,S,D.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):n.push(a)}),this._queue=[],n.sort((a,d)=>{const p=a.transition.ast.depCount,_=d.transition.ast.depCount;return 0==p||0==_?p-_:this._engine.driver.containsElement(a.element,d.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(a=>a.element===i)||n,n}}class Qu{constructor(i,n,a){this.bodyNode=i,this.driver=n,this._normalizer=a,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,p)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(a=>{a.queued&&i.push(a)})}),i}createNamespace(i,n){const a=new iv(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(a,n):(this.newHostElements.set(n,a),this.collectEnterElement(n)),this._namespaceLookup[i]=a}_balanceNamespaceList(i,n){const a=this._namespaceList,d=this.namespacesByHostElement;if(a.length-1>=0){let _=!1,D=this.driver.getParentElement(n);for(;D;){const S=d.get(D);if(S){const x=a.indexOf(S);a.splice(x+1,0,i),_=!0;break}D=this.driver.getParentElement(D)}_||a.unshift(i)}else a.push(i);return d.set(n,i),i}register(i,n){let a=this._namespaceLookup[i];return a||(a=this.createNamespace(i,n)),a}registerTrigger(i,n,a){let d=this._namespaceLookup[i];d&&d.register(n,a)&&this.totalAnimations++}destroy(i,n){if(!i)return;const a=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(a.hostElement),delete this._namespaceLookup[i];const d=this._namespaceList.indexOf(a);d>=0&&this._namespaceList.splice(d,1)}),this.afterFlushAnimationsDone(()=>a.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,a=this.statesByElement.get(i);if(a)for(let d of a.values())if(d.namespaceId){const p=this._fetchNamespace(d.namespaceId);p&&n.add(p)}return n}trigger(i,n,a,d){if(Dl(n)){const p=this._fetchNamespace(i);if(p)return p.trigger(n,a,d),!0}return!1}insertNode(i,n,a,d){if(!Dl(n))return;const p=n[Cn];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const _=this.collectedLeaveElements.indexOf(n);_>=0&&this.collectedLeaveElements.splice(_,1)}if(i){const _=this._fetchNamespace(i);_&&_.insertNode(n,a)}d&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),on(i,Yu)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ti(i,Yu))}removeNode(i,n,a,d){if(Dl(n)){const p=i?this._fetchNamespace(i):null;if(p?p.removeNode(n,d):this.markElementAsRemoved(i,n,!1,d),a){const _=this.namespacesByHostElement.get(n);_&&_.id!==i&&_.removeNode(n,d)}}else this._onRemovalComplete(n,d)}markElementAsRemoved(i,n,a,d,p){this.collectedLeaveElements.push(n),n[Cn]={namespaceId:i,setForRemoval:d,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:p}}listen(i,n,a,d,p){return Dl(n)?this._fetchNamespace(i).listen(n,a,d,p):()=>{}}_buildInstruction(i,n,a,d,p){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,a,d,i.fromState.options,i.toState.options,n,p)}destroyInnerAnimations(i){let n=this.driver.query(i,Mo,!0);n.forEach(a=>this.destroyActiveAnimationsForElement(a)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,ul,!0),n.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return kt(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Cn];if(n&&n.setForRemoval){if(i[Cn]=No,n.namespaceId){this.destroyInnerAnimations(i);const a=this._fetchNamespace(n.namespaceId);a&&a.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}i.classList?.contains(Yu)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,d)=>this._balanceNamespaceList(a,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++)on(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const a=[];try{n=this._flushAnimations(a,i)}finally{for(let d=0;d<a.length;d++)a[d]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){const a=this._whenQuietFns;this._whenQuietFns=[],n.length?kt(n).onDone(()=>{a.forEach(d=>d())}):a.forEach(d=>d())}}reportError(i){throw function ew(r){return new l.vHH(3402,!1)}()}_flushAnimations(i,n){const a=new ml,d=[],p=new Map,_=[],D=new Map,S=new Map,x=new Map,G=new Set;this.disabledNodes.forEach(De=>{G.add(De);const Se=this.driver.query(De,".ng-animate-queued",!0);for(let Oe=0;Oe<Se.length;Oe++)G.add(Se[Oe])});const Z=this.bodyNode,_e=Array.from(this.statesByElement.keys()),pe=cv(_e,this.collectedEnterElements),ae=new Map;let Ee=0;pe.forEach((De,Se)=>{const Oe=So+Ee++;ae.set(Se,Oe),De.forEach(Qe=>on(Qe,Oe))});const le=[],ie=new Set,se=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Se=this.collectedLeaveElements[De],Oe=Se[Cn];Oe&&Oe.setForRemoval&&(le.push(Se),ie.add(Se),Oe.hasAnimation?this.driver.query(Se,".ng-star-inserted",!0).forEach(Qe=>ie.add(Qe)):se.add(Se))}const ne=new Map,ge=cv(_e,Array.from(ie));ge.forEach((De,Se)=>{const Oe=Oi+Ee++;ne.set(Se,Oe),De.forEach(Qe=>on(Qe,Oe))}),i.push(()=>{pe.forEach((De,Se)=>{const Oe=ae.get(Se);De.forEach(Qe=>ti(Qe,Oe))}),ge.forEach((De,Se)=>{const Oe=ne.get(Se);De.forEach(Qe=>ti(Qe,Oe))}),le.forEach(De=>{this.processLeaveNode(De)})});const be=[],He=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(n).forEach(Oe=>{const Qe=Oe.player,tn=Oe.element;if(be.push(Qe),this.collectedEnterElements.length){const cn=tn[Cn];if(cn&&cn.setForMove){if(cn.previousTriggersValues&&cn.previousTriggersValues.has(Oe.triggerName)){const ao=cn.previousTriggersValues.get(Oe.triggerName),Zn=this.statesByElement.get(Oe.element);if(Zn&&Zn.has(Oe.triggerName)){const Fh=Zn.get(Oe.triggerName);Fh.value=ao,Zn.set(Oe.triggerName,Fh)}}return void Qe.destroy()}}const Sr=!Z||!this.driver.containsElement(Z,tn),ln=ne.get(tn),vi=ae.get(tn),St=this._buildInstruction(Oe,a,vi,ln,Sr);if(St.errors&&St.errors.length)return void He.push(St);if(Sr)return Qe.onStart(()=>tr(tn,St.fromStyles)),Qe.onDestroy(()=>Ln(tn,St.toStyles)),void d.push(Qe);if(Oe.isFallbackTransition)return Qe.onStart(()=>tr(tn,St.fromStyles)),Qe.onDestroy(()=>Ln(tn,St.toStyles)),void d.push(Qe);const nC=[];St.timelines.forEach(cn=>{cn.stretchStartingKeyframe=!0,this.disabledNodes.has(cn.element)||nC.push(cn)}),St.timelines=nC,a.append(tn,St.timelines),_.push({instruction:St,player:Qe,element:tn}),St.queriedElements.forEach(cn=>En(D,cn,[]).push(Qe)),St.preStyleProps.forEach((cn,ao)=>{if(cn.size){let Zn=S.get(ao);Zn||S.set(ao,Zn=new Set),cn.forEach((Fh,Nh)=>Zn.add(Nh))}}),St.postStyleProps.forEach((cn,ao)=>{let Zn=x.get(ao);Zn||x.set(ao,Zn=new Set),cn.forEach((Fh,Nh)=>Zn.add(Nh))})});if(He.length){const De=[];He.forEach(Se=>{De.push(function Pu(r,i){return new l.vHH(3505,!1)}())}),be.forEach(Se=>Se.destroy()),this.reportError(De)}const je=new Map,Bt=new Map;_.forEach(De=>{const Se=De.element;a.has(Se)&&(Bt.set(Se,Se),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,je))}),d.forEach(De=>{const Se=De.element;this._getPreviousPlayers(Se,!1,De.namespaceId,De.triggerName,null).forEach(Qe=>{En(je,Se,[]).push(Qe),Qe.destroy()})});const zt=le.filter(De=>Vp(De,S,x)),Pn=new Map;lv(Pn,this.driver,se,x,Dn).forEach(De=>{Vp(De,S,x)&&zt.push(De)});const so=new Map;pe.forEach((De,Se)=>{lv(so,this.driver,new Set(De),S,"!")}),zt.forEach(De=>{const Se=Pn.get(De),Oe=so.get(De);Pn.set(De,new Map([...Array.from(Se?.entries()??[]),...Array.from(Oe?.entries()??[])]))});const oo=[],jc=[],Oh={};_.forEach(De=>{const{element:Se,player:Oe,instruction:Qe}=De;if(a.has(Se)){if(G.has(Se))return Oe.onDestroy(()=>Ln(Se,Qe.toStyles)),Oe.disabled=!0,Oe.overrideTotalTime(Qe.totalTime),void d.push(Oe);let tn=Oh;if(Bt.size>1){let ln=Se;const vi=[];for(;ln=ln.parentNode;){const St=Bt.get(ln);if(St){tn=St;break}vi.push(ln)}vi.forEach(St=>Bt.set(St,tn))}const Sr=this._buildAnimation(Oe.namespaceId,Qe,je,p,so,Pn);if(Oe.setRealPlayer(Sr),tn===Oh)oo.push(Oe);else{const ln=this.playersByElement.get(tn);ln&&ln.length&&(Oe.parentPlayer=kt(ln)),d.push(Oe)}}else tr(Se,Qe.fromStyles),Oe.onDestroy(()=>Ln(Se,Qe.toStyles)),jc.push(Oe),G.has(Se)&&d.push(Oe)}),jc.forEach(De=>{const Se=p.get(De.element);if(Se&&Se.length){const Oe=kt(Se);De.setRealPlayer(Oe)}}),d.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<le.length;De++){const Se=le[De],Oe=Se[Cn];if(ti(Se,Oi),Oe&&Oe.hasAnimation)continue;let Qe=[];if(D.size){let Sr=D.get(Se);Sr&&Sr.length&&Qe.push(...Sr);let ln=this.driver.query(Se,ul,!0);for(let vi=0;vi<ln.length;vi++){let St=D.get(ln[vi]);St&&St.length&&Qe.push(...St)}}const tn=Qe.filter(Sr=>!Sr.destroyed);tn.length?uv(this,Se,tn):this.processLeaveNode(Se)}return le.length=0,oo.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Se=this.players.indexOf(De);this.players.splice(Se,1)}),De.play()}),oo}elementContainsData(i,n){let a=!1;const d=n[Cn];return d&&d.setForRemoval&&(a=!0),this.playersByElement.has(n)&&(a=!0),this.playersByQueriedElement.has(n)&&(a=!0),this.statesByElement.has(n)&&(a=!0),this._fetchNamespace(i).elementContainsData(n)||a}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,a,d,p){let _=[];if(n){const D=this.playersByQueriedElement.get(i);D&&(_=D)}else{const D=this.playersByElement.get(i);if(D){const S=!p||p==yt;D.forEach(x=>{x.queued||!S&&x.triggerName!=d||_.push(x)})}}return(a||d)&&(_=_.filter(D=>!(a&&a!=D.namespaceId||d&&d!=D.triggerName))),_}_beforeAnimationBuild(i,n,a){const p=n.element,_=n.isRemovalTransition?void 0:i,D=n.isRemovalTransition?void 0:n.triggerName;for(const S of n.timelines){const x=S.element,G=x!==p,Z=En(a,x,[]);this._getPreviousPlayers(x,G,_,D,n.toState).forEach(pe=>{const ae=pe.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),pe.destroy(),Z.push(pe)})}tr(p,n.fromStyles)}_buildAnimation(i,n,a,d,p,_){const D=n.triggerName,S=n.element,x=[],G=new Set,Z=new Set,_e=n.timelines.map(ae=>{const Ee=ae.element;G.add(Ee);const le=Ee[Cn];if(le&&le.removedBeforeQueried)return new Qr(ae.duration,ae.delay);const ie=Ee!==S,se=function Ju(r){const i=[];return Es(r,i),i}((a.get(Ee)||Lp).map(je=>je.getRealPlayer())).filter(je=>!!je.element&&je.element===Ee),ne=p.get(Ee),ge=_.get(Ee),be=_r(0,this._normalizer,0,ae.keyframes,ne,ge),He=this._buildPlayer(ae,be,se);if(ae.subTimeline&&d&&Z.add(Ee),ie){const je=new vl(i,D,Ee);je.setRealPlayer(He),x.push(je)}return He});x.forEach(ae=>{En(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function sv(r,i,n){let a=r.get(i);if(a){if(a.length){const d=a.indexOf(n);a.splice(d,1)}0==a.length&&r.delete(i)}return a}(this.playersByQueriedElement,ae.element,ae))}),G.forEach(ae=>on(ae,_p));const pe=kt(_e);return pe.onDestroy(()=>{G.forEach(ae=>ti(ae,_p)),Ln(S,n.toStyles)}),Z.forEach(ae=>{En(d,ae,[]).push(pe)}),pe}_buildPlayer(i,n,a){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,a):new Qr(i.duration,i.delay)}}class vl{constructor(i,n,a){this.namespaceId=i,this.triggerName=n,this.element=a,this._player=new Qr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((n,a)=>{n.forEach(d=>ol(i,a,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){En(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function Dl(r){return r&&1===r.nodeType}function kp(r,i){const n=r.style.display;return r.style.display=i??"none",n}function lv(r,i,n,a,d){const p=[];n.forEach(S=>p.push(kp(S)));const _=[];a.forEach((S,x)=>{const G=new Map;S.forEach(Z=>{const _e=i.computeStyle(x,Z,d);G.set(Z,_e),(!_e||0==_e.length)&&(x[Cn]=rv,_.push(x))}),r.set(x,G)});let D=0;return n.forEach(S=>kp(S,p[D++])),_}function cv(r,i){const n=new Map;if(r.forEach(D=>n.set(D,[])),0==i.length)return n;const d=new Set(i),p=new Map;function _(D){if(!D)return 1;let S=p.get(D);if(S)return S;const x=D.parentNode;return S=n.has(x)?x:d.has(x)?1:_(x),p.set(D,S),S}return i.forEach(D=>{const S=_(D);1!==S&&n.get(S).push(D)}),n}function on(r,i){r.classList?.add(i)}function ti(r,i){r.classList?.remove(i)}function uv(r,i,n){kt(n).onDone(()=>r.processLeaveNode(i))}function Es(r,i){for(let n=0;n<r.length;n++){const a=r[n];a instanceof ip?Es(a.players,i):i.push(a)}}function Vp(r,i,n){const a=n.get(r);if(!a)return!1;let d=i.get(r);return d?a.forEach(p=>d.add(p)):i.set(r,a),n.delete(r),!0}class El{constructor(i,n,a){this.bodyNode=i,this._driver=n,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(d,p)=>{},this._transitionEngine=new Qu(i,n,a),this._timelineEngine=new pw(i,n,a),this._transitionEngine.onRemovalComplete=(d,p)=>this.onRemovalComplete(d,p)}registerTrigger(i,n,a,d,p){const _=i+"-"+d;let D=this._triggerCache[_];if(!D){const S=[],G=Hu(this._driver,p,S,[]);if(S.length)throw function ot(r,i){return new l.vHH(3404,!1)}();D=function fw(r,i,n){return new hw(r,i,n)}(d,G,this._normalizer),this._triggerCache[_]=D}this._transitionEngine.registerTrigger(n,d,D)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,a,d){this._transitionEngine.insertNode(i,n,a,d)}onRemove(i,n,a,d){this._transitionEngine.removeNode(i,n,d||!1,a)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,a,d){if("@"==a.charAt(0)){const[p,_]=fp(a);this._timelineEngine.command(p,n,_,d)}else this._transitionEngine.trigger(i,n,a,d)}listen(i,n,a,d,p){if("@"==a.charAt(0)){const[_,D]=fp(a);return this._timelineEngine.listen(_,n,D,p)}return this._transitionEngine.listen(i,n,a,d,p)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fv=(()=>{class r{constructor(n,a,d){this._element=n,this._startStyles=a,this._endStyles=d,this._state=0;let p=r.initialStylesByElement.get(n);p||r.initialStylesByElement.set(n,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&Ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ln(this._element,this._initialStyles),this._endStyles&&(Ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(tr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),Ln(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function Xu(r){let i=null;return r.forEach((n,a)=>{(function hv(r){return"display"===r||"position"===r})(a)&&(i=i||new Map,i.set(a,n))}),i}class Hp{constructor(i,n,a,d){this.element=i,this.keyframes=n,this.options=a,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const n=[];return i.forEach(a=>{n.push(Object.fromEntries(a))}),n}_triggerWebAnimation(i,n,a){return i.animate(this._convertKeyframesToObject(n),a)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,d)=>{"offset"!==d&&i.set(d,this._finished?a:$y(this.element,d))}),this.currentSnapshot=i}triggerCallback(i){const n="start"===i?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}class ed{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,n){return!1}containsElement(i,n){return pp(i,n)}getParentElement(i){return al(i)}query(i,n,a){return gp(i,n,a)}computeStyle(i,n,a){return window.getComputedStyle(i)[n]}animate(i,n,a,d,p,_=[]){const S={duration:a,delay:d,fill:0==d?"both":"forwards"};p&&(S.easing=p);const x=new Map,G=_.filter(pe=>pe instanceof Hp);(function Ds(r,i){return 0===r||0===i})(a,d)&&G.forEach(pe=>{pe.currentSnapshot.forEach((ae,Ee)=>x.set(Ee,ae))});let Z=function Ru(r){return r.length?r[0]instanceof Map?r:r.map(i=>yp(i)):[]}(n).map(pe=>Jr(pe));Z=function Io(r,i,n){if(n.size&&i.length){let a=i[0],d=[];if(n.forEach((p,_)=>{a.has(_)||d.push(_),a.set(_,p)}),d.length)for(let p=1;p<i.length;p++){let _=i[p];d.forEach(D=>_.set(D,$y(r,D)))}}return i}(i,Z,x);const _e=function Bp(r,i){let n=null,a=null;return Array.isArray(i)&&i.length?(n=Xu(i[0]),i.length>1&&(a=Xu(i[i.length-1]))):i instanceof Map&&(n=Xu(i)),n||a?new fv(r,n,a):null}(i,Z);return new Hp(i,Z,S,_e)}}let pv=(()=>{class r extends Su{constructor(n,a){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(a.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(n){const a=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(n)?vo(n):n;return td(this._renderer,null,a,"register",[d]),new gv(a,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(l.FYo),l.LFG(O))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class gv extends class ep{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new mv(this._id,i,n||{},this._renderer)}}class mv{constructor(i,n,a,d){this.id=i,this.element=n,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",a)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return td(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function td(r,i,n,a,d){return r.setProperty(i,`@@${n}:${a}`,d)}const Up="@.disabled";let gn=(()=>{class r{constructor(n,a,d){this.delegate=n,this.engine=a,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),a.onRemovalComplete=(p,_)=>{const D=_?.parentNode(p);D&&_.removeChild(D,p)}}createRenderer(n,a){const p=this.delegate.createRenderer(n,a);if(!(n&&a&&a.data&&a.data.animation)){let G=this._rendererCache.get(p);return G||(G=new wl("",p,this.engine),this._rendererCache.set(p,G)),G}const _=a.id,D=a.id+"-"+this._currentId;this._currentId++,this.engine.register(D,n);const S=G=>{Array.isArray(G)?G.forEach(S):this.engine.registerTrigger(_,D,n,G.name,G)};return a.data.animation.forEach(S),new jp(this,D,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,a,d){n>=0&&n<this._microtaskId?this._zone.run(()=>a(d)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[_,D]=p;_(D)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([a,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(l.FYo),l.LFG(El),l.LFG(l.R0b))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class wl{constructor(i,n,a){this.namespaceId=i,this.delegate=n,this.engine=a,this.destroyNode=this.delegate.destroyNode?d=>n.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,a,d=!0){this.delegate.insertBefore(i,n,a),this.engine.onInsert(this.namespaceId,n,i,d)}removeChild(i,n,a){this.engine.onRemove(this.namespaceId,n,this.delegate,a)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,a,d){this.delegate.setAttribute(i,n,a,d)}removeAttribute(i,n,a){this.delegate.removeAttribute(i,n,a)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,a,d){this.delegate.setStyle(i,n,a,d)}removeStyle(i,n,a){this.delegate.removeStyle(i,n,a)}setProperty(i,n,a){"@"==n.charAt(0)&&n==Up?this.disableAnimations(i,!!a):this.delegate.setProperty(i,n,a)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,a){return this.delegate.listen(i,n,a)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class jp extends wl{constructor(i,n,a,d){super(n,a,d),this.factory=i,this.namespaceId=n}setProperty(i,n,a){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Up?this.disableAnimations(i,a=void 0===a||!!a):this.engine.process(this.namespaceId,i,n.slice(1),a):this.delegate.setProperty(i,n,a)}listen(i,n,a){if("@"==n.charAt(0)){const d=function nd(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let p=n.slice(1),_="";return"@"!=p.charAt(0)&&([p,_]=function an(r){const i=r.indexOf(".");return[r.substring(0,i),r.slice(i+1)]}(p)),this.engine.listen(this.namespaceId,d,p,_,D=>{this.factory.scheduleListenerCallback(D._data||-1,a,D)})}return this.delegate.listen(i,n,a)}}const $p=[{provide:Su,useClass:pv},{provide:Op,useFactory:function rd(){return new Fp}},{provide:El,useClass:(()=>{class r extends El{constructor(n,a,d,p){super(n.body,a,d)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(O),l.LFG(Ao),l.LFG(Op),l.LFG(l.z2F))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})()},{provide:l.FYo,useFactory:function _v(r,i,n){return new gn(r,i,n)},deps:[bt,El,l.R0b]}],id=[{provide:Ao,useFactory:()=>new ed},{provide:l.QbO,useValue:"BrowserAnimations"},...$p],yv=[{provide:Ao,useClass:mp},{provide:l.QbO,useValue:"NoopAnimations"},...$p];let Gp=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?yv:id}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:id,imports:[mu]}),r})();var y=E(2879),Wp=E(7138),Al=E(2916),sd=E(8929),xo=E(3489);class Dv{call(i,n){return n.subscribe(new Cs(i))}}class Cs extends xo.L{_next(i){}}var rr=E(9312);class mw{call(i,n){return n.subscribe(new _w(i))}}class _w extends xo.L{constructor(i){super(i)}_next(i){this.destination.next(rr.P.createNext(i))}_error(i){const n=this.destination;n.next(rr.P.createError(i)),n.complete()}_complete(){const i=this.destination;i.next(rr.P.createComplete()),i.complete()}}var oe=E(4850),ws=E(7221),It=E(2198),bl=E(2654);function Lo(r,i,n,a){return d=>d.lift(new Cv(r,i,n,a))}class Cv{constructor(i,n,a,d){this.keySelector=i,this.elementSelector=n,this.durationSelector=a,this.subjectSelector=d}call(i,n){return n.subscribe(new Kp(i,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Kp extends xo.L{constructor(i,n,a,d,p){super(i),this.keySelector=n,this.elementSelector=a,this.durationSelector=d,this.subjectSelector=p,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(i){let n;try{n=this.keySelector(i)}catch(a){return void this.error(a)}this._group(i,n)}_group(i,n){let a=this.groups;a||(a=this.groups=new Map);let p,d=a.get(n);if(this.elementSelector)try{p=this.elementSelector(i)}catch(_){this.error(_)}else p=i;if(!d){d=this.subjectSelector?this.subjectSelector():new sd.xQ,a.set(n,d);const _=new od(n,d,this);if(this.destination.next(_),this.durationSelector){let D;try{D=this.durationSelector(new od(n,d))}catch(S){return void this.error(S)}this.add(D.subscribe(new ko(n,d,this)))}}d.closed||d.next(p)}_error(i){const n=this.groups;n&&(n.forEach((a,d)=>{a.error(i)}),n.clear()),this.destination.error(i)}_complete(){const i=this.groups;i&&(i.forEach((n,a)=>{n.complete()}),i.clear()),this.destination.complete()}removeGroup(i){this.groups.delete(i)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class ko extends xo.L{constructor(i,n,a){super(n),this.key=i,this.group=n,this.parent=a}_next(i){this.complete()}_unsubscribe(){const{parent:i,key:n}=this;this.key=this.parent=null,i&&i.removeGroup(n)}}class od extends Al.y{constructor(i,n,a){super(),this.key=i,this.groupSubject=n,this.refCountSubscription=a}_subscribe(i){const n=new bl.w,{refCountSubscription:a,groupSubject:d}=this;return a&&!a.closed&&n.add(new zp(a)),n.add(d.subscribe(i)),n}}class zp extends bl.w{constructor(i){super(),this.parent=i,i.count++}unsubscribe(){const i=this.parent;!i.closed&&!this.closed&&(super.unsubscribe(),i.count-=1,0===i.count&&i.attemptedToUnsubscribe&&i.unsubscribe())}}var As=E(1709),Vo=E(5254),Sl=E(1177);function wv(r,i){return i?n=>n.pipe(wv((a,d)=>(0,Vo.D)(r(a,d)).pipe((0,oe.U)((p,_)=>i(a,p,d,_))))):n=>n.lift(new bs(r))}class bs{constructor(i){this.project=i}call(i,n){return n.subscribe(new ad(i,this.project))}}class ad extends Sl.Ds{constructor(i,n){super(i),this.project=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(i){this.hasSubscription||this.tryNext(i)}tryNext(i){let n;const a=this.index++;try{n=this.project(i,a)}catch(d){return void this.destination.error(d)}this.hasSubscription=!0,this._innerSub(n)}_innerSub(i){const n=new Sl.IY(this),a=this.destination;a.add(n);const d=(0,Sl.ft)(i,n);d!==n&&a.add(d)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(i){this.destination.next(i)}notifyError(i){this.destination.error(i)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class Av{call(i,n){return n.subscribe(new ld(i))}}class ld extends xo.L{constructor(i){super(i)}_next(i){i.observe(this.destination)}}var Jt=E(5632);const Zp={dispatch:!0,useEffectsErrorHandler:!0},Ml="__@ngrx/effects_create__";function qe(r,i){const n=r(),a={...Zp,...i};return Object.defineProperty(n,Ml,{value:a}),n}function bv(r){return Object.getOwnPropertyNames(r).filter(a=>!(!r[a]||!r[a].hasOwnProperty(Ml))&&r[a][Ml].hasOwnProperty("dispatch")).map(a=>({propertyName:a,...r[a][Ml]}))}function cd(r){return Object.getPrototypeOf(r)}const Bo="__@ngrx/effects__";function Qp(r){return(0,y.qC)(Mv,cd)(r)}function Mv(r){return function Tl(r){return r.constructor.hasOwnProperty(Bo)}(r)?r.constructor[Bo]:[]}function Vi(r,i,n){const a=cd(r).constructor.name,d=function ud(r){return[Qp,bv].reduce((n,a)=>n.concat(a(r)),[])}(r).map(({propertyName:p,dispatch:_,useEffectsErrorHandler:D})=>{const S="function"==typeof r[p]?r[p]():r[p],x=D?n(S,i):S;return!1===_?x.pipe(function vv(){return function(i){return i.lift(new Dv)}}()):x.pipe(function Ev(){return function(i){return i.lift(new mw)}}()).pipe((0,oe.U)(Z=>({effect:r[p],notification:Z,propertyName:p,sourceName:a,sourceInstance:r})))});return(0,Wp.T)(...d)}function dd(r,i,n=10){return r.pipe((0,ws.K)(a=>(i&&i.handleError(a),n<=1?r:dd(r,i,n-1))))}let xr=(()=>{class r extends Al.y{constructor(n){super(),n&&(this.source=n)}lift(n){const a=new r;return a.source=this,a.operator=n,a}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.Y$))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();function Ye(...r){return(0,It.h)(i=>r.some(n=>"string"==typeof n?n===i.type:n.type===i.type))}function rg(r){return Ho(r,"ngrxOnInitEffects")}function Ho(r,i){return r&&i in r&&"function"==typeof r[i]}const hd=new l.OlP("@ngrx/effects Internal Root Guard"),Ss=new l.OlP("@ngrx/effects User Provided Effects"),Bi=new l.OlP("@ngrx/effects Internal Root Effects"),ig=new l.OlP("@ngrx/effects Root Effects"),pd=new l.OlP("@ngrx/effects Internal Feature Effects"),sg=new l.OlP("@ngrx/effects Feature Effects"),og=new l.OlP("@ngrx/effects Effects Error Handler");let Fl=(()=>{class r extends sd.xQ{constructor(n,a){super(),this.errorHandler=n,this.effectsErrorHandler=a}addEffects(n){this.next(n)}toActions(){return this.pipe(Lo(cd),(0,As.zg)(n=>n.pipe(Lo(gd))),(0,As.zg)(n=>{const a=n.pipe(wv(p=>function ag(r,i){return n=>{const a=Vi(n,r,i);return function Pl(r){return Ho(r,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(a):a}}(this.errorHandler,this.effectsErrorHandler)(p)),(0,oe.U)(p=>(function Il(r,i){if("N"===r.notification.kind){const n=r.notification.value;!function Iv(r){return"function"!=typeof r&&r&&r.type&&"string"==typeof r.type}(n)&&i.handleError(new Error(`Effect ${function Xp({propertyName:r,sourceInstance:i,sourceName:n}){const a="function"==typeof i[r];return`"${n}.${String(r)}${a?"()":""}"`}(r)} dispatched an invalid action: ${function eg(r){try{return JSON.stringify(r)}catch{return r}}(n)}`))}}(p,this.errorHandler),p.notification)),(0,It.h)(p=>"N"===p.kind&&null!=p.value),function Yp(){return function(i){return i.lift(new Av)}}()),d=n.pipe((0,Jt.q)(1),(0,It.h)(rg),(0,oe.U)(p=>p.ngrxOnInitEffects()));return(0,Wp.T)(a,d)}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(l.qLn),l.LFG(og))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();function gd(r){return function fd(r){return Ho(r,"ngrxOnIdentifyEffects")}(r)?r.ngrxOnIdentifyEffects():""}let lg=(()=>{class r{constructor(n,a){this.effectSources=n,this.store=a,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(Fl),l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const md="@ngrx/effects/init";(0,y.PH)(md);let _d=(()=>{class r{constructor(n,a,d,p,_,D,S){this.sources=n,a.start(),p.forEach(x=>n.addEffects(x)),d.dispatch({type:md})}addEffects(n){this.sources.addEffects(n)}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(Fl),l.LFG(lg),l.LFG(y.yh),l.LFG(ig),l.LFG(y.cr,8),l.LFG(y.CK,8),l.LFG(hd,8))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})(),Pv=(()=>{class r{constructor(n,a,d,p){a.forEach(_=>_.forEach(D=>n.addEffects(D)))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(_d),l.LFG(sg),l.LFG(y.cr,8),l.LFG(y.CK,8))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})(),Lr=(()=>{class r{static forFeature(n=[]){return{ngModule:Pv,providers:[n,{provide:pd,multi:!0,useValue:n},{provide:Ss,multi:!0,useValue:[]},{provide:sg,multi:!0,useFactory:Wn,deps:[l.zs3,pd,Ss]}]}}static forRoot(n=[]){return{ngModule:_d,providers:[{provide:og,useValue:dd},lg,Fl,xr,n,{provide:Bi,useValue:[n]},{provide:hd,useFactory:cg,deps:[[lg,new l.FiY,new l.tp0],[Bi,new l.PiD]]},{provide:Ss,multi:!0,useValue:[]},{provide:ig,useFactory:Wn,deps:[l.zs3,Bi,Ss]}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})();function Wn(r,i,n){const a=[];for(const d of i)a.push(...d);for(const d of n)a.push(...d);return function Ov(r,i){return i.map(n=>r.get(n))}(r,a)}function cg(r,i){if((1!==i.length||0!==i[0].length)&&r)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}E(825);var ni=E(1086),Ms=E(7545),Hi=E(1406);function ri(r){return i=>r.id?i.pipe(jo(),Lo(([a,...d])=>r.id(a,...d))).pipe((0,As.zg)(a=>a.pipe((0,Ms.w)(Uo(r.run,r.onError))))):i.pipe(jo(),(0,Hi.b)(Uo(r.run,r.onError)))}function Uo(r,i){return([n,...a])=>{try{return Dd(r(n,...a)).pipe((0,ws.K)(p=>Dd(i(n,p))))}catch(d){return Dd(i(n,d))}}}function jo(){return r=>r.pipe((0,oe.U)(i=>function ug(r){let i,n;return r instanceof Array?[i,...n]=r:(n=[],i=r),[i,...n]}(i)))}function Dd(r){return function Nv(r){return!!r&&(r instanceof Al.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}(r)?r:r?(0,ni.of)(r):(0,ni.of)()}var Ed,dg=new Uint8Array(16);function fg(){if(!Ed&&!(Ed=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ed(dg)}const xv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pg=function hg(r){return"string"==typeof r&&xv.test(r)};for(var $t=[],gg=0;gg<256;++gg)$t.push((gg+256).toString(16).substr(1));const Be=function mg(r,i,n){var a=(r=r||{}).random||(r.rng||fg)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i){n=n||0;for(var d=0;d<16;++d)i[n+d]=a[d];return i}return function Lv(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=($t[r[i+0]]+$t[r[i+1]]+$t[r[i+2]]+$t[r[i+3]]+"-"+$t[r[i+4]]+$t[r[i+5]]+"-"+$t[r[i+6]]+$t[r[i+7]]+"-"+$t[r[i+8]]+$t[r[i+9]]+"-"+$t[r[i+10]]+$t[r[i+11]]+$t[r[i+12]]+$t[r[i+13]]+$t[r[i+14]]+$t[r[i+15]]).toLowerCase();if(!pg(n))throw TypeError("Stringified UUID is invalid");return n}(a)},kr=(0,y.PH)("[Start Page] Init DiscardPileCards New Game"),wd=(0,y.PH)("[Start Page] Init DiscardPileCards Saved Game"),Nl=(0,y.PH)("[DiscardPileCards/API] Load DiscardPileCards Success",(0,y.Ky)()),Ad=(0,y.PH)("[DiscardPileCards/API] Load DiscardPileCards Failure",(0,y.Ky)()),Rl=(0,y.PH)("[DiscardPileCards] Set DiscardPileCards On Init",(0,y.Ky)()),xl=(0,y.PH)("[DiscardPileCards] Set DiscardPileCards Error",(0,y.Ky)()),_g=(0,y.PH)("[DiscardPileCards] Add Card To Discard Pile",(0,y.Ky)()),Ll=(0,y.PH)("[DiscardPileCards] Add DiscardPileCard",(0,y.Ky)());let $o=(()=>{class r{constructor(n){this.actions$=n,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(kr),(0,oe.U)(()=>Rl({discardPileCards:[]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(wd),ri({run:()=>Nl({discardPileCards:[]}),onError:(a,d)=>(console.error("Error",d),Ad({error:d}))}))),this.addCard$=qe(()=>this.actions$.pipe(Ye(_g),(0,oe.U)(({card:a})=>((r,i,n)=>({id:r,cardType:i,cardId:n}))(Be(),a.type,a.id)),(0,oe.U)(a=>Ll({discardPileCard:a}))))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();var Me=(()=>{return(r=Me||(Me={}))[r.EntitiesOnly=0]="EntitiesOnly",r[r.Both=1]="Both",r[r.None=2]="None",Me;var r})();function ht(r){return function(n,a){const d={ids:[...a.ids],entities:{...a.entities}},p=r(n,d);return p===Me.Both?Object.assign({},a,d):p===Me.EntitiesOnly?{...a,entities:d.entities}:a}}function wn(r,i){const n=i(r);return(0,l.X6Q)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",r,"The `selectId` implementation:",i.toString()),n}function vg(r){function i(le,ie){const se=wn(le,r);return se in ie.entities?Me.None:(ie.ids.push(se),ie.entities[se]=le,Me.Both)}function n(le,ie){let se=!1;for(const ne of le)se=i(ne,ie)!==Me.None||se;return se?Me.Both:Me.None}function d(le,ie){const se=wn(le,r);return se in ie.entities?(ie.entities[se]=le,Me.EntitiesOnly):(ie.ids.push(se),ie.entities[se]=le,Me.Both)}function D(le,ie){const ne=(le instanceof Array?le:ie.ids.filter(ge=>le(ie.entities[ge]))).filter(ge=>ge in ie.entities).map(ge=>delete ie.entities[ge]).length>0;return ne&&(ie.ids=ie.ids.filter(ge=>ge in ie.entities)),ne?Me.Both:Me.None}function G(le,ie){return Z([le],ie)}function Z(le,ie){const se={};return(le=le.filter(ge=>ge.id in ie.entities)).length>0?le.filter(be=>function x(le,ie,se){const ge=Object.assign({},se.entities[ie.id],ie.changes),be=wn(ge,r),He=be!==ie.id;return He&&(le[ie.id]=be,delete se.entities[ie.id]),se.entities[be]=ge,He}(se,be,ie)).length>0?(ie.ids=ie.ids.map(be=>se[be]||be),Me.Both):Me.EntitiesOnly:Me.None}function Ee(le,ie){const se=[],ne=[];for(const He of le){const je=wn(He,r);je in ie.entities?ne.push({id:je,changes:He}):se.push(He)}const ge=Z(ne,ie),be=n(se,ie);switch(!0){case be===Me.None&&ge===Me.None:return Me.None;case be===Me.Both||ge===Me.Both:return Me.Both;default:return Me.EntitiesOnly}}return{removeAll:function S(le){return Object.assign({},le,{ids:[],entities:{}})},addOne:ht(i),addMany:ht(n),setAll:ht(function a(le,ie){return ie.ids=[],ie.entities={},n(le,ie),Me.Both}),setOne:ht(d),setMany:ht(function p(le,ie){const se=le.map(ne=>d(ne,ie));switch(!0){case se.some(ne=>ne===Me.Both):return Me.Both;case se.some(ne=>ne===Me.EntitiesOnly):return Me.EntitiesOnly;default:return Me.None}}),updateOne:ht(G),updateMany:ht(Z),upsertOne:ht(function ae(le,ie){return Ee([le],ie)}),upsertMany:ht(Ee),removeOne:ht(function _(le,ie){return D([le],ie)}),removeMany:ht(D),map:ht(function _e(le,ie){return Z(ie.ids.reduce((ge,be)=>{const He=le(ie.entities[be]);return He!==ie.entities[be]&&ge.push({id:be,changes:He}),ge},[]).filter(({id:ge})=>ge in ie.entities),ie)}),mapOne:ht(function pe({map:le,id:ie},se){const ne=se.entities[ie];return ne?G({id:ie,changes:le(ne)},se):Me.None})}}function Vv(r,i){const{removeOne:n,removeMany:a,removeAll:d}=vg(r);function p(se,ne){return _([se],ne)}function _(se,ne){const ge=se.filter(be=>!(wn(be,r)in ne.entities));return 0===ge.length?Me.None:(ie(ge,ne),Me.Both)}function S(se,ne){const ge=wn(se,r);return ge in ne.entities?(ne.ids=ne.ids.filter(be=>be!==ge),ie([se],ne),Me.Both):p(se,ne)}function G(se,ne){return _e([se],ne)}function _e(se,ne){const ge=[],be=se.filter(He=>function Z(se,ne,ge){if(!(ne.id in ge.entities))return!1;const He=Object.assign({},ge.entities[ne.id],ne.changes),je=wn(He,r);return delete ge.entities[ne.id],se.push(He),je!==ne.id}(ge,He,ne)).length>0;if(0===ge.length)return Me.None;{const He=ne.ids,je=[];return ne.ids=ne.ids.filter((Bt,zt)=>Bt in ne.entities||(je.push(zt),!1)),ie(ge,ne),!be&&je.every(Bt=>ne.ids[Bt]===He[Bt])?Me.EntitiesOnly:Me.Both}}function le(se,ne){const ge=[],be=[];for(const Bt of se){const zt=wn(Bt,r);zt in ne.entities?be.push({id:zt,changes:Bt}):ge.push(Bt)}const He=_e(be,ne),je=_(ge,ne);switch(!0){case je===Me.None&&He===Me.None:return Me.None;case je===Me.Both||He===Me.Both:return Me.Both;default:return Me.EntitiesOnly}}function ie(se,ne){se.sort(i);const ge=[];let be=0,He=0;for(;be<se.length&&He<ne.ids.length;){const je=se[be],Bt=wn(je,r),zt=ne.ids[He];i(je,ne.entities[zt])<=0?(ge.push(Bt),be++):(ge.push(zt),He++)}ne.ids=ge.concat(be<se.length?se.slice(be).map(r):ne.ids.slice(He)),se.forEach((je,Bt)=>{ne.entities[r(je)]=je})}return{removeOne:n,removeMany:a,removeAll:d,addOne:ht(p),updateOne:ht(G),upsertOne:ht(function Ee(se,ne){return le([se],ne)}),setAll:ht(function D(se,ne){return ne.entities={},ne.ids=[],_(se,ne),Me.Both}),setOne:ht(S),setMany:ht(function x(se,ne){const ge=se.map(be=>S(be,ne));switch(!0){case ge.some(be=>be===Me.Both):return Me.Both;case ge.some(be=>be===Me.EntitiesOnly):return Me.EntitiesOnly;default:return Me.None}}),addMany:ht(_),updateMany:ht(_e),upsertMany:ht(le),map:ht(function pe(se,ne){return _e(ne.ids.reduce((be,He)=>{const je=se(ne.entities[He]);return je!==ne.entities[He]&&be.push({id:He,changes:je}),be},[]),ne)}),mapOne:ht(function ae({map:se,id:ne},ge){const be=ge.entities[ne];return be?G({id:ne,changes:se(be)},ge):Me.None})}}function Ui(r={}){const{selectId:i,sortComparer:n}={selectId:r.selectId??(_=>_.id),sortComparer:r.sortComparer??!1},a=function Sd(){return{getInitialState:function r(i={}){return Object.assign({ids:[],entities:{}},i)}}}(),d=function kv(){return{getSelectors:function r(i){const n=_=>_.ids,a=_=>_.entities,d=(0,y.P1)(n,a,(_,D)=>_.map(S=>D[S])),p=(0,y.P1)(n,_=>_.length);return i?{selectIds:(0,y.P1)(i,n),selectEntities:(0,y.P1)(i,a),selectAll:(0,y.P1)(i,d),selectTotal:(0,y.P1)(i,p)}:{selectIds:n,selectEntities:a,selectAll:d,selectTotal:p}}}}();return{selectId:i,sortComparer:n,...a,...d,...n?Vv(i,n):vg(i)}}const kl="discardPileCards",Ts=Ui(),Dg=Ts.getInitialState({initialized:!1,loaded:!1}),yr=(0,y.Lq)(Dg,(0,y.on)(kr,r=>({...r,initialized:!1})),(0,y.on)(wd,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(Nl,(r,{discardPileCards:i})=>Ts.setAll(i,{...r,loaded:!0})),(0,y.on)(Ad,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Rl,(r,{discardPileCards:i})=>Ts.setAll(i,{...r,initialized:!0})),(0,y.on)(Ll,(r,{discardPileCard:i})=>Ts.addOne(i,r)),(0,y.on)(xl,(r,{error:i})=>({...r,errorMsg:i}))),Is=(0,y.ZF)(kl),{selectAll:Vl,selectEntities:Md}=Ts.getSelectors(),Bv=(0,y.P1)(Is,r=>r.loaded),bw=((0,y.P1)(Is,r=>r.errorMsg),(0,y.P1)(Is,r=>Vl(r))),Sw=(0,y.P1)(Is,r=>[...Vl(r)].reverse()),Hv=(0,y.P1)(Is,r=>Md(r)),Eg=(0,y.P1)(Is,r=>r.selectedId),Mw=(0,y.P1)(Hv,Eg,(r,i)=>{if(void 0!==i)return r[i]});let Td=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Bv)),this.allDiscardPileCards$=this.store.pipe((0,y.Ys)(bw)),this.allDiscardPileCardsReverse$=this.store.pipe((0,y.Ys)(Sw)),this.selectedDiscardPileCards$=this.store.pipe((0,y.Ys)(Mw))}initNewGame(){this.store.dispatch(kr())}initSavedGame(){this.store.dispatch(wd())}addCardToDiscardPile(n){this.store.dispatch(_g({card:n}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const it="LandCard",Bl="AvailableLandSlot",pt=(r,i,n,a)=>({interface:it,id:r,type:i,die:n,color:a,print:()=>`${i}`});var ue=(()=>{return(r=ue||(ue={})).Clay="CLAY",r.Wood="WOOD",r.Gold="GOLD",r.Wheat="WHEAT",r.Stone="STONE",r.Wool="WOOL",ue;var r})(),Ve=(()=>{return(r=Ve||(Ve={})).ClayPit="CLAYPIT",r.Forest="FOREST",r.GoldMine="GOLDMINE",r.Field="FIELD",r.StoneQuarry="STONEQUARRY",r.Pasture="PASTURE",Ve;var r})();const ii=[0,1,2,3];var We=(()=>{return(r=We||(We={})).Red="RED",r.Blue="BLUE",We;var r})(),si=(()=>{return(r=si||(si={}))[r.Lower=-2]="Lower",r[r.Low=-1]="Low",r[r.Middle=0]="Middle",r[r.Up=1]="Up",r[r.Upper=2]="Upper",si;var r})();const Pd="CLAY_PIT_RED",Od="FOREST_RED",Hl="GOLD_MINE_RED",Fd="FIELD_RED",Ul="STONE_QUARRY_RED",jl="PASTURE_RED",Go="CLAY_PIT_BLUE",Cg="FOREST_BLUE",Wo="GOLD_MINE_BLUE",Nd="FIELD_BLUE",wg="STONE_QUARRY_BLUE",oi="PASTURE_BLUE",ai=new Map([[Pd,pt(Pd,Ve.ClayPit,3,We.Red)],[Od,pt(Od,Ve.Forest,2,We.Red)],[Hl,pt(Hl,Ve.GoldMine,1,We.Red)],[Fd,pt(Fd,Ve.Field,6,We.Red)],[Ul,pt(Ul,Ve.StoneQuarry,5,We.Red)],[jl,pt(jl,Ve.Pasture,4,We.Red)],[Go,pt(Go,Ve.ClayPit,2,We.Blue)],[Cg,pt(Cg,Ve.Forest,3,We.Blue)],[Wo,pt(Wo,Ve.GoldMine,4,We.Blue)],[Nd,pt(Nd,Ve.Field,5,We.Blue)],[wg,pt(wg,Ve.StoneQuarry,6,We.Blue)],[oi,pt(oi,Ve.Pasture,1,We.Blue)],["LAND_1",pt("LAND_1",Ve.ClayPit,1)],["LAND_2",pt("LAND_2",Ve.Field,1)],["LAND_3",pt("LAND_3",Ve.GoldMine,2)],["LAND_4",pt("LAND_4",Ve.StoneQuarry,2)],["LAND_5",pt("LAND_5",Ve.Field,3)],["LAND_6",pt("LAND_6",Ve.GoldMine,3)],["LAND_7",pt("LAND_7",Ve.Forest,4)],["LAND_8",pt("LAND_8",Ve.StoneQuarry,4)],["LAND_9",pt("LAND_9",Ve.ClayPit,5)],["LAND_10",pt("LAND_10",Ve.Pasture,5)],["LAND_11",pt("LAND_11",Ve.Forest,6)],["LAND_12",pt("LAND_12",Ve.Pasture,6)]]);var Rd=E(6688),Uv=E(7830);function Ko(...r){if(1===r.length){const i=r[0];if((0,Rd.k)(i))return xd(i,null);if((0,Uv.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return xd(n.map(a=>i[a]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return xd(r=1===r.length&&(0,Rd.k)(r[0])?r[0]:r,null).pipe((0,oe.U)(n=>i(...n)))}return xd(r,null)}function xd(r,i){return new Al.y(n=>{const a=r.length;if(0===a)return void n.complete();const d=new Array(a);let p=0,_=0;for(let D=0;D<a;D++){const S=(0,Vo.D)(r[D]);let x=!1;n.add(S.subscribe({next:G=>{x||(x=!0,_++),d[D]=G},error:G=>n.error(G),complete:()=>{p++,(p===a||!x)&&(_===a&&n.next(i?i.reduce((G,Z,_e)=>(G[Z]=d[_e],G),{}):d),n.complete())}}))}})}var $l=E(7168);const zo=(0,y.PH)("[Start Page] Init DomainsCards New Game"),Ag=(0,y.PH)("[Start Page] Init DomainsCards Saved Game"),jv=(0,y.PH)("[DomainsCards/API] Load DomainsCards Success",(0,y.Ky)()),$v=(0,y.PH)("[DomainsCards/API] Load DomainsCards Failure",(0,y.Ky)()),Gv=(0,y.PH)("[DomainsCards] Set DomainsCards On Init",(0,y.Ky)()),Wv=(0,y.PH)("[DomainsCards] Increase Available Resources For Die",(0,y.Ky)()),Ld=(0,y.PH)("[DomainsCards] Increase Available Resources For Auspicious Year"),Gl=(0,y.PH)("[DomainsCards] Increase Available Resources",(0,y.Ky)()),Ps=(0,y.PH)("[DomainsCards] Update DomainCard",(0,y.Ky)()),Os=(0,y.PH)("[DomainsCards] Update DomainsCards",(0,y.Ky)()),kd=(0,y.PH)("[DomainsCards] Add DomainCard",(0,y.Ky)()),Vd=(0,y.PH)("[DomainsCards] Lock Resource",(0,y.Ky)()),Yo=(0,y.PH)("[DomainsCards] Unlock Resources",(0,y.Ky)()),Kn=(0,y.PH)("[DomainsCards] Use Locked Resources"),Bd=(0,y.PH)("[DomainsCards] Give Locked Resources"),bg=(0,y.PH)("[DomainsCards] Toggle DomainCard Selection",(0,y.Ky)()),Wl=(0,y.PH)("[DomainsCards] Clear DomainCards Selection"),vr=(0,y.PH)("[DomainsCards] Put Card In Pivot",(0,y.Ky)()),ji=(0,y.PH)("[DomainsCards] Set DomainsCards Error",(0,y.Ky)()),Hd=(0,y.PH)("[DomainsCards] Create DomainCard",(0,y.Ky)()),Kl=(0,y.PH)("[DomainsCards] Count And Steal Unprotected Gold And Wool"),Kv=(0,y.PH)("[DomainsCards] Swap Selected Cards"),Ud=(0,y.PH)("[DomainsCards] Remove DomainCard",(0,y.Ky)()),zv=(r,i)=>({id:r,color:i}),at="DOMAIN_RED",lt="DOMAIN_BLUE",jd=new Map([[at,zv(at,We.Red)],[lt,zv(lt,We.Blue)]]);var An=(()=>{return(r=An||(An={})).Road="ROAD",r.Hamlet="HAMLET",r.Town="TOWN",An;var r})();const bn="AgglomerationCard",Fs="AvailableAgglomerationSlot",$d=(r,i,n,a,d)=>({interface:bn,id:r,cost:i,type:n,victoryPoints:a,color:d,print:()=>`type: ${n}`});function Vr(r,i){return $d(r,new Map([[ue.Wood,1],[ue.Clay,2]]),An.Road,0,i)}function Br(r,i){return $d(r,new Map([[ue.Wood,1],[ue.Clay,1],[ue.Wool,1],[ue.Wheat,1]]),An.Hamlet,1,i)}function $i(r,i){return $d(r,new Map([[ue.Wheat,2],[ue.Stone,3]]),An.Town,2,i)}const Sg="ROAD_RED",Gd="HAMLET_RED_1",Mg="HAMLET_RED_2",zl="ROAD_BLUE",Yl="HAMLET_BLUE_1",Wd="HAMLET_BLUE_2",Gi=new Map([[Sg,Vr(Sg,We.Red)],[zl,Vr(zl,We.Blue)],["ROAD_1",Vr("ROAD_1")],["ROAD_2",Vr("ROAD_2")],["ROAD_3",Vr("ROAD_3")],["ROAD_4",Vr("ROAD_4")],["ROAD_5",Vr("ROAD_5")],["ROAD_6",Vr("ROAD_6")],["ROAD_7",Vr("ROAD_7")],[Gd,Br(Gd,We.Red)],[Mg,Br(Mg,We.Red)],[Yl,Br(Yl,We.Blue)],[Wd,Br(Wd,We.Blue)],["HAMLET_1",Br("HAMLET_1")],["HAMLET_2",Br("HAMLET_2")],["HAMLET_3",Br("HAMLET_3")],["HAMLET_4",Br("HAMLET_4")],["HAMLET_5",Br("HAMLET_5")],["TOWN_1",$i("TOWN_1")],["TOWN_2",$i("TOWN_2")],["TOWN_3",$i("TOWN_3")],["TOWN_4",$i("TOWN_4")],["TOWN_5",$i("TOWN_5")],["TOWN_6",$i("TOWN_6")],["TOWN_7",$i("TOWN_7")]]);var Ns=(()=>{return(r=Ns||(Ns={})).Building="BUILDING",r.Ship="SHIP",r.Warrior="WARRIOR",Ns;var r})(),gt=(()=>{return(r=gt||(gt={})).Brickyard="Brickyard",r.Sawmill="Sawmill",r.Mill="Mill",r.Foundry="Foundry",r.Weaving="Weaving",r.Warehouse="Warehouse",r.Market="Market",r.TollBridge="Toll bridge",r.Monastery="Monastery",r.CommunityCenter="Community center",gt;var r})();const Tw=new Map([[ue.Clay,`Merchant ship - ${ue.Clay}`],[ue.Wood,`Merchant ship - ${ue.Wood}`],[ue.Gold,`Merchant ship - ${ue.Gold}`],[ue.Wheat,`Merchant ship - ${ue.Wheat}`],[ue.Stone,`Merchant ship - ${ue.Stone}`],[ue.Wool,`Merchant ship - ${ue.Wool}`],["ANY","Great merchant ship"]]);var li=(()=>{return(r=li||(li={})).Altair="Alta\xefr",r.Ezio="Ezio",r.Evie="Evie",r.Jacob="Jacob",r.Kassandra="Kassandra",r.Alexios="Alexios",li;var r})(),ci=(()=>{return(r=ci||(ci={})).Trade="TRADE",r.Strength="STRENGTH",ci;var r})();const Dr="DevelopmentCard",zn="AvailableDevelopmentSlot",Tg=(r,i,n,a)=>({interface:Dr,id:r,name:i,cost:n,type:a});function Vn(r,i,n,a,d,p,_){const D=Tg(r,i,n,Ns.Building);return D.tradePoints=a,D.givesKnowledge=d,D.noDuplicate=p,D.victoryPoints=_,D}function Sn(r,i){const n=Tw.get(i);if(void 0===n)throw new Error(`Can't find ship name for type ${i}`);const a=Tg(r,n,new Map([[ue.Wood,1],[ue.Wool,1]]),Ns.Ship);return a.tradePoints=1,a}function ui(r,i,n,a,d){const p=Tg(r,i,n,Ns.Warrior);return p.strengthPoints=a,p.celebrationPoints=d,p}const Je=(r,i,n,a,d,p,_=0,D=0)=>({id:r,domainId:i,cardType:n,cardId:a,col:d,row:p,availableResources:_,lockedResources:D}),Mn=new Map([["BUILDING_1",Vn("BUILDING_1",gt.Brickyard,new Map([[ue.Clay,1],[ue.Stone,1]]))],["BUILDING_2",Vn("BUILDING_2",gt.Sawmill,new Map([[ue.Wood,1],[ue.Stone,1]]))],["BUILDING_3",Vn("BUILDING_3",gt.Mill,new Map([[ue.Wood,1],[ue.Wheat,1]]))],["BUILDING_4",Vn("BUILDING_4",gt.Foundry,new Map([[ue.Clay,1],[ue.Stone,1]]))],["BUILDING_5",Vn("BUILDING_5",gt.Weaving,new Map([[ue.Wood,1],[ue.Wool,1]]))],["BUILDING_6",Vn("BUILDING_6",gt.Warehouse,new Map([[ue.Wood,1],[ue.Wool,1]]))],["BUILDING_7",Vn("BUILDING_7",gt.Warehouse,new Map([[ue.Wood,1],[ue.Wool,1]]))],["BUILDING_8",Vn("BUILDING_8",gt.Market,new Map([[ue.Wheat,1],[ue.Wool,1]]),1,!1,!0)],["BUILDING_9",Vn("BUILDING_9",gt.Market,new Map([[ue.Wheat,1],[ue.Wool,1]]),1,!1,!0)],["BUILDING_10",Vn("BUILDING_10",gt.TollBridge,new Map([[ue.Wool,1],[ue.Clay,1]]),1)],["BUILDING_11",Vn("BUILDING_11",gt.Monastery,new Map([[ue.Clay,1],[ue.Wheat,1],[ue.Stone,1]]),0,!0,!0)],["BUILDING_12",Vn("BUILDING_12",gt.Monastery,new Map([[ue.Clay,1],[ue.Wheat,1],[ue.Stone,1]]),0,!0,!0)],["BUILDING_13",Vn("BUILDING_13",gt.CommunityCenter,new Map([[ue.Clay,1],[ue.Wheat,1]]),0,!1,!0)],["BUILDING_14",Vn("BUILDING_14",gt.CommunityCenter,new Map([[ue.Clay,1],[ue.Wheat,1]]),0,!1,!0)],["SHIP_1",Sn("SHIP_1",ue.Clay)],["SHIP_2",Sn("SHIP_2",ue.Wood)],["SHIP_3",Sn("SHIP_3",ue.Gold)],["SHIP_4",Sn("SHIP_4",ue.Wheat)],["SHIP_5",Sn("SHIP_5",ue.Stone)],["SHIP_6",Sn("SHIP_6",ue.Wool)],["SHIP_7",Sn("SHIP_7","ANY")],["WARRIOR_1",ui("WARRIOR_1",li.Altair,new Map([[ue.Wheat,1],[ue.Stone,1]]),1,1)],["WARRIOR_2",ui("WARRIOR_2",li.Ezio,new Map([[ue.Wheat,1],[ue.Stone,1]]),2,1)],["WARRIOR_3",ui("WARRIOR_3",li.Evie,new Map([[ue.Wheat,1],[ue.Wool,1],[ue.Stone,1]]),1,3)],["WARRIOR_4",ui("WARRIOR_4",li.Jacob,new Map([[ue.Wheat,1],[ue.Wool,1],[ue.Stone,1]]),2,2)],["WARRIOR_5",ui("WARRIOR_5",li.Kassandra,new Map([[ue.Wool,2],[ue.Wheat,1],[ue.Stone,1]]),2,3)],["WARRIOR_6",ui("WARRIOR_6",li.Alexios,new Map([[ue.Wool,2],[ue.Wheat,1],[ue.Stone,1]]),4,1)]]),Zl="domainsCards",di=Ui(),fi=di.getInitialState({selectedIds:[],initialized:!1,loaded:!1}),Ig=(0,y.Lq)(fi,(0,y.on)(zo,r=>({...r,initialized:!1})),(0,y.on)(Ag,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(jv,(r,{domainsCards:i})=>di.setAll(i,{...r,loaded:!0})),(0,y.on)($v,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Gv,(r,{domainsCards:i})=>di.setAll(i,{...r,initialized:!0})),(0,y.on)(Ps,(r,{update:i})=>di.updateOne(i,r)),(0,y.on)(Os,(r,{updates:i})=>di.updateMany(i,r)),(0,y.on)(kd,(r,{domainCard:i})=>di.addOne(i,r)),(0,y.on)(bg,(r,{id:i})=>{const n=r.selectedIds.find(d=>d===i);let a;return a=void 0===n?[...r.selectedIds,i]:r.selectedIds.filter(d=>d!==n),{...r,selectedIds:a}}),(0,y.on)(Wl,r=>({...r,selectedIds:[]})),(0,y.on)(Kv,r=>{const i=r.entities[r.selectedIds[0]],n=r.entities[r.selectedIds[1]];if(void 0===i||void 0===n)throw new Error("Something went wrong, card0 and card1 shouldn't be undefined at this point.");const a={...i,col:n.col,row:n.row},d={...n,col:i.col,row:i.row};return{...r,entities:{...r.entities,[i.id]:a,[n.id]:d}}}),(0,y.on)(Ud,(r,{id:i})=>di.removeOne(i,r)),(0,y.on)(ji,(r,{error:i})=>({...r,errorMsg:i}))),Zo=(0,y.ZF)(Zl),{selectAll:zd,selectEntities:qv}=di.getSelectors(),Pg=(0,y.P1)(Zo,r=>r.loaded),Xt=((0,y.P1)(Zo,r=>r.errorMsg),(0,y.P1)(Zo,r=>zd(r))),qo=(0,y.P1)(Zo,r=>qv(r)),Rs=(0,y.P1)(Zo,r=>r.selectedIds),ql=(0,y.P1)(qo,Rs,(r,i)=>i.map(n=>r[n]).filter(n=>void 0!==n)),xs=r=>(0,y.P1)(Xt,i=>i.filter(n=>{const a=Wi(n,r);return void 0!==a&&!Lg(n,i,a.type)})),Qo=r=>(0,y.P1)(Xt,i=>i.filter(n=>{const a=Wi(n,r);return void 0!==a&&Lg(n,i,a.type)})),Wi=(r,i)=>{if(r.cardType===it&&void 0!==r.cardId){const n=ai.get(r.cardId);if(void 0!==n&&n.die===i)return n}},Og=1,Yd=2,Zd=3,Ql=4,qd=(0,y.P1)(Xt,r=>[Og,Yd,Zd,Ql].map(i=>r.filter(n=>n.cardType===it&&void 0!==n.cardId&&void 0!==ai.get(n.cardId)&&rD(n,r,i)))),Jo=(0,y.P1)(Xt,r=>r.filter(i=>i.cardType===it&&i.lockedResources>0)),Qd=(r,i)=>r.filter(n=>n.cardType===Dr&&void 0!==n.cardId).map(n=>Mn.get(n.cardId)).filter(n=>void 0!==n).map(n=>((r,i)=>{switch(i){case ci.Trade:return r.tradePoints||0;case ci.Strength:return r.strengthPoints||0}})(n,i)).reduce((n,a)=>n+a,0),eD=(0,y.P1)(Xt,r=>[at,lt].map(i=>r.filter(n=>n.domainId===i&&n.cardType===it&&!nD(n,r)).reduce((n,a)=>n+a.availableResources,0))),Bn=(0,y.P1)(Xt,r=>[at,lt].map(i=>r.filter(n=>n.domainId===i&&n.cardType===it&&void 0!==n.cardId&&(ai.get(n.cardId)?.type===Ve.GoldMine||ai.get(n.cardId)?.type===Ve.Pasture)&&!nD(n,r)))),Lg=(r,i,n)=>void 0!==Xo(r,i).find(d=>void 0!==d.cardId&&tD(d.cardId,n)),tD=(r,i)=>{const n=Mn.get(r)?.name;switch(i){case Ve.ClayPit:return n===gt.Brickyard;case Ve.Forest:return n===gt.Sawmill;case Ve.Field:return n===gt.Mill;case Ve.StoneQuarry:return n===gt.Foundry;case Ve.Pasture:return n===gt.Weaving;case Ve.GoldMine:return!1}},nD=(r,i)=>void 0!==Xo(r,i).find(a=>void 0!==a.cardId&&Mn.get(a.cardId)?.name===gt.Warehouse),rD=(r,i,n)=>Xo(r,i).filter(d=>void 0!==d.cardId&&(Mn.get(d.cardId)?.name===gt.Warehouse||Mn.get(d.cardId)?.name===gt.Monastery)).length===n,Xo=(r,i)=>i.filter(n=>n.domainId===r.domainId&&(n.col===r.col-1||n.col===r.col+1)&&(r.row<0?n.row<0:n.row>=0));let Vg=(()=>{class r{constructor(n,a){this.actions$=n,this.domainsCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(zo),(0,oe.U)(()=>Gv({domainsCards:[Je(Be(),at,bn,Sg,0,0),Je(Be(),at,bn,Gd,-1,0),Je(Be(),at,Fs,void 0,-2,0),Je(Be(),at,bn,Mg,1,0),Je(Be(),at,Fs,void 0,2,0),Je(Be(),at,it,Pd,-2,-1,1),Je(Be(),at,it,Od,-2,1,1),Je(Be(),at,zn,void 0,-1,1),Je(Be(),at,it,Hl,0,1,0),Je(Be(),at,zn,void 0,1,1),Je(Be(),at,it,Fd,2,1,1),Je(Be(),at,it,Ul,2,-1,1),Je(Be(),at,zn,void 0,1,-1),Je(Be(),at,it,jl,0,-1,1),Je(Be(),at,zn,void 0,-1,-1),Je(Be(),lt,bn,zl,0,0),Je(Be(),lt,bn,Yl,-1,0),Je(Be(),lt,Fs,void 0,-2,0),Je(Be(),lt,bn,Wd,1,0),Je(Be(),lt,Fs,void 0,2,0),Je(Be(),lt,it,Go,-2,-1,1),Je(Be(),lt,it,Cg,-2,1,1),Je(Be(),lt,zn,void 0,-1,1),Je(Be(),lt,it,Wo,0,1,0),Je(Be(),lt,zn,void 0,1,1),Je(Be(),lt,it,Nd,2,1,1),Je(Be(),lt,it,wg,2,-1,1),Je(Be(),lt,zn,void 0,1,-1),Je(Be(),lt,it,oi,0,-1,1),Je(Be(),lt,zn,void 0,-1,-1)]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(Ag),ri({run:()=>jv({domainsCards:[]}),onError:(d,p)=>(console.error("Error",p),$v({error:p}))}))),this.increaseResourcesForDie$=qe(()=>this.actions$.pipe(Ye(Wv),(0,Hi.b)(d=>Ko({increaseOne:this.domainsCardsStore.pipe((0,y.Ys)(xs(d.die)),(0,Jt.q)(1)),increaseTwo:this.domainsCardsStore.pipe((0,y.Ys)(Qo(d.die)),(0,Jt.q)(1))})),(0,oe.U)(({increaseOne:d,increaseTwo:p})=>{const _=this.updatesAvailableResources(d,1),D=this.updatesAvailableResources(p,2);return Os({updates:[..._,...D]})}))),this.increaseResourcesAuspiciousYear$=qe(()=>this.actions$.pipe(Ye(Ld),(0,$l.M)(this.domainsCardsStore.select(qd)),(0,oe.U)(([d,[p,_,D,S]])=>{const x=this.updatesAvailableResources(p,Og),G=this.updatesAvailableResources(_,Yd),Z=this.updatesAvailableResources(D,Zd),_e=this.updatesAvailableResources(S,Ql);return Os({updates:[...x,...G,...Z,..._e]})}))),this.lockResource$=qe(()=>this.actions$.pipe(Ye(Vd),(0,Hi.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,oe.U)(p=>{if(0===p.availableResources)throw new Error(`Can't lock unavailable resource for pivot ${p.id}.`);if(p.lockedResources===Math.max(...ii))throw new Error(`Can't lock more resources for pivot ${p.id}.`);return Ps({update:{id:p.id,changes:{availableResources:p.availableResources-1,lockedResources:p.lockedResources+1}}})}),(0,ws.K)(p=>(0,ni.of)(ji({error:p.message}))))))),this.unlockResources$=qe(()=>this.actions$.pipe(Ye(Yo),(0,Hi.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,oe.U)(p=>{if(p.availableResources+p.lockedResources>Math.max(...ii))throw new Error(`Shouldn't have been able to lock so many resources for pivot ${p.id}.`);return Ps({update:{id:p.id,changes:{availableResources:p.availableResources+p.lockedResources,lockedResources:0}}})}),(0,ws.K)(p=>(0,ni.of)(ji({error:p.message}))))))),this.useLockedResources$=qe(()=>this.actions$.pipe(Ye(Kn),(0,$l.M)(this.domainsCardsStore.select(Jo)),(0,oe.U)(([d,p])=>{const _=p.map(D=>({id:D.id,changes:{lockedResources:0}}));return Os({updates:_})}))),this.giveLockedResources$=qe(()=>this.actions$.pipe(Ye(Bd),(0,$l.M)(this.domainsCardsStore.select(Jo)),(0,Hi.b)(([d,p])=>this.domainsCardsStore.pipe((0,y.Ys)(ql),(0,Jt.q)(1),(0,oe.U)(_=>{if(0===p.length)throw new Error("Can't give locked resources if no pivots with locked resources.");const S=this.getLandCardFromPivot(p[0]);let x=0;p.forEach(Ee=>{if(this.getLandCardFromPivot(Ee).type!==S.type)throw new Error("Can't give locked resources of different types.");x+=Ee.lockedResources});const G=p.map(Ee=>({id:Ee.id,changes:{lockedResources:0}}));if(1!==_.length)throw new Error("Can't give locked resources if no pivot or more than one pivot selected.");const Z=_[0];if(this.getLandCardFromPivot(Z).type!==S.type)throw new Error("Can't give locked resources to pivot of different type.");const pe=Z.availableResources+x;if(pe>Math.max(...ii))throw new Error("Can't give so many locked resources to selected pivot.");return Os({updates:[...G,{id:Z.id,changes:{availableResources:pe}}]})}),(0,ws.K)(_=>(0,ni.of)(ji({error:_.message}))))))),this.increaseResources$=qe(()=>this.actions$.pipe(Ye(Gl),(0,Hi.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,oe.U)(p=>{if(p.availableResources===Math.max(...ii))throw new Error(`Can't increase available resources beyond maximum for pivot ${p.id}.`);return Ps({update:{id:p.id,changes:{availableResources:p.availableResources+1}}})}),(0,ws.K)(p=>(0,ni.of)(ji({error:p.message}))))))),this.putCardInPivot$=qe(()=>this.actions$.pipe(Ye(vr),(0,oe.U)(d=>Ps({update:{id:d.id,changes:{cardType:d.cardType,cardId:d.cardId}}})))),this.createCard$=qe(()=>this.actions$.pipe(Ye(Hd),(0,oe.U)(({domainId:d,cardType:p,cardId:_,col:D,row:S})=>{const x=Je(Be(),d,p,_,D,S);return kd({domainCard:x})}))),this.countStealResources$=qe(()=>this.actions$.pipe(Ye(Kl),(0,$l.M)(this.domainsCardsStore.select(eD),this.domainsCardsStore.select(Bn)),(0,oe.U)(([d,[p,_],[D,S]])=>{let G=[];return p>7&&(G=[...G,...D]),_>7&&(G=[...G,...S]),G}),(0,oe.U)(d=>{const p=d.map(_=>({id:_.id,changes:{availableResources:0}}));return Os({updates:p})}))),this.updatesAvailableResources=(d,p)=>[...d.filter(S=>S.availableResources<Math.max(...ii)-p).map(S=>({id:S.id,changes:{availableResources:S.availableResources+p}})),...d.filter(S=>S.availableResources>=Math.max(...ii)-p&&S.availableResources<Math.max(...ii)).map(S=>({id:S.id,changes:{availableResources:Math.max(...ii)}}))]}takeOneDefinedPivotOrThrow(n){return this.domainsCardsStore.pipe((0,y.Ys)((r=>(0,y.P1)(Xt,i=>i.find(n=>n.cardType===it&&n.id===r)))(n)),(0,oe.U)(a=>{if(void 0===a)throw new Error("Couldn't find land card pivot for id.");return a}),(0,Jt.q)(1))}getLandCardFromPivot(n){if(void 0===n.cardId)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");const a=ai.get(n.cardId);if(void 0===a)throw new Error("Something went wrong, land shouldn't be undefined at this point.");return a}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr),l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),ea=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Pg)),this.allDomainsCards$=this.store.pipe((0,y.Ys)(Xt)),this.selectedDomainsCards$=this.store.pipe((0,y.Ys)(ql))}initNewGame(){this.store.dispatch(zo())}initSavedGame(){this.store.dispatch(Ag())}lockResource(n){this.store.dispatch(Vd({id:n}))}unlockResources(n){this.store.dispatch(Yo({id:n}))}increaseResources(n){this.store.dispatch(Gl({id:n}))}increaseResourcesForDie(n){this.store.dispatch(Wv({die:n}))}increaseResourcesForAuspiciousYear(){this.store.dispatch(Ld())}useLockedResources(){this.store.dispatch(Kn())}giveLockedResources(){this.store.dispatch(Bd())}toggleDomainCardSelection(n){this.store.dispatch(bg({id:n}))}clearDomainCardSelection(){this.store.dispatch(Wl())}putCardInSlot(n,a,d){this.store.dispatch(vr({id:n,cardType:a,cardId:d}))}createAvailableDomainCard(n,a,d,p){this.store.dispatch(Hd({domainId:n,cardType:a,cardId:void 0,col:d,row:p}))}countAndStealUnprotectedGoldAndWool(){this.store.dispatch(Kl())}swapSelectedCards(){this.store.dispatch(Kv())}removeDomainCard(n){this.store.dispatch(Ud({id:n}))}getDomainMinCol(n){return this.store.select((r=>(0,y.P1)(Xt,i=>Math.min(...i.filter(n=>n.domainId===r).map(n=>n.col))))(n))}getDomainMaxCol(n){return this.store.select((r=>(0,y.P1)(Xt,i=>Math.max(...i.filter(n=>n.domainId===r).map(n=>n.col))))(n))}getDomainMinRow(n){return this.store.select((r=>(0,y.P1)(Xt,i=>Math.min(...i.filter(n=>n.domainId===r).map(n=>n.row))))(n))}getDomainMaxRow(n){return this.store.select((r=>(0,y.P1)(Xt,i=>Math.max(...i.filter(n=>n.domainId===r).map(n=>n.row))))(n))}getMasteryDomainForType(n){return this.store.select((r=>(0,y.P1)(Xt,i=>{const n=i.filter(_=>_.domainId===at),a=i.filter(_=>_.domainId===lt);return((r,i)=>r>i&&r>2?at:i>r&&i>2?lt:void 0)(Qd(n,r),Qd(a,r))}))(n))}getCardsVictoryPointsForDomain(n){return this.store.select((r=>(0,y.P1)(Xt,i=>i.filter(n=>n.domainId===r&&void 0!==n.cardId).map(n=>{switch(n.cardType){case bn:return Gi.get(n.cardId)?.victoryPoints||0;case Dr:return Mn.get(n.cardId)?.victoryPoints||0;default:return 0}}).reduce((n,a)=>n+a,0)))(n))}getMerchantShipCountForDomain(n){return this.store.select((r=>(0,y.P1)(Xt,i=>i.filter(n=>n.domainId===r&&void 0!==n.cardId).map(n=>Mn.get(n.cardId)).filter(n=>void 0!==n).filter(n=>n.type===Ns.Ship).length))(n))}getCelebrationPointsForDomain(n){return this.store.select((r=>(0,y.P1)(Xt,i=>i.filter(n=>n.domainId===r&&void 0!==n.cardId).map(n=>Mn.get(n.cardId)).filter(n=>void 0!==n).map(n=>n.celebrationPoints||0).reduce((n,a)=>n+a,0)))(n))}hasDomainCommunityCenter(n){return this.store.select((r=>(0,y.P1)(Xt,i=>i.filter(n=>n.domainId===r&&void 0!==n.cardId).map(n=>Mn.get(n.cardId)).filter(n=>void 0!==n).filter(n=>n.name===gt.CommunityCenter).length>0))(n))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Jl=(0,y.PH)("[Start Page] Init EventsPileCards New Game"),Jd=(0,y.PH)("[Start Page] Init EventsPileCards Saved Game"),Bg=(0,y.PH)("[EventsPileCards/API] Load EventsPileCards Success",(0,y.Ky)()),Xd=(0,y.PH)("[EventsPileCards/API] Load EventsPileCards Failure",(0,y.Ky)()),ef=(0,y.PH)("[Game Rules] Reset Events Pile"),Hg=(0,y.PH)("[EventsPileCards] Select First Events Pile Card"),ir=(0,y.PH)("[EventsPileCards] Remove Selected Events Pile Card"),Xl=(0,y.PH)("[EventsPileCards] Set Entities Select First EventsPileCards",(0,y.Ky)()),Ug=(0,y.PH)("[EventsPileCards] Set EventsPileCards Initialized Status",(0,y.Ky)()),aD=(0,y.PH)("[EventsPileCards] Set EventsPileCards Error",(0,y.Ky)()),jg=((0,y.PH)("[EventsPileCards] Select Events Pile Card",(0,y.Ky)()),(0,y.PH)("[EventsPileCards] Unselect Events Pile Card"),(0,y.PH)("[EventsPileCards] Remove Events Pile Card",(0,y.Ky)()),"DevelopmentCard"),Hr=(r,i,n)=>({interface:jg,id:r,name:i,ruleIds:n});var Tn=(()=>{return(r=Tn||(Tn={})).Festival="Festival",r.AuspiciousYear="Auspicious year",r.Hawker="Hawker",r.Invention="Invention",r.MerchantShipTravel="Merchant ship travel",r.Quarrel="Quarrel",r.SiblingRivalry="Sibling rivalry",Tn;var r})();const ta=new Map([["EVENT_0",Hr("EVENT_0",Tn.Festival,[])],["EVENT_1",Hr("EVENT_1",Tn.AuspiciousYear,[])],["EVENT_2",Hr("EVENT_2",Tn.AuspiciousYear,[])],["EVENT_3",Hr("EVENT_3",Tn.Hawker,[])],["EVENT_4",Hr("EVENT_4",Tn.Hawker,[])],["EVENT_5",Hr("EVENT_5",Tn.Invention,[])],["EVENT_6",Hr("EVENT_6",Tn.MerchantShipTravel,[])],["EVENT_7",Hr("EVENT_7",Tn.Quarrel,[])],["EVENT_8",Hr("EVENT_8",Tn.SiblingRivalry,[])]]);var ec=E(9763),na=E.n(ec);const tc=()=>{const i=na()(Array.from(ta.keys()).slice(1));return i.splice(-3,0,"EVENT_0"),i.map(a=>((r,i)=>({id:r,cardId:i}))(Be(),a))};let tf=(()=>{class r{constructor(n,a){this.actions$=n,this.eventsPileCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(Jl),(0,oe.U)(()=>Ug({eventsPileCards:tc()})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(Jd),ri({run:()=>Bg({eventsPileCards:[]}),onError:(d,p)=>(console.error("Error",p),Xd({error:p}))}))),this.resetPileAndSelectFirst$=qe(()=>this.actions$.pipe(Ye(ef),(0,oe.U)(()=>Xl({eventsPileCards:tc()}))))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr),l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const nf="eventsPileCards",ra=Ui(),Nw=ra.getInitialState({initialized:!1,loaded:!1}),rf=(0,y.Lq)(Nw,(0,y.on)(Jl,r=>({...r,initialized:!1,selectedId:void 0})),(0,y.on)(Jd,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(Bg,(r,{eventsPileCards:i})=>ra.setAll(i,{...r,loaded:!0})),(0,y.on)(Xd,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(aD,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Ug,(r,{eventsPileCards:i})=>ra.setAll(i,{...r,initialized:!0})),(0,y.on)(Xl,(r,{eventsPileCards:i})=>ra.setAll(i,{...r,selectedId:i[0].id})),(0,y.on)(Hg,r=>({...r,selectedId:r.ids[0]})),(0,y.on)(ir,r=>{const i={...r,selectedId:void 0};return void 0!==r.selectedId?ra.removeOne(r.selectedId,i):i})),nc=(0,y.ZF)(nf),{selectAll:uD,selectEntities:Gg}=ra.getSelectors(),Wg=(0,y.P1)(nc,r=>r.loaded),Kg=((0,y.P1)(nc,r=>r.errorMsg),(0,y.P1)(nc,r=>uD(r))),zg=(0,y.P1)(nc,r=>Gg(r)),Ur=(0,y.P1)(nc,r=>r.selectedId),rc=(0,y.P1)(zg,Ur,(r,i)=>{if(void 0!==i)return r[i]});let ic=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Wg)),this.allEventsPileCards$=this.store.pipe((0,y.Ys)(Kg)),this.selectedEventsPileCards$=this.store.pipe((0,y.Ys)(rc))}initNewGame(){this.store.dispatch(Jl())}initSavedGame(){this.store.dispatch(Jd())}resetEventsPile(){this.store.dispatch(ef())}selectFirst(){this.store.dispatch(Hg())}removeSelected(){this.store.dispatch(ir())}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const sf=(0,y.PH)("[Start Page] Init AgglomerationPilesCards New Game"),Yg=(0,y.PH)("[Start Page] Init AgglomerationPilesCards Saved Game"),sc=(0,y.PH)("[AgglomerationPilesCards/API] Load AgglomerationPilesCards Success",(0,y.Ky)()),af=(0,y.PH)("[AgglomerationPilesCards/API] Load AgglomerationPilesCards Failure",(0,y.Ky)()),lf=(0,y.PH)("[AgglomerationPilesCards] Set AgglomerationPilesCards On Init",(0,y.Ky)()),cf=(0,y.PH)("[AgglomerationPilesCards] Remove AgglomerationPileCard",(0,y.Ky)()),uf=(0,y.PH)("[AgglomerationPilesCards] Select FirstCardFromAgglomerationPile",(0,y.Ky)()),Zg=(0,y.PH)("[AgglomerationPilesCards] Select Agglomeration Pile Card",(0,y.Ky)()),fD=(0,y.PH)("[AgglomerationPilesCards] Unselect Agglomeration Pile Card"),qg=(0,y.PH)("[AgglomerationPilesCards] Set AgglomerationPilesCards Error",(0,y.Ky)()),Ls="AGGLOMERATION_ROAD",hi="AGGLOMERATION_HAMLET",ks="AGGLOMERATION_TOWN",Qg=[Ls,hi,ks],df=(r,i,n)=>({id:r,pileId:i,cardId:n}),pD="agglomerationPilesCards",oc=Ui(),gD=oc.getInitialState({initialized:!1,loaded:!1}),mD=(0,y.Lq)(gD,(0,y.on)(sf,r=>({...r,initialized:!1})),(0,y.on)(Yg,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(sc,(r,{agglomerationPilesCards:i})=>oc.setAll(i,{...r,loaded:!0})),(0,y.on)(af,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(lf,(r,{agglomerationPilesCards:i})=>oc.setAll(i,{...r,initialized:!0})),(0,y.on)(Zg,(r,{id:i})=>({...r,selectedId:i})),(0,y.on)(fD,r=>({...r,selectedId:void 0})),(0,y.on)(cf,(r,{id:i})=>oc.removeOne(i,r)),(0,y.on)(qg,(r,{error:i})=>({...r,errorMsg:i}))),Vs=(0,y.ZF)(pD),{selectAll:Jg,selectEntities:Rw}=oc.getSelectors(),sr=(0,y.P1)(Vs,r=>r.loaded),ff=((0,y.P1)(Vs,r=>r.errorMsg),(0,y.P1)(Vs,r=>Jg(r))),Xg=(0,y.P1)(Vs,r=>Rw(r)),em=(0,y.P1)(Vs,r=>r.selectedId),tm=(0,y.P1)(Xg,em,(r,i)=>{if(void 0!==i)return r[i]}),nm=r=>(0,y.P1)(ff,i=>i.filter(n=>n.pileId===r));let hf=(()=>{class r{constructor(n,a){this.actions$=n,this.agglomerationPilesCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(sf),(0,oe.U)(()=>lf({agglomerationPilesCards:[...Array.from(Gi.values()).filter(a=>a.type===An.Road&&void 0===a.color).map(a=>df(Be(),Ls,a.id)),...Array.from(Gi.values()).filter(a=>a.type===An.Hamlet&&void 0===a.color).map(a=>df(Be(),hi,a.id)),...Array.from(Gi.values()).filter(a=>a.type===An.Town&&void 0===a.color).map(a=>df(Be(),ks,a.id))]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(Yg),ri({run:()=>sc({agglomerationPilesCards:[]}),onError:(d,p)=>(console.error("Error",p),af({error:p}))}))),this.selectFirst$=qe(()=>this.actions$.pipe(Ye(uf),(0,Hi.b)(d=>this.agglomerationPilesCardsStore.pipe((0,y.Ys)((r=>(0,y.P1)(ff,i=>i.find(n=>n.pileId===r)))(d.pileId)),(0,oe.U)(p=>{if(void 0===p)throw new Error("Can't get first card in empty agglomeration pile.");return p}),(0,Jt.q)(1),(0,oe.U)(p=>Zg({id:p.id})),(0,ws.K)(p=>(0,ni.of)(qg({error:p.message})))))))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr),l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),ac=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(sr)),this.allAgglomerationPilesCards$=this.store.pipe((0,y.Ys)(ff)),this.selectedAgglomerationPilesCards$=this.store.pipe((0,y.Ys)(tm)),this.allRoadPivots$=this.store.select(nm(Ls)),this.allHamletPivots$=this.store.select(nm(hi)),this.allTownPivots$=this.store.select(nm(ks))}initNewGame(){this.store.dispatch(sf())}initSavedGame(){this.store.dispatch(Yg())}removeAgglomerationPileCard(n){this.store.dispatch(cf({id:n}))}selectFirstCardFromAgglomerationPile(n){this.store.dispatch(uf({pileId:n}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const _D=[1,2,3,4,5,6];var Er=(()=>{return(r=Er||(Er={})).Thieves="THIEVES",r.Trade="TRADE",r.Celebration="CELEBRATION",r.Harvest="HARVEST",r.Event="EVENT",Er;var r})();function im(){return Math.floor(6*Math.random()+1)}const pi=(0,y.PH)("[Start Page] Init New Game"),DD=(0,y.PH)("[Game] Set Phase",(0,y.Ky)()),Bs=(0,y.PH)("[Game] Set Player",(0,y.Ky)()),sm=(0,y.PH)("[Game] Set Action",(0,y.Ky)()),om=(0,y.PH)("[Dice Component] Throw Dice"),ia=(0,y.PH)("[Dice Component] Throw Production Die"),gf=(0,y.PH)("[Dice Component] Throw Event Die"),Yn=(0,y.PH)("[Dice] Set Production Die",(0,y.Ky)()),Ki=(0,y.PH)("[Dice] Set Next Production Die",(0,y.Ky)()),Kt=(0,y.PH)("[Dice] Set Event Die",(0,y.Ky)());var Pt=(()=>{return(r=Pt||(Pt={})).InitialThrow="INITIAL THROW",r.InitialDraw="INITIAL DRAW",r.LoopThrow="LOOP THROW",r.LoopActions="LOOP ACTIONS",r.LoopDraw="LOOP DRAW",r.LoopExchange="LOOP EXCHANGE",Pt;var r})();const Hn={productionDie:void 0,nextProductionDie:void 0,eventDie:void 0,phase:Pt.InitialThrow,player:We.Red,action:void 0},mf=(0,y.Lq)(Hn,(0,y.on)(pi,()=>({...Hn})),(0,y.on)(Yn,(r,{value:i})=>({...r,productionDie:i})),(0,y.on)(Ki,(r,{value:i})=>({...r,nextProductionDie:i})),(0,y.on)(Kt,(r,{value:i})=>({...r,eventDie:i})),(0,y.on)(DD,(r,{phase:i})=>({...r,phase:i})),(0,y.on)(Bs,(r,{player:i})=>({...r,player:i})),(0,y.on)(sm,(r,{action:i})=>({...r,action:i}))),or=(0,y.ZF)("game"),Hs=(0,y.P1)(or,r=>r.productionDie),zi=(0,y.P1)(or,r=>r.nextProductionDie),Us=(0,y.P1)(or,r=>r.eventDie),js=(0,y.P1)(or,r=>r.phase),$s=(0,y.P1)(or,r=>r.player),Gs=(0,y.P1)(or,r=>r.action);let Ws=(()=>{class r{constructor(n,a){this.actions$=n,this.gameStore=a,this.throwDice$=qe(()=>this.actions$.pipe(Ye(om),(0,Ms.w)(()=>[gf(),ia()]))),this.throwProduction$=qe(()=>this.actions$.pipe(Ye(ia),(0,$l.M)(this.gameStore.select(zi)),(0,oe.U)(([d,p])=>void 0!==p?p:function vD(){return im()}()),(0,Ms.w)(d=>[Yn({value:void 0}),Yn({value:d}),Ki({value:void 0})]))),this.throwEvent$=qe(()=>this.actions$.pipe(Ye(gf),(0,oe.U)(()=>function lc(){return function yD(r){switch(r){case 1:case 2:return Er.Event;case 3:return Er.Thieves;case 4:return Er.Trade;case 5:return Er.Celebration;case 6:return Er.Harvest}}(im())}()),(0,Ms.w)(d=>[Kt({value:void 0}),Kt({value:d})])))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr),l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),ar=(()=>{class r{constructor(n){this.store=n,this.productionDie$=this.store.pipe((0,y.Ys)(Hs)),this.nextProductionDie$=this.store.pipe((0,y.Ys)(zi)),this.eventDie$=this.store.pipe((0,y.Ys)(Us)),this.phase$=this.store.pipe((0,y.Ys)(js)),this.player$=this.store.pipe((0,y.Ys)($s)),this.action$=this.store.pipe((0,y.Ys)(Gs))}initNewGame(){this.store.dispatch(pi())}throwDice(){this.store.dispatch(om())}throwProductionDie(){this.store.dispatch(ia())}setNextProductionDie(n){this.store.dispatch(Ki({value:n}))}throwEventDie(){this.store.dispatch(gf())}setPhase(n){this.store.dispatch(DD({phase:n}))}setPlayer(n){this.store.dispatch(Bs({player:n}))}setAction(n){this.store.dispatch(sm({action:n}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const cc=(0,y.PH)("[Start Page] Init HandsCards New Game"),uc=(0,y.PH)("[Start Page] Init HandsCards Saved Game"),_f=(0,y.PH)("[HandsCards/API] Load HandsCards Success",(0,y.Ky)()),yf=(0,y.PH)("[HandsCards/API] Load HandsCards Failure",(0,y.Ky)()),vf=(0,y.PH)("[HandsCards] Set HandsCards On Init",(0,y.Ky)()),Df=(0,y.PH)("[HandsCards] Add Cards To Hand",(0,y.Ky)()),Ef=(0,y.PH)("[HandsCards] Add HandsCards",(0,y.Ky)()),am=(0,y.PH)("[HandsCards] Set HandsCards Error",(0,y.Ky)()),Cf=(0,y.PH)("[HandsCards] Select Hand Card",(0,y.Ky)()),lm=(0,y.PH)("[HandsCards] Unselect Hand Card"),wf=(0,y.PH)("[HandsCards] Remove HandCard",(0,y.Ky)());let CD=(()=>{class r{constructor(n){this.actions$=n,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(cc),(0,oe.U)(()=>vf({handsCards:[]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(uc),ri({run:()=>_f({handsCards:[]}),onError:(a,d)=>(console.error("Error",d),yf({error:d}))}))),this.addCards$=qe(()=>this.actions$.pipe(Ye(Df),(0,oe.U)(({handId:a,cards:d})=>d.map(p=>((r,i,n,a)=>({id:r,handId:i,cardType:n,cardId:a}))(Be(),a,p.type,p.id))),(0,oe.U)(a=>Ef({handsCards:a}))))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const dc="handsCards",gi=Ui(),wD=gi.getInitialState({initialized:!1,loaded:!1}),fc=(0,y.Lq)(wD,(0,y.on)(cc,r=>({...r,initialized:!1})),(0,y.on)(uc,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(_f,(r,{handsCards:i})=>gi.setAll(i,{...r,loaded:!0})),(0,y.on)(yf,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(vf,(r,{handsCards:i})=>gi.setAll(i,{...r,initialized:!0})),(0,y.on)(Ef,(r,{handsCards:i})=>gi.addMany(i,r)),(0,y.on)(am,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Cf,(r,{id:i})=>({...r,selectedId:i})),(0,y.on)(lm,r=>({...r,selectedId:void 0})),(0,y.on)(wf,(r,{id:i})=>gi.removeOne(i,r))),mi=(0,y.ZF)(dc),{selectAll:Af,selectEntities:AD}=gi.getSelectors(),hc=(0,y.P1)(mi,r=>r.loaded),cm=((0,y.P1)(mi,r=>r.errorMsg),(0,y.P1)(mi,r=>Af(r))),um=(0,y.P1)(mi,r=>AD(r)),Sf=(0,y.P1)(mi,r=>r.selectedId),dm=(0,y.P1)(um,Sf,(r,i)=>{if(void 0!==i)return r[i]});let oa=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(hc)),this.allHandsCards$=this.store.pipe((0,y.Ys)(cm)),this.selectedHandsCards$=this.store.pipe((0,y.Ys)(dm))}initNewGame(){this.store.dispatch(cc())}initSavedGame(){this.store.dispatch(uc())}addCardsToHand(n,a){this.store.dispatch(Df({handId:n,cards:a}))}selectHandCard(n){this.store.dispatch(Cf({id:n}))}unselectHandCard(){this.store.dispatch(lm())}removeHandCard(n){this.store.dispatch(wf({id:n}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const aa=(0,y.PH)("[Start Page] Init LandsPileCards New Game"),pc=(0,y.PH)("[Start Page] Init LandsPileCards Saved Game"),fm=(0,y.PH)("[LandsPileCards/API] Load LandsPileCards Success",(0,y.Ky)()),Mf=(0,y.PH)("[LandsPileCards/API] Load LandsPileCards Failure",(0,y.Ky)()),Tf=(0,y.PH)("[LandsPileCards] Set LandsPileCards On Init",(0,y.Ky)()),If=(0,y.PH)("[LandsPileCards] Set LandsPileCards Error",(0,y.Ky)()),Pf=(0,y.PH)("[LandsPileCards] Select LandsPileCard",(0,y.Ky)()),hm=(0,y.PH)("[LandsPileCards] Remove LandsPileCard",(0,y.Ky)());let pm=(()=>{class r{constructor(n){this.actions$=n,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(aa),(0,oe.U)(()=>Tf({landsPileCards:na()(Array.from(ai.keys())).map(n=>({id:Be(),cardId:n}))})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(pc),ri({run:()=>fm({landsPileCards:[]}),onError:(a,d)=>(console.error("Error",d),Mf({error:d}))})))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const gc="landsPileCards",Ks=Ui(),gm=Ks.getInitialState({initialized:!1,loaded:!1}),mm=(0,y.Lq)(gm,(0,y.on)(aa,r=>({...r,initialized:!1})),(0,y.on)(pc,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(fm,(r,{landsPileCards:i})=>Ks.setAll(i,{...r,loaded:!0})),(0,y.on)(Mf,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Tf,(r,{landsPileCards:i})=>Ks.setAll(i,{...r,initialized:!0})),(0,y.on)(If,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Pf,(r,{id:i})=>({...r,selectedId:i})),(0,y.on)(hm,(r,{id:i})=>Ks.removeOne(i,r))),zs=(0,y.ZF)(gc),{selectAll:_m,selectEntities:ym}=Ks.getSelectors(),vm=(0,y.P1)(zs,r=>r.loaded),kw=((0,y.P1)(zs,r=>r.errorMsg),(0,y.P1)(zs,r=>_m(r))),TD=(0,y.P1)(zs,r=>ym(r)),ID=(0,y.P1)(zs,r=>r.selectedId),Dm=(0,y.P1)(TD,ID,(r,i)=>{if(void 0!==i)return r[i]});let mc=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(vm)),this.allLandsPileCards$=this.store.pipe((0,y.Ys)(kw)),this.selectedLandsPileCards$=this.store.pipe((0,y.Ys)(Dm))}initNewGame(){this.store.dispatch(aa())}initSavedGame(){this.store.dispatch(pc())}selectLandsPileCard(n){this.store.dispatch(Pf({id:n}))}removeLandsPileCard(n){this.store.dispatch(hm({id:n}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Ot=(0,y.PH)("[Start Page] Init StockPilesCards New Game"),_c=(0,y.PH)("[Start Page] Init StockPilesCards Saved Game"),Em=(0,y.PH)("[StockPilesCards/API] Load StockPilesCards Success",(0,y.Ky)()),Cm=(0,y.PH)("[StockPilesCards/API] Load StockPilesCards Failure",(0,y.Ky)()),Of=(0,y.PH)("[StockPilesCards] Set StockPilesCards On Init",(0,y.Ky)()),wm=(0,y.PH)("[StockPilesCards] Remove Cards From Stock Pile Top",(0,y.Ky)()),Ff=(0,y.PH)("[StockPilesCards] Add Cards To Stock Pile Bottom",(0,y.Ky)()),Nf=(0,y.PH)("[StockPilesCards] Remove StockPilesCards",(0,y.Ky)()),Yi=(0,y.PH)("[StockPilesCards] Add StockPilesCards",(0,y.Ky)()),PD=(0,y.PH)("[StockPilesCards] Set StockPilesCards Error",(0,y.Ky)()),Ys="ActionCard",Cr=(r,i,n)=>({interface:Ys,id:r,name:i,ruleIds:n});var In=(()=>{return(r=In||(In={})).Soothsayer="Soothsayer",r.Pathfinder="Pathfinder",r.Goldsmith="Goldsmith",r.TradeRoute="Trade route",r.Relocation="Relocation",In;var r})();const Rf=new Map([["ACTION_1",Cr("ACTION_1",In.Soothsayer,[])],["ACTION_2",Cr("ACTION_2",In.Soothsayer,[])],["ACTION_3",Cr("ACTION_3",In.Pathfinder,[])],["ACTION_4",Cr("ACTION_4",In.Pathfinder,[])],["ACTION_5",Cr("ACTION_5",In.Goldsmith,[])],["ACTION_6",Cr("ACTION_6",In.Goldsmith,[])],["ACTION_7",Cr("ACTION_7",In.TradeRoute,[])],["ACTION_8",Cr("ACTION_8",In.TradeRoute,[])],["ACTION_9",Cr("ACTION_9",In.Relocation,[])]]),la=["STOCK_1","STOCK_2","STOCK_3","STOCK_4"],yc=(r,i,n,a)=>({id:r,pileId:i,cardType:n,cardId:a}),wr=()=>{const r=[],i=na()([...Array.from(Rf.values()),...Array.from(Mn.values())]);for(let n=0;n<la.length;n++){const a=Math.ceil(i.length/la.length);for(let d=0;d<a;d++){const p=n*a+d;if(p>=i.length)break;r.push(yc(Be(),la[n],i[p].interface,i[p].id))}}return r},Am="stockPilesCards",Zs=Ui(),Ar=Zs.getInitialState({initialized:!1,loaded:!1}),lr=(0,y.Lq)(Ar,(0,y.on)(Ot,r=>({...r,initialized:!1})),(0,y.on)(_c,r=>({...r,loaded:!1,errorMsg:void 0})),(0,y.on)(Em,(r,{stockPilesCards:i})=>Zs.setAll(i,{...r,loaded:!0})),(0,y.on)(Cm,(r,{error:i})=>({...r,errorMsg:i})),(0,y.on)(Of,(r,{stockPilesCards:i})=>Zs.setAll(i,{...r,initialized:!0})),(0,y.on)(Nf,(r,{ids:i})=>Zs.removeMany(i,r)),(0,y.on)(Yi,(r,{stockPilesCards:i})=>Zs.addMany(i,r)),(0,y.on)(PD,(r,{error:i})=>({...r,errorMsg:i}))),mn=(0,y.ZF)(Am),{selectAll:bm,selectEntities:Sm}=Zs.getSelectors(),OD=(0,y.P1)(mn,r=>r.loaded),Mm=((0,y.P1)(mn,r=>r.errorMsg),(0,y.P1)(mn,r=>bm(r))),FD=(0,y.P1)(mn,r=>Sm(r)),xf=(0,y.P1)(mn,r=>r.selectedId),ca=(0,y.P1)(FD,xf,(r,i)=>{if(void 0!==i)return r[i]});let Tm=(()=>{class r{constructor(n,a){this.actions$=n,this.stockPilesCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Ye(Ot),(0,oe.U)(()=>Of({stockPilesCards:wr()})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Ye(_c),ri({run:()=>Em({stockPilesCards:[]}),onError:(d,p)=>(console.error("Error",p),Cm({error:p}))}))),this.removeCards$=qe(()=>this.actions$.pipe(Ye(wm),(0,As.zg)(d=>Ko(d.cards.map(({type:p,id:_})=>this.stockPilesCardsStore.pipe((0,y.Ys)(((r,i,n)=>(0,y.P1)(Mm,a=>a.find(d=>d.pileId===r&&d.cardType===i&&d.cardId===n)))(d.pileId,p,_)),(0,Jt.q)(1))))),(0,oe.U)(d=>d.filter(p=>void 0!==p).map(p=>p.id)),(0,oe.U)(d=>Nf({ids:d})))),this.addCards$=qe(()=>this.actions$.pipe(Ye(Ff),(0,oe.U)(({pileId:d,cards:p})=>p.map(_=>yc(Be(),d,_.type,_.id))),(0,oe.U)(d=>Yi({stockPilesCards:d}))))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(xr),l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),Lf=(()=>{class r{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(OD)),this.allStockPilesCards$=this.store.pipe((0,y.Ys)(Mm)),this.selectedStockPilesCards$=this.store.pipe((0,y.Ys)(ca))}initNewGame(){this.store.dispatch(Ot())}initSavedGame(){this.store.dispatch(_c())}removeCardsFromStockPileTop(n,a){this.store.dispatch(wm({pileId:n,cards:a}))}addCardsToStockPileBottom(n,a){this.store.dispatch(Ff({pileId:n,cards:a}))}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(y.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),Im=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[ar,ea,oa,ac,mc,Lf,ic,Td],imports:[Nn,y.Aw.forFeature("game",mf),Lr.forFeature([Ws]),y.Aw.forFeature(Zl,Ig),Lr.forFeature([Vg]),y.Aw.forFeature(dc,fc),Lr.forFeature([CD]),y.Aw.forFeature(pD,mD),Lr.forFeature([tf]),y.Aw.forFeature(gc,mm),Lr.forFeature([hf]),y.Aw.forFeature(Am,lr),Lr.forFeature([Tm]),y.Aw.forFeature(nf,rf),Lr.forFeature([pm]),y.Aw.forFeature(kl,yr),Lr.forFeature([$o])]}),r})(),Pm=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn]}),r})(),ua=(()=>{class r{constructor(n,a){this._renderer=n,this._elementRef=a,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(n,a){this._renderer.setProperty(this._elementRef.nativeElement,n,a)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.Qsj),l.Y36(l.SBq))},r.\u0275dir=l.lG2({type:r}),r})(),Zi=(()=>{class r extends ua{}return r.\u0275fac=function(){let i;return function(a){return(i||(i=l.n5z(r)))(a||r)}}(),r.\u0275dir=l.lG2({type:r,features:[l.qOj]}),r})();const cr=new l.OlP("NgValueAccessor"),Dc={provide:cr,useExisting:(0,l.Gpc)(()=>qs),multi:!0},Fm=new l.OlP("CompositionEventMode");let qs=(()=>{class r extends ua{constructor(n,a,d){super(n,a),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kf(){const r=W()?W().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Fm,8))},r.\u0275dir=l.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,a){1&n&&l.NdJ("input",function(p){return a._handleInput(p.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(p){return a._compositionEnd(p.target.value)})},features:[l._Bn([Dc]),l.qOj]}),r})();const en=new l.OlP("NgValidators"),$r=new l.OlP("NgAsyncValidators");function jm(r){return null!=r}function $m(r){return(0,l.QGY)(r)?(0,Vo.D)(r):r}function Gm(r){let i={};return r.forEach(n=>{i=null!=n?{...i,...n}:i}),0===Object.keys(i).length?null:i}function Wm(r,i){return i.map(n=>n(r))}function Km(r){return r.map(i=>function xD(r){return!r.validate}(i)?i:n=>i.validate(n))}function Cc(r){return null!=r?function zm(r){if(!r)return null;const i=r.filter(jm);return 0==i.length?null:function(n){return Gm(Wm(n,i))}}(Km(r)):null}function wc(r){return null!=r?function Bf(r){if(!r)return null;const i=r.filter(jm);return 0==i.length?null:function(n){return Ko(Wm(n,i).map($m)).pipe((0,oe.U)(Gm))}}(Km(r)):null}function Hf(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function Ac(r){return r?Array.isArray(r)?r:[r]:[]}function da(r,i){return Array.isArray(r)?r.includes(i):r===i}function $f(r,i){const n=Ac(i);return Ac(r).forEach(d=>{da(n,d)||n.push(d)}),n}function Gf(r,i){return Ac(i).filter(n=>!da(r,n))}class Wf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Cc(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=wc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,n){return!!this.control&&this.control.hasError(i,n)}getError(i,n){return this.control?this.control.getError(i,n):null}}class Ft extends Wf{get formDirective(){return null}get path(){return null}}class _i extends Wf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ha=(()=>{class r extends class Ym{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(_i,2))},r.\u0275dir=l.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,a){2&n&&l.ekj("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[l.qOj]}),r})();const Qs="VALID",ma="INVALID",Js="PENDING",_a="DISABLED";function Xs(r){return Array.isArray(r)?Cc(r):r||null}function Qm(r){return Array.isArray(r)?wc(r):r||null}function Mc(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function Da(r,i){(function Xf(r,i){const n=function Uf(r){return r._rawValidators}(r);null!==i.validator?r.setValidators(Hf(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const a=function jf(r){return r._rawAsyncValidators}(r);null!==i.asyncValidator?r.setAsyncValidators(Hf(a,i.asyncValidator)):"function"==typeof a&&r.setAsyncValidators([a]);const d=()=>r.updateValueAndValidity();Ca(i._rawValidators,d),Ca(i._rawAsyncValidators,d)})(r,i),i.valueAccessor.writeValue(r.value),r.disabled&&i.valueAccessor.setDisabledState?.(!0),function VD(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&HD(r,i)})}(r,i),function Zw(r,i){const n=(a,d)=>{i.valueAccessor.writeValue(a),d&&i.viewToModelUpdate(a)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function BD(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&HD(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function Jm(r,i){if(i.valueAccessor.setDisabledState){const n=a=>{i.valueAccessor.setDisabledState(a)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function Ca(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function HD(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function t_(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}function qi(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const i_={provide:_i,useExisting:(0,l.Gpc)(()=>Nc)},s_=(()=>Promise.resolve(null))();let Nc=(()=>{class r extends _i{constructor(n,a,d,p,_){super(),this._changeDetectorRef=_,this.control=new class extends class Jf{constructor(i,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=Xs(this._rawValidators),this._composedAsyncValidatorFn=Qm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Qs}get invalid(){return this.status===ma}get pending(){return this.status==Js}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Xs(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=Qm(i)}addValidators(i){this.setValidators($f(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators($f(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Gf(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Gf(i,this._rawAsyncValidators))}hasValidator(i){return da(this._rawValidators,i)}hasAsyncValidator(i){return da(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Js,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=_a,this.errors=null,this._forEachChild(a=>{a.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:n}),this._onDisabledChange.forEach(a=>a(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=Qs,this._forEachChild(a=>{a.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:n}),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qs||this.status===Js)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:Qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Js,this._hasOwnPendingAsyncValidator=!0;const n=$m(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){let n=i;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((a,d)=>a&&a._find(d),this)}getError(i,n){const a=n?this.get(n):this;return a&&a.errors?a.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?ma:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Js)?Js:this._anyControlsHaveStatus(ma)?ma:Qs}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Mc(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}}{constructor(i=null,n,a){super(function Zf(r){return(Mc(r)?r.validators:r)||null}(n),function qf(r,i){return(Mc(i)?i.asyncValidators:r)||null}(a,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=qi(i)?i.value:i)}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=this.defaultValue,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){t_(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){t_(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){qi(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},this._registered=!1,this.update=new l.vpe,this._parent=n,this._setValidators(a),this._setAsyncValidators(d),this.valueAccessor=function eh(r,i){if(!i)return null;let n,a,d;return Array.isArray(i),i.forEach(p=>{p.constructor===qs?n=p:function Aa(r){return Object.getPrototypeOf(r.constructor)===Zi}(p)?a=p:d=p}),d||a||n||null}(0,p)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const a=n.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Fc(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Da(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){s_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const a=n.isDisabled.currentValue,d=0!==a&&(0,l.D6c)(a);s_.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Pc(r,i){return[...i.path,r]}(n,this._parent):[n]}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(Ft,9),l.Y36(en,10),l.Y36($r,10),l.Y36(cr,10),l.Y36(l.sBO,8))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([i_]),l.qOj,l.TTD]}),r})();const a_={provide:cr,useExisting:(0,l.Gpc)(()=>Rc),multi:!0};let l_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})(),qD=(()=>{class r{constructor(){this._accessors=[]}add(n,a){this._accessors.push([n,a])}remove(n){for(let a=this._accessors.length-1;a>=0;--a)if(this._accessors[a][1]===n)return void this._accessors.splice(a,1)}select(n){this._accessors.forEach(a=>{this._isSameGroup(a,n)&&a[1]!==n&&a[1].fireUncheck(n.value)})}_isSameGroup(n,a){return!!n[0].control&&n[0]._parent===a._control._parent&&n[1].name===a.name}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:l_}),r})(),Rc=(()=>{class r extends Zi{constructor(n,a,d,p){super(n,a),this._registry=d,this._injector=p,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(_i),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(qD),l.Y36(l.zs3))},r.\u0275dir=l.lG2({type:r,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,a){1&n&&l.NdJ("change",function(){return a.onChange()})("blur",function(){return a.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([a_]),l.qOj]}),r})(),E_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[l_]}),r})(),C_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[E_]}),r})(),A_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,C_]}),r})(),b_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn]}),r})(),S_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn]}),r})(),M_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,b_,S_,b_,S_]}),r})(),fE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,M_]}),r})(),hE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn]}),r})(),T_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,C_]}),r})(),pE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,M_]}),r})(),I_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,Pm,A_,fE,hE,T_,pE]}),r})(),gE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Nn,I_,I_]}),r})();var mE=E(2866),_E=E(826),yE=E(448),Ta=E(3009);const _h={};function ur(...r){let i,n;return(0,mE.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Rd.k)(r[0])&&(r=r[0]),(0,Ta.n)(r,n).lift(new P_(i))}class P_{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new O_(i,this.resultSelector))}}class O_ extends _E.L{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(_h),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let a=0;a<n;a++)this.add((0,yE.D)(this,i[a],void 0,a))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,a){const d=this.values,_=this.toRespond?d[a]===_h?--this.toRespond:this.toRespond:0;d[a]=n,0===_&&(this.resultSelector?this._tryResultSelector(d):this.destination.next(d.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(a){return void this.destination.error(a)}this.destination.next(n)}}var to=E(7625);let no=(()=>{class r{constructor(n,a,d,p,_,D,S,x){this.game=n,this.domainsCards=a,this.handsCards=d,this.agglomerationPilesCards=p,this.landsPileCards=_,this.stockPilesCards=D,this.eventsPileCards=S,this.discardPileCards=x,this.gameEnded$=new sd.xQ,this.event$=this.game.eventDie$.pipe((0,It.h)(G=>G===Er.Event)),this.thieves$=this.game.eventDie$.pipe((0,It.h)(G=>G===Er.Thieves)),this.countAndSteal$=this.thieves$.pipe((0,to.R)(this.gameEnded$),(0,oe.U)(()=>{this.domainsCards.countAndStealUnprotectedGoldAndWool()})),this.selectFirstEvent$=this.event$.pipe((0,to.R)(this.gameEnded$),(0,oe.U)(()=>{this.eventsPileCards.selectFirst()})),this.auspiciousYear$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,It.h)(G=>void 0!==G),(0,It.h)(G=>ta.get(G.cardId)?.name===Tn.AuspiciousYear)),this.festival$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,It.h)(G=>void 0!==G),(0,It.h)(G=>ta.get(G.cardId)?.name===Tn.Festival)),this.increaseResourcesForDie$=this.game.productionDie$.pipe((0,to.R)(this.gameEnded$),(0,It.h)(G=>void 0!==G),(0,oe.U)(G=>this.domainsCards.increaseResourcesForDie(G))),this.increaseResourcesForAuspiciousYear$=this.auspiciousYear$.pipe((0,to.R)(this.gameEnded$),(0,oe.U)(()=>this.domainsCards.increaseResourcesForAuspiciousYear())),this.resetEventsPileOnFestival$=this.festival$.pipe((0,to.R)(this.gameEnded$),(0,oe.U)(()=>this.eventsPileCards.resetEventsPile()))}initNewGame(){this.gameEnded$.next(),this.countAndSteal$.subscribe(),this.selectFirstEvent$.subscribe(),this.increaseResourcesForDie$.subscribe(),this.increaseResourcesForAuspiciousYear$.subscribe(),this.resetEventsPileOnFestival$.subscribe(),this.game.initNewGame(),this.domainsCards.initNewGame(),this.handsCards.initNewGame(),this.agglomerationPilesCards.initNewGame(),this.landsPileCards.initNewGame(),this.stockPilesCards.initNewGame(),this.eventsPileCards.initNewGame(),this.discardPileCards.initNewGame()}getVictoryPointsForDomain(n){return ur([this.domainsCards.getCardsVictoryPointsForDomain(n),this.domainsCards.getMasteryDomainForType(ci.Trade),this.domainsCards.getMasteryDomainForType(ci.Strength)]).pipe((0,oe.U)(([a,d,p])=>a+(d===n?1:0)+(p===n?1:0)))}drawFirstCardsFromStockToHand(n,a,d){this.stockPilesCards.allStockPilesCards$.pipe((0,Jt.q)(1),(0,oe.U)(p=>p.filter(_=>_.pileId===n).slice(0,a).map(_=>({type:_.cardType,id:_.cardId})))).subscribe(p=>{this.stockPilesCards.removeCardsFromStockPileTop(n,p),this.handsCards.addCardsToHand(d,p)})}drawCardFromStockToHand(n,a,d){this.stockPilesCards.allStockPilesCards$.pipe((0,Jt.q)(1),(0,oe.U)(p=>{const _=p.find(D=>D.pileId===n&&D.cardId===a);if(void 0===_)throw new Error("Something went wrong, card shouldn't be undefined at this point.");return{type:_.cardType,id:_.cardId}})).subscribe(p=>{this.stockPilesCards.removeCardsFromStockPileTop(n,[p]),this.handsCards.addCardsToHand(d,[p])})}throwDice(){this.game.throwEventDie(),this.game.phase$.pipe((0,Jt.q)(1)).subscribe(n=>{n!==Pt.InitialThrow&&this.game.throwProductionDie()})}useResourcesToPutAgglomerationPileCardInSlot(){this.domainsCards.useLockedResources(),ur([this.agglomerationPilesCards.selectedAgglomerationPilesCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,Jt.q)(1),(0,oe.U)(([n,a])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==a.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");if(this.agglomerationPilesCards.removeAgglomerationPileCard(n.id),this.domainsCards.putCardInSlot(d.id,bn,n.cardId),n.pileId===ks)this.domainsCards.createAvailableDomainCard(d.domainId,zn,d.col,si.Lower),this.domainsCards.createAvailableDomainCard(d.domainId,zn,d.col,si.Upper);else{const p=d.col<0?d.col-1:d.col+1;this.domainsCards.createAvailableDomainCard(d.domainId,Fs,p,si.Middle),n.pileId===hi&&(this.domainsCards.createAvailableDomainCard(d.domainId,Bl,p,si.Low),this.domainsCards.createAvailableDomainCard(d.domainId,Bl,p,si.Up))}this.domainsCards.clearDomainCardSelection()})).subscribe()}useResourcesToPutHandCardInSlot(){this.domainsCards.useLockedResources(),ur([this.handsCards.selectedHandsCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,Jt.q)(1),(0,oe.U)(([n,a])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==a.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.handsCards.removeHandCard(n.id),this.domainsCards.putCardInSlot(d.id,Dr,n.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putLandsPileCardInSlot(){ur([this.landsPileCards.selectedLandsPileCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,Jt.q)(1),(0,oe.U)(([n,a])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==a.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.landsPileCards.removeLandsPileCard(n.id),this.domainsCards.putCardInSlot(d.id,it,n.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putBackFromHandToStockPile(n){this.handsCards.selectedHandsCards$.pipe((0,Jt.q)(1),(0,oe.U)(a=>{if(void 0===a)throw new Error("Can't put card in pile if no card selected.");this.handsCards.removeHandCard(a.id),this.handsCards.unselectHandCard(),this.stockPilesCards.addCardsToStockPileBottom(n,[{type:a.cardType,id:a.cardId}])})).subscribe()}putBackFromDomainToStockPile(n){this.domainsCards.selectedDomainsCards$.pipe((0,Jt.q)(1),(0,oe.U)(a=>{if(1!==a.length)throw new Error("Can't put card in pile if no card or more than one card selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");const p=d.cardType;if(p!==Dr)throw new Error("Can't put back card of type other than development.");const _=d.cardId;if(void 0===_)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");this.domainsCards.removeDomainCard(d.id),this.domainsCards.createAvailableDomainCard(d.domainId,zn,d.col,d.row),this.domainsCards.clearDomainCardSelection(),this.stockPilesCards.addCardsToStockPileBottom(n,[{type:p,id:_}])})).subscribe()}useActionCard(){this.handsCards.selectedHandsCards$.pipe((0,Jt.q)(1),(0,oe.U)(n=>{if(void 0===n)throw new Error("Can't put card in pile if no card selected.");if(n.cardType!==Ys||void 0===n.cardId)throw new Error("Can't use card other than action.");const a=Rf.get(n.cardId);if(void 0===a)throw new Error("Something went wrong, action shouldn't be undefined at this point.");this.handsCards.removeHandCard(n.id),this.handsCards.unselectHandCard(),this.game.setAction(a.name),this.discardPileCards.addCardToDiscardPile({type:n.cardType,id:n.cardId})})).subscribe()}}return r.\u0275fac=function(n){return new(n||r)(l.LFG(ar),l.LFG(ea),l.LFG(oa),l.LFG(ac),l.LFG(mc),l.LFG(Lf),l.LFG(ic),l.LFG(Td))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const F_=(r,i)=>({id:r,color:i}),Ia="HAND_RED",Gr="HAND_BLUE",vE=new Map([[Ia,F_(Ia,We.Red)],[Gr,F_(Gr,We.Blue)]]);function DE(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.pileId," ")}}function EE(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l.qZA()),2&r){const n=i.$implicit;l.xp6(1),l.hij(" ",n.domainId,""),l.xp6(2),l.hij(" ",n.col,""),l.xp6(2),l.hij(" ",n.row," ")}}function CE(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l.qZA()),2&r){const n=i.$implicit;l.xp6(1),l.hij(" ",n.domainId,""),l.xp6(2),l.hij(" ",n.col,""),l.xp6(2),l.hij(" ",n.row," ")}}function Pa(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.cardId," ")}}function wE(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l.qZA()),2&r){const n=i.$implicit;l.xp6(1),l.hij(" ",n.domainId,""),l.xp6(2),l.hij(" ",n.col,""),l.xp6(2),l.hij(" ",n.row," ")}}function yh(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l.qZA()),2&r){const n=i.$implicit;l.xp6(1),l.hij(" ",n.domainId,""),l.xp6(2),l.hij(" ",n.col,""),l.xp6(2),l.hij(" ",n.row," ")}}function br(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.cardId," ")}}function AE(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.cardId," ")}}function vh(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l.qZA()),2&r){const n=i.$implicit;l.xp6(1),l.hij(" ",n.domainId,""),l.xp6(2),l.hij(" ",n.col,""),l.xp6(2),l.hij(" ",n.row," ")}}function Oa(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l._UZ(2,"br"),l._uU(3),l._UZ(4,"br"),l._uU(5),l.qZA()),2&r){const n=i.$implicit;l.xp6(1),l.hij(" ",n.domainId,""),l.xp6(2),l.hij(" ",n.col,""),l.xp6(2),l.hij(" ",n.row," ")}}let bE=(()=>{class r{constructor(n,a,d,p,_,D){this.game=n,this.domainsCards=a,this.handsCards=d,this.agglomerationPilesCards=p,this.landsPileCards=_,this.gameRules=D}buyDisabled(){return this.game.phase$.pipe((0,oe.U)(n=>n!==Pt.LoopActions))}buyAgglomeration(){this.gameRules.useResourcesToPutAgglomerationPileCardInSlot()}getSelectedAgglomerationPileCard(){return this.agglomerationPilesCards.selectedAgglomerationPilesCards$}getSelectedAvailableAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(n=>n.filter(a=>a?.cardType===Fs)))}getDomainSelectedAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(n=>n.filter(a=>a?.cardType===bn)))}buyDevelopment(){this.gameRules.useResourcesToPutHandCardInSlot()}getHandSelectedDevelopmentCard(){return this.handsCards.selectedHandsCards$.pipe((0,It.h)(n=>n?.cardType===Dr))}getSelectedAvailableDevelopmentSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(n=>n.filter(a=>a?.cardType===zn)))}getDomainSelectedDevelopmentCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(n=>n.filter(a=>a?.cardType===Dr)))}useActionCardDisabled(){return this.game.phase$.pipe((0,oe.U)(n=>n!==Pt.LoopActions))}useActionCard(){this.gameRules.useActionCard()}getSelectedActionCard(){return this.handsCards.selectedHandsCards$.pipe((0,It.h)(n=>n?.cardType===Ys))}putLand(){this.gameRules.putLandsPileCardInSlot()}giveLockedResources(){this.domainsCards.giveLockedResources()}getPileSelectedLandCard(){return this.landsPileCards.selectedLandsPileCards$}getSelectedHandCard(){return this.handsCards.selectedHandsCards$}getSelectedAvailableLandSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(n=>n.filter(a=>a?.cardType===Bl)))}getDomainSelectedLandCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(n=>n.filter(a=>a?.cardType===it)))}clearDomainCardSelection(){this.domainsCards.clearDomainCardSelection()}swapSelectedDomainsCards(){this.domainsCards.swapSelectedCards()}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(ar),l.Y36(ea),l.Y36(oa),l.Y36(ac),l.Y36(mc),l.Y36(no))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-actions"]],decls:77,vars:39,consts:[[1,"flex-container"],["type","button",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",3,"click"]],template:function(n,a){1&n&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return a.buyAgglomeration()}),l.ALo(2,"async"),l._uU(3," buy agglomeration "),l.qZA(),l.TgZ(4,"div")(5,"p"),l._uU(6,"Pile Selected Agglomeration Card:"),l.qZA(),l.YNc(7,DE,2,1,"p",2),l.ALo(8,"async"),l.qZA(),l.TgZ(9,"div")(10,"p"),l._uU(11,"Selected Available Agglomeration Slots:"),l.qZA(),l.YNc(12,EE,6,3,"p",3),l.ALo(13,"async"),l.qZA(),l.TgZ(14,"div")(15,"p"),l._uU(16,"Domain Selected Agglomeration Slots:"),l.qZA(),l.YNc(17,CE,6,3,"p",3),l.ALo(18,"async"),l.qZA()(),l._UZ(19,"hr"),l.TgZ(20,"div",0)(21,"button",1),l.NdJ("click",function(){return a.buyDevelopment()}),l.ALo(22,"async"),l._uU(23," buy development "),l.qZA(),l.TgZ(24,"div")(25,"p"),l._uU(26,"Hand Selected Development Card:"),l.qZA(),l.YNc(27,Pa,2,1,"p",2),l.ALo(28,"async"),l.qZA(),l.TgZ(29,"div")(30,"p"),l._uU(31,"Selected Available Development Slots:"),l.qZA(),l.YNc(32,wE,6,3,"p",3),l.ALo(33,"async"),l.qZA(),l.TgZ(34,"div")(35,"p"),l._uU(36,"Domain Selected Development Cards:"),l.qZA(),l.YNc(37,yh,6,3,"p",3),l.ALo(38,"async"),l.qZA()(),l._UZ(39,"hr"),l.TgZ(40,"div",0)(41,"button",1),l.NdJ("click",function(){return a.useActionCard()}),l.ALo(42,"async"),l._uU(43," Use action card "),l.qZA(),l.TgZ(44,"div")(45,"p"),l._uU(46,"Selected Action Card:"),l.qZA(),l.YNc(47,br,2,1,"p",2),l.ALo(48,"async"),l.qZA()(),l._UZ(49,"hr"),l.TgZ(50,"div",0)(51,"button",4),l.NdJ("click",function(){return a.putLand()}),l._uU(52,"put land"),l.qZA(),l.TgZ(53,"button",4),l.NdJ("click",function(){return a.giveLockedResources()}),l._uU(54," Give locked resources "),l.qZA(),l.TgZ(55,"div")(56,"p"),l._uU(57,"Pile Selected Land Card:"),l.qZA(),l.YNc(58,AE,2,1,"p",2),l.ALo(59,"async"),l.qZA(),l.TgZ(60,"div")(61,"p"),l._uU(62,"Selected Available Land Slots:"),l.qZA(),l.YNc(63,vh,6,3,"p",3),l.ALo(64,"async"),l.qZA(),l.TgZ(65,"div")(66,"p"),l._uU(67,"Domain Selected Available Land Slots:"),l.qZA(),l.YNc(68,Oa,6,3,"p",3),l.ALo(69,"async"),l.qZA()(),l._UZ(70,"hr"),l.TgZ(71,"div")(72,"button",4),l.NdJ("click",function(){return a.swapSelectedDomainsCards()}),l._uU(73," swap selected domains cards"),l.qZA(),l._UZ(74,"br"),l.TgZ(75,"button",4),l.NdJ("click",function(){return a.clearDomainCardSelection()}),l._uU(76," clear domain selection "),l.qZA()()),2&n&&(l.xp6(1),l.Q6J("disabled",l.lcZ(2,13,a.buyDisabled())),l.xp6(6),l.Q6J("ngIf",l.lcZ(8,15,a.getSelectedAgglomerationPileCard())),l.xp6(5),l.Q6J("ngForOf",l.lcZ(13,17,a.getSelectedAvailableAgglomerationSlots())),l.xp6(5),l.Q6J("ngForOf",l.lcZ(18,19,a.getDomainSelectedAgglomerationSlots())),l.xp6(4),l.Q6J("disabled",l.lcZ(22,21,a.buyDisabled())),l.xp6(6),l.Q6J("ngIf",l.lcZ(28,23,a.getHandSelectedDevelopmentCard())),l.xp6(5),l.Q6J("ngForOf",l.lcZ(33,25,a.getSelectedAvailableDevelopmentSlots())),l.xp6(5),l.Q6J("ngForOf",l.lcZ(38,27,a.getDomainSelectedDevelopmentCards())),l.xp6(4),l.Q6J("disabled",l.lcZ(42,29,a.useActionCardDisabled())),l.xp6(6),l.Q6J("ngIf",l.lcZ(48,31,a.getSelectedActionCard())),l.xp6(11),l.Q6J("ngIf",l.lcZ(59,33,a.getPileSelectedLandCard())),l.xp6(5),l.Q6J("ngForOf",l.lcZ(64,35,a.getSelectedAvailableLandSlots())),l.xp6(5),l.Q6J("ngForOf",l.lcZ(69,37,a.getDomainSelectedLandCards())))},dependencies:[Qt,Dt,ls],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;column-gap:2rem}"]}),r})();function SE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"label")(2,"input",4),l.NdJ("ngModelChange",function(d){l.CHM(n);const p=l.oxw();return l.KtG(p.setNextProductionDie(d))}),l.ALo(3,"async"),l.qZA(),l._uU(4),l.qZA()()}if(2&r){const n=i.$implicit,a=l.oxw();l.xp6(2),l.Q6J("value",n)("ngModel",l.lcZ(3,3,a.getNextProductionDie())),l.xp6(2),l.Oqu(n)}}function ME(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij("Production: ",n,"")}}function Bc(r,i){if(1&r&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij("Event: ",n,"")}}let Hc=(()=>{class r{constructor(n,a){this.game=n,this.gameRules=a,this.RESOURCE_VALUES=_D}throwDisabled(){return this.game.phase$.pipe((0,oe.U)(n=>n!==Pt.InitialThrow&&n!==Pt.LoopThrow))}onThrow(){this.gameRules.throwDice()}getProductionDie(){return this.game.productionDie$}getEventDie(){return this.game.eventDie$}getNextProductionDie(){return this.game.nextProductionDie$}setNextProductionDie(n){this.game.setNextProductionDie(n)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(ar),l.Y36(no))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-dice"]],decls:12,vars:10,consts:[[1,"flex-container"],[4,"ngFor","ngForOf"],["type","button",3,"disabled","click"],[4,"ngIf"],["type","radio","name","nextProductionDie",3,"value","ngModel","ngModelChange"]],template:function(n,a){1&n&&(l.TgZ(0,"div",0)(1,"div")(2,"p"),l._uU(3,"Next Production Die:"),l.qZA(),l.YNc(4,SE,5,5,"div",1),l.qZA(),l.TgZ(5,"button",2),l.NdJ("click",function(){return a.onThrow()}),l.ALo(6,"async"),l._uU(7," throw "),l.qZA(),l.YNc(8,ME,2,1,"p",3),l.ALo(9,"async"),l.YNc(10,Bc,2,1,"p",3),l.ALo(11,"async"),l.qZA()),2&n&&(l.xp6(4),l.Q6J("ngForOf",a.RESOURCE_VALUES),l.xp6(1),l.Q6J("disabled",l.lcZ(6,4,a.throwDisabled())),l.xp6(3),l.Q6J("ngIf",l.lcZ(9,6,a.getProductionDie())),l.xp6(2),l.Q6J("ngIf",l.lcZ(11,8,a.getEventDie())))},dependencies:[Qt,Dt,qs,Rc,ha,Nc,ls],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;column-gap:2rem}"]}),r})();function N_(r){return`assets/icons/${r}.png`}function TE(r){switch(r){case An.Road:return"path";case An.Hamlet:case An.Town:return"village";case Ve.ClayPit:return"cliff";case Ve.Forest:return"spruce";case Ve.GoldMine:return"waterfalls";case Ve.Field:return"field";case Ve.StoneQuarry:return"cave";case Ve.Pasture:return"pasture";default:throw new Error(`Can't get icon name for type ${r}.`)}}function R_(r){return`dice_${r}`}function x_(r,i){if(1&r&&l._UZ(0,"img",4),2&r){const n=l.oxw();l.Q6J("src",n.getImgSrc(n.dieIconName),l.LSH)("alt",n.dieIconName)}}let Dh=(()=>{class r{constructor(){this.getImgSrc=N_}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-card-front"]],inputs:{typeIconName:"typeIconName",dieIconName:"dieIconName"},decls:4,vars:3,consts:[[1,"card-back"],[1,"type-icon",3,"src","alt"],[1,"die"],["class","die-icon",3,"src","alt",4,"ngIf"],[1,"die-icon",3,"src","alt"]],template:function(n,a){1&n&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.qZA(),l.TgZ(2,"span",2),l.YNc(3,x_,1,2,"img",3),l.qZA()),2&n&&(l.xp6(1),l.Q6J("src",a.getImgSrc(a.typeIconName),l.LSH)("alt",a.typeIconName),l.xp6(2),l.Q6J("ngIf",a.dieIconName))},dependencies:[Dt],styles:[".card-back[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.type-icon[_ngcontent-%COMP%]{width:90%;height:90%}.die[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;top:-100%;z-index:2;display:flex;justify-content:center;align-items:center}.die-icon[_ngcontent-%COMP%]{width:30%;height:30%;border-radius:20%;outline:2px solid black;outline-offset:-2px}"]}),r})();function L_(r,i){1&r&&(l.TgZ(0,"span"),l._uU(1," - Trade Mastery"),l.qZA())}function IE(r,i){1&r&&(l.TgZ(0,"span"),l._uU(1," - Strength Mastery"),l.qZA())}function PE(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function lA(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,PE,2,1,"div",0),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",void 0!==n.cardId&&a.getDevelopmentCard(n.cardId))}}function Eh(r,i){if(1&r&&(l.ynx(0),l._UZ(1,"taormina-card-front",5),l.BQk()),2&r){const n=i.ngIf,a=l.oxw(4);l.xp6(1),l.Q6J("typeIconName",a.mapTypeToIconNameFront(n.type))}}function Ch(r,i){if(1&r&&(l.ynx(0),l.YNc(1,Eh,2,1,"ng-container",0),l.BQk()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",void 0!==n.cardId&&a.getAgglomerationCard(n.cardId))}}function k_(r,i){if(1&r&&(l.ynx(0),l._UZ(1,"taormina-card-front",6),l.BQk()),2&r){const n=i.ngIf,a=l.oxw(4);l.xp6(1),l.Q6J("typeIconName",a.mapTypeToIconNameFront(n.type))("dieIconName",a.mapDieToIconNameFront(n.die))}}function wh(r,i){if(1&r&&(l.ynx(0),l.YNc(1,k_,2,2,"ng-container",0),l.BQk()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",void 0!==n.cardId&&a.getLandCard(n.cardId))}}function Ah(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"button",7),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw(2);return l.KtG(p.toggleDomainCardSelection(d.id))}),l._uU(2),l.ALo(3,"async"),l.qZA()()}if(2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function OE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"button",7),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw(2);return l.KtG(p.toggleDomainCardSelection(d.id))}),l._uU(2),l.ALo(3,"async"),l.qZA()()}if(2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function FE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"button",7),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw(2);return l.KtG(p.toggleDomainCardSelection(d.id))}),l._uU(2),l.ALo(3,"async"),l.qZA()()}if(2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}const NE=function(r,i){return{"grid-column-start":r,"grid-row-start":i}};function RE(r,i){if(1&r&&(l.TgZ(0,"div",3),l.YNc(1,lA,2,1,"div",4),l.YNc(2,Ch,2,1,"ng-container",4),l.YNc(3,wh,2,1,"ng-container",4),l.YNc(4,Ah,4,3,"div",4),l.YNc(5,OE,4,3,"div",4),l.YNc(6,FE,4,3,"div",4),l.qZA()),2&r){const n=i.$implicit,a=l.oxw(2);l.Q6J("ngSwitch",n.cardType)("ngStyle",l.WLB(8,NE,"col"+n.col,"row"+n.row)),l.xp6(1),l.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngSwitchCase",a.AGGLOMERATION_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngSwitchCase",a.LAND_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngSwitchCase",a.AVAILABLE_AGGLOMERATION_SLOT),l.xp6(1),l.Q6J("ngSwitchCase",a.AVAILABLE_DEVELOPMENT_SLOT),l.xp6(1),l.Q6J("ngSwitchCase",a.AVAILABLE_LAND_SLOT)}}const V_=function(r,i){return{"grid-template-columns":r,"grid-template-rows":i}};function bh(r,i){if(1&r&&(l.TgZ(0,"div")(1,"div")(2,"span"),l._uU(3),l.qZA(),l.TgZ(4,"span"),l._uU(5),l.ALo(6,"async"),l.qZA(),l.TgZ(7,"span"),l._uU(8),l.ALo(9,"async"),l.qZA(),l.YNc(10,L_,2,0,"span",0),l.ALo(11,"async"),l.YNc(12,IE,2,0,"span",0),l.ALo(13,"async"),l.TgZ(14,"span"),l._uU(15),l.ALo(16,"async"),l.qZA()(),l.TgZ(17,"div",1),l.ALo(18,"async"),l.ALo(19,"async"),l.YNc(20,RE,7,11,"div",2),l.ALo(21,"async"),l.qZA()()),2&r){const n=i.ngIf,a=l.oxw();l.xp6(3),l.Oqu(n.color),l.xp6(2),l.hij(" - Ships count: ",l.lcZ(6,8,a.getShipsCount(n.id)),""),l.xp6(3),l.hij(" - Celebration points: ",l.lcZ(9,10,a.getCelebrationPoints(n.id)),""),l.xp6(2),l.Q6J("ngIf",l.lcZ(11,12,a.getTradeMastery(n.id))),l.xp6(2),l.Q6J("ngIf",l.lcZ(13,14,a.getStrengthMastery(n.id))),l.xp6(3),l.hij(" - Victory points: ",l.lcZ(16,16,a.getVictoryPoints(n.id)),""),l.xp6(2),l.Q6J("ngStyle",l.WLB(24,V_,l.lcZ(18,18,a.getColumnsTemplate(n.id)),l.lcZ(19,20,a.getRowsTemplate(n.id)))),l.xp6(3),l.Q6J("ngForOf",l.lcZ(21,22,a.getDomainsCards(n.id)))}}let xE=(()=>{class r{constructor(n,a){this.domainsCards=n,this.gameRules=a,this.DEVELOPMENT_CARD_INTERFACE_NAME=Dr,this.AGGLOMERATION_CARD_INTERFACE_NAME=bn,this.LAND_CARD_INTERFACE_NAME=it,this.AVAILABLE_AGGLOMERATION_SLOT=Fs,this.AVAILABLE_DEVELOPMENT_SLOT=zn,this.AVAILABLE_LAND_SLOT=Bl,this.mapTypeToIconNameFront=TE,this.mapDieToIconNameFront=R_}getDomain(){return jd.get(this.domainId)}getShipsCount(n){return this.domainsCards.getMerchantShipCountForDomain(n)}getCelebrationPoints(n){return this.domainsCards.getCelebrationPointsForDomain(n)}getStrengthMastery(n){return this.domainsCards.getMasteryDomainForType(ci.Strength).pipe((0,oe.U)(a=>n===a))}getTradeMastery(n){return this.domainsCards.getMasteryDomainForType(ci.Trade).pipe((0,oe.U)(a=>n===a))}getVictoryPoints(n){return this.gameRules.getVictoryPointsForDomain(n)}getColumnsTemplate(n){return ur([this.domainsCards.getDomainMinCol(n),this.domainsCards.getDomainMaxCol(n)]).pipe((0,oe.U)(([a,d])=>{let p="";for(let _=a;_<d+1;_++)p+=`[col${_}] 25rem `;return p}))}getRowsTemplate(n){return ur([this.domainsCards.getDomainMinRow(n),this.domainsCards.getDomainMaxRow(n)]).pipe((0,oe.U)(([a,d])=>{let p="";for(let _=a;_<d+1;_++)p+=`[row${_}] 25rem `;return p}))}getDomainsCards(n){return this.domainsCards.allDomainsCards$.pipe((0,oe.U)(a=>a.filter(d=>d.domainId===n)))}getDevelopmentCard(n){return Mn.get(n)}getAgglomerationCard(n){return Gi.get(n)}getLandCard(n){return ai.get(n)}isDomainCardSelected(n){return this.domainsCards.selectedDomainsCards$.pipe((0,oe.U)(a=>a.map(d=>d.id).includes(n)))}toggleDomainCardSelection(n){this.domainsCards.toggleDomainCardSelection(n)}lockResource(n){this.domainsCards.lockResource(n)}unlockResources(n){this.domainsCards.unlockResources(n)}increaseResources(n){this.domainsCards.increaseResources(n)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(ea),l.Y36(no))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-domain"]],inputs:{domainId:"domainId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"grid-container",3,"ngStyle"],["class","grid-cell",3,"ngSwitch","ngStyle",4,"ngFor","ngForOf"],[1,"grid-cell",3,"ngSwitch","ngStyle"],[4,"ngSwitchCase"],[3,"typeIconName"],[3,"typeIconName","dieIconName"],["type","button",3,"click"]],template:function(n,a){1&n&&l.YNc(0,bh,22,27,"div",0),2&n&&l.Q6J("ngIf",a.getDomain())},dependencies:[Qt,Dt,Et,R,U,Dh,ls],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-gap:2rem}.grid-cell[_ngcontent-%COMP%]{border:1px solid black}"]}),r})();function LE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div"),l._uU(1),l.TgZ(2,"button",4),l.NdJ("click",function(){l.CHM(n);const d=l.oxw(2).$implicit,p=l.oxw(2);return l.KtG(p.selectHandCard(d.id))}),l._uU(3,"Select"),l.qZA()()}if(2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function kE(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,LE,4,1,"div",0),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",a.getActionCard(n.cardId))}}function VE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div"),l._uU(1),l.TgZ(2,"button",4),l.NdJ("click",function(){l.CHM(n);const d=l.oxw(2).$implicit,p=l.oxw(2);return l.KtG(p.selectHandCard(d.id))}),l._uU(3,"Select"),l.qZA()()}if(2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function BE(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,VE,4,1,"div",0),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function B_(r,i){if(1&r&&(l.TgZ(0,"div",2),l.YNc(1,kE,2,1,"div",3),l.YNc(2,BE,2,1,"div",3),l.qZA()),2&r){const n=i.$implicit,a=l.oxw(2);l.Q6J("ngSwitch",n.cardType),l.xp6(1),l.Q6J("ngSwitchCase",a.ACTION_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME)}}function H_(r,i){if(1&r&&(l.TgZ(0,"div")(1,"div"),l._uU(2),l.qZA(),l.YNc(3,B_,3,3,"div",1),l.ALo(4,"async"),l.qZA()),2&r){const n=i.ngIf,a=l.oxw();l.xp6(2),l.Oqu(n.color),l.xp6(1),l.Q6J("ngForOf",l.lcZ(4,2,a.getHandsCards(n.id)))}}let HE=(()=>{class r{constructor(n){this.handsCards=n,this.ACTION_CARD_INTERFACE_NAME=Ys,this.DEVELOPMENT_CARD_INTERFACE_NAME=Dr}getHand(){return vE.get(this.handId)}getHandsCards(n){return this.handsCards.allHandsCards$.pipe((0,oe.U)(a=>a.filter(d=>d.handId===n)))}getActionCard(n){return Rf.get(n)}getDevelopmentCard(n){return Mn.get(n)}selectHandCard(n){this.handsCards.selectHandCard(n)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(oa))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-hand"]],inputs:{handId:"handId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button",3,"click"]],template:function(n,a){1&n&&l.YNc(0,H_,5,4,"div",0),2&n&&l.Q6J("ngIf",a.getHand())},dependencies:[Qt,Dt,R,U,ls]}),r})();function U_(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"label")(2,"input",4),l.NdJ("ngModelChange",function(d){l.CHM(n);const p=l.oxw();return l.KtG(p.setPlayer(d))}),l.ALo(3,"async"),l.qZA(),l._uU(4),l.qZA()()}if(2&r){const n=i.$implicit,a=l.oxw();l.xp6(2),l.Q6J("value",n.value)("ngModel",l.lcZ(3,3,a.getPlayer())),l.xp6(2),l.Oqu(n.key)}}function UE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"label")(2,"input",5),l.NdJ("ngModelChange",function(d){l.CHM(n);const p=l.oxw();return l.KtG(p.setPhase(d))}),l.ALo(3,"async"),l.qZA(),l._uU(4),l.qZA()()}if(2&r){const n=i.$implicit,a=l.oxw();l.xp6(2),l.Q6J("value",n.value)("ngModel",l.lcZ(3,3,a.getPhase())),l.xp6(2),l.Oqu(n.key)}}function _n(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function ro(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,_n,2,1,"div",2),l.qZA()),2&r){const n=i.ngIf,a=l.oxw();l.xp6(1),l.Q6J("ngIf",a.getEventCard(n.cardId))}}function jE(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n," ")}}let $E=(()=>{class r{constructor(n,a){this.game=n,this.eventsPileCards=a,this.GamePhase=Pt,this.DomainColor=We}getPhase(){return this.game.phase$}setPhase(n){this.game.setPhase(n)}getPlayer(){return this.game.player$}setPlayer(n){this.game.setPlayer(n)}getEventCard(n){return ta.get(n)}getSelectedEventsPileCard(){return this.eventsPileCards.selectedEventsPileCards$}removeSelectedEventsPileCard(){this.eventsPileCards.removeSelected()}getAction(){return this.game.action$}unsetAction(){this.game.setAction(void 0)}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(ar),l.Y36(ic))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-phases"]],decls:27,vars:12,consts:[[1,"flex-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"click"],["type","radio","name","player",3,"value","ngModel","ngModelChange"],["type","radio","name","phase",3,"value","ngModel","ngModelChange"]],template:function(n,a){1&n&&(l.TgZ(0,"div",0)(1,"div")(2,"p"),l._uU(3,"Current Player:"),l.qZA(),l.YNc(4,U_,5,5,"div",1),l.ALo(5,"keyvalue"),l.qZA(),l.TgZ(6,"div")(7,"p"),l._uU(8,"Current Phase:"),l.qZA(),l.YNc(9,UE,5,5,"div",1),l.ALo(10,"keyvalue"),l.qZA(),l.TgZ(11,"div")(12,"p"),l._uU(13,"Current event:"),l.qZA(),l.YNc(14,ro,2,1,"div",2),l.ALo(15,"async"),l._UZ(16,"hr"),l.TgZ(17,"button",3),l.NdJ("click",function(){return a.removeSelectedEventsPileCard()}),l._uU(18," Finish event "),l.qZA()(),l.TgZ(19,"div")(20,"p"),l._uU(21,"Current action:"),l.qZA(),l.YNc(22,jE,2,1,"div",2),l.ALo(23,"async"),l._UZ(24,"hr"),l.TgZ(25,"button",3),l.NdJ("click",function(){return a.unsetAction()}),l._uU(26,"Finish action"),l.qZA()()()),2&n&&(l.xp6(4),l.Q6J("ngForOf",l.lcZ(5,4,a.DomainColor)),l.xp6(5),l.Q6J("ngForOf",l.lcZ(10,6,a.GamePhase)),l.xp6(5),l.Q6J("ngIf",l.lcZ(15,8,a.getSelectedEventsPileCard())),l.xp6(8),l.Q6J("ngIf",l.lcZ(23,10,a.getAction())))},dependencies:[Qt,Dt,qs,Rc,ha,Nc,ls,Vh],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;column-gap:2rem}"]}),r})();function GE(r){switch(r){case We.Red:return at;case We.Blue:return lt;default:throw new Error(`Something went wrong, ${r} should be one of ${at} or ${lt}.`)}}function j_(r,i){if(1&r&&(l.ynx(0),l._UZ(1,"img",4),l.BQk()),2&r){const n=l.oxw().$implicit,a=l.oxw();l.xp6(1),l.Q6J("src",a.getImgSrc(n.iconName),l.LSH)("alt",n.iconName)}}function $_(r,i){if(1&r&&(l.ynx(0),l.YNc(1,j_,2,2,"ng-container",3),l.BQk()),2&r){const n=i.$implicit,a=l.oxw();l.xp6(1),l.Q6J("ngForOf",a.Array(n.count))}}let Fa=(()=>{class r{constructor(){this.Array=Array,this.getImgSrc=N_}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-card-back"]],inputs:{typeIconName:"typeIconName",ressources:"ressources"},decls:4,vars:3,consts:[[1,"card-back"],[1,"type-icon",3,"src","alt"],[1,"ressources"],[4,"ngFor","ngForOf"],[1,"ressource-icon",3,"src","alt"]],template:function(n,a){1&n&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.qZA(),l.TgZ(2,"span",2),l.YNc(3,$_,2,1,"ng-container",3),l.qZA()),2&n&&(l.xp6(1),l.Q6J("src",a.getImgSrc(a.typeIconName),l.LSH)("alt",a.typeIconName),l.xp6(2),l.Q6J("ngForOf",a.ressources))},dependencies:[Qt],styles:[".card-back[_ngcontent-%COMP%]{width:100%;height:100%;background-color:gray;display:flex;justify-content:center;align-items:center}.type-icon[_ngcontent-%COMP%]{width:50%;height:50%}.ressources[_ngcontent-%COMP%]{position:relative;bottom:4em;display:flex;justify-content:center;align-items:center;gap:.3em}.ressource-icon[_ngcontent-%COMP%]{width:15%;height:15%;padding:2px;background-color:#fff;border-style:solid;border-color:#000;border-width:1px;border-radius:20%;box-shadow:inset -.1em -.1em .5em #d3d3d3}"]}),r})();function WE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div")(1,"p"),l._uU(2),l.qZA(),l._UZ(3,"taormina-card-back",5),l.TgZ(4,"button",6),l.NdJ("click",function(){const p=l.CHM(n).$implicit,_=l.oxw();return l.KtG(_.selectFirst(p))}),l._uU(5,"Select"),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.ALo(8,"async"),l.qZA()()}if(2&r){const n=i.$implicit,a=l.oxw();l.xp6(2),l.Oqu(n),l.xp6(1),l.Q6J("typeIconName",a.getAgglomerationPileTypeIconName(n))("ressources",a.getAgglomerationPileRessources(n)),l.xp6(4),l.hij("Remaining: ",l.lcZ(8,4,a.getAgglomerationPileCount(n)),"")}}function Sh(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw(2).$implicit,p=l.oxw();return l.KtG(p.selectLandsPileCard(d.id))}),l._uU(1," Select "),l.qZA()}}function KE(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,Sh,2,0,"button",7),l.ALo(3,"async"),l.qZA()),2&r){const n=i.ngIf,a=l.oxw().index,d=l.oxw();l.xp6(1),l.AsE(" ",n.type," - ",n.die," "),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,3,d.canSelectAnyLandCard())||a<2)}}function G_(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,KE,4,5,"div",2),l.qZA()),2&r){const n=i.$implicit,a=l.oxw();l.xp6(1),l.Q6J("ngIf",a.getLandCard(n.cardId))}}function zE(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=l.oxw();l.xp6(1),l.hij(" ",n.selectedStockPileId," ")}}function YE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw();return l.KtG(p.drawInitialRedHand(d))}),l._uU(1," Draw 3 cards to red hand "),l.qZA()}}function Na(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw();return l.KtG(p.drawFirstCardRedHand(d))}),l._uU(1," Draw first card to red hand "),l.qZA()}}function ZE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw();return l.KtG(p.drawInitialBlueHand(d))}),l._uU(1," Draw 3 cards to blue hand "),l.qZA()}}function Mh(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw();return l.KtG(p.drawFirstCardBlueHand(d))}),l._uU(1," Draw first card to blue hand "),l.qZA()}}function W_(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function K_(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,W_,2,1,"div",2),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",a.getActionCard(n.cardId))}}function Uc(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function Th(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,Uc,2,1,"div",2),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw(2);l.xp6(1),l.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function uA(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw().$implicit,_=l.oxw();return l.KtG(_.drawCardCurrentPlayer(p,d.cardId))}),l._uU(1," Draw "),l.qZA()}}function z_(r,i){if(1&r&&(l.TgZ(0,"div",8),l.YNc(1,K_,2,1,"div",9),l.YNc(2,Th,2,1,"div",9),l.YNc(3,uA,2,0,"button",7),l.ALo(4,"async"),l.qZA()),2&r){const n=i.$implicit,a=l.oxw().$implicit,d=l.oxw();l.Q6J("ngSwitch",n.cardType),l.xp6(1),l.Q6J("ngSwitchCase",d.ACTION_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngSwitchCase",d.DEVELOPMENT_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngIf",l.lcZ(4,4,d.canDrawAnyCardInStockPile(a)))}}function qE(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw();return l.KtG(p.putBackSelectedHandCard(d))}),l._uU(1," Put back selected hand card "),l.qZA()}}function Y_(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){l.CHM(n);const d=l.oxw().$implicit,p=l.oxw();return l.KtG(p.buySelectStockPile(d))}),l._uU(1," Select stock pile (buy) "),l.qZA()}}function io(r,i){if(1&r){const n=l.EpF();l.TgZ(0,"div"),l._uU(1),l.YNc(2,YE,2,0,"button",7),l.ALo(3,"async"),l.YNc(4,Na,2,0,"button",7),l.ALo(5,"async"),l.YNc(6,ZE,2,0,"button",7),l.ALo(7,"async"),l.YNc(8,Mh,2,0,"button",7),l.ALo(9,"async"),l.YNc(10,z_,5,6,"div",4),l.ALo(11,"async"),l.YNc(12,qE,2,0,"button",7),l.ALo(13,"async"),l.TgZ(14,"button",6),l.NdJ("click",function(){const p=l.CHM(n).$implicit,_=l.oxw();return l.KtG(_.putBackSelectedDomainCard(p))}),l._uU(15," Put back selected domain card "),l.qZA(),l.YNc(16,Y_,2,0,"button",7),l.ALo(17,"async"),l.qZA()}if(2&r){const n=i.$implicit,a=i.index,d=l.oxw();l.xp6(1),l.hij(" STOCK PILE ",a," "),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,8,d.drawInitialRedHandAvailable())),l.xp6(2),l.Q6J("ngIf",l.lcZ(5,10,d.drawFirstCardRedHandAvailable())),l.xp6(2),l.Q6J("ngIf",l.lcZ(7,12,d.drawInitialBlueHandAvailable())),l.xp6(2),l.Q6J("ngIf",l.lcZ(9,14,d.drawFirstCardBlueHandAvailable())),l.xp6(2),l.Q6J("ngForOf",l.lcZ(11,16,d.getStockPilesCards(n))),l.xp6(2),l.Q6J("ngIf",l.lcZ(13,18,d.putBackSelectedHandCardAvailable())),l.xp6(4),l.Q6J("ngIf",l.lcZ(17,20,d.canSelectStockPile()))}}function QE(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function Z_(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,QE,2,1,"div",2),l.qZA()),2&r){const n=i.$implicit,a=l.oxw();l.xp6(1),l.Q6J("ngIf",a.getEventCard(n.cardId))}}function Ih(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function dA(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,Ih,2,1,"div",2),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw();l.xp6(1),l.Q6J("ngIf",a.getActionCard(n.cardId))}}function JE(r,i){if(1&r&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&r){const n=i.ngIf;l.xp6(1),l.hij(" ",n.name," ")}}function fA(r,i){if(1&r&&(l.TgZ(0,"div"),l.YNc(1,JE,2,1,"div",2),l.qZA()),2&r){const n=l.oxw().$implicit,a=l.oxw();l.xp6(1),l.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function XE(r,i){if(1&r&&(l.TgZ(0,"div",8),l.YNc(1,dA,2,1,"div",9),l.YNc(2,fA,2,1,"div",9),l.qZA()),2&r){const n=i.$implicit,a=l.oxw();l.Q6J("ngSwitch",n.cardType),l.xp6(1),l.Q6J("ngSwitchCase",a.ACTION_CARD_INTERFACE_NAME),l.xp6(1),l.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME)}}let eC=(()=>{class r{constructor(n,a,d,p,_,D,S,x){this.game=n,this.domainsCards=a,this.agglomerationPilesCards=d,this.landsPileCards=p,this.stockPilesCards=_,this.eventsPileCards=D,this.discardPileCards=S,this.gameRules=x,this.ACTION_CARD_INTERFACE_NAME=Ys,this.DEVELOPMENT_CARD_INTERFACE_NAME=Dr}getAgglomerationPiles(){return Qg}selectFirst(n){this.agglomerationPilesCards.selectFirstCardFromAgglomerationPile(n)}getAgglomerationPileTypeIconName(n){switch(n){case Ls:return"path";case hi:return"village";case ks:return"castle";default:throw new Error(`Can't get type icon name for pile with id ${n}.`)}}getAgglomerationPileRessources(n){switch(n){case Ls:return[{iconName:"wood",count:1},{iconName:"brick",count:2}];case hi:return[{iconName:"wood",count:1},{iconName:"brick",count:1},{iconName:"hay",count:1},{iconName:"sheep",count:1}];case ks:return[{iconName:"hay",count:2},{iconName:"stone",count:3}];default:throw new Error(`Can't get type icon name for pile with id ${n}.`)}}getAgglomerationPileCount(n){switch(n){case Ls:return this.agglomerationPilesCards.allRoadPivots$.pipe((0,oe.U)(a=>a.length));case hi:return this.agglomerationPilesCards.allHamletPivots$.pipe((0,oe.U)(a=>a.length));case ks:return this.agglomerationPilesCards.allTownPivots$.pipe((0,oe.U)(a=>a.length));default:throw new Error(`Can't get count for pile with id ${n}.`)}}getLandCard(n){return ai.get(n)}getLandsPileCards(){return this.landsPileCards.allLandsPileCards$}canSelectAnyLandCard(){return this.game.action$.pipe((0,oe.U)(n=>n===In.Pathfinder))}selectLandsPileCard(n){this.landsPileCards.selectLandsPileCard(n)}getStockPiles(){return la}getStockPilesCards(n){return this.stockPilesCards.allStockPilesCards$.pipe((0,oe.U)(a=>a.filter(d=>d.pileId===n)))}drawInitialRedHandAvailable(){return ur([this.game.phase$,this.game.player$]).pipe((0,oe.U)(([n,a])=>n===Pt.InitialDraw&&a===We.Red))}drawInitialRedHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,3,Ia)}drawFirstCardRedHandAvailable(){return ur([this.game.phase$,this.game.player$]).pipe((0,oe.U)(([n,a])=>n===Pt.LoopDraw&&a===We.Red))}drawFirstCardRedHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,1,Ia)}drawInitialBlueHandAvailable(){return ur([this.game.phase$,this.game.player$]).pipe((0,oe.U)(([n,a])=>n===Pt.InitialDraw&&a===We.Blue))}drawInitialBlueHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,3,Gr)}drawFirstCardBlueHandAvailable(){return ur([this.game.phase$,this.game.player$]).pipe((0,oe.U)(([n,a])=>n===Pt.LoopDraw&&a===We.Blue))}drawFirstCardBlueHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,1,Gr)}getActionCard(n){return Rf.get(n)}getDevelopmentCard(n){return Mn.get(n)}canDrawAnyCardInStockPile(n){return this.game.player$.pipe((0,Ms.w)(a=>{const d=GE(a);return this.domainsCards.hasDomainCommunityCenter(d)}),(0,oe.U)(a=>a&&n===this.selectedStockPileId))}drawCardCurrentPlayer(n,a){this.game.player$.pipe((0,Jt.q)(1)).subscribe(d=>{const p=function cA(r){switch(r){case We.Red:return Ia;case We.Blue:return Gr;default:throw new Error(`Something went wrong, ${r} should be one of ${Gr} or ${Gr}.`)}}(d);this.gameRules.drawCardFromStockToHand(n,a,p),this.unselectStockPile()})}putBackSelectedHandCardAvailable(){return this.game.phase$.pipe((0,oe.U)(n=>n===Pt.LoopExchange))}putBackSelectedHandCard(n){this.gameRules.putBackFromHandToStockPile(n)}putBackSelectedDomainCard(n){this.gameRules.putBackFromDomainToStockPile(n)}canSelectStockPile(){return this.game.player$.pipe((0,Ms.w)(n=>{const a=GE(n);return this.domainsCards.hasDomainCommunityCenter(a)}))}buySelectStockPile(n){this.domainsCards.useLockedResources(),this.selectedStockPileId=n}unselectStockPile(){this.selectedStockPileId=void 0}getEventsPileCards(){return this.eventsPileCards.allEventsPileCards$}getEventCard(n){return ta.get(n)}getDiscardPileCardsReverse(){return this.discardPileCards.allDiscardPileCardsReverse$}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(ar),l.Y36(ea),l.Y36(ac),l.Y36(mc),l.Y36(Lf),l.Y36(ic),l.Y36(Td),l.Y36(no))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-piles"]],decls:22,vars:13,consts:[[1,"flex-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"disabled","click"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"typeIconName","ressources"],["type","button",3,"click"],["type","button",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(n,a){1&n&&(l.TgZ(0,"div",0),l.YNc(1,WE,9,6,"div",1),l.TgZ(2,"div"),l._uU(3," LANDS PILE "),l.YNc(4,G_,2,1,"div",1),l.ALo(5,"async"),l.qZA(),l.TgZ(6,"div")(7,"p"),l._uU(8,"Selected stock pile:"),l.qZA(),l.YNc(9,zE,2,1,"div",2),l._UZ(10,"hr"),l.TgZ(11,"button",3),l.NdJ("click",function(){return a.unselectStockPile()}),l._uU(12," Unselect "),l.qZA()(),l.YNc(13,io,18,22,"div",1),l.TgZ(14,"div"),l._uU(15," EVENTS PILE "),l.YNc(16,Z_,2,1,"div",1),l.ALo(17,"async"),l.qZA(),l.TgZ(18,"div"),l._uU(19," DISCARD PILE "),l.YNc(20,XE,3,3,"div",4),l.ALo(21,"async"),l.qZA()()),2&n&&(l.xp6(1),l.Q6J("ngForOf",a.getAgglomerationPiles()),l.xp6(3),l.Q6J("ngForOf",l.lcZ(5,7,a.getLandsPileCards())),l.xp6(5),l.Q6J("ngIf",a.selectedStockPileId),l.xp6(2),l.Q6J("disabled",!a.selectedStockPileId),l.xp6(2),l.Q6J("ngForOf",a.getStockPiles()),l.xp6(3),l.Q6J("ngForOf",l.lcZ(17,9,a.getEventsPileCards())),l.xp6(4),l.Q6J("ngForOf",l.lcZ(21,11,a.getDiscardPileCardsReverse())))},dependencies:[Qt,Dt,R,U,Fa,ls],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;column-gap:2rem}taormina-card-back[_ngcontent-%COMP%]{display:block;width:25rem;height:25rem}"]}),r})(),tC=(()=>{class r{constructor(){this.ID_HAND_RED=Ia,this.ID_HAND_BLUE=Gr,this.ID_DOMAIN_RED=at,this.ID_DOMAIN_BLUE=lt}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-board"]],decls:15,vars:4,consts:[[3,"handId"],[3,"domainId"]],template:function(n,a){1&n&&l._UZ(0,"taormina-phases")(1,"hr")(2,"taormina-dice")(3,"hr")(4,"taormina-actions")(5,"hr")(6,"taormina-piles")(7,"hr")(8,"taormina-hand",0)(9,"hr")(10,"taormina-domain",1)(11,"hr")(12,"taormina-domain",1)(13,"hr")(14,"taormina-hand",0),2&n&&(l.xp6(8),l.Q6J("handId",a.ID_HAND_RED),l.xp6(2),l.Q6J("domainId",a.ID_DOMAIN_RED),l.xp6(2),l.Q6J("domainId",a.ID_DOMAIN_BLUE),l.xp6(2),l.Q6J("handId",a.ID_HAND_BLUE))},dependencies:[bE,Hc,xE,HE,$E,eC]}),r})(),q_=(()=>{class r{constructor(n){this.gameRules=n}startNewGame(){this.gameRules.initNewGame()}}return r.\u0275fac=function(n){return new(n||r)(l.Y36(no))},r.\u0275cmp=l.Xpm({type:r,selectors:[["taormina-root"]],decls:4,vars:0,consts:[["type","button",3,"click"]],template:function(n,a){1&n&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return a.startNewGame()}),l._uU(1,"New Game !"),l.qZA(),l._UZ(2,"hr")(3,"taormina-board"))},dependencies:[tC]}),r})(),Q_=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r,bootstrap:[q_]}),r.\u0275inj=l.cJS({imports:[mu,Gp,y.Aw.forRoot({},{metaReducers:[],runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),Lr.forRoot([]),[],Im,gE]}),r})();(0,l.G48)(),pu().bootstrapModule(Q_).catch(r=>console.error(r))},9763:L=>{L.exports=P=>{if(!Array.isArray(P))throw new TypeError("Expected an array, got "+typeof P);for(let E=(P=[...P]).length-1;E>0;E--){const l=Math.floor(Math.random()*(E+1));[P[E],P[l]]=[P[l],P[E]]}return P}},9312:(L,P,E)=>{E.d(P,{P:()=>N});var l=E(8896),V=E(1086),W=E(1737);class N{constructor(O,A,M){this.kind=O,this.value=A,this.error=M,this.hasValue="N"===O}observe(O){switch(this.kind){case"N":return O.next&&O.next(this.value);case"E":return O.error&&O.error(this.error);case"C":return O.complete&&O.complete()}}do(O,A,M){switch(this.kind){case"N":return O&&O(this.value);case"E":return A&&A(this.error);case"C":return M&&M()}}accept(O,A,M){return O&&"function"==typeof O.next?this.observe(O):this.do(O,A,M)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return(0,W._)(this.error);case"C":return(0,l.c)()}throw new Error("unexpected notification kind value")}static createNext(O){return typeof O<"u"?new N("N",O):N.undefinedValueNotification}static createError(O){return new N("E",void 0,O)}static createComplete(){return N.completeNotification}}N.completeNotification=new N("C"),N.undefinedValueNotification=new N("N",void 0)},2916:(L,P,E)=>{E.d(P,{y:()=>B});var l=E(3489),W=E(7668),z=E(3292),T=E(3821),O=E(5379);var b=E(2830);let B=(()=>{class j{constructor($){this._isScalar=!1,$&&(this._subscribe=$)}lift($){const X=new j;return X.source=this,X.operator=$,X}subscribe($,X,q){const{operator:K}=this,re=function N(j,me,$){if(j){if(j instanceof l.L)return j;if(j[W.b])return j[W.b]()}return j||me||$?new l.L(j,me,$):new l.L(z.c)}($,X,q);if(re.add(K?K.call(re,this.source):this.source||b.v.useDeprecatedSynchronousErrorHandling&&!re.syncErrorThrowable?this._subscribe(re):this._trySubscribe(re)),b.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable&&(re.syncErrorThrowable=!1,re.syncErrorThrown))throw re.syncErrorValue;return re}_trySubscribe($){try{return this._subscribe($)}catch(X){b.v.useDeprecatedSynchronousErrorHandling&&($.syncErrorThrown=!0,$.syncErrorValue=X),function V(j){for(;j;){const{closed:me,destination:$,isStopped:X}=j;if(me||X)return!1;j=$&&$ instanceof l.L?$:null}return!0}($)?$.error(X):console.warn(X)}}forEach($,X){return new(X=F(X))((q,K)=>{let re;re=this.subscribe(ve=>{try{$(ve)}catch(xe){K(xe),re&&re.unsubscribe()}},K,q)})}_subscribe($){const{source:X}=this;return X&&X.subscribe($)}[T.L](){return this}pipe(...$){return 0===$.length?this:function M(j){return 0===j.length?O.y:1===j.length?j[0]:function($){return j.reduce((X,q)=>q(X),$)}}($)(this)}toPromise($){return new($=F($))((X,q)=>{let K;this.subscribe(re=>K=re,re=>q(re),()=>X(K))})}}return j.create=me=>new j(me),j})();function F(j){if(j||(j=b.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},3292:(L,P,E)=>{E.d(P,{c:()=>W});var l=E(2830),V=E(2782);const W={closed:!0,next(z){},error(z){if(l.v.useDeprecatedSynchronousErrorHandling)throw z;(0,V.z)(z)},complete(){}}},826:(L,P,E)=>{E.d(P,{L:()=>V});var l=E(3489);class V extends l.L{notifyNext(z,N,T,O,A){this.destination.next(N)}notifyError(z,N){this.destination.error(z)}notifyComplete(z){this.destination.complete()}}},839:(L,P,E)=>{E.d(P,{t:()=>O});var l=E(8929),V=E(341),W=E(2654),z=E(7770),N=E(5279),T=E(5283);class O extends l.xQ{constructor(b=Number.POSITIVE_INFINITY,B=Number.POSITIVE_INFINITY,F){super(),this.scheduler=F,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=b<1?1:b,this._windowTime=B<1?1:B,B===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(b){if(!this.isStopped){const B=this._events;B.push(b),B.length>this._bufferSize&&B.shift()}super.next(b)}nextTimeWindow(b){this.isStopped||(this._events.push(new A(this._getNow(),b)),this._trimBufferThenGetEvents()),super.next(b)}_subscribe(b){const B=this._infiniteTimeWindow,F=B?this._events:this._trimBufferThenGetEvents(),j=this.scheduler,me=F.length;let $;if(this.closed)throw new N.N;if(this.isStopped||this.hasError?$=W.w.EMPTY:(this.observers.push(b),$=new T.W(this,b)),j&&b.add(b=new z.ht(b,j)),B)for(let X=0;X<me&&!b.closed;X++)b.next(F[X]);else for(let X=0;X<me&&!b.closed;X++)b.next(F[X].value);return this.hasError?b.error(this.thrownError):this.isStopped&&b.complete(),$}_getNow(){return(this.scheduler||V.c).now()}_trimBufferThenGetEvents(){const b=this._getNow(),B=this._bufferSize,F=this._windowTime,j=this._events,me=j.length;let $=0;for(;$<me&&!(b-j[$].time<F);)$++;return me>B&&($=Math.max($,me-B)),$>0&&j.splice(0,$),j}}class A{constructor(b,B){this.time=b,this.value=B}}},8929:(L,P,E)=>{E.d(P,{Yc:()=>O,xQ:()=>A});var l=E(2916),V=E(3489),W=E(2654),z=E(5279),N=E(5283),T=E(7668);class O extends V.L{constructor(B){super(B),this.destination=B}}let A=(()=>{class b extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[T.b](){return new O(this)}lift(F){const j=new M(this,this);return j.operator=F,j}next(F){if(this.closed)throw new z.N;if(!this.isStopped){const{observers:j}=this,me=j.length,$=j.slice();for(let X=0;X<me;X++)$[X].next(F)}}error(F){if(this.closed)throw new z.N;this.hasError=!0,this.thrownError=F,this.isStopped=!0;const{observers:j}=this,me=j.length,$=j.slice();for(let X=0;X<me;X++)$[X].error(F);this.observers.length=0}complete(){if(this.closed)throw new z.N;this.isStopped=!0;const{observers:F}=this,j=F.length,me=F.slice();for(let $=0;$<j;$++)me[$].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(F){if(this.closed)throw new z.N;return super._trySubscribe(F)}_subscribe(F){if(this.closed)throw new z.N;return this.hasError?(F.error(this.thrownError),W.w.EMPTY):this.isStopped?(F.complete(),W.w.EMPTY):(this.observers.push(F),new N.W(this,F))}asObservable(){const F=new l.y;return F.source=this,F}}return b.create=(B,F)=>new M(B,F),b})();class M extends A{constructor(B,F){super(),this.destination=B,this.source=F}next(B){const{destination:F}=this;F&&F.next&&F.next(B)}error(B){const{destination:F}=this;F&&F.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:F}=this;return F?this.source.subscribe(B):W.w.EMPTY}}},5283:(L,P,E)=>{E.d(P,{W:()=>V});var l=E(2654);class V extends l.w{constructor(z,N){super(),this.subject=z,this.subscriber=N,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const z=this.subject,N=z.observers;if(this.subject=null,!N||0===N.length||z.isStopped||z.closed)return;const T=N.indexOf(this.subscriber);-1!==T&&N.splice(T,1)}}},3489:(L,P,E)=>{E.d(P,{L:()=>O});var l=E(7043),V=E(3292),W=E(2654),z=E(7668),N=E(2830),T=E(2782);class O extends W.w{constructor(b,B,F){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=V.c;break;case 1:if(!b){this.destination=V.c;break}if("object"==typeof b){b instanceof O?(this.syncErrorThrowable=b.syncErrorThrowable,this.destination=b,b.add(this)):(this.syncErrorThrowable=!0,this.destination=new A(this,b));break}default:this.syncErrorThrowable=!0,this.destination=new A(this,b,B,F)}}[z.b](){return this}static create(b,B,F){const j=new O(b,B,F);return j.syncErrorThrowable=!1,j}next(b){this.isStopped||this._next(b)}error(b){this.isStopped||(this.isStopped=!0,this._error(b))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(b){this.destination.next(b)}_error(b){this.destination.error(b),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:b}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=b,this}}class A extends O{constructor(b,B,F,j){super(),this._parentSubscriber=b;let me,$=this;(0,l.m)(B)?me=B:B&&(me=B.next,F=B.error,j=B.complete,B!==V.c&&($=Object.create(B),(0,l.m)($.unsubscribe)&&this.add($.unsubscribe.bind($)),$.unsubscribe=this.unsubscribe.bind(this))),this._context=$,this._next=me,this._error=F,this._complete=j}next(b){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;N.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,b)&&this.unsubscribe():this.__tryOrUnsub(this._next,b)}}error(b){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:F}=N.v;if(this._error)F&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,b),this.unsubscribe()):(this.__tryOrUnsub(this._error,b),this.unsubscribe());else if(B.syncErrorThrowable)F?(B.syncErrorValue=b,B.syncErrorThrown=!0):(0,T.z)(b),this.unsubscribe();else{if(this.unsubscribe(),F)throw b;(0,T.z)(b)}}}complete(){if(!this.isStopped){const{_parentSubscriber:b}=this;if(this._complete){const B=()=>this._complete.call(this._context);N.v.useDeprecatedSynchronousErrorHandling&&b.syncErrorThrowable?(this.__tryOrSetError(b,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(b,B){try{b.call(this._context,B)}catch(F){if(this.unsubscribe(),N.v.useDeprecatedSynchronousErrorHandling)throw F;(0,T.z)(F)}}__tryOrSetError(b,B,F){if(!N.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,F)}catch(j){return N.v.useDeprecatedSynchronousErrorHandling?(b.syncErrorValue=j,b.syncErrorThrown=!0,!0):((0,T.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:b}=this;this._context=null,this._parentSubscriber=null,b.unsubscribe()}}},2654:(L,P,E)=>{E.d(P,{w:()=>T});var l=E(6688),V=E(7830),W=E(7043);const N=(()=>{function A(M){return Error.call(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((b,B)=>`${B+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M,this}return A.prototype=Object.create(Error.prototype),A})();class T{constructor(M){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,M&&(this._ctorUnsubscribe=!0,this._unsubscribe=M)}unsubscribe(){let M;if(this.closed)return;let{_parentOrParents:b,_ctorUnsubscribe:B,_unsubscribe:F,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,b instanceof T)b.remove(this);else if(null!==b)for(let me=0;me<b.length;++me)b[me].remove(this);if((0,W.m)(F)){B&&(this._unsubscribe=void 0);try{F.call(this)}catch(me){M=me instanceof N?O(me.errors):[me]}}if((0,l.k)(j)){let me=-1,$=j.length;for(;++me<$;){const X=j[me];if((0,V.K)(X))try{X.unsubscribe()}catch(q){M=M||[],q instanceof N?M=M.concat(O(q.errors)):M.push(q)}}}if(M)throw new N(M)}add(M){let b=M;if(!M)return T.EMPTY;switch(typeof M){case"function":b=new T(M);case"object":if(b===this||b.closed||"function"!=typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;if(!(b instanceof T)){const j=b;b=new T,b._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+M+" added to Subscription.")}let{_parentOrParents:B}=b;if(null===B)b._parentOrParents=this;else if(B instanceof T){if(B===this)return b;b._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return b;B.push(this)}const F=this._subscriptions;return null===F?this._subscriptions=[b]:F.push(b),b}remove(M){const b=this._subscriptions;if(b){const B=b.indexOf(M);-1!==B&&b.splice(B,1)}}}var A;function O(A){return A.reduce((M,b)=>M.concat(b instanceof N?b.errors:b),[])}T.EMPTY=((A=new T).closed=!0,A)},2830:(L,P,E)=>{E.d(P,{v:()=>V});let l=!1;const V={Promise:void 0,set useDeprecatedSynchronousErrorHandling(W){if(W){const z=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+z.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=W},get useDeprecatedSynchronousErrorHandling(){return l}}},1177:(L,P,E)=>{E.d(P,{Ds:()=>T,IY:()=>z,ft:()=>A});var l=E(3489),V=E(2916),W=E(9249);class z extends l.L{constructor(b){super(),this.parent=b}_next(b){this.parent.notifyNext(b)}_error(b){this.parent.notifyError(b),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class T extends l.L{notifyNext(b){this.destination.next(b)}notifyError(b){this.destination.error(b)}notifyComplete(){this.destination.complete()}}function A(M,b){if(b.closed)return;if(M instanceof V.y)return M.subscribe(b);let B;try{B=(0,W.s)(M)(b)}catch(F){b.error(F)}return B}},8896:(L,P,E)=>{E.d(P,{E:()=>V,c:()=>W});var l=E(2916);const V=new l.y(N=>N.complete());function W(N){return N?function z(N){return new l.y(T=>N.schedule(()=>T.complete()))}(N):V}},5254:(L,P,E)=>{E.d(P,{D:()=>$});var l=E(2916),V=E(9249),W=E(2654),z=E(3821),O=E(6454),A=E(5430),B=E(8955),F=E(8515);function $(X,q){return q?function me(X,q){if(null!=X){if(function b(X){return X&&"function"==typeof X[z.L]}(X))return function N(X,q){return new l.y(K=>{const re=new W.w;return re.add(q.schedule(()=>{const ve=X[z.L]();re.add(ve.subscribe({next(xe){re.add(q.schedule(()=>K.next(xe)))},error(xe){re.add(q.schedule(()=>K.error(xe)))},complete(){re.add(q.schedule(()=>K.complete()))}}))})),re})}(X,q);if((0,B.t)(X))return function T(X,q){return new l.y(K=>{const re=new W.w;return re.add(q.schedule(()=>X.then(ve=>{re.add(q.schedule(()=>{K.next(ve),re.add(q.schedule(()=>K.complete()))}))},ve=>{re.add(q.schedule(()=>K.error(ve)))}))),re})}(X,q);if((0,F.z)(X))return(0,O.r)(X,q);if(function j(X){return X&&"function"==typeof X[A.hZ]}(X)||"string"==typeof X)return function M(X,q){if(!X)throw new Error("Iterable cannot be null");return new l.y(K=>{const re=new W.w;let ve;return re.add(()=>{ve&&"function"==typeof ve.return&&ve.return()}),re.add(q.schedule(()=>{ve=X[A.hZ](),re.add(q.schedule(function(){if(K.closed)return;let xe,Ke;try{const ct=ve.next();xe=ct.value,Ke=ct.done}catch(ct){return void K.error(ct)}Ke?K.complete():(K.next(xe),this.schedule())}))})),re})}(X,q)}throw new TypeError((null!==X&&typeof X||X)+" is not observable")}(X,q):X instanceof l.y?X:new l.y((0,V.s)(X))}},3009:(L,P,E)=>{E.d(P,{n:()=>z});var l=E(2916),V=E(3650),W=E(6454);function z(N,T){return T?(0,W.r)(N,T):new l.y((0,V.V)(N))}},7138:(L,P,E)=>{E.d(P,{T:()=>O});var l=E(2916),V=E(2866),W=E(1709),z=E(5379),T=E(3009);function O(...A){let M=Number.POSITIVE_INFINITY,b=null,B=A[A.length-1];return(0,V.K)(B)?(b=A.pop(),A.length>1&&"number"==typeof A[A.length-1]&&(M=A.pop())):"number"==typeof B&&(M=A.pop()),null===b&&1===A.length&&A[0]instanceof l.y?A[0]:function N(A=Number.POSITIVE_INFINITY){return(0,W.zg)(z.y,A)}(M)((0,T.n)(A,b))}},1086:(L,P,E)=>{E.d(P,{of:()=>z});var l=E(2866),V=E(3009),W=E(6454);function z(...N){let T=N[N.length-1];return(0,l.K)(T)?(N.pop(),(0,W.r)(N,T)):(0,V.n)(N)}},1737:(L,P,E)=>{E.d(P,{_:()=>V});var l=E(2916);function V(z,N){return new l.y(N?T=>N.schedule(W,0,{error:z,subscriber:T}):T=>T.error(z))}function W({error:z,subscriber:N}){N.error(z)}},7221:(L,P,E)=>{E.d(P,{K:()=>V});var l=E(1177);function V(N){return function(O){const A=new W(N),M=O.lift(A);return A.caught=M}}class W{constructor(T){this.selector=T}call(T,O){return O.subscribe(new z(T,this.selector,this.caught))}}class z extends l.Ds{constructor(T,O,A){super(T),this.selector=O,this.caught=A}error(T){if(!this.isStopped){let O;try{O=this.selector(T,this.caught)}catch(b){return void super.error(b)}this._unsubscribeAndRecycle();const A=new l.IY(this);this.add(A);const M=(0,l.ft)(O,A);M!==A&&this.add(M)}}}},1406:(L,P,E)=>{E.d(P,{b:()=>V});var l=E(1709);function V(W,z){return(0,l.zg)(W,z,1)}},13:(L,P,E)=>{E.d(P,{b:()=>W});var l=E(3489),V=E(353);function W(O,A=V.P){return M=>M.lift(new z(O,A))}class z{constructor(A,M){this.dueTime=A,this.scheduler=M}call(A,M){return M.subscribe(new N(A,this.dueTime,this.scheduler))}}class N extends l.L{constructor(A,M,b){super(A),this.dueTime=M,this.scheduler=b,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(A){this.clearDebounce(),this.lastValue=A,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(T,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:A}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(A)}}clearDebounce(){const A=this.debouncedSubscription;null!==A&&(this.remove(A),A.unsubscribe(),this.debouncedSubscription=null)}}function T(O){O.debouncedNext()}},2198:(L,P,E)=>{E.d(P,{h:()=>V});var l=E(3489);function V(N,T){return function(A){return A.lift(new W(N,T))}}class W{constructor(T,O){this.predicate=T,this.thisArg=O}call(T,O){return O.subscribe(new z(T,this.predicate,this.thisArg))}}class z extends l.L{constructor(T,O,A){super(T),this.predicate=O,this.thisArg=A,this.count=0}_next(T){let O;try{O=this.predicate.call(this.thisArg,T,this.count++)}catch(A){return void this.destination.error(A)}O&&this.destination.next(T)}}},4850:(L,P,E)=>{E.d(P,{U:()=>V});var l=E(3489);function V(N,T){return function(A){if("function"!=typeof N)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return A.lift(new W(N,T))}}class W{constructor(T,O){this.project=T,this.thisArg=O}call(T,O){return O.subscribe(new z(T,this.project,this.thisArg))}}class z extends l.L{constructor(T,O,A){super(T),this.project=O,this.count=0,this.thisArg=A||this}_next(T){let O;try{O=this.project.call(this.thisArg,T,this.count++)}catch(A){return void this.destination.error(A)}this.destination.next(O)}}},1709:(L,P,E)=>{E.d(P,{zg:()=>z});var l=E(4850),V=E(5254),W=E(1177);function z(A,M,b=Number.POSITIVE_INFINITY){return"function"==typeof M?B=>B.pipe(z((F,j)=>(0,V.D)(A(F,j)).pipe((0,l.U)((me,$)=>M(F,me,j,$))),b)):("number"==typeof M&&(b=M),B=>B.lift(new N(A,b)))}class N{constructor(M,b=Number.POSITIVE_INFINITY){this.project=M,this.concurrent=b}call(M,b){return b.subscribe(new T(M,this.project,this.concurrent))}}class T extends W.Ds{constructor(M,b,B=Number.POSITIVE_INFINITY){super(M),this.project=b,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(M){this.active<this.concurrent?this._tryNext(M):this.buffer.push(M)}_tryNext(M){let b;const B=this.index++;try{b=this.project(M,B)}catch(F){return void this.destination.error(F)}this.active++,this._innerSub(b)}_innerSub(M){const b=new W.IY(this),B=this.destination;B.add(b);const F=(0,W.ft)(M,b);F!==b&&B.add(F)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(M){this.destination.next(M)}notifyComplete(){const M=this.buffer;this.active--,M.length>0?this._next(M.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(L,P,E)=>{E.d(P,{QV:()=>W,ht:()=>N});var l=E(3489),V=E(9312);function W(O,A=0){return function(b){return b.lift(new z(O,A))}}class z{constructor(A,M=0){this.scheduler=A,this.delay=M}call(A,M){return M.subscribe(new N(A,this.scheduler,this.delay))}}class N extends l.L{constructor(A,M,b=0){super(A),this.scheduler=M,this.delay=b}static dispatch(A){const{notification:M,destination:b}=A;M.observe(b),this.unsubscribe()}scheduleMessage(A){this.destination.add(this.scheduler.schedule(N.dispatch,this.delay,new T(A,this.destination)))}_next(A){this.scheduleMessage(V.P.createNext(A))}_error(A){this.scheduleMessage(V.P.createError(A)),this.unsubscribe()}_complete(){this.scheduleMessage(V.P.createComplete()),this.unsubscribe()}}class T{constructor(A,M){this.notification=A,this.destination=M}}},2014:(L,P,E)=>{E.d(P,{R:()=>V});var l=E(3489);function V(N,T){let O=!1;return arguments.length>=2&&(O=!0),function(M){return M.lift(new W(N,T,O))}}class W{constructor(T,O,A=!1){this.accumulator=T,this.seed=O,this.hasSeed=A}call(T,O){return O.subscribe(new z(T,this.accumulator,this.seed,this.hasSeed))}}class z extends l.L{constructor(T,O,A,M){super(T),this.accumulator=O,this._seed=A,this.hasSeed=M,this.index=0}get seed(){return this._seed}set seed(T){this.hasSeed=!0,this._seed=T}_next(T){if(this.hasSeed)return this._tryNext(T);this.seed=T,this.destination.next(T)}_tryNext(T){const O=this.index++;let A;try{A=this.accumulator(this.seed,T,O)}catch(M){this.destination.error(M)}this.seed=A,this.destination.next(A)}}},6606:(L,P,E)=>{E.d(P,{B:()=>X});var l=E(8929),V=E(2916),W=E(2654),z=E(3489);function N(){return function(K){return K.lift(new T(K))}}class T{constructor(K){this.connectable=K}call(K,re){const{connectable:ve}=this;ve._refCount++;const xe=new O(K,ve),Ke=re.subscribe(xe);return xe.closed||(xe.connection=ve.connect()),Ke}}class O extends z.L{constructor(K,re){super(K),this.connectable=re}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const re=K._refCount;if(re<=0)return void(this.connection=null);if(K._refCount=re-1,re>1)return void(this.connection=null);const{connection:ve}=this,xe=K._connection;this.connection=null,xe&&(!ve||xe===ve)&&xe.unsubscribe()}}class A extends V.y{constructor(K,re){super(),this.source=K,this.subjectFactory=re,this._refCount=0,this._isComplete=!1}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let K=this._connection;return K||(this._isComplete=!1,K=this._connection=new W.w,K.add(this.source.subscribe(new b(this.getSubject(),this))),K.closed&&(this._connection=null,K=W.w.EMPTY)),K}refCount(){return N()(this)}}const M=(()=>{const q=A.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:q._subscribe},_isComplete:{value:q._isComplete,writable:!0},getSubject:{value:q.getSubject},connect:{value:q.connect},refCount:{value:q.refCount}}})();class b extends l.Yc{constructor(K,re){super(K),this.connectable=re}_error(K){this._unsubscribe(),super._error(K)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const K=this.connectable;if(K){this.connectable=null;const re=K._connection;K._refCount=0,K._subject=null,K._connection=null,re&&re.unsubscribe()}}}class me{constructor(K,re){this.subjectFactory=K,this.selector=re}call(K,re){const{selector:ve}=this,xe=this.subjectFactory(),Ke=ve(xe).subscribe(K);return Ke.add(re.subscribe(xe)),Ke}}function $(){return new l.xQ}function X(){return q=>N()(function j(q,K){return function(ve){let xe;if(xe="function"==typeof q?q:function(){return q},"function"==typeof K)return ve.lift(new me(xe,K));const Ke=Object.create(ve,M);return Ke.source=ve,Ke.subjectFactory=xe,Ke}}($)(q))}},1307:(L,P,E)=>{E.d(P,{T:()=>V});var l=E(3489);function V(N){return T=>T.lift(new W(N))}class W{constructor(T){this.total=T}call(T,O){return O.subscribe(new z(T,this.total))}}class z extends l.L{constructor(T,O){super(T),this.total=O,this.count=0}_next(T){++this.count>this.total&&this.destination.next(T)}}},7545:(L,P,E)=>{E.d(P,{w:()=>z});var l=E(4850),V=E(5254),W=E(1177);function z(O,A){return"function"==typeof A?M=>M.pipe(z((b,B)=>(0,V.D)(O(b,B)).pipe((0,l.U)((F,j)=>A(b,F,B,j))))):M=>M.lift(new N(O))}class N{constructor(A){this.project=A}call(A,M){return M.subscribe(new T(A,this.project))}}class T extends W.Ds{constructor(A,M){super(A),this.project=M,this.index=0}_next(A){let M;const b=this.index++;try{M=this.project(A,b)}catch(B){return void this.destination.error(B)}this._innerSub(M)}_innerSub(A){const M=this.innerSubscription;M&&M.unsubscribe();const b=new W.IY(this),B=this.destination;B.add(b),this.innerSubscription=(0,W.ft)(A,b),this.innerSubscription!==b&&B.add(this.innerSubscription)}_complete(){const{innerSubscription:A}=this;(!A||A.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(A){this.destination.next(A)}}},5632:(L,P,E)=>{E.d(P,{q:()=>N});var l=E(3489);const W=(()=>{function A(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return A.prototype=Object.create(Error.prototype),A})();var z=E(8896);function N(A){return M=>0===A?(0,z.c)():M.lift(new T(A))}class T{constructor(M){if(this.total=M,this.total<0)throw new W}call(M,b){return b.subscribe(new O(M,this.total))}}class O extends l.L{constructor(M,b){super(M),this.total=b,this.count=0}_next(M){const b=this.total,B=++this.count;B<=b&&(this.destination.next(M),B===b&&(this.destination.complete(),this.unsubscribe()))}}},7625:(L,P,E)=>{E.d(P,{R:()=>V});var l=E(1177);function V(N){return T=>T.lift(new W(N))}class W{constructor(T){this.notifier=T}call(T,O){const A=new z(T),M=(0,l.ft)(this.notifier,new l.IY(A));return M&&!A.seenValue?(A.add(M),O.subscribe(A)):A}}class z extends l.Ds{constructor(T){super(T),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},2216:(L,P,E)=>{E.d(P,{V:()=>b});var l=E(353);const W=(()=>{function B(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return B.prototype=Object.create(Error.prototype),B})();var N=E(1177);class O{constructor(F,j,me,$){this.waitFor=F,this.absoluteTimeout=j,this.withObservable=me,this.scheduler=$}call(F,j){return j.subscribe(new A(F,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class A extends N.Ds{constructor(F,j,me,$,X){super(F),this.absoluteTimeout=j,this.waitFor=me,this.withObservable=$,this.scheduler=X,this.scheduleTimeout()}static dispatchTimeout(F){const{withObservable:j}=F;F._unsubscribeAndRecycle(),F.add((0,N.ft)(j,new N.IY(F)))}scheduleTimeout(){const{action:F}=this;F?this.action=F.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(A.dispatchTimeout,this.waitFor,this))}_next(F){this.absoluteTimeout||this.scheduleTimeout(),super._next(F)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var M=E(1737);function b(B,F=l.P){return function T(B,F,j=l.P){return me=>{let $=function z(B){return B instanceof Date&&!isNaN(+B)}(B),X=$?+B-j.now():Math.abs(B);return me.lift(new O(X,$,F,j))}}(B,(0,M._)(new W),F)}},7168:(L,P,E)=>{E.d(P,{M:()=>W});var l=E(826),V=E(448);function W(...T){return O=>{let A;return"function"==typeof T[T.length-1]&&(A=T.pop()),O.lift(new z(T,A))}}class z{constructor(O,A){this.observables=O,this.project=A}call(O,A){return A.subscribe(new N(O,this.observables,this.project))}}class N extends l.L{constructor(O,A,M){super(O),this.observables=A,this.project=M,this.toRespond=[];const b=A.length;this.values=new Array(b);for(let B=0;B<b;B++)this.toRespond.push(B);for(let B=0;B<b;B++)this.add((0,V.D)(this,A[B],void 0,B))}notifyNext(O,A,M){this.values[M]=A;const b=this.toRespond;if(b.length>0){const B=b.indexOf(M);-1!==B&&b.splice(B,1)}}notifyComplete(){}_next(O){if(0===this.toRespond.length){const A=[O,...this.values];this.project?this._tryProject(A):this.destination.next(A)}}_tryProject(O){let A;try{A=this.project.apply(this,O)}catch(M){return void this.destination.error(M)}this.destination.next(A)}}},6454:(L,P,E)=>{E.d(P,{r:()=>W});var l=E(2916),V=E(2654);function W(z,N){return new l.y(T=>{const O=new V.w;let A=0;return O.add(N.schedule(function(){A!==z.length?(T.next(z[A++]),T.closed||O.add(this.schedule())):T.complete()})),O})}},6686:(L,P,E)=>{E.d(P,{o:()=>W});var l=E(2654);class V extends l.w{constructor(N,T){super()}schedule(N,T=0){return this}}class W extends V{constructor(N,T){super(N,T),this.scheduler=N,this.work=T,this.pending=!1}schedule(N,T=0){if(this.closed)return this;this.state=N;const O=this.id,A=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(A,O,T)),this.pending=!0,this.delay=T,this.id=this.id||this.requestAsyncId(A,this.id,T),this}requestAsyncId(N,T,O=0){return setInterval(N.flush.bind(N,this),O)}recycleAsyncId(N,T,O=0){if(null!==O&&this.delay===O&&!1===this.pending)return T;clearInterval(T)}execute(N,T){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(N,T);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,T){let A,O=!1;try{this.work(N)}catch(M){O=!0,A=!!M&&M||new Error(M)}if(O)return this.unsubscribe(),A}_unsubscribe(){const N=this.id,T=this.scheduler,O=T.actions,A=O.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==A&&O.splice(A,1),null!=N&&(this.id=this.recycleAsyncId(T,N,null)),this.delay=null}}},2268:(L,P,E)=>{E.d(P,{v:()=>V});let l=(()=>{class W{constructor(N,T=W.now){this.SchedulerAction=N,this.now=T}schedule(N,T=0,O){return new this.SchedulerAction(this,N).schedule(O,T)}}return W.now=()=>Date.now(),W})();class V extends l{constructor(z,N=l.now){super(z,()=>V.delegate&&V.delegate!==this?V.delegate.now():N()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(z,N=0,T){return V.delegate&&V.delegate!==this?V.delegate.schedule(z,N,T):super.schedule(z,N,T)}flush(z){const{actions:N}=this;if(this.active)return void N.push(z);let T;this.active=!0;do{if(T=z.execute(z.state,z.delay))break}while(z=N.shift());if(this.active=!1,T){for(;z=N.shift();)z.unsubscribe();throw T}}}},353:(L,P,E)=>{E.d(P,{P:()=>z});var l=E(6686);const z=new(E(2268).v)(l.o)},341:(L,P,E)=>{E.d(P,{c:()=>T,N:()=>N});var l=E(6686),W=E(2268);const N=new class z extends W.v{}(class V extends l.o{constructor(A,M){super(A,M),this.scheduler=A,this.work=M}schedule(A,M=0){return M>0?super.schedule(A,M):(this.delay=M,this.state=A,this.scheduler.flush(this),this)}execute(A,M){return M>0||this.closed?super.execute(A,M):this._execute(A,M)}requestAsyncId(A,M,b=0){return null!==b&&b>0||null===b&&this.delay>0?super.requestAsyncId(A,M,b):A.flush(this)}}),T=N},5430:(L,P,E)=>{E.d(P,{hZ:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(L,P,E)=>{E.d(P,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(L,P,E)=>{E.d(P,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(L,P,E)=>{E.d(P,{N:()=>V});const V=(()=>{function W(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return W.prototype=Object.create(Error.prototype),W})()},2782:(L,P,E)=>{function l(V){setTimeout(()=>{throw V},0)}E.d(P,{z:()=>l})},5379:(L,P,E)=>{function l(V){return V}E.d(P,{y:()=>l})},6688:(L,P,E)=>{E.d(P,{k:()=>l});const l=Array.isArray||(V=>V&&"number"==typeof V.length)},8515:(L,P,E)=>{E.d(P,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},7043:(L,P,E)=>{function l(V){return"function"==typeof V}E.d(P,{m:()=>l})},7830:(L,P,E)=>{function l(V){return null!==V&&"object"==typeof V}E.d(P,{K:()=>l})},8955:(L,P,E)=>{function l(V){return!!V&&"function"!=typeof V.subscribe&&"function"==typeof V.then}E.d(P,{t:()=>l})},2866:(L,P,E)=>{function l(V){return V&&"function"==typeof V.schedule}E.d(P,{K:()=>l})},9249:(L,P,E)=>{E.d(P,{s:()=>B});var l=E(3650),V=E(2782),z=E(5430),T=E(3821),A=E(8515),M=E(8955),b=E(7830);const B=F=>{if(F&&"function"==typeof F[T.L])return(F=>j=>{const me=F[T.L]();if("function"!=typeof me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return me.subscribe(j)})(F);if((0,A.z)(F))return(0,l.V)(F);if((0,M.t)(F))return(F=>j=>(F.then(me=>{j.closed||(j.next(me),j.complete())},me=>j.error(me)).then(null,V.z),j))(F);if(F&&"function"==typeof F[z.hZ])return(F=>j=>{const me=F[z.hZ]();for(;;){let $;try{$=me.next()}catch(X){return j.error(X),j}if($.done){j.complete();break}if(j.next($.value),j.closed)break}return"function"==typeof me.return&&j.add(()=>{me.return&&me.return()}),j})(F);{const me=`You provided ${(0,b.K)(F)?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(me)}}},3650:(L,P,E)=>{E.d(P,{V:()=>l});const l=V=>W=>{for(let z=0,N=V.length;z<N&&!W.closed;z++)W.next(V[z]);W.complete()}},448:(L,P,E)=>{E.d(P,{D:()=>N});var l=E(3489);class V extends l.L{constructor(O,A,M){super(),this.parent=O,this.outerValue=A,this.outerIndex=M,this.index=0}_next(O){this.parent.notifyNext(this.outerValue,O,this.outerIndex,this.index++,this)}_error(O){this.parent.notifyError(O,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var W=E(9249),z=E(2916);function N(T,O,A,M,b=new V(T,A,M)){if(!b.closed)return O instanceof z.y?O.subscribe(b):(0,W.s)(O)(b)}},4650:(L,P,E)=>{E.d(P,{$8M:()=>Tu,AFp:()=>Ph,ALo:()=>no,AaK:()=>A,AsE:()=>kf,BQk:()=>bf,CHM:()=>lu,CZH:()=>Pn,CqO:()=>oa,D6c:()=>Sb,EJc:()=>vi,EpF:()=>um,F4k:()=>dm,FYo:()=>hh,FiY:()=>tr,G48:()=>lb,GfV:()=>y_,Gpc:()=>B,JOm:()=>It,KtG:()=>hy,LFG:()=>Vt,LSH:()=>Qu,Lbi:()=>De,NdJ:()=>aa,OlP:()=>ot,Oqu:()=>vc,PiD:()=>Fi,Q6J:()=>dc,QGY:()=>Sf,QbO:()=>Qe,Qsj:()=>cE,R0b:()=>dr,RDi:()=>LC,Rgc:()=>Oa,SBq:()=>Sa,TTD:()=>Ga,TgZ:()=>fc,WLB:()=>T_,X6Q:()=>ab,Xpm:()=>Wr,Y36:()=>oi,YNc:()=>wf,Yjl:()=>Ua,Yz7:()=>wt,ZZ4:()=>hC,_Bn:()=>dh,_UZ:()=>Af,_c5:()=>Ab,_uU:()=>Om,aQg:()=>pC,cJS:()=>fr,cg1:()=>ha,dDg:()=>JA,dqk:()=>he,eFA:()=>EA,ekj:()=>yc,eoX:()=>yA,g9A:()=>Oh,h0i:()=>yi,hGG:()=>bb,hM9:()=>oA,hij:()=>Dc,ifc:()=>et,ip1:()=>zt,kL8:()=>bc,lG2:()=>po,lcZ:()=>Gr,lri:()=>mA,n5z:()=>lp,oAB:()=>Ir,oxw:()=>Pf,qLn:()=>Es,qOj:()=>hf,qZA:()=>mi,rWj:()=>_A,sBO:()=>cb,sIi:()=>Bs,s_b:()=>Hc,soG:()=>ln,tBr:()=>Ln,tp0:()=>To,uIk:()=>mf,vHH:()=>$,vpe:()=>br,wAp:()=>Ae,xp6:()=>ri,ynx:()=>hc,z2F:()=>J_,zSh:()=>Rl,zs3:()=>yr});var l=E(8929),V=E(2654),W=E(2916),z=E(7138),N=E(6606);function T(e){for(let t in e)if(e[t]===T)return t;throw Error("Could not find renamed property on target object.")}function O(e,t){for(const s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=t[s])}function A(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(A).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const s=t.indexOf("\n");return-1===s?t:t.substring(0,s)}function M(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const b=T({__forward_ref__:T});function B(e){return e.__forward_ref__=B,e.toString=function(){return A(this())},e}function F(e){return j(e)?e():e}function j(e){return"function"==typeof e&&e.hasOwnProperty(b)&&e.__forward_ref__===B}class $ extends Error{constructor(t,s){super(function X(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,s)),this.code=t}}function q(e){return"string"==typeof e?e:null==e?"":String(e)}function Ke(e,t){throw new $(-201,!1)}function nn(e,t){null==e&&function ze(e,t,s,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${s} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function wt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yt(e){return Di(e,Ei)||Di(e,Ci)}function Di(e,t){return e.hasOwnProperty(t)?e[t]:null}function Va(e){return e&&(e.hasOwnProperty(Mr)||e.hasOwnProperty(uo))?e[Mr]:null}const Ei=T({\u0275prov:T}),Mr=T({\u0275inj:T}),Ci=T({ngInjectableDef:T}),uo=T({ngInjectorDef:T});var Ie=(()=>((Ie=Ie||{})[Ie.Default=0]="Default",Ie[Ie.Host=1]="Host",Ie[Ie.Self=2]="Self",Ie[Ie.SkipSelf=4]="SkipSelf",Ie[Ie.Optional=8]="Optional",Ie))();let ts;function yn(e){const t=ts;return ts=e,t}function wi(e,t,s){const o=Yt(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:s&Ie.Optional?null:void 0!==t?t:void Ke(A(e))}function qn(e){return{toString:e}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),et=(()=>{return(e=et||(et={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",et;var e})();const he=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qn={},Re=[],Tr=T({\u0275cmp:T}),sn=T({\u0275dir:T}),Ai=T({\u0275pipe:T}),_t=T({\u0275mod:T}),Un=T({\u0275fac:T}),Ze=T({__NG_ELEMENT_ID__:T});let Yc=0;function Wr(e){return qn(()=>{const s=!0===e.standalone,o={},c={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Re,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||et.Emulated,id:"c"+Yc++,styles:e.styles||Re,_:null,setInput:null,schemas:e.schemas||null,tView:null},u=e.dependencies,f=e.features;return c.inputs=is(e.inputs,o),c.outputs=is(e.outputs),f&&f.forEach(h=>h(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(Kr).filter(Ha):null,c.pipeDefs=u?()=>("function"==typeof u?u():u).map(Zt).filter(Ha):null,c})}function Kr(e){return tt(e)||Ht(e)}function Ha(e){return null!==e}const ho={};function Ir(e){return qn(()=>{const t={type:e.type,bootstrap:e.bootstrap||Re,declarations:e.declarations||Re,imports:e.imports||Re,exports:e.exports||Re,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ho[e.id]=e.type),t})}function is(e,t){if(null==e)return Qn;const s={};for(const o in e)if(e.hasOwnProperty(o)){let c=e[o],u=c;Array.isArray(c)&&(u=c[1],c=c[0]),s[c]=o,t&&(t[c]=u)}return s}const po=Wr;function Ua(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function tt(e){return e[Tr]||null}function Ht(e){return e[sn]||null}function Zt(e){return e[Ai]||null}function Dt(e){return Array.isArray(e)&&"object"==typeof e[1]}function On(e){return Array.isArray(e)&&!0===e[1]}function w(e){return 0!=(8&e.flags)}function H(e){return 2==(2&e.flags)}function R(e){return 1==(1&e.flags)}function U(e){return null!==e.template}function ee(e){return 0!=(256&e[2])}function Mi(e,t){return e.hasOwnProperty(Un)?e[Un]:null}class Vh{constructor(t,s,o){this.previousValue=t,this.currentValue=s,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ga(){return Bh}function Bh(e){return e.type.prototype.ngOnChanges&&(e.setInput=iy),ry}function ry(){const e=Ka(this),t=e?.current;if(t){const s=e.previous;if(s===Qn)e.previous=t;else for(let o in t)s[o]=t[o];e.current=null,this.ngOnChanges(t)}}function iy(e,t,s,o){const c=Ka(e)||function sy(e,t){return e[Wa]=t}(e,{previous:Qn,current:null}),u=c.current||(c.current={}),f=c.previous,h=this.declaredInputs[s],g=f[h];u[h]=new Vh(g&&g.currentValue,t,f===Qn),e[o]=t}Ga.ngInherit=!0;const Wa="__ngSimpleChanges__";function Ka(e){return e[Wa]||null}let Uh;function LC(e){Uh=e}function Mt(e){return!!e.listen}const ly={createRenderer:(e,t)=>{throw new Error("Renderer3 disabled")}};function Lt(e){for(;Array.isArray(e);)e=e[0];return e}function Ya(e,t){return Lt(t[e])}function fn(e,t){return Lt(t[e.index])}function Za(e,t){return e.data[t]}function xn(e,t){const s=t[e];return Dt(s)?s:s[0]}function iu(e){return 64==(64&e[2])}function Xn(e,t){return null==t?null:e[t]}function su(e){e[18]=0}function Qa(e,t){e[5]+=t;let s=e,o=e[3];for(;null!==o&&(1===t&&1===s[5]||-1===t&&0===s[5]);)o[5]+=t,s=o,o=o[3]}const Pe={lFrame:yy(null),bindingsEnabled:!0};function zh(){return Pe.bindingsEnabled}function Q(){return Pe.lFrame.lView}function $e(){return Pe.lFrame.tView}function lu(e){return Pe.lFrame.contextLView=e,e[8]}function hy(e){return Pe.lFrame.contextLView=null,e}function bt(){let e=Ja();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ja(){return Pe.lFrame.currentTNode}function er(e,t){const s=Pe.lFrame;s.currentTNode=e,s.isParent=t}function Xa(){return Pe.lFrame.isParent}function cu(){Pe.lFrame.isParent=!1}function hn(){const e=Pe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function us(){return Pe.lFrame.bindingIndex++}function Nr(e){const t=Pe.lFrame,s=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,s}function VC(e,t){const s=Pe.lFrame;s.bindingIndex=s.bindingRootIndex=e,du(t)}function du(e){Pe.lFrame.currentDirectiveIndex=e}function pu(e){Pe.lFrame.currentQueryIndex=e}function Zh(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function gu(e,t,s){if(s&Ie.SkipSelf){let c=t,u=e;for(;!(c=c.parent,null!==c||s&Ie.Host||(c=Zh(u),null===c||(u=u[15],10&c.type))););if(null===c)return!1;t=c,e=u}const o=Pe.lFrame=mu();return o.currentTNode=t,o.lView=e,!0}function _o(e){const t=mu(),s=e[1];Pe.lFrame=t,t.currentTNode=s.firstChild,t.lView=e,t.tView=s,t.contextLView=e,t.bindingIndex=s.bindingStartIndex,t.inI18n=!1}function mu(){const e=Pe.lFrame,t=null===e?null:e.child;return null===t?yy(e):t}function yy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function qh(){const e=Pe.lFrame;return Pe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vy=qh;function _u(){const e=qh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pn(){return Pe.lFrame.selectedIndex}function Ti(e){Pe.lFrame.selectedIndex=e}function Tt(){const e=Pe.lFrame;return Za(e.tView,e.selectedIndex)}function vu(e,t){for(let s=t.directiveStart,o=t.directiveEnd;s<o;s++){const u=e.data[s].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:h,ngAfterViewInit:g,ngAfterViewChecked:m,ngOnDestroy:v}=u;f&&(e.contentHooks||(e.contentHooks=[])).push(-s,f),h&&((e.contentHooks||(e.contentHooks=[])).push(s,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(s,h)),g&&(e.viewHooks||(e.viewHooks=[])).push(-s,g),m&&((e.viewHooks||(e.viewHooks=[])).push(s,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(s,m)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(s,v)}}function Du(e,t,s){Ay(e,t,3,s)}function Eu(e,t,s,o){(3&e[2])===s&&Ay(e,t,s,o)}function Cu(e,t){let s=e[2];(3&s)===t&&(s&=2047,s+=1,e[2]=s)}function Ay(e,t,s,o){const u=o??-1,f=t.length-1;let h=0;for(let g=void 0!==o?65535&e[18]:0;g<f;g++)if("number"==typeof t[g+1]){if(h=t[g],null!=o&&h>=o)break}else t[g]<0&&(e[18]+=65536),(h<u||-1==u)&&(by(e,s,t,g),e[18]=(4294901760&e[18])+g+2),g++}function by(e,t,s,o){const c=s[o]<0,u=s[o+1],h=e[c?-s[o]:s[o]];if(c){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(h)}finally{}}}else try{u.call(h)}finally{}}class tl{constructor(t,s,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=o}}function wu(e,t,s){const o=Mt(e);let c=0;for(;c<s.length;){const u=s[c];if("number"==typeof u){if(0!==u)break;c++;const f=s[c++],h=s[c++],g=s[c++];o?e.setAttribute(t,h,g,f):t.setAttributeNS(f,h,g)}else{const f=u,h=s[++c];Au(f)?o&&e.setProperty(t,f,h):o?e.setAttribute(t,f,h):t.setAttribute(f,h),c++}}return c}function My(e){return 3===e||4===e||6===e}function Au(e){return 64===e.charCodeAt(0)}function bu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let s=-1;for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:0===s||Su(e,s,c,null,-1===s||2===s?t[++o]:null)}}return e}function Su(e,t,s,o,c){let u=0,f=e.length;if(-1===t)f=-1;else for(;u<e.length;){const h=e[u++];if("number"==typeof h){if(h===t){f=-1;break}if(h>t){f=u-1;break}}}for(;u<e.length;){const h=e[u];if("number"==typeof h)break;if(h===s){if(null===o)return void(null!==c&&(e[u+1]=c));if(o===e[u+1])return void(e[u+2]=c)}u++,null!==o&&u++,null!==c&&u++}-1!==f&&(e.splice(f,0,t),u=f+1),e.splice(u++,0,s),null!==o&&e.splice(u++,0,o),null!==c&&e.splice(u++,0,c)}function ep(e){return-1!==e}function Dn(e){return 32767&e}function yo(e,t){let s=function jC(e){return e>>16}(e),o=t;for(;s>0;)o=o[15],s--;return o}let tp=!0;function vo(e){const t=tp;return tp=e,t}let $C=0;const Rr={};function rl(e,t){const s=rp(e,t);if(-1!==s)return s;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,np(o.data,e),np(t,null),np(o.blueprint,null));const c=Do(e,t),u=e.injectorIndex;if(ep(c)){const f=Dn(c),h=yo(c,t),g=h[1].data;for(let m=0;m<8;m++)t[u+m]=h[f+m]|g[f+m]}return t[u+8]=c,u}function np(e,t){e.push(0,0,0,0,0,0,0,0,t)}function rp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Do(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,o=null,c=t;for(;null!==c;){if(o=up(c),null===o)return-1;if(s++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|s<<16}return-1}function Qr(e,t,s){!function GC(e,t,s){let o;"string"==typeof s?o=s.charCodeAt(0)||0:s.hasOwnProperty(Ze)&&(o=s[Ze]),null==o&&(o=s[Ze]=$C++);const c=255&o;t.data[e+(c>>5)]|=1<<c}(e,t,s)}function il(e,t,s){if(s&Ie.Optional)return e;Ke()}function Oy(e,t,s,o){if(s&Ie.Optional&&void 0===o&&(o=null),0==(s&(Ie.Self|Ie.Host))){const c=e[9],u=yn(void 0);try{return c?c.get(t,o,s&Ie.Optional):wi(t,o,s&Ie.Optional)}finally{yn(u)}}return il(o,0,s)}function Mu(e,t,s,o=Ie.Default,c){if(null!==e){if(1024&t[2]){const f=function xy(e,t,s,o,c){let u=e,f=t;for(;null!==u&&null!==f&&1024&f[2]&&!(256&f[2]);){const h=sp(u,f,s,o|Ie.Self,Rr);if(h!==Rr)return h;let g=u.parent;if(!g){const m=f[21];if(m){const v=m.get(s,Rr,o);if(v!==Rr)return v}g=up(f),f=f[15]}u=g}return c}(e,t,s,o,Rr);if(f!==Rr)return f}const u=sp(e,t,s,o,Rr);if(u!==Rr)return u}return Oy(t,s,o,c)}function sp(e,t,s,o,c){const u=function Ny(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ze)?e[Ze]:void 0;return"number"==typeof t?t>=0?255&t:Ry:t}(s);if("function"==typeof u){if(!gu(t,e,o))return o&Ie.Host?il(c,0,o):Oy(t,s,o,c);try{const f=u(o);if(null!=f||o&Ie.Optional)return f;Ke()}finally{vy()}}else if("number"==typeof u){let f=null,h=rp(e,t),g=-1,m=o&Ie.Host?t[16][6]:null;for((-1===h||o&Ie.SkipSelf)&&(g=-1===h?Do(e,t):t[h+8],-1!==g&&ap(o,!1)?(f=t[1],h=Dn(g),t=yo(g,t)):h=-1);-1!==h;){const v=t[1];if(op(u,h,v.data)){const C=Fy(h,t,s,f,o,m);if(C!==Rr)return C}g=t[h+8],-1!==g&&ap(o,t[1].data[h+8]===m)&&op(u,h,t)?(f=v,h=Dn(g),t=yo(g,t)):h=-1}}return c}function Fy(e,t,s,o,c,u){const f=t[1],h=f.data[e+8],v=function sl(e,t,s,o,c){const u=e.providerIndexes,f=t.data,h=1048575&u,g=e.directiveStart,v=u>>20,I=c?h+v:e.directiveEnd;for(let k=o?h:h+v;k<I;k++){const Y=f[k];if(k<g&&s===Y||k>=g&&Y.type===s)return k}if(c){const k=f[g];if(k&&U(k)&&k.type===s)return g}return null}(h,f,s,null==o?H(h)&&tp:o!=f&&0!=(3&h.type),c&Ie.Host&&u===h);return null!==v?Eo(t,f,v,h):Rr}function Eo(e,t,s,o){let c=e[s];const u=t.data;if(function BC(e){return e instanceof tl}(c)){const f=c;f.resolving&&function re(e,t){const s=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new $(-200,`Circular dependency in DI detected for ${e}${s}`)}(function K(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():q(e)}(u[s]));const h=vo(f.canSeeViewProviders);f.resolving=!0;const g=f.injectImpl?yn(f.injectImpl):null;gu(e,o,Ie.Default);try{c=e[s]=f.factory(void 0,u,e,o),t.firstCreatePass&&s>=o.directiveStart&&function Jh(e,t,s){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:u}=t.type.prototype;if(o){const f=Bh(t);(s.preOrderHooks||(s.preOrderHooks=[])).push(e,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(e,f)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-e,c),u&&((s.preOrderHooks||(s.preOrderHooks=[])).push(e,u),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(e,u))}(s,u[s],t)}finally{null!==g&&yn(g),vo(h),f.resolving=!1,vy()}}return c}function op(e,t,s){return!!(s[t+(e>>5)]&1<<e)}function ap(e,t){return!(e&Ie.Self||e&Ie.Host&&t)}class ds{constructor(t,s){this._tNode=t,this._lView=s}get(t,s,o){return Mu(this._tNode,this._lView,t,o,s)}}function Ry(){return new ds(bt(),Q())}function lp(e){return qn(()=>{const t=e.prototype.constructor,s=t[Un]||cp(t),o=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==o;){const u=c[Un]||cp(c);if(u&&u!==s)return u;c=Object.getPrototypeOf(c)}return u=>new u})}function cp(e){return j(e)?()=>{const t=cp(F(e));return t&&t()}:Mi(e)}function up(e){const t=e[1],s=t.type;return 2===s?t.declTNode:1===s?e[6]:null}function Tu(e){return function ip(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const s=e.attrs;if(s){const o=s.length;let c=0;for(;c<o;){const u=s[c];if(My(u))break;if(0===u)c+=2;else if("number"==typeof u)for(c++;c<o&&"string"==typeof s[c];)c++;else{if(u===t)return s[c+1];c+=2}}}return null}(bt(),e)}const hs="__parameters__";function gs(e,t,s){return qn(()=>{const o=function Iu(e){return function(...s){if(e){const o=e(...s);for(const c in o)this[c]=o[c]}}}(t);function c(...u){if(this instanceof c)return o.apply(this,u),this;const f=new c(...u);return h.annotation=f,h;function h(g,m,v){const C=g.hasOwnProperty(hs)?g[hs]:Object.defineProperty(g,hs,{value:[]})[hs];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(f),g}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}class ot{constructor(t,s){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=wt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _r(e,t){e.forEach(s=>Array.isArray(s)?_r(s,t):t(s))}function ol(e,t,s){t>=e.length?e.push(s):e.splice(t,0,s)}function ms(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function jn(e,t,s){let o=$n(e,t);return o>=0?e[1|o]=s:(o=~o,function Fu(e,t,s,o){let c=e.length;if(c==t)e.push(s,o);else if(1===c)e.push(o,e[0]),e[0]=s;else{for(c--,e.push(e[c-1],e[c]);c>t;)e[c]=e[c-2],c--;e[t]=s,e[t+1]=o}}(e,o,t,s)),o}function Nu(e,t){const s=$n(e,t);if(s>=0)return e[1|s]}function $n(e,t){return function hp(e,t,s){let o=0,c=e.length>>s;for(;c!==o;){const u=o+(c-o>>1),f=e[u<<s];if(t===f)return u<<s;f>t?c=u:o=u+1}return~(c<<s)}(e,t,1)}const bo={},So="__NG_DI_FLAG__",Oi="ngTempTokenPath",Mo=/\n/gm,ul="__source";let Gn;function _s(e){const t=Gn;return Gn=e,t}function dl(e,t=Ie.Default){if(void 0===Gn)throw new $(-203,!1);return null===Gn?wi(e,void 0,t):Gn.get(e,t&Ie.Optional?null:void 0,t)}function Vt(e,t=Ie.Default){return(function un(){return ts}()||dl)(F(e),t)}function Ru(e){const t=[];for(let s=0;s<e.length;s++){const o=F(e[s]);if(Array.isArray(o)){if(0===o.length)throw new $(900,!1);let c,u=Ie.Default;for(let f=0;f<o.length;f++){const h=o[f],g=Jr(h);"number"==typeof g?-1===g?c=h.token:u|=g:c=h}t.push(Vt(c,u))}else t.push(Vt(o))}return t}function vs(e,t){return e[So]=t,e.prototype[So]=t,e}function Jr(e){return e[So]}const Ln=vs(gs("Inject",e=>({token:e})),-1),tr=vs(gs("Optional"),8),Fi=vs(gs("Self"),2),To=vs(gs("SkipSelf"),4);class Mp{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ei(e){return e instanceof Mp?e.changingThisBreaksApplicationSecurity:e}const cw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var yt=(()=>((yt=yt||{})[yt.NONE=0]="NONE",yt[yt.HTML=1]="HTML",yt[yt.STYLE=2]="STYLE",yt[yt.SCRIPT=3]="SCRIPT",yt[yt.URL=4]="URL",yt[yt.RESOURCE_URL=5]="RESOURCE_URL",yt))();function Qu(e){const t=function on(){const e=Q();return e&&e[12]}();return t?t.sanitize(yt.URL,e)||"":function Oo(e,t){const s=function qy(e){return e instanceof Mp&&e.getTypeName()||null}(e);if(null!=s&&s!==t){if("ResourceURL"===s&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===t}(e,"URL")?ei(e):function _l(e){return(e=String(e)).match(cw)||e.match(uw)?e:"unsafe:"+e}(q(e))}function Ju(e){return e.ngOriginalError}class Es{constructor(){this._console=console}handleError(t){const s=this._findOriginalError(t);this._console.error("ERROR",t),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(t){let s=t&&Ju(t);for(;s&&Ju(s);)s=Ju(s);return s||null}}const ed=new Map;let pv=0;const nd="__ngContext__";function an(e,t){Dt(t)?(e[nd]=t[20],function mv(e){ed.set(e[20],e)}(t)):e[nd]=t}function Ro(e){const t=e[nd];return"number"==typeof t?function td(e){return ed.get(e)||null}(t):t||null}function rd(e){const t=Ro(e);return t?Dt(t)?t:t.lView:null}const sd=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(he))();var It=(()=>((It=It||{})[It.Important=1]="Important",It[It.DashCase=2]="DashCase",It))();function Lo(e,t){return undefined(e,t)}function ko(e){const t=e[3];return On(t)?t[3]:t}function As(e){return Sl(e[13])}function Vo(e){return Sl(e[4])}function Sl(e){for(;null!==e&&!On(e);)e=e[4];return e}function bs(e,t,s,o,c){if(null!=o){let u,f=!1;On(o)?u=o:Dt(o)&&(f=!0,o=o[0]);const h=Lt(o);0===e&&null!==s?null==c?Jp(t,s,h):Vi(t,s,h,c||null,!0):1===e&&null!==s?Vi(t,s,h,c||null,!0):2===e?function hd(e,t,s){const o=Il(e,t);o&&function xr(e,t,s,o){Mt(e)?e.removeChild(t,s,o):t.removeChild(s)}(e,o,t,s)}(t,h,f):3===e&&t.destroyNode(h),null!=u&&function sg(e,t,s,o,c){const u=s[7];u!==Lt(s)&&bs(t,e,o,u,c);for(let h=10;h<s.length;h++){const g=s[h];Bi(g[1],g,e,t,o,u)}}(t,e,u,s,c)}}function ld(e,t,s){if(Mt(e))return e.createElement(t,s);{const o=null!==s?function xC(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(s):null;return null===o?e.createElement(t):e.createElementNS(o,t)}}function Bo(e,t){const s=e[9],o=s.indexOf(t),c=t[3];512&t[2]&&(t[2]&=-513,Qa(c,-1)),s.splice(o,1)}function qp(e,t){if(e.length<=10)return;const s=10+t,o=e[s];if(o){const c=o[17];null!==c&&c!==e&&Bo(c,o),t>0&&(e[s-1][4]=o[4]);const u=ms(e,10+t);!function Jt(e,t){Bi(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const f=u[19];null!==f&&f.detachView(u[1]),o[3]=null,o[4]=null,o[2]&=-65}return o}function Qp(e,t){if(!(128&t[2])){const s=t[11];Mt(s)&&s.destroyNode&&Bi(e,t,s,3,null,null),function qe(e){let t=e[13];if(!t)return Tl(e[1],e);for(;t;){let s=null;if(Dt(t))s=t[13];else{const o=t[10];o&&(s=o)}if(!s){for(;t&&!t[4]&&t!==e;)Dt(t)&&Tl(t[1],t),t=t[3];null===t&&(t=e),Dt(t)&&Tl(t[1],t),s=t&&t[4]}t=s}}(t)}}function Tl(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Mv(e,t){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let o=0;o<s.length;o+=2){const c=t[s[o]];if(!(c instanceof tl)){const u=s[o+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){const h=c[u[f]],g=u[f+1];try{g.call(h)}finally{}}else try{u.call(c)}finally{}}}}(e,t),function Sv(e,t){const s=e.cleanup,o=t[7];let c=-1;if(null!==s)for(let u=0;u<s.length-1;u+=2)if("string"==typeof s[u]){const f=s[u+1],h="function"==typeof f?f(t):Lt(t[f]),g=o[c=s[u+2]],m=s[u+3];"boolean"==typeof m?h.removeEventListener(s[u],g,m):m>=0?o[c=m]():o[c=-m].unsubscribe(),u+=2}else{const f=o[c=s[u+1]];s[u].call(f)}if(null!==o){for(let u=c+1;u<o.length;u++)o[u]();t[7]=null}}(e,t),1===t[1].type&&Mt(t[11])&&t[11].destroy();const s=t[17];if(null!==s&&On(t[3])){s!==t[3]&&Bo(s,t);const o=t[19];null!==o&&o.detachView(e)}!function Cl(e){ed.delete(e[20])}(t)}}function Tv(e,t,s){return function ud(e,t,s){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return s[0];if(2&o.flags){const c=e.data[o.directiveStart].encapsulation;if(c===et.None||c===et.Emulated)return null}return fn(o,s)}(e,t.parent,s)}function Vi(e,t,s,o,c){Mt(e)?e.insertBefore(t,s,o,c):(Ye(t)?t.content:t).insertBefore(s,o,c)}function Jp(e,t,s){Mt(e)?e.appendChild(t,s):(Ye(t)?t.content:t).appendChild(s)}function dd(e,t,s,o,c){null!==o?Vi(e,t,s,o,c):Jp(e,t,s)}function Ye(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}function Il(e,t){return Mt(e)?e.parentNode(t):t.parentNode}let tg=function eg(e,t,s){return 40&e.type?fn(e,s):null};function Pl(e,t,s,o){const c=Tv(e,o,t),u=t[11],h=function Xp(e,t,s){return tg(e,t,s)}(o.parent||t[6],o,t);if(null!=c)if(Array.isArray(s))for(let g=0;g<s.length;g++)dd(u,c,s[g],h,!1);else dd(u,c,s,h,!1)}function Ol(e,t){if(null!==t){const s=t.type;if(3&s)return fn(t,e);if(4&s)return Ho(-1,e[t.index]);if(8&s){const o=t.child;if(null!==o)return Ol(e,o);{const c=e[t.index];return On(c)?Ho(-1,c):Lt(c)}}if(32&s)return Lo(t,e)()||Lt(e[t.index]);{const o=rg(e,t);return null!==o?Array.isArray(o)?o[0]:Ol(ko(e[16]),o):Ol(e,t.next)}}return null}function rg(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ho(e,t){const s=10+e+1;if(s<t.length){const o=t[s],c=o[1].firstChild;if(null!==c)return Ol(o,c)}return t[7]}function Ss(e,t,s,o,c,u,f){for(;null!=s;){const h=o[s.index],g=s.type;if(f&&0===t&&(h&&an(Lt(h),o),s.flags|=4),64!=(64&s.flags))if(8&g)Ss(e,t,s.child,o,c,u,!1),bs(t,e,c,h,u);else if(32&g){const m=Lo(s,o);let v;for(;v=m();)bs(t,e,c,v,u);bs(t,e,c,h,u)}else 16&g?pd(e,t,o,s,c,u):bs(t,e,c,h,u);s=f?s.projectionNext:s.next}}function Bi(e,t,s,o,c,u){Ss(s,o,e.firstChild,t,c,u,!1)}function pd(e,t,s,o,c,u){const f=s[16],g=f[6].projection[o.projection];if(Array.isArray(g))for(let m=0;m<g.length;m++)bs(t,e,c,g[m],u);else Ss(e,t,g,f[3],c,u,!0)}function Fl(e,t,s){Mt(e)?e.setAttribute(t,"style",s):t.style.cssText=s}function gd(e,t,s){Mt(e)?""===s?e.removeAttribute(t,"class"):e.setAttribute(t,"class",s):t.className=s}function ag(e,t,s){let o=e.length;for(;;){const c=e.indexOf(t,s);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const u=t.length;if(c+u===o||e.charCodeAt(c+u)<=32)return c}s=c+1}}const md="ng-template";function yw(e,t,s){let o=0;for(;o<e.length;){let c=e[o++];if(s&&"class"===c){if(c=e[o],-1!==ag(c.toLowerCase(),t,0))return!0}else if(1===c){for(;o<e.length&&"string"==typeof(c=e[o++]);)if(c.toLowerCase()===t)return!0;return!1}}return!1}function _d(e){return 4===e.type&&e.value!==md}function Pv(e,t,s){return t===(4!==e.type||s?e.value:md)}function Lr(e,t,s){let o=4;const c=e.attrs||[],u=function Dw(e){for(let t=0;t<e.length;t++)if(My(e[t]))return t;return e.length}(c);let f=!1;for(let h=0;h<t.length;h++){const g=t[h];if("number"!=typeof g){if(!f)if(4&o){if(o=2|1&o,""!==g&&!Pv(e,g,s)||""===g&&1===t.length){if(Wn(o))return!1;f=!0}}else{const m=8&o?g:t[++h];if(8&o&&null!==e.attrs){if(!yw(e.attrs,m,s)){if(Wn(o))return!1;f=!0}continue}const C=Ov(8&o?"class":g,c,_d(e),s);if(-1===C){if(Wn(o))return!1;f=!0;continue}if(""!==m){let I;I=C>u?"":c[C+1].toLowerCase();const k=8&o?I:null;if(k&&-1!==ag(k,m,0)||2&o&&m!==I){if(Wn(o))return!1;f=!0}}}}else{if(!f&&!Wn(o)&&!Wn(g))return!1;if(f&&Wn(g))continue;f=!1,o=g|1&o}}return Wn(o)||f}function Wn(e){return 0==(1&e)}function Ov(e,t,s,o){if(null===t)return-1;let c=0;if(o||!s){let u=!1;for(;c<t.length;){const f=t[c];if(f===e)return c;if(3===f||6===f)u=!0;else{if(1===f||2===f){let h=t[++c];for(;"string"==typeof h;)h=t[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=u?1:2}return-1}return function Fv(e,t){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const o=e[s];if("number"==typeof o)return-1;if(o===t)return s;s++}return-1}(t,e)}function cg(e,t,s=!1){for(let o=0;o<t.length;o++)if(Lr(e,t[o],s))return!0;return!1}function ni(e,t){return e?":not("+t.trim()+")":t}function Ms(e){let t=e[0],s=1,o=2,c="",u=!1;for(;s<e.length;){let f=e[s];if("string"==typeof f)if(2&o){const h=e[++s];c+="["+f+(h.length>0?'="'+h+'"':"")+"]"}else 8&o?c+="."+f:4&o&&(c+=" "+f);else""!==c&&!Wn(f)&&(t+=ni(u,c),c=""),o=f,u=u||!Wn(o);s++}return""!==c&&(t+=ni(u,c)),t}const ke={};function ri(e){Rv($e(),Q(),pn()+e,!1)}function Rv(e,t,s,o){if(!o)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&Du(t,u,s)}else{const u=e.preOrderHooks;null!==u&&Eu(t,u,0,s)}Ti(s)}const dg=new ot("ENVIRONMENT_INITIALIZER"),fg=new ot("INJECTOR_DEF_TYPES");function xv(...e){return{\u0275providers:hg(0,e)}}function hg(e,...t){const s=[],o=new Set;let c;return _r(t,u=>{const f=u;$t(f,s,[],o)&&(c||(c=[]),c.push(f))}),void 0!==c&&pg(c,s),s}function pg(e,t){for(let s=0;s<e.length;s++){const{providers:c}=e[s];_r(c,u=>{t.push(u)})}}function $t(e,t,s,o){if(!(e=F(e)))return!1;let c=null,u=Va(e);const f=!u&&tt(e);if(u||f){if(f&&!f.standalone)return!1;c=e}else{const g=e.ngModule;if(u=Va(g),!u)return!1;c=g}const h=o.has(c);if(f){if(h)return!1;if(o.add(c),f.dependencies){const g="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const m of g)$t(m,t,s,o)}}else{if(!u)return!1;{if(null!=u.imports&&!h){let m;o.add(c);try{_r(u.imports,v=>{$t(v,t,s,o)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&pg(m,t)}if(!h){const m=Mi(c)||(()=>new c);t.push({provide:c,useFactory:m,deps:Re},{provide:fg,useValue:c,multi:!0},{provide:dg,useValue:()=>Vt(c),multi:!0})}const g=u.providers;null==g||h||_r(g,v=>{t.push(v)})}}return c!==e&&void 0!==e.providers}const Lv=T({provide:String,useValue:T});function Cd(e){return null!==e&&"object"==typeof e&&Lv in e}function kr(e){return"function"==typeof e}const Nl=new ot("INJECTOR",-1);class Ad{get(t,s=bo){if(s===bo){const o=new Error(`NullInjectorError: No provider for ${A(t)}!`);throw o.name="NullInjectorError",o}return s}}const Rl=new ot("Set Injector scope."),xl={},_g={};let Ll;function bd(){return void 0===Ll&&(Ll=new Ad),Ll}class $o{}class yg extends $o{constructor(t,s,o,c){super(),this.parent=s,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kl(t,f=>this.processProvider(f)),this.records.set(Nl,wn(void 0,this)),c.has("environment")&&this.records.set($o,wn(void 0,this));const u=this.records.get(Rl);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(fg.multi,Re,Ie.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}get(t,s=bo,o=Ie.Default){this.assertNotDestroyed();const c=_s(this),u=yn(void 0);try{if(!(o&Ie.SkipSelf)){let h=this.records.get(t);if(void 0===h){const g=function Ui(e){return"function"==typeof e||"object"==typeof e&&e instanceof ot}(t)&&Yt(t);h=g&&this.injectableDefInScope(g)?wn(Sd(t),xl):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(o&Ie.Self?bd():this.parent).get(t,s=o&Ie.Optional&&s===bo?null:s)}catch(f){if("NullInjectorError"===f.name){if((f[Oi]=f[Oi]||[]).unshift(A(t)),c)throw f;return function vp(e,t,s,o){const c=e[Oi];throw t[ul]&&c.unshift(t[ul]),e.message=function Dp(e,t,s,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=A(t);if(Array.isArray(t))c=t.map(A).join(" -> ");else if("object"==typeof t){let u=[];for(let f in t)if(t.hasOwnProperty(f)){let h=t[f];u.push(f+":"+("string"==typeof h?JSON.stringify(h):A(h)))}c=`{${u.join(", ")}}`}return`${s}${o?"("+o+")":""}[${c}]: ${e.replace(Mo,"\n  ")}`}("\n"+e.message,c,s,o),e.ngTokenPath=c,e[Oi]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{yn(u),_s(c)}}resolveInjectorInitializers(){const t=_s(this),s=yn(void 0);try{const o=this.get(dg.multi,Re,Ie.Self);for(const c of o)c()}finally{_s(t),yn(s)}}toString(){const t=[],s=this.records;for(const o of s.keys())t.push(A(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(t){let s=kr(t=F(t))?t:F(t&&t.provide);const o=function Me(e){return Cd(e)?wn(void 0,e.useValue):wn(ht(e),xl)}(t);if(kr(t)||!0!==t.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=wn(void 0,xl,!0),c.factory=()=>Ru(c.multi),this.records.set(s,c)),s=t,c.multi.push(t)}this.records.set(s,o)}hydrate(t,s){return s.value===xl&&(s.value=_g,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(t){if(!t.providedIn)return!1;const s=F(t.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Sd(e){const t=Yt(e),s=null!==t?t.factory:Mi(e);if(null!==s)return s;if(e instanceof ot)throw new $(204,!1);if(e instanceof Function)return function kv(e){const t=e.length;if(t>0)throw function Pi(e,t){const s=[];for(let o=0;o<e;o++)s.push(t);return s}(t,"?"),new $(204,!1);const s=function co(e){const t=e&&(e[Ei]||e[Ci]);if(t){const s=function zc(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),t}return null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new $(204,!1)}function ht(e,t,s){let o;if(kr(e)){const c=F(e);return Mi(c)||Sd(c)}if(Cd(e))o=()=>F(e.useValue);else if(function Be(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Ru(e.deps||[]));else if(function mg(e){return!(!e||!e.useExisting)}(e))o=()=>Vt(F(e.useExisting));else{const c=F(e&&(e.useClass||e.provide));if(!function vg(e){return!!e.deps}(e))return Mi(c)||Sd(c);o=()=>new c(...Ru(e.deps))}return o}function wn(e,t,s=!1){return{factory:e,value:t,multi:s?[]:void 0}}function Aw(e){return!!e.\u0275providers}function kl(e,t){for(const s of e)Array.isArray(s)?kl(s,t):Aw(s)?kl(s.\u0275providers,t):t(s)}function Ts(e,t=null,s=null,o){const c=Dg(e,t,s,o);return c.resolveInjectorInitializers(),c}function Dg(e,t=null,s=null,o,c=new Set){const u=[s||Re,xv(e)];return o=o||("object"==typeof e?void 0:A(e)),new yg(u,t||bd(),o||null,c)}let yr=(()=>{class e{static create(s,o){if(Array.isArray(s))return Ts({name:""},o,s,"");{const c=s.name??"";return Ts({name:c},s.parent,s.providers,c)}}}return e.THROW_IF_NOT_FOUND=bo,e.NULL=new Ad,e.\u0275prov=wt({token:e,providedIn:"any",factory:()=>Vt(Nl)}),e.__NG_ELEMENT_ID__=-1,e})();function oi(e,t=Ie.Default){const s=Q();return null===s?Vt(e,t):Mu(bt(),s,F(e),t)}function Yo(e,t){return e<<17|t<<2}function Kn(e){return e>>17&32767}function Wl(e){return 2|e}function vr(e){return(131068&e)>>2}function ji(e,t){return-131069&e|t<<2}function Kl(e){return 1|e}function Pg(e,t){const s=e.contentQueries;if(null!==s)for(let o=0;o<s.length;o+=2){const c=s[o],u=s[o+1];if(-1!==u){const f=e.data[u];pu(c),f.contentQueries(2,t[u],u)}}}function qo(e,t,s,o,c,u,f,h,g,m,v){const C=t.blueprint.slice();return C[0]=c,C[2]=76|o,(null!==v||e&&1024&e[2])&&(C[2]|=1024),su(C),C[3]=C[15]=e,C[8]=s,C[10]=f||e&&e[10],C[11]=h||e&&e[11],C[12]=g||e&&e[12]||null,C[9]=m||e&&e[9]||null,C[6]=u,C[20]=function gv(){return pv++}(),C[21]=v,C[16]=2==t.type?e[16]:C,C}function Rs(e,t,s,o,c){let u=e.data[t];if(null===u)u=function ql(e,t,s,o,c){const u=Ja(),f=Xa(),g=e.data[t]=function Jv(e,t,s,o,c,u){return{type:s,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?u:u&&u.parent,s,t,o,c);return null===e.firstChild&&(e.firstChild=g),null!==u&&(f?null==u.child&&null!==g.parent&&(u.child=g):null===u.next&&(u.next=g)),g}(e,t,s,o,c),function uu(){return Pe.lFrame.inI18n}()&&(u.flags|=64);else if(64&u.type){u.type=s,u.value=o,u.attrs=c;const f=function mo(){const e=Pe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===f?-1:f.injectorIndex}return er(u,!0),u}function xs(e,t,s,o){if(0===s)return-1;const c=t.length;for(let u=0;u<s;u++)t.push(o),e.blueprint.push(o),e.data.push(null);return c}function Qo(e,t,s){_o(t);try{const o=e.viewQuery;null!==o&&rf(1,o,s);const c=e.template;null!==c&&Yd(e,t,c,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Pg(e,t),e.staticViewQueries&&rf(2,e.viewQuery,s);const u=e.components;null!==u&&function Xt(e,t){for(let s=0;s<t.length;s++)Tn(e,t[s])}(t,u)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,_u()}}function Wi(e,t,s,o){const c=t[2];if(128!=(128&c)){_o(t);try{su(t),function Yh(e){return Pe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&Yd(e,t,s,2,o);const f=3==(3&c);if(f){const m=e.preOrderCheckHooks;null!==m&&Du(t,m,null)}else{const m=e.preOrderHooks;null!==m&&Eu(t,m,0,null),Cu(t,0)}if(function jg(e){for(let t=As(e);null!==t;t=Vo(t)){if(!t[2])continue;const s=t[9];for(let o=0;o<s.length;o++){const c=s[o],u=c[3];0==(512&c[2])&&Qa(u,1),c[2]|=512}}}(t),function Fw(e){for(let t=As(e);null!==t;t=Vo(t))for(let s=10;s<t.length;s++){const o=t[s],c=o[1];iu(o)&&Wi(c,o,c.template,o[8])}}(t),null!==e.contentQueries&&Pg(e,t),f){const m=e.contentCheckHooks;null!==m&&Du(t,m)}else{const m=e.contentHooks;null!==m&&Eu(t,m,1),Cu(t,1)}!function qv(e,t){const s=e.hostBindingOpCodes;if(null!==s)try{for(let o=0;o<s.length;o++){const c=s[o];if(c<0)Ti(~c);else{const u=c,f=s[++o],h=s[++o];VC(f,u),h(2,t[u])}}}finally{Ti(-1)}}(e,t);const h=e.components;null!==h&&function Pw(e,t){for(let s=0;s<t.length;s++)Hr(e,t[s])}(t,h);const g=e.viewQuery;if(null!==g&&rf(2,g,o),f){const m=e.viewCheckHooks;null!==m&&Du(t,m)}else{const m=e.viewHooks;null!==m&&Eu(t,m,2),Cu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Qa(t[3],-1))}finally{_u()}}}function Og(e,t,s,o){const c=t[10],f=function $h(e){return 4==(4&e[2])}(t);try{!f&&c.begin&&c.begin(),f&&Qo(e,t,o),Wi(e,t,s,o)}finally{!f&&c.end&&c.end()}}function Yd(e,t,s,o,c){const u=pn(),f=2&o;try{Ti(-1),f&&t.length>22&&Rv(e,t,22,!1),s(o,c)}finally{Ti(u)}}function Zd(e,t,s){if(w(t)){const c=t.directiveEnd;for(let u=t.directiveStart;u<c;u++){const f=e.data[u];f.contentQueries&&f.contentQueries(1,s[u],u)}}}function Ql(e,t,s){!zh()||(function sD(e,t,s,o){const c=s.directiveStart,u=s.directiveEnd;e.firstCreatePass||rl(s,t),an(o,t);const f=s.initialInputs;for(let h=c;h<u;h++){const g=e.data[h],m=U(g);m&&Hg(t,s,g);const v=Eo(t,e,h,s);an(v,t),null!==f&&Ug(0,h-c,v,g,0,f),m&&(xn(s.index,t)[8]=v)}}(e,t,s,fn(s,t)),128==(128&s.flags)&&function oD(e,t,s){const o=s.directiveStart,c=s.directiveEnd,u=s.index,f=function _y(){return Pe.lFrame.currentDirectiveIndex}();try{Ti(u);for(let h=o;h<c;h++){const g=e.data[h],m=t[h];du(h),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&Vg(g,m)}}finally{Ti(-1),du(f)}}(e,t,s))}function qd(e,t,s=fn){const o=t.localNames;if(null!==o){let c=t.index+1;for(let u=0;u<o.length;u+=2){const f=o[u+1],h=-1===f?s(t,e):e[f];e[c++]=h}}}function Fg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Jo(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Jo(e,t,s,o,c,u,f,h,g,m){const v=22+o,C=v+c,I=function Qv(e,t){const s=[];for(let o=0;o<t;o++)s.push(o<e?null:ke);return s}(v,C),k="function"==typeof m?m():m;return I[1]={type:e,blueprint:I,template:s,queries:null,viewQuery:h,declTNode:t,data:I.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:g,consts:k,incompleteFirstPass:!1}}function Qd(e,t,s){for(let o in e)if(e.hasOwnProperty(o)){const c=e[o];(s=null===s?{}:s).hasOwnProperty(o)?s[o].push(t,c):s[o]=[t,c]}return s}function Xo(e,t,s,o){let c=!1;if(zh()){const u=function ea(e,t,s){const o=e.directiveRegistry;let c=null;if(o)for(let u=0;u<o.length;u++){const f=o[u];cg(s,f.selectors,!1)&&(c||(c=[]),Qr(rl(s,t),e,f.type),U(f)?(Jl(e,s),c.unshift(f)):c.push(f))}return c}(e,t,s),f=null===o?null:{"":-1};if(null!==u){c=!0,Xd(s,e.data.length,u.length);for(let v=0;v<u.length;v++){const C=u[v];C.providersResolver&&C.providersResolver(C)}let h=!1,g=!1,m=xs(e,t,u.length,null);for(let v=0;v<u.length;v++){const C=u[v];s.mergedAttrs=bu(s.mergedAttrs,C.hostAttrs),ef(e,s,t,m,C),Bg(m,C,f),null!==C.contentQueries&&(s.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(s.flags|=128);const I=C.type.prototype;!h&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(s.index),h=!0),!g&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(s.index),g=!0),m++}!function Xv(e,t){const o=t.directiveEnd,c=e.data,u=t.attrs,f=[];let h=null,g=null;for(let m=t.directiveStart;m<o;m++){const v=c[m],C=v.inputs,I=null===u||_d(t)?null:aD(C,u);f.push(I),h=Qd(C,m,h),g=Qd(v.outputs,m,g)}null!==h&&(h.hasOwnProperty("class")&&(t.flags|=16),h.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=f,t.inputs=h,t.outputs=g}(e,s)}f&&function Jd(e,t,s){if(t){const o=e.localNames=[];for(let c=0;c<t.length;c+=2){const u=s[t[c+1]];if(null==u)throw new $(-301,!1);o.push(t[c],u)}}}(s,o,f)}return s.mergedAttrs=bu(s.mergedAttrs,s.attrs),c}function kg(e,t,s,o,c,u){const f=u.hostBindings;if(f){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const g=~t.index;(function iD(e){let t=e.length;for(;t>0;){const s=e[--t];if("number"==typeof s&&s<0)return s}return 0})(h)!=g&&h.push(g),h.push(o,c,f)}}function Vg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Jl(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Bg(e,t,s){if(s){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)s[t.exportAs[o]]=e;U(t)&&(s[""]=e)}}function Xd(e,t,s){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+s,e.providerIndexes=t}function ef(e,t,s,o,c){e.data[o]=c;const u=c.factory||(c.factory=Mi(c.type)),f=new tl(u,U(c),oi);e.blueprint[o]=f,s[o]=f,kg(e,t,0,o,xs(e,s,c.hostVars,ke),c)}function Hg(e,t,s){const o=fn(t,e),c=Fg(s),u=e[10],f=ec(e,qo(e,c,null,s.onPush?32:16,o,t,u,u.createRenderer(o,s),null,null,null));e[t.index]=f}function ir(e,t,s,o,c,u){const f=fn(e,t);!function Xl(e,t,s,o,c,u,f){if(null==u)Mt(e)?e.removeAttribute(t,c,s):t.removeAttribute(c);else{const h=null==f?q(u):f(u,o||"",c);Mt(e)?e.setAttribute(t,c,h,s):s?t.setAttributeNS(s,c,h):t.setAttribute(c,h)}}(t[11],f,u,e.value,s,o,c)}function Ug(e,t,s,o,c,u){const f=u[t];if(null!==f){const h=o.setInput;for(let g=0;g<f.length;){const m=f[g++],v=f[g++],C=f[g++];null!==h?o.setInput(s,C,m,v):s[v]=C}}}function aD(e,t){let s=null,o=0;for(;o<t.length;){const c=t[o];if(0!==c)if(5!==c){if("number"==typeof c)break;e.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,e[c],t[o+1])),o+=2}else o+=2;else o+=4}return s}function lD(e,t,s,o){return new Array(e,!0,!1,t,null,0,o,s,null,null)}function Hr(e,t){const s=xn(t,e);if(iu(s)){const o=s[1];48&s[2]?Wi(o,s,o.template,s[8]):s[5]>0&&$g(s)}}function $g(e){for(let o=As(e);null!==o;o=Vo(o))for(let c=10;c<o.length;c++){const u=o[c];if(512&u[2]){const f=u[1];Wi(f,u,f.template,u[8])}else u[5]>0&&$g(u)}const s=e[1].components;if(null!==s)for(let o=0;o<s.length;o++){const c=xn(s[o],e);iu(c)&&c[5]>0&&$g(c)}}function Tn(e,t){const s=xn(t,e),o=s[1];(function ta(e,t){for(let s=t.length;s<e.blueprint.length;s++)t.push(e.blueprint[s])})(o,s),Qo(o,s,s[8])}function ec(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function na(e){for(;e;){e[2]|=32;const t=ko(e);if(ee(e)&&!t)return e;e=t}return null}function nf(e){!function tc(e){for(let t=0;t<e.components.length;t++){const s=e.components[t],o=rd(s);if(null!==o){const c=o[1];Og(c,o,c.template,s)}}}(e[8])}function rf(e,t,s){pu(0),t(e,s)}const uD=(()=>Promise.resolve(null))();function Gg(e){return e[7]||(e[7]=[])}function Wg(e){return e.cleanup||(e.cleanup=[])}function Kg(e,t){const s=e[9],o=s?s.get(Es,null):null;o&&o.handleError(t)}function zg(e,t,s,o,c){for(let u=0;u<s.length;){const f=s[u++],h=s[u++],g=t[f],m=e.data[f];null!==m.setInput?m.setInput(g,c,o,h):g[h]=c}}function Ur(e,t,s){const o=Ya(t,e);!function Yp(e,t,s){Mt(e)?e.setValue(t,s):t.textContent=s}(e[11],o,s)}function rc(e,t,s){let o=s?e.styles:null,c=s?e.classes:null,u=0;if(null!==t)for(let f=0;f<t.length;f++){const h=t[f];"number"==typeof h?u=h:1==u?c=M(c,h):2==u&&(o=M(o,h+": "+t[++f]+";"))}s?e.styles=o:e.stylesWithoutHost=o,s?e.classes=c:e.classesWithoutHost=c}function xw(){const e=bt();vu(Q()[1],e)}function hf(e){let t=function rm(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const o=[e];for(;t;){let c;if(U(e))c=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);c=t.\u0275dir}if(c){if(s){o.push(c);const f=e;f.inputs=pf(e.inputs),f.declaredInputs=pf(e.declaredInputs),f.outputs=pf(e.outputs);const h=c.hostBindings;h&&Er(e,h);const g=c.viewQuery,m=c.contentQueries;if(g&&Lw(e,g),m&&_D(e,m),O(e.inputs,c.inputs),O(e.declaredInputs,c.declaredInputs),O(e.outputs,c.outputs),U(c)&&c.data.animation){const v=e.data;v.animation=(v.animation||[]).concat(c.data.animation)}}const u=c.features;if(u)for(let f=0;f<u.length;f++){const h=u[f];h&&h.ngInherit&&h(e),h===hf&&(s=!1)}}t=Object.getPrototypeOf(t)}!function ac(e){let t=0,s=null;for(let o=e.length-1;o>=0;o--){const c=e[o];c.hostVars=t+=c.hostVars,c.hostAttrs=bu(c.hostAttrs,s=bu(s,c.hostAttrs))}}(o)}function pf(e){return e===Qn?{}:e===Re?[]:e}function Lw(e,t){const s=e.viewQuery;e.viewQuery=s?(o,c)=>{t(o,c),s(o,c)}:t}function _D(e,t){const s=e.contentQueries;e.contentQueries=s?(o,c,u)=>{t(o,c,u),s(o,c,u)}:t}function Er(e,t){const s=e.hostBindings;e.hostBindings=s?(o,c)=>{t(o,c),s(o,c)}:t}let lc=null;function pi(){if(!lc){const e=he.Symbol;if(e&&e.iterator)lc=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<t.length;++s){const o=t[s];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(lc=o)}}}return lc}function Bs(e){return!!ia(e)&&(Array.isArray(e)||!(e instanceof Map)&&pi()in e)}function ia(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yn(e,t,s){return e[t]=s}function Kt(e,t,s){return!Object.is(e[t],s)&&(e[t]=s,!0)}function Pt(e,t,s,o){const c=Kt(e,t,s);return Kt(e,t+1,o)||c}function mf(e,t,s,o){const c=Q();return Kt(c,us(),t)&&($e(),ir(Tt(),c,e,t,s,o)),mf}function zi(e,t,s,o,c,u){const h=Pt(e,function mr(){return Pe.lFrame.bindingIndex}(),s,c);return Nr(2),h?t+q(s)+o+q(c)+u:ke}function wf(e,t,s,o,c,u,f,h){const g=Q(),m=$e(),v=e+22,C=m.firstCreatePass?function lm(e,t,s,o,c,u,f,h,g){const m=t.consts,v=Rs(t,e,4,f||null,Xn(m,h));Xo(t,s,v,Xn(m,g)),vu(t,v);const C=v.tViews=Jo(2,v,o,c,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),C.queries=t.queries.embeddedTView(v)),v}(v,m,g,t,s,o,c,u,f):m.data[v];er(C,!1);const I=g[11].createComment("");Pl(m,g,I,C),an(I,g),ec(g,g[v]=lD(I,g,I,C)),R(C)&&Ql(m,g,C),null!=f&&qd(g,C,h)}function dc(e,t,s){const o=Q();return Kt(o,us(),t)&&function Bn(e,t,s,o,c,u,f,h){const g=fn(t,s);let v,m=t.inputs;!h&&null!=m&&(v=m[o])?(zg(e,s,v,o,c),H(t)&&function Lg(e,t){const s=xn(t,e);16&s[2]||(s[2]|=32)}(s,t.index)):3&t.type&&(o=function eD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),c=null!=f?f(c,t.value||"",o):c,Mt(u)?u.setProperty(g,o,c):Au(o)||(g.setProperty?g.setProperty(o,c):g[o]=c))}($e(),Tt(),o,e,t,o[11],s,!1),dc}function gi(e,t,s,o,c){const f=c?"class":"style";zg(e,s,t.inputs[f],f,o)}function fc(e,t,s,o){const c=Q(),u=$e(),f=22+e,h=c[11],g=c[f]=ld(h,t,function yu(){return Pe.lFrame.currentNamespace}()),m=u.firstCreatePass?function wD(e,t,s,o,c,u,f){const h=t.consts,m=Rs(t,e,2,c,Xn(h,u));return Xo(t,s,m,Xn(h,f)),null!==m.attrs&&rc(m,m.attrs,!1),null!==m.mergedAttrs&&rc(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(f,u,c,0,t,s,o):u.data[f];er(m,!0);const v=m.mergedAttrs;null!==v&&wu(h,g,v);const C=m.classes;null!==C&&gd(h,g,C);const I=m.styles;return null!==I&&Fl(h,g,I),64!=(64&m.flags)&&Pl(u,c,g,m),0===function au(){return Pe.lFrame.elementDepthCount}()&&an(g,c),function Wh(){Pe.lFrame.elementDepthCount++}(),R(m)&&(Ql(u,c,m),Zd(u,m,c)),null!==o&&qd(c,m),fc}function mi(){let e=bt();Xa()?cu():(e=e.parent,er(e,!1));const t=e;!function Kh(){Pe.lFrame.elementDepthCount--}();const s=$e();return s.firstCreatePass&&(vu(s,e),w(e)&&s.queries.elementEnd(e)),null!=t.classesWithoutHost&&function HC(e){return 0!=(16&e.flags)}(t)&&gi(s,t,Q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function UC(e){return 0!=(32&e.flags)}(t)&&gi(s,t,Q(),t.stylesWithoutHost,!1),mi}function Af(e,t,s,o){return fc(e,t,s,o),mi(),Af}function hc(e,t,s){const o=Q(),c=$e(),u=e+22,f=c.firstCreatePass?function AD(e,t,s,o,c){const u=t.consts,f=Xn(u,o),h=Rs(t,e,8,"ng-container",f);return null!==f&&rc(h,f,!0),Xo(t,s,h,Xn(u,c)),null!==t.queries&&t.queries.elementStart(t,h),h}(u,c,o,t,s):c.data[u];er(f,!0);const h=o[u]=o[11].createComment("");return Pl(c,o,h,f),an(h,o),R(f)&&(Ql(c,o,f),Zd(c,f,o)),null!=s&&qd(o,f),hc}function bf(){let e=bt();const t=$e();return Xa()?cu():(e=e.parent,er(e,!1)),t.firstCreatePass&&(vu(t,e),w(e)&&t.queries.elementEnd(e)),bf}function um(){return Q()}function Sf(e){return!!e&&"function"==typeof e.then}function dm(e){return!!e&&"function"==typeof e.subscribe}const oa=dm;function aa(e,t,s,o){const c=Q(),u=$e(),f=bt();return function Mf(e,t,s,o,c,u,f,h){const g=R(o),v=e.firstCreatePass&&Wg(e),C=t[8],I=Gg(t);let k=!0;if(3&o.type||h){const fe=fn(o,t),ye=h?h(fe):fe,Te=I.length,J=h?Ce=>h(Lt(Ce[o.index])):o.index;if(Mt(s)){let Ce=null;if(!h&&g&&(Ce=function fm(e,t,s,o){const c=e.cleanup;if(null!=c)for(let u=0;u<c.length-1;u+=2){const f=c[u];if(f===s&&c[u+1]===o){const h=t[7],g=c[u+2];return h.length>g?h[g]:null}"string"==typeof f&&(u+=2)}return null}(e,t,c,o.index)),null!==Ce)(Ce.__ngLastListenerFn__||Ce).__ngNextListenerFn__=u,Ce.__ngLastListenerFn__=u,k=!1;else{u=If(o,t,C,u,!1);const Xe=s.listen(ye,c,u);I.push(u,Xe),v&&v.push(c,J,Te,Te+1)}}else u=If(o,t,C,u,!0),ye.addEventListener(c,u,f),I.push(u),v&&v.push(c,J,Te,f)}else u=If(o,t,C,u,!1);const Y=o.outputs;let te;if(k&&null!==Y&&(te=Y[c])){const fe=te.length;if(fe)for(let ye=0;ye<fe;ye+=2){const Ct=t[te[ye]][te[ye+1]].subscribe(u),xa=I.length;I.push(u,Ct),v&&v.push(c,o.index,xa,-(xa+1))}}}(u,c,c[11],f,e,t,!!s,o),aa}function Tf(e,t,s,o){try{return!1!==s(o)}catch(c){return Kg(e,c),!1}}function If(e,t,s,o,c){return function u(f){if(f===Function)return o;na(2&e.flags?xn(e.index,t):t);let g=Tf(t,0,o,f),m=u.__ngNextListenerFn__;for(;m;)g=Tf(t,0,m,f)&&g,m=m.__ngNextListenerFn__;return c&&!1===g&&(f.preventDefault(),f.returnValue=!1),g}}function Pf(e=1){return function Dy(e){return(Pe.lFrame.contextLView=function Ey(e,t){for(;e>0;)t=t[15],e--;return t}(e,Pe.lFrame.contextLView))[8]}(e)}function Dm(e,t,s,o,c){const u=e[s+1],f=null===t;let h=o?Kn(u):vr(u),g=!1;for(;0!==h&&(!1===g||f);){const v=e[h+1];mc(e[h],t)&&(g=!0,e[h+1]=o?Kl(v):Wl(v)),h=o?Kn(v):vr(v)}g&&(e[s+1]=o?Wl(u):Kl(u))}function mc(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$n(e,t)>=0}function yc(e,t){return function lr(e,t,s,o){const c=Q(),u=$e(),f=Nr(2);u.firstUpdatePass&&function Sm(e,t,s,o){const c=e.data;if(null===c[s+1]){const u=c[pn()],f=function bm(e,t){return t>=e.expandoStartIndex}(e,s);(function cr(e,t){return 0!=(e.flags&(t?16:32))})(u,o)&&null===t&&!f&&(t=!1),t=function OD(e,t,s,o){const c=function fu(e){const t=Pe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=o?t.residualClasses:t.residualStyles;if(null===c)0===(o?t.classBindings:t.styleBindings)&&(s=ca(s=xf(null,e,t,s,o),t.attrs,o),u=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==c)if(s=xf(c,e,t,s,o),null===u){let g=function Bw(e,t,s){const o=s?t.classBindings:t.styleBindings;if(0!==vr(o))return e[Kn(o)]}(e,t,o);void 0!==g&&Array.isArray(g)&&(g=xf(null,e,t,g[1],o),g=ca(g,t.attrs,o),function Mm(e,t,s,o){e[Kn(s?t.classBindings:t.styleBindings)]=o}(e,t,o,g))}else u=function FD(e,t,s){let o;const c=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<c;u++)o=ca(o,e[u].hostAttrs,s);return ca(o,t.attrs,s)}(e,t,o)}return void 0!==u&&(o?t.residualClasses=u:t.residualStyles=u),s}(c,u,t,o),function TD(e,t,s,o,c,u){let f=u?t.classBindings:t.styleBindings,h=Kn(f),g=vr(f);e[o]=s;let v,m=!1;if(Array.isArray(s)){const C=s;v=C[1],(null===v||$n(C,v)>0)&&(m=!0)}else v=s;if(c)if(0!==g){const I=Kn(e[h+1]);e[o+1]=Yo(I,h),0!==I&&(e[I+1]=ji(e[I+1],o)),e[h+1]=function bg(e,t){return 131071&e|t<<17}(e[h+1],o)}else e[o+1]=Yo(h,0),0!==h&&(e[h+1]=ji(e[h+1],o)),h=o;else e[o+1]=Yo(g,0),0===h?h=o:e[g+1]=ji(e[g+1],o),g=o;m&&(e[o+1]=Wl(e[o+1])),Dm(e,v,o,!0),Dm(e,v,o,!1),function ID(e,t,s,o,c){const u=c?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&$n(u,t)>=0&&(s[o+1]=Kl(s[o+1]))}(t,v,e,o,u),f=Yo(h,g),u?t.classBindings=f:t.styleBindings=f}(c,u,t,s,f,o)}}(u,e,f,o),t!==ke&&Kt(c,f,t)&&function Im(e,t,s,o,c,u,f,h){if(!(3&t.type))return;const g=e.data,m=g[h+1];ua(function Hd(e){return 1==(1&e)}(m)?Pm(g,t,s,c,vr(m),f):void 0)||(ua(u)||function Bd(e){return 2==(2&e)}(m)&&(u=Pm(g,null,s,c,h,f)),function og(e,t,s,o,c){const u=Mt(e);if(t)c?u?e.addClass(s,o):s.classList.add(o):u?e.removeClass(s,o):s.classList.remove(o);else{let f=-1===o.indexOf("-")?void 0:It.DashCase;if(null==c)u?e.removeStyle(s,o,f):s.style.removeProperty(o);else{const h="string"==typeof c&&c.endsWith("!important");h&&(c=c.slice(0,-10),f|=It.Important),u?e.setStyle(s,o,c,f):s.style.setProperty(o,c,h?"important":"")}}}(o,f,Ya(pn(),s),c,u))}(u,u.data[pn()],c,c[11],e,c[f+1]=function Zi(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=A(ei(e)))),e}(t,s),o,f)}(e,t,null,!0),yc}function xf(e,t,s,o,c){let u=null;const f=s.directiveEnd;let h=s.directiveStylingLast;for(-1===h?h=s.directiveStart:h++;h<f&&(u=t[h],o=ca(o,u.hostAttrs,c),u!==e);)h++;return null!==e&&(s.directiveStylingLast=h),o}function ca(e,t,s){const o=s?1:2;let c=-1;if(null!==t)for(let u=0;u<t.length;u++){const f=t[u];"number"==typeof f?c=f:c===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),jn(e,f,!!s||t[++u]))}return void 0===e?null:e}function Pm(e,t,s,o,c,u){const f=null===t;let h;for(;c>0;){const g=e[c],m=Array.isArray(g),v=m?g[1]:g,C=null===v;let I=s[c+1];I===ke&&(I=C?Re:void 0);let k=C?Nu(I,o):v===o?I:void 0;if(m&&!ua(k)&&(k=Nu(g,o)),ua(k)&&(h=k,f))return h;const Y=e[c+1];c=f?Kn(Y):vr(Y)}if(null!==t){let g=u?t.residualClasses:t.residualStyles;null!=g&&(h=Nu(g,o))}return h}function ua(e){return void 0!==e}function Om(e,t=""){const s=Q(),o=$e(),c=e+22,u=o.firstCreatePass?Rs(o,c,1,t,null):o.data[c],f=s[c]=function ad(e,t){return Mt(e)?e.createText(t):e.createTextNode(t)}(s[11],t);Pl(o,s,f,u),er(u,!1)}function vc(e){return Dc("",e,""),vc}function Dc(e,t,s){const o=Q(),c=function Hs(e,t,s,o){return Kt(e,us(),s)?t+q(s)+o:ke}(o,e,t,s);return c!==ke&&Ur(o,pn(),c),Dc}function kf(e,t,s,o,c){const u=Q(),f=zi(u,e,t,s,o,c);return f!==ke&&Ur(u,pn(),f),kf}const Ft=void 0;var Ym=["en",[["a","p"],["AM","PM"],Ft],[["AM","PM"],Ft,Ft],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ft,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ft,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ft,"{1} 'at' {0}",Ft],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _i(e){const s=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let fa={};function ha(e){const t=function LD(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=pa(t);if(s)return s;const o=t.split("-")[0];if(s=pa(o),s)return s;if("en"===o)return Ym;throw new $(701,!1)}function bc(e){return ha(e)[Ae.PluralCase]}function pa(e){return e in fa||(fa[e]=he.ng&&he.ng.common&&he.ng.common.locales&&he.ng.common.locales[e]),fa[e]}var Ae=(()=>((Ae=Ae||{})[Ae.LocaleId=0]="LocaleId",Ae[Ae.DayPeriodsFormat=1]="DayPeriodsFormat",Ae[Ae.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ae[Ae.DaysFormat=3]="DaysFormat",Ae[Ae.DaysStandalone=4]="DaysStandalone",Ae[Ae.MonthsFormat=5]="MonthsFormat",Ae[Ae.MonthsStandalone=6]="MonthsStandalone",Ae[Ae.Eras=7]="Eras",Ae[Ae.FirstDayOfWeek=8]="FirstDayOfWeek",Ae[Ae.WeekendRange=9]="WeekendRange",Ae[Ae.DateFormat=10]="DateFormat",Ae[Ae.TimeFormat=11]="TimeFormat",Ae[Ae.DateTimeFormat=12]="DateTimeFormat",Ae[Ae.NumberSymbols=13]="NumberSymbols",Ae[Ae.NumberFormats=14]="NumberFormats",Ae[Ae.CurrencyCode=15]="CurrencyCode",Ae[Ae.CurrencySymbol=16]="CurrencySymbol",Ae[Ae.CurrencyName=17]="CurrencyName",Ae[Ae.Currencies=18]="Currencies",Ae[Ae.Directionality=19]="Directionality",Ae[Ae.PluralCase=20]="PluralCase",Ae[Ae.ExtraData=21]="ExtraData",Ae))();const ga="en-US";let Yf=ga;function lh(e,t,s,o,c){if(e=F(e),Array.isArray(e))for(let u=0;u<e.length;u++)lh(e[u],t,s,o,c);else{const u=$e(),f=Q();let h=kr(e)?e:F(e.provide),g=ht(e);const m=bt(),v=1048575&m.providerIndexes,C=m.directiveStart,I=m.providerIndexes>>20;if(kr(e)||!e.multi){const k=new tl(g,c,oi),Y=kc(h,t,c?v:v+I,C);-1===Y?(Qr(rl(m,f),u,h),Lc(u,e,t.length),t.push(h),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),s.push(k),f.push(k)):(s[Y]=k,f[Y]=k)}else{const k=kc(h,t,v+I,C),Y=kc(h,t,v,v+I),te=k>=0&&s[k],fe=Y>=0&&s[Y];if(c&&!fe||!c&&!te){Qr(rl(m,f),u,h);const ye=function nE(e,t,s,o,c){const u=new tl(e,s,oi);return u.multi=[],u.index=t,u.componentProviders=0,h_(u,c,o&&!s),u}(c?ch:tE,s.length,c,o,g);!c&&fe&&(s[Y].providerFactory=ye),Lc(u,e,t.length,0),t.push(h),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),s.push(ye),f.push(ye)}else Lc(u,e,k>-1?k:Y,h_(s[c?Y:k],g,!c&&o));!c&&o&&fe&&s[Y].componentProviders++}}}function Lc(e,t,s,o){const c=kr(t),u=function wd(e){return!!e.useClass}(t);if(c||u){const g=(u?F(t.useClass):t).prototype.ngOnDestroy;if(g){const m=e.destroyHooks||(e.destroyHooks=[]);if(!c&&t.multi){const v=m.indexOf(s);-1===v?m.push(s,[o,g]):m[v+1].push(o,g)}else m.push(s,g)}}}function h_(e,t,s){return s&&e.componentProviders++,e.multi.push(t)-1}function kc(e,t,s,o){for(let c=s;c<o;c++)if(t[c]===e)return c;return-1}function tE(e,t,s,o){return uh(this.multi,[])}function ch(e,t,s,o){const c=this.multi;let u;if(this.providerFactory){const f=this.providerFactory.componentProviders,h=Eo(s,s[1],this.providerFactory.index,o);u=h.slice(0,f),uh(c,u);for(let g=f;g<h.length;g++)u.push(h[g])}else u=[],uh(c,u);return u}function uh(e,t){for(let s=0;s<e.length;s++)t.push((0,e[s])());return t}function dh(e,t=[]){return s=>{s.providersResolver=(o,c)=>function f_(e,t,s){const o=$e();if(o.firstCreatePass){const c=U(e);lh(s,o.data,o.blueprint,c,!0),lh(t,o.data,o.blueprint,c,!1)}}(o,c?c(e):e,t)}}class sE{resolveComponentFactory(t){throw function rE(e){const t=Error(`No component factory found for ${A(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ba=(()=>{class e{}return e.NULL=new sE,e})();class yi{}class fh{}function aE(){return Ji(bt(),Q())}function Ji(e,t){return new Sa(fn(e,t))}let Sa=(()=>{class e{constructor(s){this.nativeElement=s}}return e.__NG_ELEMENT_ID__=aE,e})();class hh{}let cE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function uE(){const e=Q(),s=xn(bt().index,e);return function m_(e){return e[11]}(Dt(s)?s:e)}(),e})(),__=(()=>{class e{}return e.\u0275prov=wt({token:e,providedIn:"root",factory:()=>null}),e})();class y_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const v_=new y_("14.0.4"),ph={};function Ma(e,t,s,o,c=!1){for(;null!==s;){const u=t[s.index];if(null!==u&&o.push(Lt(u)),On(u))for(let h=10;h<u.length;h++){const g=u[h],m=g[1].firstChild;null!==m&&Ma(g[1],g,m,o)}const f=s.type;if(8&f)Ma(e,t,s.child,o);else if(32&f){const h=Lo(s,t);let g;for(;g=h();)o.push(g)}else if(16&f){const h=rg(t,s);if(Array.isArray(h))o.push(...h);else{const g=ko(t[16]);Ma(g[1],g,h,o,!0)}}s=c?s.projectionNext:s.next}return o}class Vc{constructor(t,s){this._lView=t,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,s=t[1];return Ma(s,t,s.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(On(t)){const s=t[8],o=s?s.indexOf(this):-1;o>-1&&(qp(t,o),ms(s,o))}this._attachedToViewContainer=!1}Qp(this._lView[1],this._lView)}onDestroy(t){!function xg(e,t,s,o){const c=Gg(t);null===s?c.push(o):(c.push(s),e.firstCreatePass&&Wg(e).push(o,c.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){na(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function tf(e,t,s){const o=t[10];o.begin&&o.begin();try{Wi(e,t,e.template,s)}catch(c){throw Kg(t,c),c}finally{o.end&&o.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ml(e,t){Bi(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t}}class nA extends Vc{constructor(t){super(t),this._view=t}detectChanges(){nf(this._view)}checkNoChanges(){}get context(){return null}}class D_ extends ba{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const s=tt(t);return new gh(s,this.ngModule)}}function E_(e){const t=[];for(let s in e)e.hasOwnProperty(s)&&t.push({propName:e[s],templateName:s});return t}class rA{constructor(t,s){this.injector=t,this.parentInjector=s}get(t,s,o){const c=this.injector.get(t,ph,o);return c!==ph||s===ph?c:this.parentInjector.get(t,s,o)}}class gh extends fh{constructor(t,s){super(),this.componentDef=t,this.ngModule=s,this.componentType=t.type,this.selector=function Hi(e){return e.map(Ms).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return E_(this.componentDef.inputs)}get outputs(){return E_(this.componentDef.outputs)}create(t,s,o,c){let u=(c=c||this.ngModule)instanceof $o?c:c?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const f=u?new rA(t,u):t,h=f.get(hh,ly),g=f.get(__,null),m=h.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=o?function Rg(e,t,s){if(Mt(e))return e.selectRootElement(t,s===et.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(m,o,this.componentDef.encapsulation):ld(h.createRenderer(null,this.componentDef),v,function C_(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),I=this.componentDef.onPush?288:272,k=function tm(e,t){return{components:[],scheduler:e||sd,clean:uD,playerHandler:t||null,flags:0}}(),Y=Jo(0,null,null,1,0,null,null,null,null,null),te=qo(null,Y,k,I,null,null,h,m,g,f,null);let fe,ye;_o(te);try{const Te=function Xg(e,t,s,o,c,u){const f=s[1];s[22]=e;const g=Rs(f,22,2,"#host",null),m=g.mergedAttrs=t.hostAttrs;null!==m&&(rc(g,m,!0),null!==e&&(wu(c,e,m),null!==g.classes&&gd(c,e,g.classes),null!==g.styles&&Fl(c,e,g.styles)));const v=o.createRenderer(e,t),C=qo(s,Fg(t),null,t.onPush?32:16,s[22],g,o,v,u||null,null,null);return f.firstCreatePass&&(Qr(rl(g,s),f,t.type),Jl(f,g),Xd(g,s.length,1)),ec(s,C),s[22]=C}(C,this.componentDef,te,h,m);if(C)if(o)wu(m,C,["ng-version",v_.full]);else{const{attrs:J,classes:Ce}=function Ew(e){const t=[],s=[];let o=1,c=2;for(;o<e.length;){let u=e[o];if("string"==typeof u)2===c?""!==u&&t.push(u,e[++o]):8===c&&s.push(u);else{if(!Wn(c))break;c=u}o++}return{attrs:t,classes:s}}(this.componentDef.selectors[0]);J&&wu(m,C,J),Ce&&Ce.length>0&&gd(m,C,Ce.join(" "))}if(ye=Za(Y,22),void 0!==s){const J=ye.projection=[];for(let Ce=0;Ce<this.ngContentSelectors.length;Ce++){const Xe=s[Ce];J.push(null!=Xe?Array.from(Xe):null)}}fe=function em(e,t,s,o,c){const u=s[1],f=function rD(e,t,s){const o=bt();e.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ef(e,o,t,xs(e,t,1,null),s));const c=Eo(t,e,o.directiveStart,o);an(c,t);const u=fn(o,t);return u&&an(u,t),c}(u,s,t);if(o.components.push(f),e[8]=f,null!==c)for(const g of c)g(f,t);if(t.contentQueries){const g=bt();t.contentQueries(1,f,g.directiveStart)}const h=bt();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ti(h.index),kg(s[1],h,0,h.directiveStart,h.directiveEnd,t),Vg(t,f)),f}(Te,this.componentDef,te,k,[xw]),Qo(Y,te,null)}finally{_u()}return new sA(this.componentType,fe,Ji(ye,te),te,ye)}}class sA extends class oE{}{constructor(t,s,o,c,u){super(),this.location=o,this._rootLView=c,this._tNode=u,this.instance=s,this.hostView=this.changeDetectorRef=new nA(c),this.componentType=t}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function oA(e,t){return new dE(e,t??null)}class dE extends yi{constructor(t,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new D_(this);const o=function vn(e,t){const s=e[_t]||null;if(!s&&!0===t)throw new Error(`Type ${A(e)} does not have '\u0275mod' property.`);return s}(t);this._bootstrapComponents=function rr(e){return e instanceof Function?e():e}(o.bootstrap),this._r3Injector=Dg(t,s,[{provide:yi,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],A(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(t)}get(t,s=yr.THROW_IF_NOT_FOUND,o=Ie.Default){return t===yr||t===yi||t===Nl?this:this._r3Injector.get(t,s,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class w_ extends class Qi{}{constructor(t){super(),this.moduleType=t}create(t){return new dE(this.moduleType,t)}}function T_(e,t,s,o,c){return function ur(e,t,s,o,c,u,f){const h=t+s;return Pt(e,h,c,u)?Yn(e,h+2,f?o.call(f,c,u):o(c,u)):Ta(e,h+2)}(Q(),hn(),e,t,s,o,c)}function Ta(e,t){const s=e[t];return s===ke?void 0:s}function no(e,t){const s=$e();let o;const c=e+22;s.firstCreatePass?(o=function F_(e,t){if(t)for(let s=t.length-1;s>=0;s--){const o=t[s];if(e===o.name)return o}}(t,s.pipeRegistry),s.data[c]=o,o.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,o.onDestroy)):o=s.data[c];const u=o.factory||(o.factory=Mi(o.type)),f=yn(oi);try{const h=vo(!1),g=u();return vo(h),function ED(e,t,s,o){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),t[s]=o}(s,Q(),c,g),g}finally{yn(f)}}function Gr(e,t,s){const o=e+22,c=Q(),u=function cs(e,t){return e[t]}(c,o);return function Pa(e,t){return e[1].data[t].pure}(c,o)?function _h(e,t,s,o,c,u){const f=t+s;return Kt(e,f,c)?Yn(e,f+1,u?o.call(u,c):o(c)):Ta(e,f+1)}(c,hn(),t,u.transform,s,u):u.transform(s)}function yh(e){return t=>{setTimeout(e,void 0,t)}}const br=class wE extends l.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,s,o){let c=t,u=s||(()=>null),f=o;if(t&&"object"==typeof t){const g=t;c=g.next?.bind(g),u=g.error?.bind(g),f=g.complete?.bind(g)}this.__isAsync&&(u=yh(u),c&&(c=yh(c)),f&&(f=yh(f)));const h=super.subscribe({next:c,error:u,complete:f});return t instanceof V.w&&t.add(h),h}};let Oa=(()=>{class e{}return e.__NG_ELEMENT_ID__=ME,e})();const bE=Oa,SE=class extends bE{constructor(t,s,o){super(),this._declarationLView=t,this._declarationTContainer=s,this.elementRef=o}createEmbeddedView(t,s){const o=this._declarationTContainer.tViews,c=qo(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(o)),Qo(o,c,t),new Vc(c)}};function ME(){return function Bc(e,t){return 4&e.type?new SE(t,e,Ji(e,t)):null}(bt(),Q())}let Hc=(()=>{class e{}return e.__NG_ELEMENT_ID__=N_,e})();function N_(){return function L_(e,t){let s;const o=t[e.index];if(On(o))s=o;else{let c;if(8&e.type)c=Lt(o);else{const u=t[11];c=u.createComment("");const f=fn(e,t);Vi(u,Il(u,f),c,function Iv(e,t){return Mt(e)?e.nextSibling(t):t.nextSibling}(u,f),!1)}t[e.index]=s=lD(o,t,c,e),ec(t,s)}return new R_(s,e,t)}(bt(),Q())}const TE=Hc,R_=class extends TE{constructor(t,s,o){super(),this._lContainer=t,this._hostTNode=s,this._hostLView=o}get element(){return Ji(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const t=Do(this._hostTNode,this._hostLView);if(ep(t)){const s=yo(t,this._hostLView),o=Dn(t);return new ds(s[1].data[o+8],s)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const s=x_(this._lContainer);return null!==s&&s[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,s,o){let c,u;"number"==typeof o?c=o:null!=o&&(c=o.index,u=o.injector);const f=t.createEmbeddedView(s||{},u);return this.insert(f,c),f}createComponent(t,s,o,c,u){const f=t&&!function wo(e){return"function"==typeof e}(t);let h;if(f)h=s;else{const C=s||{};h=C.index,o=C.injector,c=C.projectableNodes,u=C.environmentInjector||C.ngModuleRef}const g=f?t:new gh(tt(t)),m=o||this.parentInjector;if(!u&&null==g.ngModule){const I=(f?m:this.parentInjector).get($o,null);I&&(u=I)}const v=g.create(m,c,void 0,u);return this.insert(v.hostView,h),v}insert(t,s){const o=t._lView,c=o[1];if(function qa(e){return On(e[3])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=o[3],I=new R_(C,C[6],C[3]);I.detach(I.indexOf(t))}}const u=this._adjustIndex(s),f=this._lContainer;!function bv(e,t,s,o){const c=10+o,u=s.length;o>0&&(s[c-1][4]=t),o<u-10?(t[4]=s[c],ol(s,10+o,t)):(s.push(t),t[4]=null),t[3]=s;const f=t[17];null!==f&&s!==f&&function cd(e,t){const s=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===s?e[9]=[t]:s.push(t)}(f,t);const h=t[19];null!==h&&h.insertView(e),t[2]|=64}(c,o,f,u);const h=Ho(u,f),g=o[11],m=Il(g,f[7]);return null!==m&&function Zp(e,t,s,o,c,u){o[0]=c,o[6]=t,Bi(e,o,s,1,c,u)}(c,f[6],g,o,m,h),t.attachToViewContainerRef(),ol(Dh(f),u,t),t}move(t,s){return this.insert(t,s)}indexOf(t){const s=x_(this._lContainer);return null!==s?s.indexOf(t):-1}remove(t){const s=this._adjustIndex(t,-1),o=qp(this._lContainer,s);o&&(ms(Dh(this._lContainer),s),Qp(o[1],o))}detach(t){const s=this._adjustIndex(t,-1),o=qp(this._lContainer,s);return o&&null!=ms(Dh(this._lContainer),s)?new Vc(o):null}_adjustIndex(t,s=0){return t??this.length+s}};function x_(e){return e[8]}function Dh(e){return e[8]||(e[8]=[])}function je(...e){}const zt=new ot("Application Initializer");let Pn=(()=>{class e{constructor(s){this.appInits=s,this.resolve=je,this.reject=je,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const u=this.appInits[c]();if(Sf(u))s.push(u);else if(oa(u)){const f=new Promise((h,g)=>{u.subscribe({complete:h,error:g})});s.push(f)}}Promise.all(s).then(()=>{o()}).catch(c=>{this.reject(c)}),0===s.length&&o(),this.initialized=!0}}return e.\u0275fac=function(s){return new(s||e)(Vt(zt,8))},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ph=new ot("AppId",{providedIn:"root",factory:function so(){return`${jc()}${jc()}${jc()}`}});function jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Oh=new ot("Platform Initializer"),De=new ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Se=new ot("appBootstrapListener"),Qe=new ot("AnimationModuleType"),ln=new ot("LocaleId",{providedIn:"root",factory:()=>function yp(e,t=Ie.Default){return Vt(e,t)}(ln,Ie.Optional|Ie.SkipSelf)||function Sr(){return typeof $localize<"u"&&$localize.locale||ga}()}),vi=new ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Nh=(()=>Promise.resolve(0))();function rC(e){typeof Zone>"u"?Nh.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class dr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new br(!1),this.onMicrotaskEmpty=new br(!1),this.onStable=new br(!1),this.onError=new br(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&s,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function zA(){let e=he.requestAnimationFrame,t=he.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function qA(e){const t=()=>{!function ZA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(he,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,sC(e),e.isCheckStableRunning=!0,iC(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),sC(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,o,c,u,f,h)=>{try{return pA(e),s.invokeTask(c,u,f,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),gA(e)}},onInvoke:(s,o,c,u,f,h,g)=>{try{return pA(e),s.invoke(c,u,f,h,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),gA(e)}},onHasTask:(s,o,c,u)=>{s.hasTask(c,u),o===c&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,sC(e),iC(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(s,o,c,u)=>(s.handleError(c,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dr.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(dr.isInAngularZone())throw new $(909,!1)}run(t,s,o){return this._inner.run(t,s,o)}runTask(t,s,o,c){const u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+c,t,YA,je,je);try{return u.runTask(f,s,o)}finally{u.cancelTask(f)}}runGuarded(t,s,o){return this._inner.runGuarded(t,s,o)}runOutsideAngular(t){return this._outer.run(t)}}const YA={};function iC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function pA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gA(e){e._nesting--,iC(e)}class QA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new br,this.onMicrotaskEmpty=new br,this.onStable=new br,this.onError=new br}run(t,s,o){return t.apply(s,o)}runGuarded(t,s,o){return t.apply(s,o)}runOutsideAngular(t){return t()}runTask(t,s,o,c){return t.apply(s,o)}}const mA=new ot(""),_A=new ot("");let oC,JA=(()=>{class e{constructor(s,o,c){this._ngZone=s,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oC||(function XA(e){oC=e}(c),c.addToWindow(o)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dr.assertNotInAngularZone(),rC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rC(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(s)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,o,c){let u=-1;o&&o>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==u),s(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:s,timeoutId:u,updateCb:c})}whenStable(s,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,o,c){return[]}}return e.\u0275fac=function(s){return new(s||e)(Vt(dr),Vt(yA),Vt(_A))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})(),yA=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,o){this._applications.set(s,o)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,o=!0){return oC?.findTestabilityInTree(this,s,o)??null}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),lo=null;const vA=new ot("AllowMultipleToken"),aC=new ot("PlatformDestroyListeners");function EA(e,t,s=[]){const o=`Platform: ${t}`,c=new ot(o);return(u=[])=>{let f=lC();if(!f||f.injector.get(vA,!1)){const h=[...s,...u,{provide:c,useValue:!0}];e?e(h):function nb(e){if(lo&&!lo.get(vA,!1))throw new $(400,!1);lo=e;const t=e.get(wA);(function DA(e){const t=e.get(Oh,null);t&&t.forEach(s=>s())})(e)}(function CA(e=[],t){return yr.create({name:t,providers:[{provide:Rl,useValue:"platform"},{provide:aC,useValue:new Set([()=>lo=null])},...e]})}(h,o))}return function ib(e){const t=lC();if(!t)throw new $(401,!1);return t}()}}function lC(){return lo?.get(wA)??null}let wA=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,o){const c=function sb(e,t){let s;return s="noop"===e?new QA:("zone.js"===e?void 0:e)||new dr(t),s}(o?.ngZone,function AA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(o)),u=[{provide:dr,useValue:c}];return c.run(()=>{const f=yr.create({providers:u,parent:this.injector,name:s.moduleType.name}),h=s.create(f),g=h.injector.get(Es,null);if(!g)throw new $(402,!1);return c.runOutsideAngular(()=>{const m=c.onError.subscribe({next:v=>{g.handleError(v)}});h.onDestroy(()=>{X_(this._modules,h),m.unsubscribe()})}),function bA(e,t,s){try{const o=s();return Sf(o)?o.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(g,c,()=>{const m=h.injector.get(Pn);return m.runInitializers(),m.donePromise.then(()=>(function Zm(e){nn(e,"Expected localeId to be defined"),"string"==typeof e&&(Yf=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(ln,ga)||ga),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,o=[]){const c=SA({},o);return function eb(e,t,s){const o=new w_(s);return Promise.resolve(o)}(0,0,s).then(u=>this.bootstrapModuleFactory(u,c))}_moduleDoBootstrap(s){const o=s.injector.get(J_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new $(403,!1);s.instance.ngDoBootstrap(o)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const s=this._injector.get(aC,null);s&&(s.forEach(o=>o()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(s){return new(s||e)(Vt(yr))},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function SA(e,t){return Array.isArray(t)?t.reduce(SA,e):{...e,...t}}let J_=(()=>{class e{constructor(s,o,c){this._zone=s,this._injector=o,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new W.y(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),f=new W.y(h=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{dr.assertNotInAngularZone(),rC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{dr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),m.unsubscribe()}});this.isStable=(0,z.T)(u,f.pipe((0,N.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,o){const c=s instanceof fh;if(!this._injector.get(Pn).done)throw!c&&function Na(e){const t=tt(e)||Ht(e)||Zt(e);return null!==t&&t.standalone}(s),new $(405,false);let f;f=c?s:this._injector.get(ba).resolveComponentFactory(s),this.componentTypes.push(f.componentType);const h=function tb(e){return e.isBoundToModule}(f)?void 0:this._injector.get(yi),m=f.create(yr.NULL,[],o||f.selector,h),v=m.location.nativeElement,C=m.injector.get(mA,null);return C?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),X_(this.components,m),C?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new $(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const o=s;this._views.push(o),o.attachToAppRef(this)}detachView(s){const o=s;X_(this._views,o),o.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Se,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>X_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new $(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(s){return new(s||e)(Vt(dr),Vt(yr),Vt(Es))},e.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function X_(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}let TA=!0,IA=!1;function ab(){return IA=!0,TA}function lb(){if(IA)throw new Error("Cannot enable prod mode after platform setup.");TA=!1}let cb=(()=>{class e{}return e.__NG_ELEMENT_ID__=ub,e})();function ub(e){return function db(e,t,s){if(H(e)&&!s){const o=xn(e.index,t);return new Vc(o,o)}return 47&e.type?new Vc(t[16],t):null}(bt(),Q(),16==(16&e))}class NA{constructor(){}supports(t){return Bs(t)}create(t){return new _b(t)}}const mb=(e,t)=>t;class _b{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mb}forEachItem(t){let s;for(s=this._itHead;null!==s;s=s._next)t(s)}forEachOperation(t){let s=this._itHead,o=this._removalsHead,c=0,u=null;for(;s||o;){const f=!o||s&&s.currentIndex<xA(o,c,u)?s:o,h=xA(f,c,u),g=f.currentIndex;if(f===o)c--,o=o._nextRemoved;else if(s=s._next,null==f.previousIndex)c++;else{u||(u=[]);const m=h-c,v=g-c;if(m!=v){for(let I=0;I<m;I++){const k=I<u.length?u[I]:u[I]=0,Y=k+I;v<=Y&&Y<m&&(u[I]=k+1)}u[f.previousIndex]=v-m}}h!==g&&t(f,h,g)}}forEachPreviousItem(t){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachMovedItem(t){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}forEachIdentityChange(t){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)t(s)}diff(t){if(null==t&&(t=[]),!Bs(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let c,u,f,s=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)u=t[h],f=this._trackByFn(h,u),null!==s&&Object.is(s.trackById,f)?(o&&(s=this._verifyReinsertion(s,u,f,h)),Object.is(s.item,u)||this._addIdentityChange(s,u)):(s=this._mismatch(s,u,f,h),o=!0),s=s._next}else c=0,function om(e,t){if(Array.isArray(e))for(let s=0;s<e.length;s++)t(e[s]);else{const s=e[pi()]();let o;for(;!(o=s.next()).done;)t(o.value)}}(t,h=>{f=this._trackByFn(c,h),null!==s&&Object.is(s.trackById,f)?(o&&(s=this._verifyReinsertion(s,h,f,c)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,f,c),o=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,s,o,c){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._reinsertAfter(t,u,c)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._moveAfter(t,u,c)):t=this._addAfter(new yb(s,o),u,c),t}_verifyReinsertion(t,s,o,c){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==u?t=this._reinsertAfter(u,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;null!==t;){const s=t._next;this._addToRemovals(this._unlink(t)),t=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,s,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const c=t._prevRemoved,u=t._nextRemoved;return null===c?this._removalsHead=u:c._nextRemoved=u,null===u?this._removalsTail=c:u._prevRemoved=c,this._insertAfter(t,s,o),this._addToMoves(t,o),t}_moveAfter(t,s,o){return this._unlink(t),this._insertAfter(t,s,o),this._addToMoves(t,o),t}_addAfter(t,s,o){return this._insertAfter(t,s,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,s,o){const c=null===s?this._itHead:s._next;return t._next=c,t._prev=s,null===c?this._itTail=t:c._prev=t,null===s?this._itHead=t:s._next=t,null===this._linkedRecords&&(this._linkedRecords=new RA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const s=t._prev,o=t._next;return null===s?this._itHead=o:s._next=o,null===o?this._itTail=s:o._prev=s,t}_addToMoves(t,s){return t.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,s){return t.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yb{constructor(t,s){this.item=t,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vb{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,s){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===s||s<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const s=t._prevDup,o=t._nextDup;return null===s?this._head=o:s._nextDup=o,null===o?this._tail=s:o._prevDup=s,null===this._head}}class RA{constructor(){this.map=new Map}put(t){const s=t.trackById;let o=this.map.get(s);o||(o=new vb,this.map.set(s,o)),o.add(t)}get(t,s){const c=this.map.get(t);return c?c.get(t,s):null}remove(t){const s=t.trackById;return this.map.get(s).remove(t)&&this.map.delete(s),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xA(e,t,s){const o=e.previousIndex;if(null===o)return o;let c=0;return s&&o<s.length&&(c=s[o]),o+t+c}class LA{constructor(){}supports(t){return t instanceof Map||ia(t)}create(){return new Db}}class Db{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let s;for(s=this._mapHead;null!==s;s=s._next)t(s)}forEachPreviousItem(t){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)t(s)}forEachChangedItem(t){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}diff(t){if(t){if(!(t instanceof Map||ia(t)))throw new $(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,o),this._appendAfter=s,s=s._next;else{const u=this._getOrCreateRecordForKey(c,o);s=this._insertBeforeOrAppend(s,u)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let o=s;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,s){if(t){const o=t._prev;return s._next=t,s._prev=o,t._prev=s,o&&(o._next=s),t===this._mapHead&&(this._mapHead=s),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(t,s){if(this._records.has(t)){const c=this._records.get(t);this._maybeAddToChanges(c,s);const u=c._prev,f=c._next;return u&&(u._next=f),f&&(f._prev=u),c._next=null,c._prev=null,c}const o=new Eb(t);return this._records.set(t,o),o.currentValue=s,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,s){Object.is(s,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=s,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,s){t instanceof Map?t.forEach(s):Object.keys(t).forEach(o=>s(t[o],o))}}class Eb{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new hC([new NA])}let hC=(()=>{class e{constructor(s){this.factories=s}static create(s,o){if(null!=o){const c=o.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:o=>e.create(s,o||kA()),deps:[[e,new To,new tr]]}}find(s){const o=this.factories.find(c=>c.supports(s));if(null!=o)return o;throw new $(901,!1)}}return e.\u0275prov=wt({token:e,providedIn:"root",factory:kA}),e})();function VA(){return new pC([new LA])}let pC=(()=>{class e{constructor(s){this.factories=s}static create(s,o){if(o){const c=o.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:o=>e.create(s,o||VA()),deps:[[e,new To,new tr]]}}find(s){const o=this.factories.find(c=>c.supports(s));if(o)return o;throw new $(901,!1)}}return e.\u0275prov=wt({token:e,providedIn:"root",factory:VA}),e})();const Ab=EA(null,"core",[]);let bb=(()=>{class e{constructor(s){}}return e.\u0275fac=function(s){return new(s||e)(Vt(J_))},e.\u0275mod=Ir({type:e}),e.\u0275inj=fr({}),e})();function Sb(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2879),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8896),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2916),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1086),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(7138),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(341),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(839),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6606),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1406),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2216),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7221),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5632),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7625),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1307),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7770),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7168),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2014);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(L){const P={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},E="function"==typeof L?L():L,W=Object.assign({},P,{features:E.features||!!E.logOnly&&{pause:!0,export:!0,test:!0}||P.features},E);if(W.maxAge&&W.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${W.maxAge}`);return W}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(P,E){if(this.action=P,this.timestamp=E,this.type=PERFORM_ACTION,typeof P.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(P){this.timestamp=P,this.type=RESET}}class Rollback{constructor(P){this.timestamp=P,this.type=ROLLBACK}}class Commit{constructor(P){this.timestamp=P,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(P){this.id=P,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(P,E,l=!0){this.start=P,this.end=E,this.active=l,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(P){this.index=P,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(P){this.actionId=P,this.type=JUMP_TO_ACTION}}class ImportState{constructor(P){this.nextLiftedState=P,this.type=IMPORT_STATE}}class LockChanges{constructor(P){this.status=P,this.type=LOCK_CHANGES}}class PauseRecording{constructor(P){this.status=P,this.type=PAUSE_RECORDING}}function difference(L,P){return L.filter(E=>P.indexOf(E)<0)}function unliftState(L){const{computedStates:P,currentStateIndex:E}=L;if(E>=P.length){const{state:V}=P[P.length-1];return V}const{state:l}=P[E];return l}function unliftAction(L){return L.actionsById[L.nextActionId-1]}function liftAction(L){return new PerformAction(L,+Date.now())}function sanitizeActions(L,P){return Object.keys(P).reduce((E,l)=>{const V=Number(l);return E[V]=sanitizeAction(L,P[V],V),E},{})}function sanitizeAction(L,P,E){return{...P,action:L(P.action,E)}}function sanitizeStates(L,P){return P.map((E,l)=>({state:sanitizeState(L,E.state,l),error:E.error}))}function sanitizeState(L,P,E){return L(P,E)}function shouldFilterActions(L){return L.predicate||L.actionsSafelist||L.actionsBlocklist}function filterLiftedState(L,P,E,l){const V=[],W={},z=[];return L.stagedActionIds.forEach((N,T)=>{const O=L.actionsById[N];!O||T&&isActionFiltered(L.computedStates[T],O,P,E,l)||(W[N]=O,V.push(N),z.push(L.computedStates[T]))}),{...L,stagedActionIds:V,actionsById:W,computedStates:z}}function isActionFiltered(L,P,E,l,V){const W=E&&!E(L,P.action),z=l&&!P.action.type.match(l.map(T=>escapeRegExp(T)).join("|")),N=V&&P.action.type.match(V.map(T=>escapeRegExp(T)).join("|"));return W||z||N}function escapeRegExp(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(L,P,E,l,V){if(l)return{state:E,error:"Interrupted by an error up the chain"};let z,W=E;try{W=L(E,P)}catch(N){z=N.toString(),V.handleError(N)}return{state:W,error:z}}function recomputeStates(L,P,E,l,V,W,z,N,T){if(P>=L.length&&L.length===W.length)return L;const O=L.slice(0,P),A=W.length-(T?1:0);for(let M=P;M<A;M++){const b=W[M],B=V[b].action,F=O[M-1],j=F?F.state:l,me=F?F.error:void 0,X=z.indexOf(b)>-1?F:computeNextEntry(E,B,j,me,N);O.push(X)}return T&&O.push(L[L.length-1]),O}function liftInitialState(L,P){return{monitorState:P(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:L,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(L,P,E,l,V={}){return W=>(z,N)=>{let{monitorState:T,actionsById:O,nextActionId:A,stagedActionIds:M,skippedActionIds:b,committedState:B,currentStateIndex:F,computedStates:j,isLocked:me,isPaused:$}=z||P;function X(re){let ve=re,xe=M.slice(1,ve+1);for(let Ke=0;Ke<xe.length;Ke++){if(j[Ke+1].error){ve=Ke,xe=M.slice(1,ve+1);break}delete O[xe[Ke]]}b=b.filter(Ke=>-1===xe.indexOf(Ke)),M=[0,...M.slice(ve+1)],B=j[ve].state,j=j.slice(ve),F=F>ve?F-ve:0}function q(){O={0:liftAction(INIT_ACTION)},A=1,M=[0],b=[],B=j[F].state,F=0,j=[]}z||(O=Object.create(O));let K=0;switch(N.type){case LOCK_CHANGES:me=N.status,K=1/0;break;case PAUSE_RECORDING:$=N.status,$?(M=[...M,A],O[A]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),A++,K=M.length-1,j=j.concat(j[j.length-1]),F===M.length-2&&F++,K=1/0):q();break;case RESET:O={0:liftAction(INIT_ACTION)},A=1,M=[0],b=[],B=L,F=0,j=[];break;case COMMIT:q();break;case ROLLBACK:O={0:liftAction(INIT_ACTION)},A=1,M=[0],b=[],F=0,j=[];break;case TOGGLE_ACTION:{const{id:re}=N;b=-1===b.indexOf(re)?[re,...b]:b.filter(xe=>xe!==re),K=M.indexOf(re);break}case SET_ACTIONS_ACTIVE:{const{start:re,end:ve,active:xe}=N,Ke=[];for(let ct=re;ct<ve;ct++)Ke.push(ct);b=xe?difference(b,Ke):[...b,...Ke],K=M.indexOf(re);break}case JUMP_TO_STATE:F=N.index,K=1/0;break;case JUMP_TO_ACTION:{const re=M.indexOf(N.actionId);-1!==re&&(F=re),K=1/0;break}case SWEEP:M=difference(M,b),b=[],F=Math.min(F,M.length-1);break;case PERFORM_ACTION:{if(me)return z||P;if($||z&&isActionFiltered(z.computedStates[F],N,V.predicate,V.actionsSafelist,V.actionsBlocklist)){const ve=j[j.length-1];j=[...j.slice(0,-1),computeNextEntry(W,N.action,ve.state,ve.error,E)],K=1/0;break}V.maxAge&&M.length===V.maxAge&&X(1),F===M.length-1&&F++;const re=A++;O[re]=N,M=[...M,re],K=M.length-1;break}case IMPORT_STATE:({monitorState:T,actionsById:O,nextActionId:A,stagedActionIds:M,skippedActionIds:b,committedState:B,currentStateIndex:F,computedStates:j,isLocked:me,isPaused:$}=N.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:K=0,V.maxAge&&M.length>V.maxAge&&(j=recomputeStates(j,K,W,B,O,M,b,E,$),X(M.length-V.maxAge),K=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(j.filter(ve=>ve.error).length>0)K=0,V.maxAge&&M.length>V.maxAge&&(j=recomputeStates(j,K,W,B,O,M,b,E,$),X(M.length-V.maxAge),K=1/0);else{if(!$&&!me){F===M.length-1&&F++;const ve=A++;O[ve]=new PerformAction(N,+Date.now()),M=[...M,ve],K=M.length-1,j=recomputeStates(j,K,W,B,O,M,b,E,$)}j=j.map(ve=>({...ve,state:W(ve.state,RECOMPUTE_ACTION)})),F=M.length-1,V.maxAge&&M.length>V.maxAge&&X(M.length-V.maxAge),K=1/0}break;default:K=1/0}return j=recomputeStates(j,K,W,B,O,M,b,E,$),T=l(T,N),{monitorState:T,actionsById:O,nextActionId:A,stagedActionIds:M,skippedActionIds:b,committedState:B,currentStateIndex:F,computedStates:j,isLocked:me,isPaused:$}}}let DevtoolsDispatcher=(()=>{class L extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return L.\u0275fac=function(){let P;return function(l){return(P||(P=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(L)))(l||L)}}(),L.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:L,factory:L.\u0275fac}),L})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(L,P,E){this.config=P,this.dispatcher=E,this.devtoolsExtension=L,this.createActionStreams()}notify(L,P){if(this.devtoolsExtension)if(L.type===PERFORM_ACTION){if(P.isLocked||P.isPaused)return;const E=unliftState(P);if(shouldFilterActions(this.config)&&isActionFiltered(E,L,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const l=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,E,P.currentStateIndex):E,V=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,L,P.nextActionId):L;this.sendToReduxDevtools(()=>this.extensionConnection.send(V,l))}else{const E={...P,stagedActionIds:P.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,P.actionsById):P.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,P.computedStates):P.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,E,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(L=>{const P=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=P,P.init(),P.subscribe(E=>L.next(E)),P.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const L=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),P=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.START)),E=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.STOP)),l=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(N=>this.unwrapAction(N.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(N=>N.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>N),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(N)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(N))),W=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(N=>this.unwrapAction(N.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),z=l.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E));this.start$=P.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>W)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>z))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(L){const P={name:L.name,features:L.features,serialize:L.serialize,autoPause:L.autoPause??!1};return!1!==L.maxAge&&(P.maxAge=L.maxAge),P}sendToReduxDevtools(L){try{L()}catch(P){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",P)}}}return DevtoolsExtension.\u0275fac=function L(P){return new(P||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class L{constructor(E,l,V,W,z,N,T,O){const A=liftInitialState(T,O.monitor),M=liftReducerWith(T,A,N,O.monitor,O),b=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(l.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),W.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),E,W.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),B=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(M)),F=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),j=b.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(B),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:q},[K,re])=>{let ve=re(q,K);return K.type!==PERFORM_ACTION&&shouldFilterActions(O)&&(ve=filterLiftedState(ve,O.predicate,O.actionsSafelist,O.actionsBlocklist)),W.notify(K,ve),{state:ve,action:K}},{state:A,action:null})).subscribe(({state:q,action:K})=>{F.next(q),K.type===PERFORM_ACTION&&z.next(K.action)}),me=W.start$.subscribe(()=>{this.refresh()}),$=F.asObservable(),X=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=me,this.stateSubscription=j,this.dispatcher=E,this.liftedState=$,this.state=X}dispatch(E){this.dispatcher.next(E)}next(E){this.dispatcher.next(E)}error(E){}complete(){}performAction(E){this.dispatch(new PerformAction(E,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(E){this.dispatch(new ToggleAction(E))}jumpToAction(E){this.dispatch(new JumpToAction(E))}jumpToState(E){this.dispatch(new JumpToState(E))}importState(E){this.dispatch(new ImportState(E))}lockChanges(E){this.dispatch(new LockChanges(E))}pauseRecording(E){this.dispatch(new PauseRecording(E))}}return L.\u0275fac=function(E){return new(E||L)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},L.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:L,factory:L.\u0275fac}),L})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(L,P){return Boolean(L)||P.monitor!==noMonitor}function createReduxDevtoolsExtension(){const L="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[L]<"u"?window[L]:null}function createStateObservable(L){return L.state}let StoreDevtoolsModule=(()=>{class L{static instrument(E={}){return{ngModule:L,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:E},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return L.\u0275fac=function(E){return new(E||L)},L.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:L}),L.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),L})()},2879:(L,P,E)=>{E.d(P,{UO:()=>rt,qg:()=>vt,Y6:()=>La,mK:()=>Ba,n$:()=>wi,Y$:()=>fo,FR:()=>he,yh:()=>Re,CK:()=>$a,Aw:()=>ss,cr:()=>go,wb:()=>qn,qC:()=>ts,PH:()=>re,ZF:()=>Rt,Lq:()=>On,P1:()=>de,on:()=>Dt,Ky:()=>ve,Ys:()=>sn});var l=E(4650),V=E(8929),W=E(5279);class z extends V.xQ{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const R=super._subscribe(H);return R&&!R.closed&&H.next(this._value),R}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new W.N;return this._value}next(H){super.next(this._value=H)}}var N=E(2916),T=E(341),O=E(4850),b=E(3489);class F{constructor(H,R){this.compare=H,this.keySelector=R}call(H,R){return R.subscribe(new j(H,this.compare,this.keySelector))}}class j extends b.L{constructor(H,R,U){super(H),this.keySelector=U,this.hasKey=!1,"function"==typeof R&&(this.compare=R)}compare(H,R){return H===R}_next(H){let R;try{const{keySelector:ee}=this;R=ee?ee(H):H}catch(ee){return this.destination.error(ee)}let U=!1;if(this.hasKey)try{const{compare:ee}=this;U=ee(this.key,R)}catch(ee){return this.destination.error(ee)}else this.hasKey=!0;U||(this.key=R,this.destination.next(H))}}var me=E(7770),$=E(7168),X=E(2014);const q={};function re(w,H){if(q[w]=(q[w]||0)+1,"function"==typeof H)return Ke(w,(...U)=>({...H(...U),type:w}));switch(H?H._as:"empty"){case"empty":return Ke(w,()=>({type:w}));case"props":return Ke(w,U=>({...U,type:w}));default:throw new Error("Unexpected config.")}}function ve(){return{_as:"props",_p:void 0}}function Ke(w,H){return Object.defineProperty(H,"type",{value:w,writable:!1})}const vt="@ngrx/store/init";let rt=(()=>{class w extends z{constructor(){super({type:vt})}next(R){if("function"==typeof R)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof R>"u")throw new TypeError("Actions must be objects");if(typeof R.type>"u")throw new TypeError("Actions must have a type property");super.next(R)}complete(){}ngOnDestroy(){super.complete()}}return w.\u0275fac=function(R){return new(R||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})();const Ue=[rt],dt=new l.OlP("@ngrx/store Internal Root Guard"),we=new l.OlP("@ngrx/store Internal Initial State"),La=new l.OlP("@ngrx/store Initial State"),ka=new l.OlP("@ngrx/store Reducer Factory"),Gc=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),nn=new l.OlP("@ngrx/store Initial Reducers"),ze=new l.OlP("@ngrx/store Internal Initial Reducers"),Wc=new l.OlP("@ngrx/store Store Features"),Rh=new l.OlP("@ngrx/store Internal Store Reducers"),Kc=new l.OlP("@ngrx/store Internal Feature Reducers"),wt=new l.OlP("@ngrx/store Internal Feature Configs"),es=new l.OlP("@ngrx/store Internal Store Features"),fr=new l.OlP("@ngrx/store Internal Feature Reducers Token"),Yt=new l.OlP("@ngrx/store Feature Reducers"),Di=new l.OlP("@ngrx/store User Provided Meta Reducers"),co=new l.OlP("@ngrx/store Meta Reducers"),zc=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),Va=new l.OlP("@ngrx/store User Runtime Checks Config"),Ei=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),Mr=new l.OlP("@ngrx/store Internal Runtime Checks"),Ci=new l.OlP("@ngrx/store Check if Action types are unique");function uo(w,H={}){const R=Object.keys(w),U={};for(let ce=0;ce<R.length;ce++){const Ge=R[ce];"function"==typeof w[Ge]&&(U[Ge]=w[Ge])}const ee=Object.keys(U);return function(Ge,jt){Ge=void 0===Ge?H:Ge;let Et=!1;const Fn={};for(let ft=0;ft<ee.length;ft++){const At=ee[ft],Qc=Ge[At],Jc=(0,U[At])(Qc,jt);Fn[At]=Jc,Et=Et||Jc!==Qc}return Et?Fn:Ge}}function ts(...w){return function(H){if(0===w.length)return H;const R=w[w.length-1];return w.slice(0,-1).reduceRight((ee,ce)=>ce(ee),R(H))}}function un(w,H){return Array.isArray(H)&&H.length>0&&(w=ts.apply(null,[...H,w])),(R,U)=>{const ee=w(R);return(ce,Ge)=>ee(ce=void 0===ce?U:ce,Ge)}}class wi extends N.y{}class Ba extends rt{}const qn="@ngrx/store/update-reducers";let rn=(()=>{class w extends z{constructor(R,U,ee,ce){super(ce(ee,U)),this.dispatcher=R,this.initialState=U,this.reducers=ee,this.reducerFactory=ce}get currentReducers(){return this.reducers}addFeature(R){this.addFeatures([R])}addFeatures(R){const U=R.reduce((ee,{reducers:ce,reducerFactory:Ge,metaReducers:jt,initialState:Et,key:Fn})=>{const ft="function"==typeof ce?function yn(w){const H=Array.isArray(w)&&w.length>0?ts(...w):R=>R;return(R,U)=>(R=H(R),(ee,ce)=>R(ee=void 0===ee?U:ee,ce))}(jt)(ce,Et):un(Ge,jt)(ce,Et);return ee[Fn]=ft,ee},{});this.addReducers(U)}removeFeature(R){this.removeFeatures([R])}removeFeatures(R){this.removeReducers(R.map(U=>U.key))}addReducer(R,U){this.addReducers({[R]:U})}addReducers(R){this.reducers={...this.reducers,...R},this.updateReducers(Object.keys(R))}removeReducer(R){this.removeReducers([R])}removeReducers(R){R.forEach(U=>{this.reducers=function Ie(w,H){return Object.keys(w).filter(R=>R!==H).reduce((R,U)=>Object.assign(R,{[U]:w[U]}),{})}(this.reducers,U)}),this.updateReducers(R)}updateReducers(R){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:qn,features:R})}ngOnDestroy(){this.complete()}}return w.\u0275fac=function(R){return new(R||w)(l.LFG(Ba),l.LFG(La),l.LFG(nn),l.LFG(ka))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})();const ns=[rn,{provide:wi,useExisting:rn},{provide:Ba,useExisting:rt}];let fo=(()=>{class w extends V.xQ{ngOnDestroy(){this.complete()}}return w.\u0275fac=function(){let H;return function(U){return(H||(H=l.n5z(w)))(U||w)}}(),w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})();const et=[fo];class he extends N.y{}let Le=(()=>{class w extends z{constructor(R,U,ee,ce){super(ce);const Fn=R.pipe((0,me.QV)(T.N)).pipe((0,$.M)(U)).pipe((0,X.R)(xh,{state:ce}));this.stateSubscription=Fn.subscribe(({state:ft,action:At})=>{this.next(ft),ee.next(At)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return w.INIT=vt,w.\u0275fac=function(R){return new(R||w)(l.LFG(rt),l.LFG(wi),l.LFG(fo),l.LFG(La))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})();function xh(w={state:void 0},[H,R]){const{state:U}=w;return{state:R(U,H),action:H}}const Qn=[Le,{provide:he,useExisting:Le}];let Re=(()=>{class w extends N.y{constructor(R,U,ee){super(),this.actionsObserver=U,this.reducerManager=ee,this.source=R}select(R,...U){return sn.call(null,R,...U)(this)}lift(R){const U=new w(this,this.actionsObserver,this.reducerManager);return U.operator=R,U}dispatch(R){this.actionsObserver.next(R)}next(R){this.actionsObserver.next(R)}error(R){this.actionsObserver.error(R)}complete(){this.actionsObserver.complete()}addReducer(R,U){this.reducerManager.addReducer(R,U)}removeReducer(R){this.reducerManager.removeReducer(R)}}return w.\u0275fac=function(R){return new(R||w)(l.LFG(he),l.LFG(rt),l.LFG(rn))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})();const Tr=[Re];function sn(w,H,...R){return function(ee){let ce;if("string"==typeof w){const Ge=[H,...R].filter(Boolean);ce=ee.pipe(function A(...w){const H=w.length;if(0===H)throw new Error("list of properties cannot be empty.");return R=>(0,O.U)(function M(w,H){return U=>{let ee=U;for(let ce=0;ce<H;ce++){const Ge=ee?.[w[ce]];if(void 0===Ge)return;ee=Ge}return ee}}(w,H))(R)}(w,...Ge))}else{if("function"!=typeof w)throw new TypeError(`Unexpected type '${typeof w}' in select operator, expected 'string' or 'function'`);ce=ee.pipe((0,O.U)(Ge=>w(Ge,H)))}return ce.pipe(function B(w,H){return R=>R.lift(new F(w,H))}())}}const Ai="https://ngrx.io/guide/store/configuration/runtime-checks";function _t(w){return void 0===w}function Un(w){return null===w}function Ze(w){return Array.isArray(w)}function Kr(w){return"object"==typeof w&&null!==w}function Ir(w){return"function"==typeof w}function Ht(w,H){return w===H}function Zt(w,H,R){for(let U=0;U<w.length;U++)if(!R(w[U],H[U]))return!0;return!1}function qt(w,H=Ht,R=Ht){let ce,U=null,ee=null;return{memoized:function Fn(){if(void 0!==ce)return ce.result;if(!U)return ee=w.apply(null,arguments),U=arguments,ee;if(!Zt(arguments,U,H))return ee;const ft=w.apply(null,arguments);return U=arguments,R(ee,ft)?ee:(ee=ft,ft)},reset:function Ge(){U=null,ee=null},setResult:function jt(ft){ce={result:ft}},clearResult:function Et(){ce=void 0}}}function de(...w){return function nt(w,H={stateFn:Fe}){return function(...R){let U=R;if(Array.isArray(U[0])){const[ft,...At]=U;U=[...ft,...At]}const ee=U.slice(0,U.length-1),ce=U[U.length-1],Ge=ee.filter(ft=>ft.release&&"function"==typeof ft.release),jt=w(function(...ft){return ce.apply(null,ft)}),Et=qt(function(ft,At){return H.stateFn.apply(null,[ft,ee,At,jt])});return Object.assign(Et.memoized,{release:function Fn(){Et.reset(),jt.reset(),Ge.forEach(ft=>ft.release())},projector:jt.memoized,setResult:Et.setResult,clearResult:Et.clearResult})}}(qt)(...w)}function Fe(w,H,R,U){if(void 0===R){const ce=H.map(Ge=>Ge(w));return U.memoized.apply(null,ce)}const ee=H.map(ce=>ce(w,R));return U.memoized.apply(null,[...ee,R])}function Rt(w){return de(H=>{const R=H[w];return(0,l.X6Q)()&&!(w in H)&&console.warn(`@ngrx/store: The feature name "${w}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${w}', ...) or StoreModule.forFeature('${w}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),R},H=>H)}function Pr(w){Object.freeze(w);const H=Ir(w);return Object.getOwnPropertyNames(w).forEach(R=>{if(!R.startsWith("\u0275")&&function is(w,H){return Object.prototype.hasOwnProperty.call(w,H)}(w,R)&&(!H||"caller"!==R&&"callee"!==R&&"arguments"!==R)){const U=w[R];(Kr(U)||Ir(U))&&!Object.isFrozen(U)&&Pr(U)}}),w}function Ne(w,H=[]){return(_t(w)||Un(w))&&0===H.length?{path:["root"],value:w}:Object.keys(w).reduce((U,ee)=>{if(U)return U;const ce=w[ee];return function rs(w){return Ir(w)&&w.hasOwnProperty("\u0275cmp")}(ce)?U:!(_t(ce)||Un(ce)||function Zc(w){return"number"==typeof w}(ce)||function Wr(w){return"boolean"==typeof w}(ce)||function Yc(w){return"string"==typeof w}(ce)||Ze(ce))&&(function ho(w){if(!function Ha(w){return Kr(w)&&!Ze(w)}(w))return!1;const H=Object.getPrototypeOf(w);return H===Object.prototype||null===H}(ce)?Ne(ce,[...H,ee]):{path:[...H,ee],value:ce})},!1)}function bi(w,H){if(!1===w)return;const R=w.path.join("."),U=new Error(`Detected unserializable ${H} at "${R}". ${Ai}#strict${H}serializability`);throw U.value=w.value,U.unserializablePath=R,U}function Si(w){return(0,l.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...w}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Or({strictActionSerializability:w,strictStateSerializability:H}){return R=>w||H?function hr(w,H){return function(R,U){H.action(U)&&bi(Ne(U),"action");const ee=w(R,U);return H.state()&&bi(Ne(ee),"state"),ee}}(R,{action:U=>w&&!Fr(U),state:()=>H}):R}function Gt({strictActionImmutability:w,strictStateImmutability:H}){return R=>w||H?function ut(w,H){return function(R,U){const ee=H.action(U)?Pr(U):U,ce=w(R,ee);return H.state()?Pr(ce):ce}}(R,{action:U=>w&&!Fr(U),state:()=>H}):R}function Fr(w){return w.type.startsWith("@ngrx")}function pr({strictActionWithinNgZone:w}){return H=>w?function Yr(w,H){return function(R,U){if(H.action(U)&&!l.R0b.isInAngularZone())throw new Error(`Action '${U.type}' running outside NgZone. ${Ai}#strictactionwithinngzone`);return w(R,U)}}(H,{action:R=>w&&!Fr(R)}):H}function dn(w){return[{provide:Ei,useValue:w},{provide:Va,useFactory:ja,deps:[Ei]},{provide:Mr,deps:[Va],useFactory:Si},{provide:co,multi:!0,deps:[Mr],useFactory:Gt},{provide:co,multi:!0,deps:[Mr],useFactory:Or},{provide:co,multi:!0,deps:[Mr],useFactory:pr}]}function gr(){return[{provide:Ci,multi:!0,deps:[Mr],useFactory:st}]}function ja(w){return w}function st(w){if(!w.strictActionTypeUniqueness)return;const H=Object.entries(q).filter(([,R])=>R>1).map(([R])=>R);if(H.length)throw new Error(`Action types are registered more than once, ${H.map(R=>`"${R}"`).join(", ")}. ${Ai}#strictactiontypeuniqueness`)}let go=(()=>{class w{constructor(R,U,ee,ce,Ge,jt){}}return w.\u0275fac=function(R){return new(R||w)(l.LFG(rt),l.LFG(wi),l.LFG(fo),l.LFG(Re),l.LFG(dt,8),l.LFG(Ci,8))},w.\u0275mod=l.oAB({type:w}),w.\u0275inj=l.cJS({}),w})(),$a=(()=>{class w{constructor(R,U,ee,ce,Ge){this.features=R,this.featureReducers=U,this.reducerManager=ee;const jt=R.map((Et,Fn)=>{const At=U.shift()[Fn];return{...Et,reducers:At,initialState:Qt(Et.initialState)}});ee.addFeatures(jt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return w.\u0275fac=function(R){return new(R||w)(l.LFG(es),l.LFG(Yt),l.LFG(rn),l.LFG(go),l.LFG(Ci,8))},w.\u0275mod=l.oAB({type:w}),w.\u0275inj=l.cJS({}),w})(),ss=(()=>{class w{static forRoot(R,U={}){return{ngModule:go,providers:[{provide:dt,useFactory:qc,deps:[[Re,new l.FiY,new l.tp0]]},{provide:we,useValue:U.initialState},{provide:La,useFactory:Qt,deps:[we]},{provide:ze,useValue:R},{provide:Rh,useExisting:R instanceof l.OlP?R:ze},{provide:nn,deps:[l.zs3,ze,[new l.tBr(Rh)]],useFactory:os},{provide:Di,useValue:U.metaReducers?U.metaReducers:[]},{provide:zc,deps:[co,Di],useFactory:Ut},{provide:Gc,useValue:U.reducerFactory?U.reducerFactory:uo},{provide:ka,deps:[Gc,zc],useFactory:un},Ue,ns,et,Qn,Tr,dn(U.runtimeChecks),gr()]}}static forFeature(R,U,ee={}){return{ngModule:$a,providers:[{provide:wt,multi:!0,useValue:R instanceof Object?{}:ee},{provide:Wc,multi:!0,useValue:{key:R instanceof Object?R.name:R,reducerFactory:ee instanceof l.OlP||!ee.reducerFactory?uo:ee.reducerFactory,metaReducers:ee instanceof l.OlP||!ee.metaReducers?[]:ee.metaReducers,initialState:ee instanceof l.OlP||!ee.initialState?void 0:ee.initialState}},{provide:es,deps:[l.zs3,wt,Wc],useFactory:Zr},{provide:Kc,multi:!0,useValue:R instanceof Object?R.reducer:U},{provide:fr,multi:!0,useExisting:U instanceof l.OlP?U:Kc},{provide:Yt,multi:!0,deps:[l.zs3,Kc,[new l.tBr(fr)]],useFactory:as},gr()]}}}return w.\u0275fac=function(R){return new(R||w)},w.\u0275mod=l.oAB({type:w}),w.\u0275inj=l.cJS({}),w})();function os(w,H){return H instanceof l.OlP?w.get(H):H}function Zr(w,H,R){return R.map((U,ee)=>{if(H[ee]instanceof l.OlP){const ce=w.get(H[ee]);return{key:U.key,reducerFactory:ce.reducerFactory?ce.reducerFactory:uo,metaReducers:ce.metaReducers?ce.metaReducers:[],initialState:ce.initialState}}return U})}function as(w,H){return H.map(U=>U instanceof l.OlP?w.get(U):U)}function Qt(w){return"function"==typeof w?w():w}function Ut(w,H){return w.concat(H)}function qc(w){if(w)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Dt(...w){return{reducer:w.pop(),types:w.map(U=>U.type)}}function On(w,...H){const R=new Map;for(const U of H)for(const ee of U.types){const ce=R.get(ee);R.set(ee,ce?(jt,Et)=>U.reducer(ce(jt,Et),Et):U.reducer)}return function(U=w,ee){const ce=R.get(ee.type);return ce?ce(U,ee):U}}}},L=>{L(L.s=5900)}]);