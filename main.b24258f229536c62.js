"use strict";var yA=Object.defineProperty,vA=Object.defineProperties,DA=Object.getOwnPropertyDescriptors,_C=Object.getOwnPropertySymbols,CA=Object.prototype.hasOwnProperty,EA=Object.prototype.propertyIsEnumerable,mC=(F,w,v)=>w in F?yA(F,w,{enumerable:!0,configurable:!0,writable:!0,value:v}):F[w]=v,Re=(F,w)=>{for(var v in w||(w={}))CA.call(w,v)&&mC(F,v,w[v]);if(_C)for(var v of _C(w))EA.call(w,v)&&mC(F,v,w[v]);return F},nn=(F,w)=>vA(F,DA(w));(self.webpackChunktaormina_duel=self.webpackChunktaormina_duel||[]).push([[179],{8758:(F,w,v)=>{var o=v(3668);let N=null;function j(){return N}const S=new o.OlP("DocumentToken");var Be=(()=>((Be=Be||{})[Be.Zero=0]="Zero",Be[Be.One=1]="One",Be[Be.Two=2]="Two",Be[Be.Few=3]="Few",Be[Be.Many=4]="Many",Be[Be.Other=5]="Other",Be))();const Qr=o.kL8;class Yn{}let jt=(()=>{class i extends Yn{constructor(r){super(),this.locale=r}getPluralCategory(r,u){switch(Qr(u||this.locale)(r)){case Be.Zero:return"zero";case Be.One:return"one";case Be.Two:return"two";case Be.Few:return"few";case Be.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(o.soG))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class yc{constructor(a,r,u,f){this.$implicit=a,this.ngForOf=r,this.index=u,this.count=f}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ws=(()=>{class i{constructor(r,u,f){this._viewContainer=r,this._template=u,this._differs=f,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(u){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const u=[];r.forEachOperation((f,_,A)=>{if(null==f.previousIndex){const $=this._viewContainer.createEmbeddedView(this._template,new yc(null,this._ngForOf,-1,-1),null===A?void 0:A),X=new ti(f,$);u.push(X)}else if(null==A)this._viewContainer.remove(null===_?void 0:_);else if(null!==_){const $=this._viewContainer.get(_);this._viewContainer.move($,A);const X=new ti(f,$);u.push(X)}});for(let f=0;f<u.length;f++)this._perViewChange(u[f].view,u[f].record);for(let f=0,_=this._viewContainer.length;f<_;f++){const A=this._viewContainer.get(f);A.context.index=f,A.context.count=_,A.context.ngForOf=this._ngForOf}r.forEachIdentityChange(f=>{this._viewContainer.get(f.currentIndex).context.$implicit=f.item})}_perViewChange(r,u){r.context.$implicit=u.item}static ngTemplateContextGuard(r,u){return!0}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class ti{constructor(a,r){this.record=a,this.view=r}}let E=(()=>{class i{constructor(r,u){this._viewContainer=r,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=u}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){x("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){x("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,u){return!0}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.s_b),o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function x(i,a){if(a&&!a.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,o.AaK)(a)}'.`)}class k{constructor(a,r){this._viewContainerRef=a,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(a){a&&!this._created?this.create():!a&&this._created&&this.destroy()}}let K=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(r)}_matchCase(r){const u=r==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||u,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),u}_updateDefaultCases(r){if(this._defaultViews&&r!==this._defaultUsed){this._defaultUsed=r;for(let u=0;u<this._defaultViews.length;u++)this._defaultViews[u].enforceState(r)}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=o.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Q=(()=>{class i{constructor(r,u,f){this.ngSwitch=f,f._addCase(),this._view=new k(r,u)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(K,9))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),xe=(()=>{class i{constructor(r,u,f){this._ngEl=r,this._differs=u,this._renderer=f,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){const r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,u){const[f,_]=r.split(".");null!=(u=null!=u&&_?`${u}${_}`:u)?this._renderer.setStyle(this._ngEl.nativeElement,f,u):this._renderer.removeStyle(this._ngEl.nativeElement,f)}_applyChanges(r){r.forEachRemovedItem(u=>this._setStyle(u.key,null)),r.forEachAddedItem(u=>this._setStyle(u.key,u.currentValue)),r.forEachChangedItem(u=>this._setStyle(u.key,u.currentValue))}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();class Ys{createSubscription(a,r){return a.subscribe({next:r,error:u=>{throw u}})}dispose(a){a.unsubscribe()}onDestroy(a){a.unsubscribe()}}class _y{createSubscription(a,r){return a.then(r,u=>{throw u})}dispose(a){}onDestroy(a){}}const my=new _y,yy=new Ys;let Rh=(()=>{class i{constructor(r){this._ref=r,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,u=>this._updateLatestValue(r,u))}_selectStrategy(r){if((0,o.QGY)(r))return my;if((0,o.F4k)(r))return yy;throw function(i,a){return Error(`InvalidPipeArgument: '${a}' for pipe '${(0,o.AaK)(i)}'`)}(i,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,u){r===this._obj&&(this._latestValue=u,this._ref.markForCheck())}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.sBO,16))},i.\u0275pipe=o.Yjl({name:"async",type:i,pure:!1}),i})(),qs=(()=>{class i{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Nh}transform(r,u=Nh){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const f=this.differ.diff(r),_=u!==this.compareFn;return f&&(this.keyValues=[],f.forEachItem(A=>{this.keyValues.push(function(i,a){return{key:i,value:a}}(A.key,A.currentValue))})),(f||_)&&(this.keyValues.sort(u),this.compareFn=u),this.keyValues}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.aQg,16))},i.\u0275pipe=o.Yjl({name:"keyvalue",type:i,pure:!1}),i})();function Nh(i,a){const r=i.key,u=a.key;if(r===u)return 0;if(void 0===r)return 1;if(void 0===u)return-1;if(null===r)return 1;if(null===u)return-1;if("string"==typeof r&&"string"==typeof u)return r<u?-1:1;if("number"==typeof r&&"number"==typeof u)return r-u;if("boolean"==typeof r&&"boolean"==typeof u)return r<u?-1:1;const f=String(r),_=String(u);return f==_?0:f<_?-1:1}let nd=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[{provide:Yn,useClass:jt}]}),i})();class Ec extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Ec,N||(N=i)}onAndCancel(a,r,u){return a.addEventListener(r,u,!1),()=>{a.removeEventListener(r,u,!1)}}dispatchEvent(a,r){a.dispatchEvent(r)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,r){return(r=r||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,r){return"window"===r?window:"document"===r?a:"body"===r?a.body:null}getBaseHref(a){const r=(Ks=Ks||document.querySelector("base"),Ks?Ks.getAttribute("href"):null);return null==r?null:function(i){qt=qt||document.createElement("a"),qt.setAttribute("href",i);const a=qt.pathname;return"/"===a.charAt(0)?a:`/${a}`}(r)}resetBaseElement(){Ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return function(i,a){a=encodeURIComponent(a);for(const r of i.split(";")){const u=r.indexOf("="),[f,_]=-1==u?[r,""]:[r.slice(0,u),r.slice(u+1)];if(f.trim()===a)return decodeURIComponent(_)}return null}(document.cookie,a)}}let qt,Ks=null;const Qs=new o.OlP("TRANSITION_ID"),pn=[{provide:o.ip1,useFactory:function(i,a,r){return()=>{r.get(o.CZH).donePromise.then(()=>{const u=j(),f=a.querySelectorAll(`style[ng-transition="${i}"]`);for(let _=0;_<f.length;_++)u.remove(f[_])})}},deps:[Qs,S,o.zs3],multi:!0}];class Js{static init(){(0,o.VLi)(new Js)}addToWindow(a){o.dqk.getAngularTestability=(u,f=!0)=>{const _=a.findTestabilityInTree(u,f);if(null==_)throw new Error("Could not find testability for element.");return _},o.dqk.getAllAngularTestabilities=()=>a.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>a.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(u=>{const f=o.dqk.getAllAngularTestabilities();let _=f.length,A=!1;const $=function(X){A=A||X,_--,0==_&&u(A)};f.forEach(function(X){X.whenStable($)})})}findTestabilityInTree(a,r,u){if(null==r)return null;const f=a.getTestability(r);return null!=f?f:u?j().isShadowRoot(r)?this.findTestabilityInTree(a,r.host,!0):this.findTestabilityInTree(a,r.parentElement,!0):null}}let Ac=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Xs=new o.OlP("EventManagerPlugins");let Fn=(()=>{class i{constructor(r,u){this._zone=u,this._eventNameToPlugin=new Map,r.forEach(f=>f.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,u,f){return this._findPluginFor(u).addEventListener(r,u,f)}addGlobalEventListener(r,u,f){return this._findPluginFor(u).addGlobalEventListener(r,u,f)}getZone(){return this._zone}_findPluginFor(r){const u=this._eventNameToPlugin.get(r);if(u)return u;const f=this._plugins;for(let _=0;_<f.length;_++){const A=f[_];if(A.supports(r))return this._eventNameToPlugin.set(r,A),A}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Xs),o.LFG(o.R0b))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class bc{constructor(a){this._doc=a}addGlobalEventListener(a,r,u){const f=j().getGlobalEventTarget(this._doc,a);if(!f)throw new Error(`Unsupported event target ${f} for event ${r}`);return this.addEventListener(f,r,u)}}let ea=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const u=new Set;r.forEach(f=>{this._stylesSet.has(f)||(this._stylesSet.add(f),u.add(f))}),this.onStylesAdded(u)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),De=(()=>{class i extends ea{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,u,f){r.forEach(_=>{const A=this._doc.createElement("style");A.textContent=_,f.push(u.appendChild(A))})}addHost(r){const u=[];this._addStylesToHost(this._stylesSet,r,u),this._hostNodes.set(r,u)}removeHost(r){const u=this._hostNodes.get(r);u&&u.forEach($h),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((u,f)=>{this._addStylesToHost(r,f,u)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach($h))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(S))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();function $h(i){j().remove(i)}const wc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mc=/%COMP%/g;function Lo(i,a,r){for(let u=0;u<a.length;u++){let f=a[u];Array.isArray(f)?Lo(i,f,r):(f=f.replace(Mc,i),r.push(f))}return r}function wt(i){return a=>{if("__ngUnwrap__"===a)return i;!1===i(a)&&(a.preventDefault(),a.returnValue=!1)}}let ri=(()=>{class i{constructor(r,u,f){this.eventManager=r,this.sharedStylesHost=u,this.appId=f,this.rendererByCompId=new Map,this.defaultRenderer=new vn(r)}createRenderer(r,u){if(!r||!u)return this.defaultRenderer;switch(u.encapsulation){case o.ifc.Emulated:{let f=this.rendererByCompId.get(u.id);return f||(f=new Ry(this.eventManager,this.sharedStylesHost,u,this.appId),this.rendererByCompId.set(u.id,f)),f.applyToHost(r),f}case 1:case o.ifc.ShadowDom:return new Yh(this.eventManager,this.sharedStylesHost,r,u);default:if(!this.rendererByCompId.has(u.id)){const f=Lo(u.id,u.styles,[]);this.sharedStylesHost.addStyles(f),this.rendererByCompId.set(u.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Fn),o.LFG(De),o.LFG(o.AFp))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class vn{constructor(a){this.eventManager=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(a,r){return r?document.createElementNS(wc[r]||r,a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,r){a.appendChild(r)}insertBefore(a,r,u){a&&a.insertBefore(r,u)}removeChild(a,r){a&&a.removeChild(r)}selectRootElement(a,r){let u="string"==typeof a?document.querySelector(a):a;if(!u)throw new Error(`The selector "${a}" did not match any elements`);return r||(u.textContent=""),u}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,r,u,f){if(f){r=f+":"+r;const _=wc[f];_?a.setAttributeNS(_,r,u):a.setAttribute(r,u)}else a.setAttribute(r,u)}removeAttribute(a,r,u){if(u){const f=wc[u];f?a.removeAttributeNS(f,r):a.removeAttribute(`${u}:${r}`)}else a.removeAttribute(r)}addClass(a,r){a.classList.add(r)}removeClass(a,r){a.classList.remove(r)}setStyle(a,r,u,f){f&(o.JOm.DashCase|o.JOm.Important)?a.style.setProperty(r,u,f&o.JOm.Important?"important":""):a.style[r]=u}removeStyle(a,r,u){u&o.JOm.DashCase?a.style.removeProperty(r):a.style[r]=""}setProperty(a,r,u){a[r]=u}setValue(a,r){a.nodeValue=r}listen(a,r,u){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,r,wt(u)):this.eventManager.addEventListener(a,r,wt(u))}}class Ry extends vn{constructor(a,r,u,f){super(a),this.component=u;const _=Lo(f+"-"+u.id,u.styles,[]);r.addStyles(_),this.contentAttr="_ngcontent-%COMP%".replace(Mc,f+"-"+u.id),this.hostAttr="_nghost-%COMP%".replace(Mc,f+"-"+u.id)}applyToHost(a){super.setAttribute(a,this.hostAttr,"")}createElement(a,r){const u=super.createElement(a,r);return super.setAttribute(u,this.contentAttr,""),u}}class Yh extends vn{constructor(a,r,u,f){super(a),this.sharedStylesHost=r,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Lo(f.id,f.styles,[]);for(let A=0;A<_.length;A++){const $=document.createElement("style");$.textContent=_[A],this.shadowRoot.appendChild($)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(a,r){return super.appendChild(this.nodeOrShadowRoot(a),r)}insertBefore(a,r,u){return super.insertBefore(this.nodeOrShadowRoot(a),r,u)}removeChild(a,r){return super.removeChild(this.nodeOrShadowRoot(a),r)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}}let na=(()=>{class i extends bc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,u,f){return r.addEventListener(u,f,!1),()=>this.removeEventListener(r,u,f)}removeEventListener(r,u,f){return r.removeEventListener(u,f)}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(S))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const ko=["alt","control","meta","shift"],lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Li={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let dr=(()=>{class i extends bc{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,u,f){const _=i.parseEventName(u),A=i.eventCallback(_.fullKey,f,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(r,_.domEventName,A))}static parseEventName(r){const u=r.toLowerCase().split("."),f=u.shift();if(0===u.length||"keydown"!==f&&"keyup"!==f)return null;const _=i._normalizeKey(u.pop());let A="";if(ko.forEach(X=>{const ue=u.indexOf(X);ue>-1&&(u.splice(ue,1),A+=X+".")}),A+=_,0!=u.length||0===_.length)return null;const $={};return $.domEventName=f,$.fullKey=A,$}static getEventFullKey(r){let u="",f=function(i){let a=i.key;if(null==a){if(a=i.keyIdentifier,null==a)return"Unidentified";a.startsWith("U+")&&(a=String.fromCharCode(parseInt(a.substring(2),16)),3===i.location&&Sc.hasOwnProperty(a)&&(a=Sc[a]))}return lr[a]||a}(r);return f=f.toLowerCase()," "===f?f="space":"."===f&&(f="dot"),ko.forEach(_=>{_!=f&&Li[_](r)&&(u+=_+".")}),u+=f,u}static eventCallback(r,u,f){return _=>{i.getEventFullKey(_)===r&&f.runGuarded(()=>u(_))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(S))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Oc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Ec.makeCurrent(),Js.init()},multi:!0},{provide:S,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),cd=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Xs,useClass:na,multi:!0,deps:[S,o.R0b,o.Lbi]},{provide:Xs,useClass:dr,multi:!0,deps:[S]},{provide:ri,useClass:ri,deps:[Fn,De,o.AFp]},{provide:o.FYo,useExisting:ri},{provide:ea,useExisting:De},{provide:De,useClass:De,deps:[S]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Fn,useClass:Fn,deps:[Xs,o.R0b]},{provide:class{},useClass:Ac,deps:[]}];let xc=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:o.AFp,useValue:r.appId},{provide:Qs,useExisting:o.AFp},pn]}}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(i,12))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:cd,imports:[nd,o.hGG]}),i})();"undefined"!=typeof window&&window;var m=v(4467),Vc=v(3894),ki=v(5548),Vi=v(3405),Ui=v(4168);class Bi{call(a,r){return r.subscribe(new tg(a))}}class tg extends Ui.L{_next(a){}}var Lr=v(8085);class sa{call(a,r){return r.subscribe(new Zy(a))}}class Zy extends Ui.L{constructor(a){super(a)}_next(a){this.destination.next(Lr.P.createNext(a))}_error(a){const r=this.destination;r.next(Lr.P.createError(a)),r.complete()}_complete(){const a=this.destination;a.next(Lr.P.createComplete()),a.complete()}}var te=v(8053),kr=v(2047),Dn=v(8735),yd=v(1346);function oi(i,a,r,u){return f=>f.lift(new Bc(i,a,r,u))}class Bc{constructor(a,r,u,f){this.keySelector=a,this.elementSelector=r,this.durationSelector=u,this.subjectSelector=f}call(a,r){return r.subscribe(new jc(a,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class jc extends Ui.L{constructor(a,r,u,f,_){super(a),this.keySelector=r,this.elementSelector=u,this.durationSelector=f,this.subjectSelector=_,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(a){let r;try{r=this.keySelector(a)}catch(u){return void this.error(u)}this._group(a,r)}_group(a,r){let u=this.groups;u||(u=this.groups=new Map);let _,f=u.get(r);if(this.elementSelector)try{_=this.elementSelector(a)}catch(A){this.error(A)}else _=a;if(!f){f=this.subjectSelector?this.subjectSelector():new Vi.xQ,u.set(r,f);const A=new Vo(r,f,this);if(this.destination.next(A),this.durationSelector){let $;try{$=this.durationSelector(new Vo(r,f))}catch(X){return void this.error(X)}this.add($.subscribe(new aa(r,f,this)))}}f.closed||f.next(_)}_error(a){const r=this.groups;r&&(r.forEach((u,f)=>{u.error(a)}),r.clear()),this.destination.error(a)}_complete(){const a=this.groups;a&&(a.forEach((r,u)=>{r.complete()}),a.clear()),this.destination.complete()}removeGroup(a){this.groups.delete(a)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class aa extends Ui.L{constructor(a,r,u){super(r),this.key=a,this.group=r,this.parent=u}_next(a){this.complete()}_unsubscribe(){const{parent:a,key:r}=this;this.key=this.parent=null,a&&a.removeGroup(r)}}class Vo extends ki.y{constructor(a,r,u){super(),this.key=a,this.groupSubject=r,this.refCountSubscription=u}_subscribe(a){const r=new yd.w,{refCountSubscription:u,groupSubject:f}=this;return u&&!u.closed&&r.add(new ng(u)),r.add(f.subscribe(a)),r}}class ng extends yd.w{constructor(a){super(),this.parent=a,a.count++}unsubscribe(){const a=this.parent;!a.closed&&!this.closed&&(super.unsubscribe(),a.count-=1,0===a.count&&a.attemptedToUnsubscribe&&a.unsubscribe())}}var Uo=v(4421),ca=v(1915),ua=v(8345);function Hc(i,a){return a?r=>r.pipe(Hc((u,f)=>(0,ca.D)(i(u,f)).pipe((0,te.U)((_,A)=>a(u,_,f,A))))):r=>r.lift(new rg(i))}class rg{constructor(a){this.project=a}call(a,r){return r.subscribe(new ig(a,this.project))}}class ig extends ua.Ds{constructor(a,r){super(a),this.project=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(a){this.hasSubscription||this.tryNext(a)}tryNext(a){let r;const u=this.index++;try{r=this.project(a,u)}catch(f){return void this.destination.error(f)}this.hasSubscription=!0,this._innerSub(r)}_innerSub(a){const r=new ua.IY(this),u=this.destination;u.add(r);const f=(0,ua.ft)(a,r);f!==r&&u.add(f)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(a){this.destination.next(a)}notifyError(a){this.destination.error(a)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class Bo{call(a,r){return r.subscribe(new og(a))}}class og extends Ui.L{constructor(a){super(a)}_next(a){a.observe(this.destination)}}var Rt=v(1887);const $c={dispatch:!0,useEffectsErrorHandler:!0},fr="__@ngrx/effects_create__";function Ve(i,a){const r=i(),u=Re(Re({},$c),a);return Object.defineProperty(r,fr,{value:u}),r}function Gc(i){return Object.getOwnPropertyNames(i).filter(u=>!(!i[u]||!i[u].hasOwnProperty(fr))&&i[u][fr].hasOwnProperty("dispatch")).map(u=>Re({propertyName:u},i[u][fr]))}function jo(i){return Object.getPrototypeOf(i)}const pr="__@ngrx/effects__";function ji(i){return(0,m.qC)($i,jo)(i)}function $i(i){return function(i){return i.constructor.hasOwnProperty(pr)}(i)?i.constructor[pr]:[]}function _t(i,a,r){const u=jo(i).constructor.name,f=function(i){return[ji,Gc].reduce((r,u)=>r.concat(u(i)),[])}(i).map(({propertyName:_,dispatch:A,useEffectsErrorHandler:$})=>{const X="function"==typeof i[_]?i[_]():i[_],ue=$?r(X,a):X;return!1===A?ue.pipe(function(a){return a.lift(new Bi)}):ue.pipe(function(a){return a.lift(new sa)}).pipe((0,te.U)(pe=>({effect:i[_],notification:pe,propertyName:_,sourceName:u,sourceInstance:i})))});return(0,Vc.T)(...f)}function sg(i,a,r=10){return i.pipe((0,kr.K)(u=>(a&&a.handleError(u),r<=1?i:sg(i,a,r-1))))}let Vr=(()=>{class i extends ki.y{constructor(r){super(),r&&(this.source=r)}lift(r){const u=new i;return u.source=this,u.operator=r,u}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.Y$))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();function He(...i){return(0,Dn.h)(a=>i.some(r=>"string"==typeof r?r===a.type:r.type===a.type))}function ag(i){return sn(i,"ngrxOnInitEffects")}function sn(i,a){return i&&a in i&&"function"==typeof i[a]}const Rn=new o.OlP("@ngrx/effects Internal Root Guard"),Zo=new o.OlP("@ngrx/effects User Provided Effects"),Gi=new o.OlP("@ngrx/effects Internal Root Effects"),Zi=new o.OlP("@ngrx/effects Root Effects"),Yc=new o.OlP("@ngrx/effects Internal Feature Effects"),Dd=new o.OlP("@ngrx/effects Feature Effects"),Cd=new o.OlP("@ngrx/effects Effects Error Handler");let Ed=(()=>{class i extends Vi.xQ{constructor(r,u){super(),this.errorHandler=r,this.effectsErrorHandler=u}addEffects(r){this.next(r)}toActions(){return this.pipe(oi(jo),(0,Uo.zg)(r=>r.pipe(oi(Jy))),(0,Uo.zg)(r=>{const u=r.pipe(Hc(_=>function(i,a){return r=>{const u=_t(r,i,a);return function(i){return sn(i,"ngrxOnRunEffects")}(r)?r.ngrxOnRunEffects(u):u}}(this.errorHandler,this.effectsErrorHandler)(_)),(0,te.U)(_=>(function(i,a){if("N"===i.notification.kind){const r=i.notification.value;!function(i){return"function"!=typeof i&&i&&i.type&&"string"==typeof i.type}(r)&&a.handleError(new Error(`Effect ${function({propertyName:i,sourceInstance:a,sourceName:r}){const u="function"==typeof a[i];return`"${r}.${String(i)}${u?"()":""}"`}(i)} dispatched an invalid action: ${function(i){try{return JSON.stringify(i)}catch(a){return i}}(r)}`))}}(_,this.errorHandler),_.notification)),(0,Dn.h)(_=>"N"===_.kind&&null!=_.value),function(a){return a.lift(new Bo)}),f=r.pipe((0,Rt.q)(1),(0,Dn.h)(ag),(0,te.U)(_=>_.ngrxOnInitEffects()));return(0,Vc.T)(u,f)}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(o.qLn),o.LFG(Cd))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();function Jy(i){return function(i){return sn(i,"ngrxOnIdentifyEffects")}(i)?i.ngrxOnIdentifyEffects():""}let zt=(()=>{class i{constructor(r,u){this.effectSources=r,this.store=u,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Ed),o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const da="@ngrx/effects/init";(0,m.PH)(da);let cg=(()=>{class i{constructor(r,u,f,_,A,$,X){this.sources=r,u.start(),_.forEach(ue=>r.addEffects(ue)),f.dispatch({type:da})}addEffects(r){this.sources.addEffects(r)}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Ed),o.LFG(zt),o.LFG(m.yh),o.LFG(Zi),o.LFG(m.cr,8),o.LFG(m.CK,8),o.LFG(Rn,8))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),bd=(()=>{class i{constructor(r,u,f,_){u.forEach(A=>A.forEach($=>r.addEffects($)))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(cg),o.LFG(Dd),o.LFG(m.cr,8),o.LFG(m.CK,8))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),hr=(()=>{class i{static forFeature(r=[]){return{ngModule:bd,providers:[r,{provide:Yc,multi:!0,useValue:r},{provide:Zo,multi:!0,useValue:[]},{provide:Dd,multi:!0,useFactory:wd,deps:[o.zs3,Yc,Zo]}]}}static forRoot(r=[]){return{ngModule:cg,providers:[{provide:Cd,useValue:sg},zt,Ed,Vr,r,{provide:Gi,useValue:[r]},{provide:Rn,useFactory:lg,deps:[[zt,new o.FiY,new o.tp0],[Gi,new o.PiD]]},{provide:Zo,multi:!0,useValue:[]},{provide:Zi,useFactory:wd,deps:[o.zs3,Gi,Zo]}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})();function wd(i,a,r){const u=[];for(const f of a)u.push(...f);for(const f of r)u.push(...f);return function(i,a){return a.map(r=>i.get(r))}(i,u)}function lg(i,a){if((1!==a.length||0!==a[0].length)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Kn=v(2411),Yo=v(9204),Nn=v(6700);function si(i){return a=>i.id?a.pipe(qo(),oi(([u,f])=>i.id(u,f))).pipe((0,Uo.zg)(u=>u.pipe((0,Yo.w)(Wi(i.run,i.onError))))):a.pipe(qo(),(0,Nn.b)(Wi(i.run,i.onError)))}function Wi(i,a){return([r,u])=>{try{return St(i(r,u)).pipe((0,kr.K)(_=>St(a(r,_))))}catch(f){return St(a(r,f))}}}function qo(){return i=>i.pipe((0,te.U)(a=>{const[r,u]=function(i){let a,r;return i instanceof Array?[a,r]=i:a=i,[a,r]}(a);return[r,u]}))}function St(i){return function(i){return!!i&&(i instanceof ki.y||"function"==typeof i.lift&&"function"==typeof i.subscribe)}(i)?i:i?(0,Kn.of)(i):(0,Kn.of)()}var zc,Qc=new Uint8Array(16);function zo(){if(!zc&&!(zc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zc(Qc)}const hg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_g=function(i){return"string"==typeof i&&hg.test(i)};for(var vt=[],gr=0;gr<256;++gr)vt.push((gr+256).toString(16).substr(1));const Pe=function(i,a,r){var u=(i=i||{}).random||(i.rng||zo)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,a){r=r||0;for(var f=0;f<16;++f)a[r+f]=u[f];return a}return function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(vt[i[a+0]]+vt[i[a+1]]+vt[i[a+2]]+vt[i[a+3]]+"-"+vt[i[a+4]]+vt[i[a+5]]+"-"+vt[i[a+6]]+vt[i[a+7]]+"-"+vt[i[a+8]]+vt[i[a+9]]+"-"+vt[i[a+10]]+vt[i[a+11]]+vt[i[a+12]]+vt[i[a+13]]+vt[i[a+14]]+vt[i[a+15]]).toLowerCase();if(!_g(r))throw TypeError("Stringified UUID is invalid");return r}(u)},Qo=(0,m.PH)("[Start Page] Init DiscardPileCards New Game"),qi=(0,m.PH)("[Start Page] Init DiscardPileCards Saved Game"),Xc=(0,m.PH)("[DiscardPileCards/API] Load DiscardPileCards Success",(0,m.Ky)()),Sd=(0,m.PH)("[DiscardPileCards/API] Load DiscardPileCards Failure",(0,m.Ky)()),Pd=(0,m.PH)("[DiscardPileCards] Set DiscardPileCards On Init",(0,m.Ky)()),Ki=(0,m.PH)("[DiscardPileCards] Set DiscardPileCards Error",(0,m.Ky)()),zi=(0,m.PH)("[DiscardPileCards] Add Card To Discard Pile",(0,m.Ky)()),Od=(0,m.PH)("[DiscardPileCards] Add DiscardPileCard",(0,m.Ky)());let xd=(()=>{class i{constructor(r){this.actions$=r,this.initNewGame$=Ve(()=>this.actions$.pipe(He(Qo),(0,te.U)(()=>Pd({discardPileCards:[]})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(qi),si({run:()=>Xc({discardPileCards:[]}),onError:(u,f)=>(console.error("Error",f),Sd({error:f}))}))),this.addCard$=Ve(()=>this.actions$.pipe(He(zi),(0,te.U)(({card:u})=>((i,a,r)=>({id:i,cardType:a,cardId:r}))(Pe(),u.type,u.id)),(0,te.U)(u=>Od({discardPileCard:u}))))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();var ve=(()=>{return(i=ve||(ve={}))[i.EntitiesOnly=0]="EntitiesOnly",i[i.Both=1]="Both",i[i.None=2]="None",ve;var i})();function ot(i){return function(r,u){const f={ids:[...u.ids],entities:Re({},u.entities)},_=i(r,f);return _===ve.Both?Object.assign({},u,f):_===ve.EntitiesOnly?nn(Re({},u),{entities:f.entities}):u}}function Cn(i,a){const r=a(i);return(0,o.X6Q)()&&void 0===r&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",i,"The `selectId` implementation:",a.toString()),r}function fa(i){function a(Ce,fe){const oe=Cn(Ce,i);return oe in fe.entities?ve.None:(fe.ids.push(oe),fe.entities[oe]=Ce,ve.Both)}function r(Ce,fe){let oe=!1;for(const ee of Ce)oe=a(ee,fe)!==ve.None||oe;return oe?ve.Both:ve.None}function f(Ce,fe){const oe=Cn(Ce,i);return oe in fe.entities?(fe.entities[oe]=Ce,ve.EntitiesOnly):(fe.ids.push(oe),fe.entities[oe]=Ce,ve.Both)}function $(Ce,fe){const ee=(Ce instanceof Array?Ce:fe.ids.filter(ge=>Ce(fe.entities[ge]))).filter(ge=>ge in fe.entities).map(ge=>delete fe.entities[ge]).length>0;return ee&&(fe.ids=fe.ids.filter(ge=>ge in fe.entities)),ee?ve.Both:ve.None}function ce(Ce,fe){return pe([Ce],fe)}function pe(Ce,fe){const oe={};return(Ce=Ce.filter(ge=>ge.id in fe.entities)).length>0?Ce.filter(Ae=>function(Ce,fe,oe){const ge=Object.assign({},oe.entities[fe.id],fe.changes),Ae=Cn(ge,i),We=Ae!==fe.id;return We&&(Ce[fe.id]=Ae,delete oe.entities[fe.id]),oe.entities[Ae]=ge,We}(oe,Ae,fe)).length>0?(fe.ids=fe.ids.map(Ae=>oe[Ae]||Ae),ve.Both):ve.EntitiesOnly:ve.None}function Wt(Ce,fe){const oe=[],ee=[];for(const We of Ce){const Mt=Cn(We,i);Mt in fe.entities?ee.push({id:Mt,changes:We}):oe.push(We)}const ge=pe(ee,fe),Ae=r(oe,fe);switch(!0){case Ae===ve.None&&ge===ve.None:return ve.None;case Ae===ve.Both||ge===ve.Both:return ve.Both;default:return ve.EntitiesOnly}}return{removeAll:function(Ce){return Object.assign({},Ce,{ids:[],entities:{}})},addOne:ot(a),addMany:ot(r),setAll:ot(function(Ce,fe){return fe.ids=[],fe.entities={},r(Ce,fe),ve.Both}),setOne:ot(f),setMany:ot(function(Ce,fe){const oe=Ce.map(ee=>f(ee,fe));switch(!0){case oe.some(ee=>ee===ve.Both):return ve.Both;case oe.some(ee=>ee===ve.EntitiesOnly):return ve.EntitiesOnly;default:return ve.None}}),updateOne:ot(ce),updateMany:ot(pe),upsertOne:ot(function(Ce,fe){return Wt([Ce],fe)}),upsertMany:ot(Wt),removeOne:ot(function(Ce,fe){return $([Ce],fe)}),removeMany:ot($),map:ot(function(Ce,fe){return pe(fe.ids.reduce((ge,Ae)=>{const We=Ce(fe.entities[Ae]);return We!==fe.entities[Ae]&&ge.push({id:Ae,changes:We}),ge},[]).filter(({id:ge})=>ge in fe.entities),fe)}),mapOne:ot(function({map:Ce,id:fe},oe){const ee=oe.entities[fe];return ee?ce({id:fe,changes:Ce(ee)},oe):ve.None})}}function ai(i={}){const{selectId:a,sortComparer:r}=Re({sortComparer:!1,selectId:A=>A.id},i),u={getInitialState:function(a={}){return Object.assign({ids:[],entities:{}},a)}},f={getSelectors:function(a){const r=A=>A.ids,u=A=>A.entities,f=(0,m.P1)(r,u,(A,$)=>A.map(X=>$[X])),_=(0,m.P1)(r,A=>A.length);return a?{selectIds:(0,m.P1)(a,r),selectEntities:(0,m.P1)(a,u),selectAll:(0,m.P1)(a,f),selectTotal:(0,m.P1)(a,_)}:{selectIds:r,selectEntities:u,selectAll:f,selectTotal:_}}},_=r?function(i,a){const{removeOne:r,removeMany:u,removeAll:f}=fa(i);function _(oe,ee){return A([oe],ee)}function A(oe,ee){const ge=oe.filter(Ae=>!(Cn(Ae,i)in ee.entities));return 0===ge.length?ve.None:(fe(ge,ee),ve.Both)}function X(oe,ee){const ge=Cn(oe,i);return ge in ee.entities?(ee.ids=ee.ids.filter(Ae=>Ae!==ge),fe([oe],ee),ve.Both):_(oe,ee)}function ce(oe,ee){return Ge([oe],ee)}function Ge(oe,ee){const ge=[],Ae=oe.filter(We=>function(oe,ee,ge){if(!(ee.id in ge.entities))return!1;const We=Object.assign({},ge.entities[ee.id],ee.changes),Mt=Cn(We,i);return delete ge.entities[ee.id],oe.push(We),Mt!==ee.id}(ge,We,ee)).length>0;if(0===ge.length)return ve.None;{const We=ee.ids,Mt=[];return ee.ids=ee.ids.filter((Mn,Kr)=>Mn in ee.entities||(Mt.push(Kr),!1)),fe(ge,ee),!Ae&&Mt.every(Mn=>ee.ids[Mn]===We[Mn])?ve.EntitiesOnly:ve.Both}}function Ce(oe,ee){const ge=[],Ae=[];for(const Mn of oe){const Kr=Cn(Mn,i);Kr in ee.entities?Ae.push({id:Kr,changes:Mn}):ge.push(Mn)}const We=Ge(Ae,ee),Mt=A(ge,ee);switch(!0){case Mt===ve.None&&We===ve.None:return ve.None;case Mt===ve.Both||We===ve.Both:return ve.Both;default:return ve.EntitiesOnly}}function fe(oe,ee){oe.sort(a);const ge=[];let Ae=0,We=0;for(;Ae<oe.length&&We<ee.ids.length;){const Mt=oe[Ae],Mn=Cn(Mt,i),Kr=ee.ids[We];a(Mt,ee.entities[Kr])<=0?(ge.push(Mn),Ae++):(ge.push(Kr),We++)}ee.ids=ge.concat(Ae<oe.length?oe.slice(Ae).map(i):ee.ids.slice(We)),oe.forEach((Mt,Mn)=>{ee.entities[i(Mt)]=Mt})}return{removeOne:r,removeMany:u,removeAll:f,addOne:ot(_),updateOne:ot(ce),upsertOne:ot(function(oe,ee){return Ce([oe],ee)}),setAll:ot(function(oe,ee){return ee.entities={},ee.ids=[],A(oe,ee),ve.Both}),setOne:ot(X),setMany:ot(function(oe,ee){const ge=oe.map(Ae=>X(Ae,ee));switch(!0){case ge.some(Ae=>Ae===ve.Both):return ve.Both;case ge.some(Ae=>Ae===ve.EntitiesOnly):return ve.EntitiesOnly;default:return ve.None}}),addMany:ot(A),updateMany:ot(Ge),upsertMany:ot(Ce),map:ot(function(oe,ee){return Ge(ee.ids.reduce((Ae,We)=>{const Mt=oe(ee.entities[We]);return Mt!==ee.entities[We]&&Ae.push({id:We,changes:Mt}),Ae},[]),ee)}),mapOne:ot(function({map:oe,id:ee},ge){const Ae=ge.entities[ee];return Ae?ce({id:ee,changes:oe(Ae)},ge):ve.None})}}(a,r):fa(a);return Re(Re(Re({selectId:a,sortComparer:r},u),f),_)}const Dg="discardPileCards",Ur=ai(),eu=Ur.getInitialState({initialized:!1,loaded:!1}),Fd=(0,m.Lq)(eu,(0,m.on)(Qo,i=>Object.assign(Object.assign({},i),{initialized:!1})),(0,m.on)(qi,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(Xc,(i,{discardPileCards:a})=>Ur.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(Sd,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(Pd,(i,{discardPileCards:a})=>Ur.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(Od,(i,{discardPileCard:a})=>Ur.addOne(a,i)),(0,m.on)(Ki,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a}))),ci=(0,m.ZF)(Dg),{selectAll:tu,selectEntities:Rd}=Ur.getSelectors(),Cg=(0,m.P1)(ci,i=>i.loaded),Eg=((0,m.P1)(ci,i=>i.errorMsg),(0,m.P1)(ci,i=>tu(i))),Ag=(0,m.P1)(ci,i=>[...tu(i)].reverse()),bg=(0,m.P1)(ci,i=>Rd(i)),Br=(0,m.P1)(ci,i=>i.selectedId),Jo=(0,m.P1)(bg,Br,(i,a)=>{if(void 0!==a)return i[a]});let nu=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(Cg)),this.allDiscardPileCards$=this.store.pipe((0,m.Ys)(Eg)),this.allDiscardPileCardsReverse$=this.store.pipe((0,m.Ys)(Ag)),this.selectedDiscardPileCards$=this.store.pipe((0,m.Ys)(Jo))}initNewGame(){this.store.dispatch(Qo())}initSavedGame(){this.store.dispatch(qi())}addCardToDiscardPile(r){this.store.dispatch(zi({card:r}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const wg=(i,a)=>({id:i,color:a});var Ue=(()=>{return(i=Ue||(Ue={})).Red="RED",i.Blue="BLUE",Ue;var i})(),ui=(()=>{return(i=ui||(ui={}))[i.Lower=-2]="Lower",i[i.Low=-1]="Low",i[i.Middle=0]="Middle",i[i.Up=1]="Up",i[i.Upper=2]="Upper",ui;var i})();const lt="DOMAIN_RED",dt="DOMAIN_BLUE",ru=new Map([[lt,wg(lt,Ue.Red)],[dt,wg(dt,Ue.Blue)]]),ft="LandCard",pa="AvailableLandSlot",st=(i,a,r,u)=>({interface:ft,id:i,type:a,die:r,color:u,print:()=>`${a}`});var re=(()=>{return(i=re||(re={})).Clay="CLAY",i.Wood="WOOD",i.Gold="GOLD",i.Wheat="WHEAT",i.Stone="STONE",i.Wool="WOOL",re;var i})(),Ne=(()=>{return(i=Ne||(Ne={})).ClayPit="CLAYPIT",i.Forest="FOREST",i.GoldMine="GOLDMINE",i.Field="FIELD",i.StoneQuarry="STONEQUARRY",i.Pasture="PASTURE",Ne;var i})();const Ln=[0,1,2,3],ha="CLAY_PIT_RED",En="FOREST_RED",li="GOLD_MINE_RED",ga="FIELD_RED",_a="STONE_QUARRY_RED",ma="PASTURE_RED",Nd="CLAY_PIT_BLUE",Ld="FOREST_BLUE",kd="GOLD_MINE_BLUE",Xo="FIELD_BLUE",es="STONE_QUARRY_BLUE",ts="PASTURE_BLUE",Ji=new Map([[ha,st(ha,Ne.ClayPit,3,Ue.Red)],[En,st(En,Ne.Forest,2,Ue.Red)],[li,st(li,Ne.GoldMine,1,Ue.Red)],[ga,st(ga,Ne.Field,6,Ue.Red)],[_a,st(_a,Ne.StoneQuarry,5,Ue.Red)],[ma,st(ma,Ne.Pasture,4,Ue.Red)],[Nd,st(Nd,Ne.ClayPit,2,Ue.Blue)],[Ld,st(Ld,Ne.Forest,3,Ue.Blue)],[kd,st(kd,Ne.GoldMine,4,Ue.Blue)],[Xo,st(Xo,Ne.Field,5,Ue.Blue)],[es,st(es,Ne.StoneQuarry,6,Ue.Blue)],[ts,st(ts,Ne.Pasture,1,Ue.Blue)],["LAND_1",st("LAND_1",Ne.ClayPit,1)],["LAND_2",st("LAND_2",Ne.Field,1)],["LAND_3",st("LAND_3",Ne.GoldMine,2)],["LAND_4",st("LAND_4",Ne.StoneQuarry,2)],["LAND_5",st("LAND_5",Ne.Field,3)],["LAND_6",st("LAND_6",Ne.GoldMine,3)],["LAND_7",st("LAND_7",Ne.Forest,4)],["LAND_8",st("LAND_8",Ne.StoneQuarry,4)],["LAND_9",st("LAND_9",Ne.ClayPit,5)],["LAND_10",st("LAND_10",Ne.Pasture,5)],["LAND_11",st("LAND_11",Ne.Forest,6)],["LAND_12",st("LAND_12",Ne.Pasture,6)]]);var Vd=v(5894),Ud=v(7879);function iu(...i){if(1===i.length){const a=i[0];if((0,Vd.k)(a))return ya(a,null);if((0,Ud.K)(a)&&Object.getPrototypeOf(a)===Object.prototype){const r=Object.keys(a);return ya(r.map(u=>a[u]),r)}}if("function"==typeof i[i.length-1]){const a=i.pop();return ya(i=1===i.length&&(0,Vd.k)(i[0])?i[0]:i,null).pipe((0,te.U)(r=>a(...r)))}return ya(i,null)}function ya(i,a){return new ki.y(r=>{const u=i.length;if(0===u)return void r.complete();const f=new Array(u);let _=0,A=0;for(let $=0;$<u;$++){const X=(0,ca.D)(i[$]);let ue=!1;r.add(X.subscribe({next:ce=>{ue||(ue=!0,A++),f[$]=ce},error:ce=>r.error(ce),complete:()=>{_++,(_===u||!ue)&&(A===u&&r.next(a?a.reduce((ce,pe,Ge)=>(ce[pe]=f[Ge],ce),{}):f),r.complete())}}))}})}var ns=v(5571);const ou=(0,m.PH)("[Start Page] Init DomainsCards New Game"),va=(0,m.PH)("[Start Page] Init DomainsCards Saved Game"),rs=(0,m.PH)("[DomainsCards/API] Load DomainsCards Success",(0,m.Ky)()),Bd=(0,m.PH)("[DomainsCards/API] Load DomainsCards Failure",(0,m.Ky)()),Da=(0,m.PH)("[DomainsCards] Set DomainsCards On Init",(0,m.Ky)()),jd=(0,m.PH)("[DomainsCards] Increase Available Resources For Die",(0,m.Ky)()),Dt=(0,m.PH)("[DomainsCards] Increase Available Resources For Auspicious Year"),Hd=(0,m.PH)("[DomainsCards] Increase Available Resources",(0,m.Ky)()),is=(0,m.PH)("[DomainsCards] Update DomainCard",(0,m.Ky)()),di=(0,m.PH)("[DomainsCards] Update DomainsCards",(0,m.Ky)()),su=(0,m.PH)("[DomainsCards] Add DomainCard",(0,m.Ky)()),$d=(0,m.PH)("[DomainsCards] Lock Resource",(0,m.Ky)()),Gd=(0,m.PH)("[DomainsCards] Unlock Resources",(0,m.Ky)()),Zd=(0,m.PH)("[DomainsCards] Use Locked Resources"),Wd=(0,m.PH)("[DomainsCards] Give Locked Resources"),Yd=(0,m.PH)("[DomainsCards] Toggle DomainCard Selection",(0,m.Ky)()),Mg=(0,m.PH)("[DomainsCards] Clear DomainCards Selection"),Tg=(0,m.PH)("[DomainsCards] Put Card In Pivot",(0,m.Ky)()),_r=(0,m.PH)("[DomainsCards] Set DomainsCards Error",(0,m.Ky)()),Ht=(0,m.PH)("[DomainsCards] Create DomainCard",(0,m.Ky)()),Ca=(0,m.PH)("[DomainsCards] Count And Steal Unprotected Gold And Wool"),au=(0,m.PH)("[DomainsCards] Swap Selected Cards"),cu=(0,m.PH)("[DomainsCards] Remove DomainCard",(0,m.Ky)());var at=(()=>{return(i=at||(at={})).Road="ROAD",i.Hamlet="HAMLET",i.Town="TOWN",at;var i})();const $t="AgglomerationCard",mr="AvailableAgglomerationSlot",uu=(i,a,r,u,f)=>({interface:$t,id:i,cost:a,type:r,victoryPoints:u,color:f,print:()=>`type: ${r}`});function yr(i,a){return uu(i,new Map([[re.Wood,1],[re.Clay,2]]),at.Road,0,a)}function zn(i,a){return uu(i,new Map([[re.Wood,1],[re.Clay,1],[re.Wool,1],[re.Wheat,1]]),at.Hamlet,1,a)}function fi(i,a){return uu(i,new Map([[re.Wheat,2],[re.Stone,3]]),at.Town,2,a)}const lu="ROAD_RED",Ea="HAMLET_RED_1",du="HAMLET_RED_2",fu="ROAD_BLUE",pu="HAMLET_BLUE_1",os="HAMLET_BLUE_2",ss=new Map([[lu,yr(lu,Ue.Red)],[fu,yr(fu,Ue.Blue)],["ROAD_1",yr("ROAD_1")],["ROAD_2",yr("ROAD_2")],["ROAD_3",yr("ROAD_3")],["ROAD_4",yr("ROAD_4")],["ROAD_5",yr("ROAD_5")],["ROAD_6",yr("ROAD_6")],["ROAD_7",yr("ROAD_7")],[Ea,zn(Ea,Ue.Red)],[du,zn(du,Ue.Red)],[pu,zn(pu,Ue.Blue)],[os,zn(os,Ue.Blue)],["HAMLET_1",zn("HAMLET_1")],["HAMLET_2",zn("HAMLET_2")],["HAMLET_3",zn("HAMLET_3")],["HAMLET_4",zn("HAMLET_4")],["HAMLET_5",zn("HAMLET_5")],["TOWN_1",fi("TOWN_1")],["TOWN_2",fi("TOWN_2")],["TOWN_3",fi("TOWN_3")],["TOWN_4",fi("TOWN_4")],["TOWN_5",fi("TOWN_5")],["TOWN_6",fi("TOWN_6")],["TOWN_7",fi("TOWN_7")]]);var pi=(()=>{return(i=pi||(pi={})).Building="BUILDING",i.Ship="SHIP",i.Warrior="WARRIOR",pi;var i})(),it=(()=>{return(i=it||(it={})).Brickyard="Brickyard",i.Sawmill="Sawmill",i.Mill="Mill",i.Foundry="Foundry",i.Weaving="Weaving",i.Warehouse="Warehouse",i.Market="Market",i.TollBridge="Toll bridge",i.Monastery="Monastery",i.CommunityCenter="Community center",it;var i})();const Sg=new Map([[re.Clay,`Merchant ship - ${re.Clay}`],[re.Wood,`Merchant ship - ${re.Wood}`],[re.Gold,`Merchant ship - ${re.Gold}`],[re.Wheat,`Merchant ship - ${re.Wheat}`],[re.Stone,`Merchant ship - ${re.Stone}`],[re.Wool,`Merchant ship - ${re.Wool}`],["ANY","Great merchant ship"]]);var vr=(()=>{return(i=vr||(vr={})).Altair="Alta\xefr",i.Ezio="Ezio",i.Evie="Evie",i.Jacob="Jacob",i.Kassandra="Kassandra",i.Alexios="Alexios",vr;var i})(),hn=(()=>{return(i=hn||(hn={})).Trade="TRADE",i.Strength="STRENGTH",hn;var i})();const Dr="DevelopmentCard",gn="AvailableDevelopmentSlot",hu=(i,a,r,u)=>({interface:Dr,id:i,name:a,cost:r,type:u});function an(i,a,r,u,f,_,A){const $=hu(i,a,r,pi.Building);return $.tradePoints=u,$.givesKnowledge=f,$.noDuplicate=_,$.victoryPoints=A,$}function hi(i,a){const r=Sg.get(a);if(void 0===r)throw new Error(`Can't find ship name for type ${a}`);const u=hu(i,r,new Map([[re.Wood,1],[re.Wool,1]]),pi.Ship);return u.tradePoints=1,u}function gi(i,a,r,u,f){const _=hu(i,a,r,pi.Warrior);return _.strengthPoints=u,_.celebrationPoints=f,_}const $e=(i,a,r,u,f,_,A=0,$=0)=>({id:i,domainId:a,cardType:r,cardId:u,col:f,row:_,availableResources:A,lockedResources:$}),kn=new Map([["BUILDING_1",an("BUILDING_1",it.Brickyard,new Map([[re.Clay,1],[re.Stone,1]]))],["BUILDING_2",an("BUILDING_2",it.Sawmill,new Map([[re.Wood,1],[re.Stone,1]]))],["BUILDING_3",an("BUILDING_3",it.Mill,new Map([[re.Wood,1],[re.Wheat,1]]))],["BUILDING_4",an("BUILDING_4",it.Foundry,new Map([[re.Clay,1],[re.Stone,1]]))],["BUILDING_5",an("BUILDING_5",it.Weaving,new Map([[re.Wood,1],[re.Wool,1]]))],["BUILDING_6",an("BUILDING_6",it.Warehouse,new Map([[re.Wood,1],[re.Wool,1]]))],["BUILDING_7",an("BUILDING_7",it.Warehouse,new Map([[re.Wood,1],[re.Wool,1]]))],["BUILDING_8",an("BUILDING_8",it.Market,new Map([[re.Wheat,1],[re.Wool,1]]),1,!1,!0)],["BUILDING_9",an("BUILDING_9",it.Market,new Map([[re.Wheat,1],[re.Wool,1]]),1,!1,!0)],["BUILDING_10",an("BUILDING_10",it.TollBridge,new Map([[re.Wool,1],[re.Clay,1]]),1)],["BUILDING_11",an("BUILDING_11",it.Monastery,new Map([[re.Clay,1],[re.Wheat,1],[re.Stone,1]]),0,!0,!0)],["BUILDING_12",an("BUILDING_12",it.Monastery,new Map([[re.Clay,1],[re.Wheat,1],[re.Stone,1]]),0,!0,!0)],["BUILDING_13",an("BUILDING_13",it.CommunityCenter,new Map([[re.Clay,1],[re.Wheat,1]]),0,!1,!0)],["BUILDING_14",an("BUILDING_14",it.CommunityCenter,new Map([[re.Clay,1],[re.Wheat,1]]),0,!1,!0)],["SHIP_1",hi("SHIP_1",re.Clay)],["SHIP_2",hi("SHIP_2",re.Wood)],["SHIP_3",hi("SHIP_3",re.Gold)],["SHIP_4",hi("SHIP_4",re.Wheat)],["SHIP_5",hi("SHIP_5",re.Stone)],["SHIP_6",hi("SHIP_6",re.Wool)],["SHIP_7",hi("SHIP_7","ANY")],["WARRIOR_1",gi("WARRIOR_1",vr.Altair,new Map([[re.Wheat,1],[re.Stone,1]]),1,1)],["WARRIOR_2",gi("WARRIOR_2",vr.Ezio,new Map([[re.Wheat,1],[re.Stone,1]]),2,1)],["WARRIOR_3",gi("WARRIOR_3",vr.Evie,new Map([[re.Wheat,1],[re.Wool,1],[re.Stone,1]]),1,3)],["WARRIOR_4",gi("WARRIOR_4",vr.Jacob,new Map([[re.Wheat,1],[re.Wool,1],[re.Stone,1]]),2,2)],["WARRIOR_5",gi("WARRIOR_5",vr.Kassandra,new Map([[re.Wool,2],[re.Wheat,1],[re.Stone,1]]),2,3)],["WARRIOR_6",gi("WARRIOR_6",vr.Alexios,new Map([[re.Wool,2],[re.Wheat,1],[re.Stone,1]]),4,1)]]),gu="domainsCards",jr=ai(),Og=jr.getInitialState({selectedIds:[],initialized:!1,loaded:!1}),xg=(0,m.Lq)(Og,(0,m.on)(ou,i=>Object.assign(Object.assign({},i),{initialized:!1})),(0,m.on)(va,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(rs,(i,{domainsCards:a})=>jr.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(Bd,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(Da,(i,{domainsCards:a})=>jr.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(is,(i,{update:a})=>jr.updateOne(a,i)),(0,m.on)(di,(i,{updates:a})=>jr.updateMany(a,i)),(0,m.on)(su,(i,{domainCard:a})=>jr.addOne(a,i)),(0,m.on)(Yd,(i,{id:a})=>{const r=i.selectedIds.find(f=>f===a);let u;return u=void 0===r?[...i.selectedIds,a]:i.selectedIds.filter(f=>f!==r),Object.assign(Object.assign({},i),{selectedIds:u})}),(0,m.on)(Mg,i=>Object.assign(Object.assign({},i),{selectedIds:[]})),(0,m.on)(au,i=>{const a=i.entities[i.selectedIds[0]],r=i.entities[i.selectedIds[1]];if(void 0===a||void 0===r)throw new Error("Something went wrong, card0 and card1 shouldn't be undefined at this point.");const u=Object.assign(Object.assign({},a),{col:r.col,row:r.row}),f=Object.assign(Object.assign({},r),{col:a.col,row:a.row});return Object.assign(Object.assign({},i),{entities:Object.assign(Object.assign({},i.entities),{[a.id]:u,[r.id]:f})})}),(0,m.on)(cu,(i,{id:a})=>jr.removeOne(a,i)),(0,m.on)(_r,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a}))),Qn=(0,m.ZF)(gu),{selectAll:Jn,selectEntities:av}=jr.getSelectors(),cv=(0,m.P1)(Qn,i=>i.loaded),Gt=((0,m.P1)(Qn,i=>i.errorMsg),(0,m.P1)(Qn,i=>Jn(i))),Xn=(0,m.P1)(Qn,i=>av(i)),_u=(0,m.P1)(Qn,i=>i.selectedIds),ba=(0,m.P1)(Xn,_u,(i,a)=>a.map(r=>i[r]).filter(r=>void 0!==r)),Rg=(0,m.P1)(Gt,(i,a)=>i.filter(r=>{const u=Xi(r,a.die);return void 0!==u&&!tf(r,i,u.type)})),qd=(0,m.P1)(Gt,(i,a)=>i.filter(r=>{const u=Xi(r,a.die);return void 0!==u&&tf(r,i,u.type)})),Xi=(i,a)=>{if(i.cardType===ft&&void 0!==i.cardId){const r=Ji.get(i.cardId);if(void 0!==r&&r.die===a)return r}},as=(0,m.P1)(Gt,(i,a)=>i.filter(r=>r.cardType===ft&&void 0!==r.cardId&&void 0!==Ji.get(r.cardId)&&Lg(r,i,a.count))),Kd=(0,m.P1)(Gt,(i,a)=>i.find(r=>r.cardType===ft&&r.id===a.id)),wa=(0,m.P1)(Gt,i=>i.filter(a=>a.cardType===ft&&a.lockedResources>0)),mu=(0,m.P1)(Gt,(i,a)=>Math.min(...i.filter(r=>r.domainId===a.domainId).map(r=>r.col))),zd=(0,m.P1)(Gt,(i,a)=>Math.max(...i.filter(r=>r.domainId===a.domainId).map(r=>r.col))),uv=(0,m.P1)(Gt,(i,a)=>Math.min(...i.filter(r=>r.domainId===a.domainId).map(r=>r.row))),eo=(0,m.P1)(Gt,(i,a)=>Math.max(...i.filter(r=>r.domainId===a.domainId).map(r=>r.row))),yu=(0,m.P1)(Gt,(i,a)=>{const r=i.filter(A=>A.domainId===lt),u=i.filter(A=>A.domainId===dt),f=Jd(r,a.type),_=Jd(u,a.type);return vu(f,_)}),Jd=(i,a)=>i.filter(r=>r.cardType===Dr&&void 0!==r.cardId).map(r=>kn.get(r.cardId)).filter(r=>void 0!==r).map(r=>((i,a)=>{switch(a){case hn.Trade:return i.tradePoints||0;case hn.Strength:return i.strengthPoints||0}})(r,a)).reduce((r,u)=>r+u,0),vu=(i,a)=>i>a&&i>2?lt:a>i&&a>2?dt:void 0,Xd=(0,m.P1)(Gt,(i,a)=>i.filter(r=>r.domainId===a.domainId&&r.cardType===ft&&!nf(r,i)).reduce((r,u)=>r+u.availableResources,0)),ef=(0,m.P1)(Gt,(i,a)=>i.filter(r=>{var u,f;return r.domainId===a.domainId&&r.cardType===ft&&void 0!==r.cardId&&((null===(u=Ji.get(r.cardId))||void 0===u?void 0:u.type)===Ne.GoldMine||(null===(f=Ji.get(r.cardId))||void 0===f?void 0:f.type)===Ne.Pasture)&&!nf(r,i)})),tf=(i,a,r)=>void 0!==Ma(i,a).find(f=>void 0!==f.cardId&&Ng(f.cardId,r)),Ng=(i,a)=>{var r;const u=null===(r=kn.get(i))||void 0===r?void 0:r.name;switch(a){case Ne.ClayPit:return u===it.Brickyard;case Ne.Forest:return u===it.Sawmill;case Ne.Field:return u===it.Mill;case Ne.StoneQuarry:return u===it.Foundry;case Ne.Pasture:return u===it.Weaving;case Ne.GoldMine:return!1}},nf=(i,a)=>void 0!==Ma(i,a).find(u=>{var f;return void 0!==u.cardId&&(null===(f=kn.get(u.cardId))||void 0===f?void 0:f.name)===it.Warehouse}),Lg=(i,a,r)=>Ma(i,a).filter(f=>{var _,A;return void 0!==f.cardId&&((null===(_=kn.get(f.cardId))||void 0===_?void 0:_.name)===it.Warehouse||(null===(A=kn.get(f.cardId))||void 0===A?void 0:A.name)===it.Monastery)}).length===r,Ma=(i,a)=>a.filter(r=>r.domainId===i.domainId&&(r.col===i.col-1||r.col===i.col+1)&&(i.row<0?r.row<0:r.row>=0));let Vg=(()=>{class i{constructor(r,u){this.actions$=r,this.domainsCardsStore=u,this.initNewGame$=Ve(()=>this.actions$.pipe(He(ou),(0,te.U)(()=>Da({domainsCards:[$e(Pe(),lt,$t,lu,0,0),$e(Pe(),lt,$t,Ea,-1,0),$e(Pe(),lt,mr,void 0,-2,0),$e(Pe(),lt,$t,du,1,0),$e(Pe(),lt,mr,void 0,2,0),$e(Pe(),lt,ft,ha,-2,-1,1),$e(Pe(),lt,ft,En,-2,1,1),$e(Pe(),lt,gn,void 0,-1,1),$e(Pe(),lt,ft,li,0,1,0),$e(Pe(),lt,gn,void 0,1,1),$e(Pe(),lt,ft,ga,2,1,1),$e(Pe(),lt,ft,_a,2,-1,1),$e(Pe(),lt,gn,void 0,1,-1),$e(Pe(),lt,ft,ma,0,-1,1),$e(Pe(),lt,gn,void 0,-1,-1),$e(Pe(),dt,$t,fu,0,0),$e(Pe(),dt,$t,pu,-1,0),$e(Pe(),dt,mr,void 0,-2,0),$e(Pe(),dt,$t,os,1,0),$e(Pe(),dt,mr,void 0,2,0),$e(Pe(),dt,ft,Nd,-2,-1,1),$e(Pe(),dt,ft,Ld,-2,1,1),$e(Pe(),dt,gn,void 0,-1,1),$e(Pe(),dt,ft,kd,0,1,0),$e(Pe(),dt,gn,void 0,1,1),$e(Pe(),dt,ft,Xo,2,1,1),$e(Pe(),dt,ft,es,2,-1,1),$e(Pe(),dt,gn,void 0,1,-1),$e(Pe(),dt,ft,ts,0,-1,1),$e(Pe(),dt,gn,void 0,-1,-1)]})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(va),si({run:()=>rs({domainsCards:[]}),onError:(f,_)=>(console.error("Error",_),Bd({error:_}))}))),this.increaseResourcesForDie$=Ve(()=>this.actions$.pipe(He(jd),(0,Nn.b)(f=>iu({increaseOne:this.domainsCardsStore.pipe((0,m.Ys)(Rg,{die:f.die}),(0,Rt.q)(1)),increaseTwo:this.domainsCardsStore.pipe((0,m.Ys)(qd,{die:f.die}),(0,Rt.q)(1))})),(0,te.U)(({increaseOne:f,increaseTwo:_})=>{const A=this.updatesAvailableResources(f,1),$=this.updatesAvailableResources(_,2);return di({updates:[...A,...$]})}))),this.increaseResourcesAuspiciousYear$=Ve(()=>this.actions$.pipe(He(Dt),(0,ns.M)(this.domainsCardsStore.select(as,{count:1}),this.domainsCardsStore.select(as,{count:2}),this.domainsCardsStore.select(as,{count:3}),this.domainsCardsStore.select(as,{count:4})),(0,te.U)(([f,_,A,$,X])=>{const ue=this.updatesAvailableResources(_,1),ce=this.updatesAvailableResources(A,2),pe=this.updatesAvailableResources($,3),Ge=this.updatesAvailableResources(X,4);return di({updates:[...ue,...ce,...pe,...Ge]})}))),this.lockResource$=Ve(()=>this.actions$.pipe(He($d),(0,Nn.b)(f=>this.takeOneDefinedPivotOrThrow(f.id).pipe((0,te.U)(_=>{if(0===_.availableResources)throw new Error(`Can't lock unavailable resource for pivot ${_.id}.`);if(_.lockedResources===Math.max(...Ln))throw new Error(`Can't lock more resources for pivot ${_.id}.`);return is({update:{id:_.id,changes:{availableResources:_.availableResources-1,lockedResources:_.lockedResources+1}}})}),(0,kr.K)(_=>(0,Kn.of)(_r({error:_.message}))))))),this.unlockResources$=Ve(()=>this.actions$.pipe(He(Gd),(0,Nn.b)(f=>this.takeOneDefinedPivotOrThrow(f.id).pipe((0,te.U)(_=>{if(_.availableResources+_.lockedResources>Math.max(...Ln))throw new Error(`Shouldn't have been able to lock so many resources for pivot ${_.id}.`);return is({update:{id:_.id,changes:{availableResources:_.availableResources+_.lockedResources,lockedResources:0}}})}),(0,kr.K)(_=>(0,Kn.of)(_r({error:_.message}))))))),this.useLockedResources$=Ve(()=>this.actions$.pipe(He(Zd),(0,ns.M)(this.domainsCardsStore.select(wa)),(0,te.U)(([f,_])=>{const A=_.map($=>({id:$.id,changes:{lockedResources:0}}));return di({updates:A})}))),this.giveLockedResources$=Ve(()=>this.actions$.pipe(He(Wd),(0,ns.M)(this.domainsCardsStore.select(wa)),(0,Nn.b)(([f,_])=>this.domainsCardsStore.pipe((0,m.Ys)(ba),(0,Rt.q)(1),(0,te.U)(A=>{if(0===_.length)throw new Error("Can't give locked resources if no pivots with locked resources.");const X=this.getLandCardFromPivot(_[0]);let ue=0;_.forEach(Wt=>{if(this.getLandCardFromPivot(Wt).type!==X.type)throw new Error("Can't give locked resources of different types.");ue+=Wt.lockedResources});const ce=_.map(Wt=>({id:Wt.id,changes:{lockedResources:0}}));if(1!==A.length)throw new Error("Can't give locked resources if no pivot or more than one pivot selected.");const pe=A[0];if(this.getLandCardFromPivot(pe).type!==X.type)throw new Error("Can't give locked resources to pivot of different type.");const Fe=pe.availableResources+ue;if(Fe>Math.max(...Ln))throw new Error("Can't give so many locked resources to selected pivot.");return di({updates:[...ce,{id:pe.id,changes:{availableResources:Fe}}]})}),(0,kr.K)(A=>(0,Kn.of)(_r({error:A.message}))))))),this.increaseResources$=Ve(()=>this.actions$.pipe(He(Hd),(0,Nn.b)(f=>this.takeOneDefinedPivotOrThrow(f.id).pipe((0,te.U)(_=>{if(_.availableResources===Math.max(...Ln))throw new Error(`Can't increase available resources beyond maximum for pivot ${_.id}.`);return is({update:{id:_.id,changes:{availableResources:_.availableResources+1}}})}),(0,kr.K)(_=>(0,Kn.of)(_r({error:_.message}))))))),this.putCardInPivot$=Ve(()=>this.actions$.pipe(He(Tg),(0,te.U)(f=>is({update:{id:f.id,changes:{cardType:f.cardType,cardId:f.cardId}}})))),this.createCard$=Ve(()=>this.actions$.pipe(He(Ht),(0,te.U)(({domainId:f,cardType:_,cardId:A,col:$,row:X})=>{const ue=$e(Pe(),f,_,A,$,X);return su({domainCard:ue})}))),this.countStealResources$=Ve(()=>this.actions$.pipe(He(Ca),(0,ns.M)(this.domainsCardsStore.select(Xd,{domainId:lt}),this.domainsCardsStore.select(Xd,{domainId:dt}),this.domainsCardsStore.select(ef,{domainId:lt}),this.domainsCardsStore.select(ef,{domainId:dt})),(0,te.U)(([f,_,A,$,X])=>{let ce=[];return _>7&&(ce=[...ce,...$]),A>7&&(ce=[...ce,...X]),ce}),(0,te.U)(f=>{const _=f.map(A=>({id:A.id,changes:{availableResources:0}}));return di({updates:_})}))),this.updatesAvailableResources=(f,_)=>[...f.filter(X=>X.availableResources<Math.max(...Ln)-_).map(X=>({id:X.id,changes:{availableResources:X.availableResources+_}})),...f.filter(X=>X.availableResources>=Math.max(...Ln)-_&&X.availableResources<Math.max(...Ln)).map(X=>({id:X.id,changes:{availableResources:Math.max(...Ln)}}))]}takeOneDefinedPivotOrThrow(r){return this.domainsCardsStore.pipe((0,m.Ys)(Kd,{id:r}),(0,te.U)(u=>{if(void 0===u)throw new Error("Couldn't find land card pivot for id.");return u}),(0,Rt.q)(1))}getLandCardFromPivot(r){if(void 0===r.cardId)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");const u=Ji.get(r.cardId);if(void 0===u)throw new Error("Something went wrong, land shouldn't be undefined at this point.");return u}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr),o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Ta=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(cv)),this.allDomainsCards$=this.store.pipe((0,m.Ys)(Gt)),this.selectedDomainsCards$=this.store.pipe((0,m.Ys)(ba))}initNewGame(){this.store.dispatch(ou())}initSavedGame(){this.store.dispatch(va())}lockResource(r){this.store.dispatch($d({id:r}))}unlockResources(r){this.store.dispatch(Gd({id:r}))}increaseResources(r){this.store.dispatch(Hd({id:r}))}increaseResourcesForDie(r){this.store.dispatch(jd({die:r}))}increaseResourcesForAuspiciousYear(){this.store.dispatch(Dt())}useLockedResources(){this.store.dispatch(Zd())}giveLockedResources(){this.store.dispatch(Wd())}toggleDomainCardSelection(r){this.store.dispatch(Yd({id:r}))}clearDomainCardSelection(){this.store.dispatch(Mg())}putCardInSlot(r,u,f){this.store.dispatch(Tg({id:r,cardType:u,cardId:f}))}createAvailableDomainCard(r,u,f,_){this.store.dispatch(Ht({domainId:r,cardType:u,cardId:void 0,col:f,row:_}))}countAndStealUnprotectedGoldAndWool(){this.store.dispatch(Ca())}swapSelectedCards(){this.store.dispatch(au())}removeDomainCard(r){this.store.dispatch(cu({id:r}))}getDomainMinCol(r){return this.store.pipe((0,m.Ys)(mu,{domainId:r}))}getDomainMaxCol(r){return this.store.pipe((0,m.Ys)(zd,{domainId:r}))}getDomainMinRow(r){return this.store.pipe((0,m.Ys)(uv,{domainId:r}))}getDomainMaxRow(r){return this.store.pipe((0,m.Ys)(eo,{domainId:r}))}getMasteryDomainForType(r){return this.store.pipe((0,m.Ys)(yu,{type:r}))}getCardsVictoryPointsForDomain(r){return this.store.select((i=>(0,m.P1)(Gt,a=>a.filter(r=>r.domainId===i&&void 0!==r.cardId).map(r=>{var u,f;switch(r.cardType){case $t:return(null===(u=ss.get(r.cardId))||void 0===u?void 0:u.victoryPoints)||0;case Dr:return(null===(f=kn.get(r.cardId))||void 0===f?void 0:f.victoryPoints)||0;default:return 0}}).reduce((r,u)=>r+u,0)))(r))}getMerchantShipCountForDomain(r){return this.store.select((i=>(0,m.P1)(Gt,a=>a.filter(r=>r.domainId===i&&void 0!==r.cardId).map(r=>kn.get(r.cardId)).filter(r=>void 0!==r).filter(r=>r.type===pi.Ship).length))(r))}getCelebrationPointsForDomain(r){return this.store.select((i=>(0,m.P1)(Gt,a=>a.filter(r=>r.domainId===i&&void 0!==r.cardId).map(r=>kn.get(r.cardId)).filter(r=>void 0!==r).map(r=>r.celebrationPoints||0).reduce((r,u)=>r+u,0)))(r))}hasDomainCommunityCenter(r){return this.store.select((i=>(0,m.P1)(Gt,a=>a.filter(r=>r.domainId===i&&void 0!==r.cardId).map(r=>kn.get(r.cardId)).filter(r=>void 0!==r).filter(r=>r.name===it.CommunityCenter).length>0))(r))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Ia=(0,m.PH)("[Start Page] Init EventsPileCards New Game"),Cr=(0,m.PH)("[Start Page] Init EventsPileCards Saved Game"),Eu=(0,m.PH)("[EventsPileCards/API] Load EventsPileCards Success",(0,m.Ky)()),Au=(0,m.PH)("[EventsPileCards/API] Load EventsPileCards Failure",(0,m.Ky)()),sf=(0,m.PH)("[Game Rules] Reset Events Pile"),cs=(0,m.PH)("[EventsPileCards] Select First Events Pile Card"),af=(0,m.PH)("[EventsPileCards] Remove Selected Events Pile Card"),bu=(0,m.PH)("[EventsPileCards] Set Entities Select First EventsPileCards",(0,m.Ky)()),wu=(0,m.PH)("[EventsPileCards] Set EventsPileCards Initialized Status",(0,m.Ky)()),cf=(0,m.PH)("[EventsPileCards] Set EventsPileCards Error",(0,m.Ky)()),us=((0,m.PH)("[EventsPileCards] Select Events Pile Card",(0,m.Ky)()),(0,m.PH)("[EventsPileCards] Unselect Events Pile Card"),(0,m.PH)("[EventsPileCards] Remove Events Pile Card",(0,m.Ky)()),"DevelopmentCard"),er=(i,a,r)=>({interface:us,id:i,name:a,ruleIds:r});var Qt=(()=>{return(i=Qt||(Qt={})).Festival="Festival",i.AuspiciousYear="Auspicious year",i.Hawker="Hawker",i.Invention="Invention",i.MerchantShipTravel="Merchant ship travel",i.Quarrel="Quarrel",i.SiblingRivalry="Sibling rivalry",Qt;var i})();const to=new Map([["EVENT_0",er("EVENT_0",Qt.Festival,[])],["EVENT_1",er("EVENT_1",Qt.AuspiciousYear,[])],["EVENT_2",er("EVENT_2",Qt.AuspiciousYear,[])],["EVENT_3",er("EVENT_3",Qt.Hawker,[])],["EVENT_4",er("EVENT_4",Qt.Hawker,[])],["EVENT_5",er("EVENT_5",Qt.Invention,[])],["EVENT_6",er("EVENT_6",Qt.MerchantShipTravel,[])],["EVENT_7",er("EVENT_7",Qt.Quarrel,[])],["EVENT_8",er("EVENT_8",Qt.SiblingRivalry,[])]]);var ls=v(8521),Tu=v.n(ls);const ff=()=>{const a=Tu()(Array.from(to.keys()).slice(1));return a.splice(-3,0,"EVENT_0"),a.map(u=>((i,a)=>({id:i,cardId:a}))(Pe(),u))};let Bg=(()=>{class i{constructor(r,u){this.actions$=r,this.eventsPileCardsStore=u,this.initNewGame$=Ve(()=>this.actions$.pipe(He(Ia),(0,te.U)(()=>wu({eventsPileCards:ff()})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(Cr),si({run:()=>Eu({eventsPileCards:[]}),onError:(f,_)=>(console.error("Error",_),Au({error:_}))}))),this.resetPileAndSelectFirst$=Ve(()=>this.actions$.pipe(He(sf),(0,te.U)(()=>bu({eventsPileCards:ff()}))))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr),o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Iu="eventsPileCards",Hr=ai(),pf=Hr.getInitialState({initialized:!1,loaded:!1}),lv=(0,m.Lq)(pf,(0,m.on)(Ia,i=>Object.assign(Object.assign({},i),{initialized:!1,selectedId:void 0})),(0,m.on)(Cr,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(Eu,(i,{eventsPileCards:a})=>Hr.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(Au,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(cf,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(wu,(i,{eventsPileCards:a})=>Hr.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(bu,(i,{eventsPileCards:a})=>Hr.setAll(a,Object.assign(Object.assign({},i),{selectedId:a[0].id}))),(0,m.on)(cs,i=>Object.assign(Object.assign({},i),{selectedId:i.ids[0]})),(0,m.on)(af,i=>{const a=Object.assign(Object.assign({},i),{selectedId:void 0});return void 0!==i.selectedId?Hr.removeOne(i.selectedId,a):a})),no=(0,m.ZF)(Iu),{selectAll:jg,selectEntities:hf}=Hr.getSelectors(),Hg=(0,m.P1)(no,i=>i.loaded),Vn=((0,m.P1)(no,i=>i.errorMsg),(0,m.P1)(no,i=>jg(i))),$g=(0,m.P1)(no,i=>hf(i)),gf=(0,m.P1)(no,i=>i.selectedId),Gg=(0,m.P1)($g,gf,(i,a)=>{if(void 0!==a)return i[a]});let Su=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(Hg)),this.allEventsPileCards$=this.store.pipe((0,m.Ys)(Vn)),this.selectedEventsPileCards$=this.store.pipe((0,m.Ys)(Gg))}initNewGame(){this.store.dispatch(Ia())}initSavedGame(){this.store.dispatch(Cr())}resetEventsPile(){this.store.dispatch(sf())}selectFirst(){this.store.dispatch(cs())}removeSelected(){this.store.dispatch(af())}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Pu=(0,m.PH)("[Start Page] Init FaceUpPilesCards New Game"),Ou=(0,m.PH)("[Start Page] Init FaceUpPilesCards Saved Game"),xu=(0,m.PH)("[FaceUpPilesCards/API] Load FaceUpPilesCards Success",(0,m.Ky)()),_f=(0,m.PH)("[FaceUpPilesCards/API] Load FaceUpPilesCards Failure",(0,m.Ky)()),mf=(0,m.PH)("[FaceUpPilesCards] Set FaceUpPilesCards On Init",(0,m.Ky)()),yf=(0,m.PH)("[FaceUpPilesCards] Remove FaceUpPileCard",(0,m.Ky)()),be=(0,m.PH)("[FaceUpPilesCards] Select FirstCardFromFaceUpPile",(0,m.Ky)()),Fu=(0,m.PH)("[FaceUpPilesCards] Select Face Up Pile Card",(0,m.Ky)()),vf=(0,m.PH)("[FaceUpPilesCards] Unselect Face Up Pile Card"),Ru=(0,m.PH)("[FaceUpPilesCards] Set FaceUpPilesCards Error",(0,m.Ky)()),_i="FACE_UP_ROAD",Jt="FACE_UP_HAMLET",ro="FACE_UP_TOWN",Zg=[_i,Jt,ro],ds=(i,a,r)=>({id:i,pileId:a,cardId:r}),Sa="faceUpPilesCards",io=ai(),Nu=io.getInitialState({initialized:!1,loaded:!1}),fv=(0,m.Lq)(Nu,(0,m.on)(Pu,i=>Object.assign(Object.assign({},i),{initialized:!1})),(0,m.on)(Ou,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(xu,(i,{faceUpPilesCards:a})=>io.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(_f,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(mf,(i,{faceUpPilesCards:a})=>io.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(Fu,(i,{id:a})=>Object.assign(Object.assign({},i),{selectedId:a})),(0,m.on)(vf,i=>Object.assign(Object.assign({},i),{selectedId:void 0})),(0,m.on)(yf,(i,{id:a})=>io.removeOne(a,i)),(0,m.on)(Ru,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a}))),oo=(0,m.ZF)(Sa),{selectAll:pv,selectEntities:Pa}=io.getSelectors(),Oa=(0,m.P1)(oo,i=>i.loaded),so=((0,m.P1)(oo,i=>i.errorMsg),(0,m.P1)(oo,i=>pv(i))),Lu=(0,m.P1)(oo,i=>Pa(i)),hv=(0,m.P1)(oo,i=>i.selectedId),Wg=(0,m.P1)(Lu,hv,(i,a)=>{if(void 0!==a)return i[a]}),ku=((0,m.P1)(so,(i,a)=>i.find(r=>r.pileId===a.pileId&&r.cardId===a.cardId)),(0,m.P1)(so,(i,a)=>i.filter(r=>r.pileId===a.pileId))),Yg=(0,m.P1)(so,(i,a)=>i.find(r=>r.pileId===a.pileId));let Cf=(()=>{class i{constructor(r,u){this.actions$=r,this.faceUpPilesCardsStore=u,this.initNewGame$=Ve(()=>this.actions$.pipe(He(Pu),(0,te.U)(()=>mf({faceUpPilesCards:[...Array.from(ss.values()).filter(u=>u.type===at.Road&&void 0===u.color).map(u=>ds(Pe(),_i,u.id)),...Array.from(ss.values()).filter(u=>u.type===at.Hamlet&&void 0===u.color).map(u=>ds(Pe(),Jt,u.id)),...Array.from(ss.values()).filter(u=>u.type===at.Town&&void 0===u.color).map(u=>ds(Pe(),ro,u.id))]})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(Ou),si({run:()=>xu({faceUpPilesCards:[]}),onError:(f,_)=>(console.error("Error",_),_f({error:_}))}))),this.selectFirst$=Ve(()=>this.actions$.pipe(He(be),(0,Nn.b)(f=>this.faceUpPilesCardsStore.pipe((0,m.Ys)(Yg,{pileId:f.pileId}),(0,te.U)(_=>{if(void 0===_)throw new Error("Can't get first card in empty face up pile.");return _}),(0,Rt.q)(1),(0,te.U)(_=>Fu({id:_.id})),(0,kr.K)(_=>(0,Kn.of)(Ru({error:_.message})))))))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr),o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Ef=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(Oa)),this.allFaceUpPilesCards$=this.store.pipe((0,m.Ys)(so)),this.selectedFaceUpPilesCards$=this.store.pipe((0,m.Ys)(Wg)),this.allRoadPivots$=this.store.pipe((0,m.Ys)(ku,{pileId:_i})),this.allHamletPivots$=this.store.pipe((0,m.Ys)(ku,{pileId:Jt})),this.allTownPivots$=this.store.pipe((0,m.Ys)(ku,{pileId:ro}))}initNewGame(){this.store.dispatch(Pu())}initSavedGame(){this.store.dispatch(Ou())}removeFaceUpPileCard(r){this.store.dispatch(yf({id:r}))}selectFirstCardFromFaceUpPile(r){this.store.dispatch(be({pileId:r}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Af=[1,2,3,4,5,6];var Un=(()=>{return(i=Un||(Un={})).Thieves="THIEVES",i.Trade="TRADE",i.Celebration="CELEBRATION",i.Harvest="HARVEST",i.Event="EVENT",Un;var i})();function bf(){return Math.floor(6*Math.random()+1)}const Kg=(0,m.PH)("[Start Page] Init New Game"),zg=(0,m.PH)("[Game] Set Phase",(0,m.Ky)()),Qg=(0,m.PH)("[Game] Set Player",(0,m.Ky)()),Jg=(0,m.PH)("[Game] Set Action",(0,m.Ky)()),Xg=(0,m.PH)("[Dice Component] Throw Dice"),wf=(0,m.PH)("[Dice Component] Throw Production Die"),Mf=(0,m.PH)("[Dice Component] Throw Event Die"),Tf=(0,m.PH)("[Dice] Set Production Die",(0,m.Ky)()),tr=(0,m.PH)("[Dice] Set Next Production Die",(0,m.Ky)()),fs=(0,m.PH)("[Dice] Set Event Die",(0,m.Ky)());var Xt=(()=>{return(i=Xt||(Xt={})).InitialThrow="INITIAL THROW",i.InitialDraw="INITIAL DRAW",i.LoopThrow="LOOP THROW",i.LoopActions="LOOP ACTIONS",i.LoopDraw="LOOP DRAW",i.LoopExchange="LOOP EXCHANGE",Xt;var i})();const xa={productionDie:void 0,nextProductionDie:void 0,eventDie:void 0,phase:Xt.InitialThrow,player:Ue.Red,action:void 0},If=(0,m.Lq)(xa,(0,m.on)(Kg,()=>Object.assign({},xa)),(0,m.on)(Tf,(i,{value:a})=>Object.assign(Object.assign({},i),{productionDie:a})),(0,m.on)(tr,(i,{value:a})=>Object.assign(Object.assign({},i),{nextProductionDie:a})),(0,m.on)(fs,(i,{value:a})=>Object.assign(Object.assign({},i),{eventDie:a})),(0,m.on)(zg,(i,{phase:a})=>Object.assign(Object.assign({},i),{phase:a})),(0,m.on)(Qg,(i,{player:a})=>Object.assign(Object.assign({},i),{player:a})),(0,m.on)(Jg,(i,{action:a})=>Object.assign(Object.assign({},i),{action:a}))),$r=(0,m.ZF)("game"),e_=(0,m.P1)($r,i=>i.productionDie),Ar=(0,m.P1)($r,i=>i.nextProductionDie),Sf=(0,m.P1)($r,i=>i.eventDie),t_=(0,m.P1)($r,i=>i.phase),Bu=(0,m.P1)($r,i=>i.player),n_=(0,m.P1)($r,i=>i.action);let Pf=(()=>{class i{constructor(r,u){this.actions$=r,this.gameStore=u,this.throwDice$=Ve(()=>this.actions$.pipe(He(Xg),(0,Yo.w)(()=>[Mf(),wf()]))),this.throwProduction$=Ve(()=>this.actions$.pipe(He(wf),(0,ns.M)(this.gameStore.select(Ar)),(0,te.U)(([f,_])=>void 0!==_?_:bf()),(0,Yo.w)(f=>[Tf({value:void 0}),Tf({value:f}),tr({value:void 0})]))),this.throwEvent$=Ve(()=>this.actions$.pipe(He(Mf),(0,te.U)(()=>function(i){switch(i){case 1:case 2:return Un.Event;case 3:return Un.Thieves;case 4:return Un.Trade;case 5:return Un.Celebration;case 6:return Un.Harvest}}(bf())),(0,Yo.w)(f=>[fs({value:void 0}),fs({value:f})])))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr),o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),ju=(()=>{class i{constructor(r){this.store=r,this.productionDie$=this.store.pipe((0,m.Ys)(e_)),this.nextProductionDie$=this.store.pipe((0,m.Ys)(Ar)),this.eventDie$=this.store.pipe((0,m.Ys)(Sf)),this.phase$=this.store.pipe((0,m.Ys)(t_)),this.player$=this.store.pipe((0,m.Ys)(Bu)),this.action$=this.store.pipe((0,m.Ys)(n_))}initNewGame(){this.store.dispatch(Kg())}throwDice(){this.store.dispatch(Xg())}throwProductionDie(){this.store.dispatch(wf())}setNextProductionDie(r){this.store.dispatch(tr({value:r}))}throwEventDie(){this.store.dispatch(Mf())}setPhase(r){this.store.dispatch(zg({phase:r}))}setPlayer(r){this.store.dispatch(Qg({player:r}))}setAction(r){this.store.dispatch(Jg({action:r}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Hu=(0,m.PH)("[Start Page] Init HandsCards New Game"),mi=(0,m.PH)("[Start Page] Init HandsCards Saved Game"),yi=(0,m.PH)("[HandsCards/API] Load HandsCards Success",(0,m.Ky)()),Fa=(0,m.PH)("[HandsCards/API] Load HandsCards Failure",(0,m.Ky)()),vi=(0,m.PH)("[HandsCards] Set HandsCards On Init",(0,m.Ky)()),ao=(0,m.PH)("[HandsCards] Add Cards To Hand",(0,m.Ky)()),Di=(0,m.PH)("[HandsCards] Add HandsCards",(0,m.Ky)()),r_=(0,m.PH)("[HandsCards] Set HandsCards Error",(0,m.Ky)()),$u=(0,m.PH)("[HandsCards] Select Hand Card",(0,m.Ky)()),Gu=(0,m.PH)("[HandsCards] Unselect Hand Card"),Ra=(0,m.PH)("[HandsCards] Remove HandCard",(0,m.Ky)());let Of=(()=>{class i{constructor(r){this.actions$=r,this.initNewGame$=Ve(()=>this.actions$.pipe(He(Hu),(0,te.U)(()=>vi({handsCards:[]})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(mi),si({run:()=>yi({handsCards:[]}),onError:(u,f)=>(console.error("Error",f),Fa({error:f}))}))),this.addCards$=Ve(()=>this.actions$.pipe(He(ao),(0,te.U)(({handId:u,cards:f})=>f.map(_=>((i,a,r,u)=>({id:i,handId:a,cardType:r,cardId:u}))(Pe(),u,_.type,_.id))),(0,te.U)(u=>Di({handsCards:u}))))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const ps="handsCards",co=ai(),xf=co.getInitialState({initialized:!1,loaded:!1}),yv=(0,m.Lq)(xf,(0,m.on)(Hu,i=>Object.assign(Object.assign({},i),{initialized:!1})),(0,m.on)(mi,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(yi,(i,{handsCards:a})=>co.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(Fa,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(vi,(i,{handsCards:a})=>co.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(Di,(i,{handsCards:a})=>co.addMany(a,i)),(0,m.on)(r_,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)($u,(i,{id:a})=>Object.assign(Object.assign({},i),{selectedId:a})),(0,m.on)(Gu,i=>Object.assign(Object.assign({},i),{selectedId:void 0})),(0,m.on)(Ra,(i,{id:a})=>co.removeOne(a,i))),uo=(0,m.ZF)(ps),{selectAll:Ff,selectEntities:i_}=co.getSelectors(),Rf=(0,m.P1)(uo,i=>i.loaded),o_=((0,m.P1)(uo,i=>i.errorMsg),(0,m.P1)(uo,i=>Ff(i))),_n=(0,m.P1)(uo,i=>i_(i)),s_=(0,m.P1)(uo,i=>i.selectedId),a_=(0,m.P1)(_n,s_,(i,a)=>{if(void 0!==a)return i[a]});let Nf=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(Rf)),this.allHandsCards$=this.store.pipe((0,m.Ys)(o_)),this.selectedHandsCards$=this.store.pipe((0,m.Ys)(a_))}initNewGame(){this.store.dispatch(Hu())}initSavedGame(){this.store.dispatch(mi())}addCardsToHand(r,u){this.store.dispatch(ao({handId:r,cards:u}))}selectHandCard(r){this.store.dispatch($u({id:r}))}unselectHandCard(){this.store.dispatch(Gu())}removeHandCard(r){this.store.dispatch(Ra({id:r}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Lf=(0,m.PH)("[Start Page] Init LandsPileCards New Game"),Na=(0,m.PH)("[Start Page] Init LandsPileCards Saved Game"),c_=(0,m.PH)("[LandsPileCards/API] Load LandsPileCards Success",(0,m.Ky)()),kf=(0,m.PH)("[LandsPileCards/API] Load LandsPileCards Failure",(0,m.Ky)()),La=(0,m.PH)("[LandsPileCards] Set LandsPileCards On Init",(0,m.Ky)()),Vf=(0,m.PH)("[LandsPileCards] Set LandsPileCards Error",(0,m.Ky)()),Uf=(0,m.PH)("[LandsPileCards] Select LandsPileCard",(0,m.Ky)()),Bf=(0,m.PH)("[LandsPileCards] Remove LandsPileCard",(0,m.Ky)());let l_=(()=>{class i{constructor(r){this.actions$=r,this.initNewGame$=Ve(()=>this.actions$.pipe(He(Lf),(0,te.U)(()=>La({landsPileCards:Tu()(Array.from(Ji.keys())).map(r=>({id:Pe(),cardId:r}))})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(Na),si({run:()=>c_({landsPileCards:[]}),onError:(u,f)=>(console.error("Error",f),kf({error:f}))})))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Wu="landsPileCards",hs=ai(),d_=hs.getInitialState({initialized:!1,loaded:!1}),Hf=(0,m.Lq)(d_,(0,m.on)(Lf,i=>Object.assign(Object.assign({},i),{initialized:!1})),(0,m.on)(Na,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(c_,(i,{landsPileCards:a})=>hs.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(kf,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(La,(i,{landsPileCards:a})=>hs.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(Vf,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(Uf,(i,{id:a})=>Object.assign(Object.assign({},i),{selectedId:a})),(0,m.on)(Bf,(i,{id:a})=>hs.removeOne(a,i))),lo=(0,m.ZF)(Wu),{selectAll:f_,selectEntities:nr}=hs.getSelectors(),Yu=(0,m.P1)(lo,i=>i.loaded),p_=((0,m.P1)(lo,i=>i.errorMsg),(0,m.P1)(lo,i=>f_(i))),Cv=(0,m.P1)(lo,i=>nr(i)),$f=(0,m.P1)(lo,i=>i.selectedId),h_=(0,m.P1)(Cv,$f,(i,a)=>{if(void 0!==a)return i[a]});let qu=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(Yu)),this.allLandsPileCards$=this.store.pipe((0,m.Ys)(p_)),this.selectedLandsPileCards$=this.store.pipe((0,m.Ys)(h_))}initNewGame(){this.store.dispatch(Lf())}initSavedGame(){this.store.dispatch(Na())}selectLandsPileCard(r){this.store.dispatch(Uf({id:r}))}removeLandsPileCard(r){this.store.dispatch(Bf({id:r}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Ku=(0,m.PH)("[Start Page] Init StockPilesCards New Game"),gs=(0,m.PH)("[Start Page] Init StockPilesCards Saved Game"),Gf=(0,m.PH)("[StockPilesCards/API] Load StockPilesCards Success",(0,m.Ky)()),Zf=(0,m.PH)("[StockPilesCards/API] Load StockPilesCards Failure",(0,m.Ky)()),_s=(0,m.PH)("[StockPilesCards] Set StockPilesCards On Init",(0,m.Ky)()),ka=(0,m.PH)("[StockPilesCards] Remove Cards From Stock Pile Top",(0,m.Ky)()),Wf=(0,m.PH)("[StockPilesCards] Add Cards To Stock Pile Bottom",(0,m.Ky)()),Va=(0,m.PH)("[StockPilesCards] Remove StockPilesCards",(0,m.Ky)()),Ua=(0,m.PH)("[StockPilesCards] Add StockPilesCards",(0,m.Ky)()),Yf=(0,m.PH)("[StockPilesCards] Set StockPilesCards Error",(0,m.Ky)()),ms="ActionCard",br=(i,a,r)=>({interface:ms,id:i,name:a,ruleIds:r});var An=(()=>{return(i=An||(An={})).Soothsayer="Soothsayer",i.Pathfinder="Pathfinder",i.Goldsmith="Goldsmith",i.TradeRoute="Trade route",i.Relocation="Relocation",An;var i})();const zu=new Map([["ACTION_1",br("ACTION_1",An.Soothsayer,[])],["ACTION_2",br("ACTION_2",An.Soothsayer,[])],["ACTION_3",br("ACTION_3",An.Pathfinder,[])],["ACTION_4",br("ACTION_4",An.Pathfinder,[])],["ACTION_5",br("ACTION_5",An.Goldsmith,[])],["ACTION_6",br("ACTION_6",An.Goldsmith,[])],["ACTION_7",br("ACTION_7",An.TradeRoute,[])],["ACTION_8",br("ACTION_8",An.TradeRoute,[])],["ACTION_9",br("ACTION_9",An.Relocation,[])]]),ys=["STOCK_1","STOCK_2","STOCK_3","STOCK_4"],Qu=(i,a,r,u)=>({id:i,pileId:a,cardType:r,cardId:u}),Kf=()=>{const i=[],a=Tu()([...Array.from(zu.values()),...Array.from(kn.values())]);for(let r=0;r<ys.length;r++){const u=Math.ceil(a.length/ys.length);for(let f=0;f<u;f++){const _=r*u+f;if(_>=a.length)break;i.push(Qu(Pe(),ys[r],a[_].interface,a[_].id))}}return i},Ju="stockPilesCards",Ci=ai(),wr=Ci.getInitialState({initialized:!1,loaded:!1}),Ba=(0,m.Lq)(wr,(0,m.on)(Ku,i=>Object.assign(Object.assign({},i),{initialized:!1})),(0,m.on)(gs,i=>Object.assign(Object.assign({},i),{loaded:!1,errorMsg:void 0})),(0,m.on)(Gf,(i,{stockPilesCards:a})=>Ci.setAll(a,Object.assign(Object.assign({},i),{loaded:!0}))),(0,m.on)(Zf,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a})),(0,m.on)(_s,(i,{stockPilesCards:a})=>Ci.setAll(a,Object.assign(Object.assign({},i),{initialized:!0}))),(0,m.on)(Va,(i,{ids:a})=>Ci.removeMany(a,i)),(0,m.on)(Ua,(i,{stockPilesCards:a})=>Ci.addMany(a,i)),(0,m.on)(Yf,(i,{error:a})=>Object.assign(Object.assign({},i),{errorMsg:a}))),vs=(0,m.ZF)(Ju),{selectAll:g_,selectEntities:Ev}=Ci.getSelectors(),Xu=(0,m.P1)(vs,i=>i.loaded),ja=((0,m.P1)(vs,i=>i.errorMsg),(0,m.P1)(vs,i=>g_(i))),Ds=(0,m.P1)(vs,i=>Ev(i)),m_=(0,m.P1)(vs,i=>i.selectedId),el=(0,m.P1)(Ds,m_,(i,a)=>{if(void 0!==a)return i[a]}),zf=(0,m.P1)(ja,(i,a)=>i.find(r=>r.pileId===a.pileId&&r.cardType===a.cardType&&r.cardId===a.cardId));let Qf=(()=>{class i{constructor(r,u){this.actions$=r,this.stockPilesCardsStore=u,this.initNewGame$=Ve(()=>this.actions$.pipe(He(Ku),(0,te.U)(()=>_s({stockPilesCards:Kf()})))),this.initSavedGame$=Ve(()=>this.actions$.pipe(He(gs),si({run:()=>Gf({stockPilesCards:[]}),onError:(f,_)=>(console.error("Error",_),Zf({error:_}))}))),this.removeCards$=Ve(()=>this.actions$.pipe(He(ka),(0,Uo.zg)(f=>iu(f.cards.map(({type:_,id:A})=>this.stockPilesCardsStore.pipe((0,m.Ys)(zf,{pileId:f.pileId,cardType:_,cardId:A}),(0,Rt.q)(1))))),(0,te.U)(f=>f.filter(_=>void 0!==_).map(_=>_.id)),(0,te.U)(f=>Va({ids:f})))),this.addCards$=Ve(()=>this.actions$.pipe(He(Wf),(0,te.U)(({pileId:f,cards:_})=>_.map(A=>Qu(Pe(),f,A.type,A.id))),(0,te.U)(f=>Ua({stockPilesCards:f}))))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(Vr),o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Ha=(()=>{class i{constructor(r){this.store=r,this.loaded$=this.store.pipe((0,m.Ys)(Xu)),this.allStockPilesCards$=this.store.pipe((0,m.Ys)(ja)),this.selectedStockPilesCards$=this.store.pipe((0,m.Ys)(el))}initNewGame(){this.store.dispatch(Ku())}initSavedGame(){this.store.dispatch(gs())}removeCardsFromStockPileTop(r,u){this.store.dispatch(ka({pileId:r,cards:u}))}addCardsToStockPileBottom(r,u){this.store.dispatch(Wf({pileId:r,cards:u}))}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(m.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),y_=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[ju,Ta,Nf,Ef,qu,Ha,Su,nu],imports:[[nd,m.Aw.forFeature("game",If),hr.forFeature([Pf]),m.Aw.forFeature(gu,xg),hr.forFeature([Vg]),m.Aw.forFeature(ps,yv),hr.forFeature([Of]),m.Aw.forFeature(Sa,fv),hr.forFeature([Bg]),m.Aw.forFeature(Wu,Hf),hr.forFeature([Cf]),m.Aw.forFeature(Ju,Ba),hr.forFeature([Qf]),m.Aw.forFeature(Iu,lv),hr.forFeature([l_]),m.Aw.forFeature(Dg,Fd),hr.forFeature([xd])]]}),i})();const $a=(i,a)=>({id:i,color:a}),fo="HAND_RED",Gr="HAND_BLUE",tl=new Map([[fo,$a(fo,Ue.Red)],[Gr,$a(Gr,Ue.Blue)]]);function Ei(i){switch(i){case Ue.Red:return lt;case Ue.Blue:return dt;default:throw new Error(`Something went wrong, ${i} should be one of ${lt} or ${dt}.`)}}var v_=v(8151),D_=v(5330),po=v(7974),C_=v(5433);const Xf={};function rr(...i){let a,r;return(0,v_.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(a=i.pop()),1===i.length&&(0,Vd.k)(i[0])&&(i=i[0]),(0,C_.n)(i,r).lift(new E_(a))}class E_{constructor(a){this.resultSelector=a}call(a,r){return r.subscribe(new bn(a,this.resultSelector))}}class bn extends D_.L{constructor(a,r){super(a),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(a){this.values.push(Xf),this.observables.push(a)}_complete(){const a=this.observables,r=a.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let u=0;u<r;u++)this.add((0,po.D)(this,a[u],void 0,u))}}notifyComplete(a){0==(this.active-=1)&&this.destination.complete()}notifyNext(a,r,u){const f=this.values,A=this.toRespond?f[u]===Xf?--this.toRespond:this.toRespond:0;f[u]=r,0===A&&(this.resultSelector?this._tryResultSelector(f):this.destination.next(f.slice()))}_tryResultSelector(a){let r;try{r=this.resultSelector.apply(this,a)}catch(u){return void this.destination.error(u)}this.destination.next(r)}}var Ai=v(8805);let ep=(()=>{class i{constructor(r,u,f,_,A,$,X,ue){this.game=r,this.domainsCards=u,this.handsCards=f,this.faceUpPilesCards=_,this.landsPileCards=A,this.stockPilesCards=$,this.eventsPileCards=X,this.discardPileCards=ue,this.gameEnded$=new Vi.xQ,this.event$=this.game.eventDie$.pipe((0,Dn.h)(ce=>ce===Un.Event)),this.thieves$=this.game.eventDie$.pipe((0,Dn.h)(ce=>ce===Un.Thieves)),this.countAndSteal$=this.thieves$.pipe((0,Ai.R)(this.gameEnded$),(0,te.U)(()=>{this.domainsCards.countAndStealUnprotectedGoldAndWool()})),this.selectFirstEvent$=this.event$.pipe((0,Ai.R)(this.gameEnded$),(0,te.U)(()=>{this.eventsPileCards.selectFirst()})),this.auspiciousYear$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,Dn.h)(ce=>void 0!==ce),(0,Dn.h)(ce=>{var pe;return(null===(pe=to.get(ce.cardId))||void 0===pe?void 0:pe.name)===Qt.AuspiciousYear})),this.festival$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,Dn.h)(ce=>void 0!==ce),(0,Dn.h)(ce=>{var pe;return(null===(pe=to.get(ce.cardId))||void 0===pe?void 0:pe.name)===Qt.Festival})),this.increaseResourcesForDie$=this.game.productionDie$.pipe((0,Ai.R)(this.gameEnded$),(0,Dn.h)(ce=>void 0!==ce),(0,te.U)(ce=>this.domainsCards.increaseResourcesForDie(ce))),this.increaseResourcesForAuspiciousYear$=this.auspiciousYear$.pipe((0,Ai.R)(this.gameEnded$),(0,te.U)(()=>this.domainsCards.increaseResourcesForAuspiciousYear())),this.resetEventsPileOnFestival$=this.festival$.pipe((0,Ai.R)(this.gameEnded$),(0,te.U)(()=>this.eventsPileCards.resetEventsPile()))}initNewGame(){this.gameEnded$.next(),this.countAndSteal$.subscribe(),this.selectFirstEvent$.subscribe(),this.increaseResourcesForDie$.subscribe(),this.increaseResourcesForAuspiciousYear$.subscribe(),this.resetEventsPileOnFestival$.subscribe(),this.game.initNewGame(),this.domainsCards.initNewGame(),this.handsCards.initNewGame(),this.faceUpPilesCards.initNewGame(),this.landsPileCards.initNewGame(),this.stockPilesCards.initNewGame(),this.eventsPileCards.initNewGame(),this.discardPileCards.initNewGame()}getVictoryPointsForDomain(r){return rr([this.domainsCards.getCardsVictoryPointsForDomain(r),this.domainsCards.getMasteryDomainForType(hn.Trade),this.domainsCards.getMasteryDomainForType(hn.Strength)]).pipe((0,te.U)(([u,f,_])=>u+(f===r?1:0)+(_===r?1:0)))}drawFirstCardsFromStockToHand(r,u,f){this.stockPilesCards.allStockPilesCards$.pipe((0,Rt.q)(1),(0,te.U)(_=>_.filter(A=>A.pileId===r).slice(0,u).map(A=>({type:A.cardType,id:A.cardId})))).subscribe(_=>{this.stockPilesCards.removeCardsFromStockPileTop(r,_),this.handsCards.addCardsToHand(f,_)})}drawCardFromStockToHand(r,u,f){this.stockPilesCards.allStockPilesCards$.pipe((0,Rt.q)(1),(0,te.U)(_=>{const A=_.find($=>$.pileId===r&&$.cardId===u);if(void 0===A)throw new Error("Something went wrong, card shouldn't be undefined at this point.");return{type:A.cardType,id:A.cardId}})).subscribe(_=>{this.stockPilesCards.removeCardsFromStockPileTop(r,[_]),this.handsCards.addCardsToHand(f,[_])})}throwDice(){this.game.throwEventDie(),this.game.phase$.pipe((0,Rt.q)(1)).subscribe(r=>{r!==Xt.InitialThrow&&this.game.throwProductionDie()})}useResourcesToPutFaceUpPileCardInSlot(){this.domainsCards.useLockedResources(),rr([this.faceUpPilesCards.selectedFaceUpPilesCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,Rt.q)(1),(0,te.U)(([r,u])=>{if(void 0===r)throw new Error("Can't put card in slot if no card selected.");if(1!==u.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const f=u[0];if(void 0===f)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");if(this.faceUpPilesCards.removeFaceUpPileCard(r.id),this.domainsCards.putCardInSlot(f.id,$t,r.cardId),r.pileId===ro)this.domainsCards.createAvailableDomainCard(f.domainId,gn,f.col,ui.Lower),this.domainsCards.createAvailableDomainCard(f.domainId,gn,f.col,ui.Upper);else{const _=f.col<0?f.col-1:f.col+1;this.domainsCards.createAvailableDomainCard(f.domainId,mr,_,ui.Middle),r.pileId===Jt&&(this.domainsCards.createAvailableDomainCard(f.domainId,pa,_,ui.Low),this.domainsCards.createAvailableDomainCard(f.domainId,pa,_,ui.Up))}this.domainsCards.clearDomainCardSelection()})).subscribe()}useResourcesToPutHandCardInSlot(){this.domainsCards.useLockedResources(),rr([this.handsCards.selectedHandsCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,Rt.q)(1),(0,te.U)(([r,u])=>{if(void 0===r)throw new Error("Can't put card in slot if no card selected.");if(1!==u.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const f=u[0];if(void 0===f)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.handsCards.removeHandCard(r.id),this.domainsCards.putCardInSlot(f.id,Dr,r.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putLandsPileCardInSlot(){rr([this.landsPileCards.selectedLandsPileCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,Rt.q)(1),(0,te.U)(([r,u])=>{if(void 0===r)throw new Error("Can't put card in slot if no card selected.");if(1!==u.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const f=u[0];if(void 0===f)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.landsPileCards.removeLandsPileCard(r.id),this.domainsCards.putCardInSlot(f.id,ft,r.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putBackFromHandToStockPile(r){this.handsCards.selectedHandsCards$.pipe((0,Rt.q)(1),(0,te.U)(u=>{if(void 0===u)throw new Error("Can't put card in pile if no card selected.");this.handsCards.removeHandCard(u.id),this.handsCards.unselectHandCard(),this.stockPilesCards.addCardsToStockPileBottom(r,[{type:u.cardType,id:u.cardId}])})).subscribe()}putBackFromDomainToStockPile(r){this.domainsCards.selectedDomainsCards$.pipe((0,Rt.q)(1),(0,te.U)(u=>{if(1!==u.length)throw new Error("Can't put card in pile if no card or more than one card selected.");const f=u[0];if(void 0===f)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");const _=f.cardType;if(_!==Dr)throw new Error("Can't put back card of type other than development.");const A=f.cardId;if(void 0===A)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");this.domainsCards.removeDomainCard(f.id),this.domainsCards.createAvailableDomainCard(f.domainId,gn,f.col,f.row),this.domainsCards.clearDomainCardSelection(),this.stockPilesCards.addCardsToStockPileBottom(r,[{type:_,id:A}])})).subscribe()}useActionCard(){this.handsCards.selectedHandsCards$.pipe((0,Rt.q)(1),(0,te.U)(r=>{if(void 0===r)throw new Error("Can't put card in pile if no card selected.");if(r.cardType!==ms||void 0===r.cardId)throw new Error("Can't use card other than action.");const u=zu.get(r.cardId);if(void 0===u)throw new Error("Something went wrong, action shouldn't be undefined at this point.");this.handsCards.removeHandCard(r.id),this.handsCards.unselectHandCard(),this.game.setAction(u.name),this.discardPileCards.addCardToDiscardPile({type:r.cardType,id:r.cardId})})).subscribe()}}return i.\u0275fac=function(r){return new(r||i)(o.LFG(ju),o.LFG(Ta),o.LFG(Nf),o.LFG(Ef),o.LFG(qu),o.LFG(Ha),o.LFG(Su),o.LFG(nu))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nl=(()=>{class i{constructor(r,u){this._renderer=r,this._elementRef=u,this.onChange=f=>{},this.onTouched=()=>{}}setProperty(r,u){this._renderer.setProperty(this._elementRef.nativeElement,r,u)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.Qsj),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i}),i})(),Zr=(()=>{class i extends nl{}return i.\u0275fac=function(){let a;return function(u){return(a||(a=o.n5z(i)))(u||i)}}(),i.\u0275dir=o.lG2({type:i,features:[o.qOj]}),i})();const Bn=new o.OlP("NgValueAccessor"),b_={provide:Bn,useExisting:(0,o.Gpc)(()=>rl),multi:!0},np=new o.OlP("CompositionEventMode");let rl=(()=>{class i extends nl{constructor(r,u,f){super(r,u),this._compositionMode=f,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=j()?j().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(np,8))},i.\u0275dir=o.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,u){1&r&&o.NdJ("input",function(_){return u._handleInput(_.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(_){return u._compositionEnd(_.target.value)})},features:[o._Bn([b_]),o.qOj]}),i})();const Zt=new o.OlP("NgValidators"),bi=new o.OlP("NgAsyncValidators");function al(i){return null!=i}function sp(i){const a=(0,o.QGY)(i)?(0,ca.D)(i):i;return(0,o.CqO)(a),a}function S_(i){let a={};return i.forEach(r=>{a=null!=r?Re(Re({},a),r):a}),0===Object.keys(a).length?null:a}function cl(i,a){return a.map(r=>r(i))}function ap(i){return i.map(a=>function(i){return!i.validate}(a)?a:r=>a.validate(r))}function ll(i){return null!=i?function(i){if(!i)return null;const a=i.filter(al);return 0==a.length?null:function(r){return S_(cl(r,a))}}(ap(i)):null}function dl(i){return null!=i?function(i){if(!i)return null;const a=i.filter(al);return 0==a.length?null:function(r){return iu(cl(r,a).map(sp)).pipe((0,te.U)(S_))}}(ap(i)):null}function up(i,a){return null===i?[a]:Array.isArray(i)?[...i,a]:[i,a]}function go(i){return i?Array.isArray(i)?i:[i]:[]}function Tr(i,a){return Array.isArray(i)?i.includes(a):i===a}function fp(i,a){const r=go(a);return go(i).forEach(f=>{Tr(r,f)||r.push(f)}),r}function _o(i,a){return go(a).filter(r=>!Tr(i,r))}class pp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=ll(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=dl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a){this.control&&this.control.reset(a)}hasError(a,r){return!!this.control&&this.control.hasError(a,r)}getError(a,r){return this.control?this.control.getError(a,r):null}}class en extends pp{get formDirective(){return null}get path(){return null}}class ir extends pp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Wr=(()=>{class i extends class{constructor(a){this._cd=a}is(a){var r,u,f;return"submitted"===a?!!(null==(r=this._cd)?void 0:r.submitted):!!(null==(f=null==(u=this._cd)?void 0:u.control)?void 0:f[a])}}{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(ir,2))},i.\u0275dir=o.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,u){2&r&&o.ekj("ng-untouched",u.is("untouched"))("ng-touched",u.is("touched"))("ng-pristine",u.is("pristine"))("ng-dirty",u.is("dirty"))("ng-valid",u.is("valid"))("ng-invalid",u.is("invalid"))("ng-pending",u.is("pending"))},features:[o.qOj]}),i})();function Do(i,a){(function(i,a){const r=function(i){return i._rawValidators}(i);null!==a.validator?i.setValidators(up(r,a.validator)):"function"==typeof r&&i.setValidators([r]);const u=function(i){return i._rawAsyncValidators}(i);null!==a.asyncValidator?i.setAsyncValidators(up(u,a.asyncValidator)):"function"==typeof u&&i.setAsyncValidators([u]);const f=()=>i.updateValueAndValidity();Ss(a._rawValidators,f),Ss(a._rawAsyncValidators,f)})(i,a),a.valueAccessor.writeValue(i.value),function(i,a){a.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&fl(i,a)})}(i,a),function(i,a){const r=(u,f)=>{a.valueAccessor.writeValue(u),f&&a.viewToModelUpdate(u)};i.registerOnChange(r),a._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,a),function(i,a){a.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&fl(i,a),"submit"!==i.updateOn&&i.markAsTouched()})}(i,a),function(i,a){if(a.valueAccessor.setDisabledState){const r=u=>{a.valueAccessor.setDisabledState(u)};i.registerOnDisabledChange(r),a._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,a)}function Ss(i,a){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(a)})}function fl(i,a){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Ka(i,a){const r=i.indexOf(a);r>-1&&i.splice(r,1)}const Os="VALID",Co="INVALID",qr="PENDING",xs="DISABLED";function vp(i){return(Dp(i)?i.validators:i)||null}function R_(i){return Array.isArray(i)?ll(i):i||null}function gl(i,a){return(Dp(a)?a.asyncValidators:i)||null}function _l(i){return Array.isArray(i)?dl(i):i||null}function Dp(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ml{constructor(a,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=r,this._composedValidatorFn=R_(this._rawValidators),this._composedAsyncValidatorFn=_l(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===Os}get invalid(){return this.status===Co}get pending(){return this.status==qr}get disabled(){return this.status===xs}get enabled(){return this.status!==xs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=R_(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=_l(a)}addValidators(a){this.setValidators(fp(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(fp(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(_o(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(_o(a,this._rawAsyncValidators))}hasValidator(a){return Tr(this._rawValidators,a)}hasAsyncValidator(a){return Tr(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=qr,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const r=this._parentMarkedDirty(a.onlySelf);this.status=xs,this.errors=null,this._forEachChild(u=>{u.disable(nn(Re({},a),{onlySelf:!0}))}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(nn(Re({},a),{skipPristineCheck:r})),this._onDisabledChange.forEach(u=>u(!0))}enable(a={}){const r=this._parentMarkedDirty(a.onlySelf);this.status=Os,this._forEachChild(u=>{u.enable(nn(Re({},a),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors(nn(Re({},a),{skipPristineCheck:r})),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Os||this.status===qr)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xs:Os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=qr,this._hasOwnPendingAsyncValidator=!0;const r=sp(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,r={}){this.errors=a,this._updateControlsErrors(!1!==r.emitEvent)}get(a){return function(i,a,r){if(null==a||(Array.isArray(a)||(a=a.split(".")),Array.isArray(a)&&0===a.length))return null;let u=i;return a.forEach(f=>{u=u instanceof yl?u.controls.hasOwnProperty(f)?u.controls[f]:null:u instanceof Cp&&u.at(f)||null}),u}(this,a)}getError(a,r){const u=r?this.get(r):this;return u&&u.errors?u.errors[a]:null}hasError(a,r){return!!this.getError(a,r)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?xs:this.errors?Co:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qr)?qr:this._anyControlsHaveStatus(Co)?Co:Os}_anyControlsHaveStatus(a){return this._anyControls(r=>r.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_isBoxedValue(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){Dp(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ir extends ml{constructor(a=null,r,u){super(vp(r),gl(u,r)),this._onChange=[],this._applyFormState(a),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(a,r={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(a,r={}){this.setValue(a,r)}reset(a=null,r={}){this._applyFormState(a),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){Ka(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){Ka(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){this._isBoxedValue(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}}class yl extends ml{constructor(a,r,u){super(vp(r),gl(u,r)),this.controls=a,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,r){return this.controls[a]?this.controls[a]:(this.controls[a]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(a,r,u={}){this.registerControl(a,r),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}removeControl(a,r={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(a,r,u={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],r&&this.registerControl(a,r),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,r={}){this._checkAllValuesPresent(a),Object.keys(a).forEach(u=>{this._throwIfControlMissing(u),this.controls[u].setValue(a[u],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(a,r={}){null!=a&&(Object.keys(a).forEach(u=>{this.controls[u]&&this.controls[u].patchValue(a[u],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(a={},r={}){this._forEachChild((u,f)=>{u.reset(a[f],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(a,r,u)=>(a[u]=r instanceof Ir?r.value:r.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(r,u)=>!!u._syncPendingControls()||r);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[a])throw new Error(`Cannot find form control with name: ${a}.`)}_forEachChild(a){Object.keys(this.controls).forEach(r=>{const u=this.controls[r];u&&a(u,r)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const r of Object.keys(this.controls)){const u=this.controls[r];if(this.contains(r)&&a(u))return!0}return!1}_reduceValue(){return this._reduceChildren({},(a,r,u)=>((r.enabled||this.disabled)&&(a[u]=r.value),a))}_reduceChildren(a,r){let u=a;return this._forEachChild((f,_)=>{u=r(u,f,_)}),u}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(a){this._forEachChild((r,u)=>{if(void 0===a[u])throw new Error(`Must supply a value for form control with name: '${u}'.`)})}}class Cp extends ml{constructor(a,r,u){super(vp(r),gl(u,r)),this.controls=a,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[a]}push(a,r={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(a,r,u={}){this.controls.splice(a,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:u.emitEvent})}removeAt(a,r={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(a,r,u={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),r&&(this.controls.splice(a,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,r={}){this._checkAllValuesPresent(a),a.forEach((u,f)=>{this._throwIfControlMissing(f),this.at(f).setValue(u,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(a,r={}){null!=a&&(a.forEach((u,f)=>{this.at(f)&&this.at(f).patchValue(u,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(a=[],r={}){this._forEachChild((u,f)=>{u.reset(a[f],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(a=>a instanceof Ir?a.value:a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_syncPendingControls(){let a=this.controls.reduce((r,u)=>!!u._syncPendingControls()||r,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(a))throw new Error(`Cannot find form control at index ${a}`)}_forEachChild(a){this.controls.forEach((r,u)=>{a(r,u)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(r=>r.enabled&&a(r))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_checkAllValuesPresent(a){this._forEachChild((r,u)=>{if(void 0===a[u])throw new Error(`Must supply a value for form control at index: ${u}.`)})}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}}const bp={provide:ir,useExisting:(0,o.Gpc)(()=>za)},wp=(()=>Promise.resolve(null))();let za=(()=>{class i extends ir{constructor(r,u,f,_){super(),this.control=new Ir,this._registered=!1,this.update=new o.vpe,this._parent=r,this._setValidators(u),this._setAsyncValidators(f),this.valueAccessor=function(i,a){if(!a)return null;let r,u,f;return Array.isArray(a),a.forEach(_=>{_.constructor===rl?r=_:function(i){return Object.getPrototypeOf(i.constructor)===Zr}(_)?u=_:f=_}),f||u||r||null}(0,_)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,a){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(a,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,a){return[...a.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Do(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){wp.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const u=r.isDisabled.currentValue,f=""===u||u&&"false"!==u;wp.then(()=>{f&&!this.control.disabled?this.control.disable():!f&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(en,9),o.Y36(Zt,10),o.Y36(bi,10),o.Y36(Bn,10))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([bp]),o.qOj,o.TTD]}),i})();const Dl={provide:Bn,useExisting:(0,o.Gpc)(()=>Cl),multi:!0};let U_=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),Fs=(()=>{class i{constructor(){this._accessors=[]}add(r,u){this._accessors.push([r,u])}remove(r){for(let u=this._accessors.length-1;u>=0;--u)if(this._accessors[u][1]===r)return void this._accessors.splice(u,1)}select(r){this._accessors.forEach(u=>{this._isSameGroup(u,r)&&u[1]!==r&&u[1].fireUncheck(r.value)})}_isSameGroup(r,u){return!!r[0].control&&r[0]._parent===u._control._parent&&r[1].name===u.name}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:U_}),i})(),Cl=(()=>{class i extends Zr{constructor(r,u,f,_){super(r,u),this._registry=f,this._injector=_,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ir),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}fireUncheck(r){this.writeValue(r)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Fs),o.Y36(o.zs3))},i.\u0275dir=o.lG2({type:i,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,u){1&r&&o.NdJ("change",function(){return u.onChange()})("blur",function(){return u.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([Dl]),o.qOj]}),i})(),Gp=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[U_]]}),i})(),bo=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[Gp]}),i})();function Zp(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"label"),o.TgZ(2,"input",6),o.NdJ("ngModelChange",function(f){return o.CHM(r),o.oxw().setPlayer(f)}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA(),o.qZA()}if(2&i){const r=a.$implicit,u=o.oxw();o.xp6(2),o.Q6J("value",r.value)("ngModel",o.lcZ(3,3,u.getPlayer())),o.xp6(2),o.Oqu(r.key)}}function Nv(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"label"),o.TgZ(2,"input",7),o.NdJ("ngModelChange",function(f){return o.CHM(r),o.oxw().setPhase(f)}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA(),o.qZA()}if(2&i){const r=a.$implicit,u=o.oxw();o.xp6(2),o.Q6J("value",r.value)("ngModel",o.lcZ(3,3,u.getPhase())),o.xp6(2),o.Oqu(r.key)}}function Wp(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"label"),o.TgZ(2,"input",8),o.NdJ("ngModelChange",function(f){return o.CHM(r),o.oxw().setNextProductionDie(f)}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA(),o.qZA()}if(2&i){const r=a.$implicit,u=o.oxw();o.xp6(2),o.Q6J("value",r)("ngModel",o.lcZ(3,3,u.getNextProductionDie())),o.xp6(2),o.Oqu(r)}}function Rl(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function or(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Rl,2,1,"div",3),o.qZA()),2&i){const r=a.ngIf,u=o.oxw();o.xp6(1),o.Q6J("ngIf",u.getEventCard(r.cardId))}}function q_(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r," ")}}function K_(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=o.oxw();o.xp6(1),o.hij(" ",r.selectedStockPileId," ")}}function sr(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij("Production: ",r,"")}}function Hn(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij("Event: ",r,"")}}function $n(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.pileId," ")}}function Yp(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const r=a.$implicit;o.xp6(1),o.hij(" ",r.domainId,""),o.xp6(2),o.hij(" ",r.col,""),o.xp6(2),o.hij(" ",r.row," ")}}function qp(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const r=a.$implicit;o.xp6(1),o.hij(" ",r.domainId,""),o.xp6(2),o.hij(" ",r.col,""),o.xp6(2),o.hij(" ",r.row," ")}}function z_(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.cardId," ")}}function Q_(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const r=a.$implicit;o.xp6(1),o.hij(" ",r.domainId,""),o.xp6(2),o.hij(" ",r.col,""),o.xp6(2),o.hij(" ",r.row," ")}}function J_(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const r=a.$implicit;o.xp6(1),o.hij(" ",r.domainId,""),o.xp6(2),o.hij(" ",r.col,""),o.xp6(2),o.hij(" ",r.row," ")}}function X_(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.cardId," ")}}function Nl(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.cardId," ")}}function Ns(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const r=a.$implicit;o.xp6(1),o.hij(" ",r.domainId,""),o.xp6(2),o.hij(" ",r.col,""),o.xp6(2),o.hij(" ",r.row," ")}}function em(i,a){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const r=a.$implicit;o.xp6(1),o.hij(" ",r.domainId,""),o.xp6(2),o.hij(" ",r.col,""),o.xp6(2),o.hij(" ",r.row," ")}}function Kp(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"button",0),o.NdJ("click",function(){const _=o.CHM(r).$implicit;return o.oxw().selectFirst(_)}),o._uU(4,"Select"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"async"),o.qZA(),o.qZA()}if(2&i){const r=a.$implicit,u=o.oxw();o.xp6(2),o.Oqu(r),o.xp6(4),o.hij("Remaining: ",o.lcZ(7,2,u.getFaceUpPileCount(r)),"")}}function tm(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw().selectLandsPileCard(f.id)}),o._uU(1," Select "),o.qZA()}}function zp(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,tm,2,0,"button",9),o.ALo(3,"async"),o.qZA()),2&i){const r=a.ngIf,u=o.oxw().index,f=o.oxw();o.xp6(1),o.AsE(" ",r.type," - ",r.die," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,3,f.canSelectAnyLandCard())||u<2)}}function Qp(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,zp,4,5,"div",3),o.qZA()),2&i){const r=a.$implicit,u=o.oxw();o.xp6(1),o.Q6J("ngIf",u.getLandCard(r.cardId))}}function ic(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw().drawInitialRedHand(f)}),o._uU(1," Draw 3 cards to red hand "),o.qZA()}}function nm(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw().drawFirstCardRedHand(f)}),o._uU(1," Draw first card to red hand "),o.qZA()}}function Jp(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw().drawInitialBlueHand(f)}),o._uU(1," Draw 3 cards to blue hand "),o.qZA()}}function Xp(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw().drawFirstCardBlueHand(f)}),o._uU(1," Draw first card to blue hand "),o.qZA()}}function Ll(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function oc(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Ll,2,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",u.getActionCard(r.cardId))}}function kl(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function eh(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,kl,2,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",u.getDevelopmentCard(r.cardId))}}function th(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit,_=o.oxw().$implicit;return o.oxw().drawCardCurrentPlayer(_,f.cardId)}),o._uU(1," Draw "),o.qZA()}}function nh(i,a){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,oc,2,1,"div",11),o.YNc(2,eh,2,1,"div",11),o.YNc(3,th,2,0,"button",9),o.ALo(4,"async"),o.qZA()),2&i){const r=a.$implicit,u=o.oxw().$implicit,f=o.oxw();o.Q6J("ngSwitch",r.cardType),o.xp6(1),o.Q6J("ngSwitchCase",f.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",f.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngIf",o.lcZ(4,4,f.canDrawAnyCardInStockPile(u)))}}function rh(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw().putBackSelectedHandCard(f)}),o._uU(1," Put back selected hand card "),o.qZA()}}function ih(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw().buySelectStockPile(f)}),o._uU(1," Select stock pile (buy) "),o.qZA()}}function oh(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.YNc(2,ic,2,0,"button",9),o.ALo(3,"async"),o.YNc(4,nm,2,0,"button",9),o.ALo(5,"async"),o.YNc(6,Jp,2,0,"button",9),o.ALo(7,"async"),o.YNc(8,Xp,2,0,"button",9),o.ALo(9,"async"),o.YNc(10,nh,5,6,"div",5),o.ALo(11,"async"),o.YNc(12,rh,2,0,"button",9),o.ALo(13,"async"),o.TgZ(14,"button",0),o.NdJ("click",function(){const _=o.CHM(r).$implicit;return o.oxw().putBackSelectedDomainCard(_)}),o._uU(15," Put back selected domain card "),o.qZA(),o.YNc(16,ih,2,0,"button",9),o.ALo(17,"async"),o.qZA()}if(2&i){const r=a.$implicit,u=a.index,f=o.oxw();o.xp6(1),o.hij(" STOCK PILE ",u," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,8,f.drawInitialRedHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,10,f.drawFirstCardRedHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(7,12,f.drawInitialBlueHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(9,14,f.drawFirstCardBlueHandAvailable())),o.xp6(2),o.Q6J("ngForOf",o.lcZ(11,16,f.getStockPilesCards(r))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,18,f.putBackSelectedHandCardAvailable())),o.xp6(4),o.Q6J("ngIf",o.lcZ(17,20,f.canSelectStockPile()))}}function sh(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function rm(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,sh,2,1,"div",3),o.qZA()),2&i){const r=a.$implicit,u=o.oxw();o.xp6(1),o.Q6J("ngIf",u.getEventCard(r.cardId))}}function im(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function om(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,im,2,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw();o.xp6(1),o.Q6J("ngIf",u.getActionCard(r.cardId))}}function sm(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function am(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,sm,2,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw();o.xp6(1),o.Q6J("ngIf",u.getDevelopmentCard(r.cardId))}}function cm(i,a){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,om,2,1,"div",11),o.YNc(2,am,2,1,"div",11),o.qZA()),2&i){const r=a.$implicit,u=o.oxw();o.Q6J("ngSwitch",r.cardType),o.xp6(1),o.Q6J("ngSwitchCase",u.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.DEVELOPMENT_CARD_INTERFACE_NAME)}}function um(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(f.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function lm(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,um,4,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",u.getActionCard(r.cardId))}}function dm(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(f.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function fm(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,dm,4,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",u.getDevelopmentCard(r.cardId))}}function pm(i,a){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,lm,2,1,"div",11),o.YNc(2,fm,2,1,"div",11),o.qZA()),2&i){const r=a.$implicit,u=o.oxw(2);o.Q6J("ngSwitch",r.cardType),o.xp6(1),o.Q6J("ngSwitchCase",u.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.DEVELOPMENT_CARD_INTERFACE_NAME)}}function hm(i,a){if(1&i&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.YNc(3,pm,3,3,"div",5),o.ALo(4,"async"),o.qZA()),2&i){const r=a.ngIf,u=o.oxw();o.xp6(2),o.Oqu(r.color),o.xp6(1),o.Q6J("ngForOf",o.lcZ(4,2,u.getHandsCards(r.id)))}}function gm(i,a){1&i&&(o.TgZ(0,"span"),o._uU(1," - Trade Mastery"),o.qZA())}function _m(i,a){1&i&&(o.TgZ(0,"span"),o._uU(1," - Strength Mastery"),o.qZA())}function mm(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(3),o.ALo(4,"async"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf,u=o.oxw(2).$implicit,f=o.oxw(2);o.xp6(1),o.hij(" ",r.name," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,f.isDomainCardSelected(u.id))?"Unselect":"Select"," ")}}function ym(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,mm,5,4,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==r.cardId&&u.getDevelopmentCard(r.cardId))}}function vm(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(3),o.ALo(4,"async"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf,u=o.oxw(2).$implicit,f=o.oxw(2);o.xp6(1),o.hij(" ",r.type," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,f.isDomainCardSelected(u.id))?"Unselect":"Select"," ")}}function Dm(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,vm,5,4,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==r.cardId&&u.getAgglomerationCard(r.cardId))}}function ah(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o._UZ(6,"br"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).lockResource(f.id)}),o._uU(10,"Lock"),o.qZA(),o.TgZ(11,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).unlockResources(f.id)}),o._uU(12," Unlock"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).increaseResources(f.id)}),o._uU(15," Increase"),o.qZA(),o._UZ(16,"br"),o.TgZ(17,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(18),o.ALo(19,"async"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf,u=o.oxw(2).$implicit,f=o.oxw(2);o.xp6(1),o.hij(" ",r.type,""),o.xp6(2),o.hij(" ",r.die,""),o.xp6(2),o.hij(" Available: ",u.availableResources,""),o.xp6(2),o.hij(" Locked: ",u.lockedResources,""),o.xp6(11),o.hij(" ",o.lcZ(19,5,f.isDomainCardSelected(u.id))?"Unselect":"Select"," ")}}function ch(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,ah,20,7,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==r.cardId&&u.getLandCard(r.cardId))}}function uh(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,u.isDomainCardSelected(r.id))?"Unselect":"Select"," ")}}function lh(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,u.isDomainCardSelected(r.id))?"Unselect":"Select"," ")}}function dh(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,u.isDomainCardSelected(r.id))?"Unselect":"Select"," ")}}const Vl=function(i,a){return{"grid-column-start":i,"grid-row-start":a}};function fh(i,a){if(1&i&&(o.TgZ(0,"div",14),o.YNc(1,ym,2,1,"div",11),o.YNc(2,Dm,2,1,"div",11),o.YNc(3,ch,2,1,"div",11),o.YNc(4,uh,4,3,"div",11),o.YNc(5,lh,4,3,"div",11),o.YNc(6,dh,4,3,"div",11),o.qZA()),2&i){const r=a.$implicit,u=o.oxw(2);o.Q6J("ngSwitch",r.cardType)("ngStyle",o.WLB(8,Vl,"col"+r.col,"row"+r.row)),o.xp6(1),o.Q6J("ngSwitchCase",u.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.AGGLOMERATION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.LAND_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.AVAILABLE_AGGLOMERATION_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",u.AVAILABLE_DEVELOPMENT_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",u.AVAILABLE_LAND_SLOT)}}const Ul=function(i,a){return{"grid-template-columns":i,"grid-template-rows":a}};function ph(i,a){if(1&i&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"async"),o.qZA(),o.YNc(10,gm,2,0,"span",3),o.ALo(11,"async"),o.YNc(12,_m,2,0,"span",3),o.ALo(13,"async"),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"async"),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.ALo(18,"async"),o.ALo(19,"async"),o.YNc(20,fh,7,11,"div",13),o.ALo(21,"async"),o.qZA(),o.qZA()),2&i){const r=a.ngIf,u=o.oxw();o.xp6(3),o.Oqu(r.color),o.xp6(2),o.hij(" - Ships count: ",o.lcZ(6,8,u.getShipsCount(r.id)),""),o.xp6(3),o.hij(" - Celebration points: ",o.lcZ(9,10,u.getCelebrationPoints(r.id)),""),o.xp6(2),o.Q6J("ngIf",o.lcZ(11,12,u.getTradeMastery(r.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,14,u.getStrengthMastery(r.id))),o.xp6(3),o.hij(" - Victory points: ",o.lcZ(16,16,u.getVictoryPoints(r.id)),""),o.xp6(2),o.Q6J("ngStyle",o.WLB(24,Ul,o.lcZ(18,18,u.getColumnsTemplate(r.id)),o.lcZ(19,20,u.getRowsTemplate(r.id)))),o.xp6(3),o.Q6J("ngForOf",o.lcZ(21,22,u.getDomainsCards(r.id)))}}function hh(i,a){1&i&&(o.TgZ(0,"span"),o._uU(1," - Trade Mastery"),o.qZA())}function gh(i,a){1&i&&(o.TgZ(0,"span"),o._uU(1," - Strength Mastery"),o.qZA())}function wi(i,a){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function Cm(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,wi,2,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==r.cardId&&u.getDevelopmentCard(r.cardId))}}function Em(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(3),o.ALo(4,"async"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf,u=o.oxw(2).$implicit,f=o.oxw(2);o.xp6(1),o.hij(" ",r.type," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,f.isDomainCardSelected(u.id))?"Unselect":"Select"," ")}}function wo(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Em,5,4,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==r.cardId&&u.getAgglomerationCard(r.cardId))}}function Lv(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o._UZ(6,"br"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).lockResource(f.id)}),o._uU(10,"Lock"),o.qZA(),o.TgZ(11,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).unlockResources(f.id)}),o._uU(12," Unlock"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).increaseResources(f.id)}),o._uU(15," Increase "),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf,u=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",r.type,""),o.xp6(2),o.hij(" ",r.die,""),o.xp6(2),o.hij(" Available: ",u.availableResources,""),o.xp6(2),o.hij(" locked: ",u.lockedResources,"")}}function Bl(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Lv,16,4,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==r.cardId&&u.getLandCard(r.cardId))}}function kv(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,u.isDomainCardSelected(r.id))?"Unselect":"Select"," ")}}function _h(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,u.isDomainCardSelected(r.id))?"Unselect":"Select"," ")}}function mh(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(f.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,u.isDomainCardSelected(r.id))?"Unselect":"Select"," ")}}function Vv(i,a){if(1&i&&(o.TgZ(0,"div",14),o.YNc(1,Cm,2,1,"div",11),o.YNc(2,wo,2,1,"div",11),o.YNc(3,Bl,2,1,"div",11),o.YNc(4,kv,4,3,"div",11),o.YNc(5,_h,4,3,"div",11),o.YNc(6,mh,4,3,"div",11),o.qZA()),2&i){const r=a.$implicit,u=o.oxw(2);o.Q6J("ngSwitch",r.cardType)("ngStyle",o.WLB(8,Vl,"col"+r.col,"row"+r.row)),o.xp6(1),o.Q6J("ngSwitchCase",u.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.AGGLOMERATION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.LAND_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.AVAILABLE_AGGLOMERATION_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",u.AVAILABLE_DEVELOPMENT_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",u.AVAILABLE_LAND_SLOT)}}function ye(i,a){if(1&i&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"async"),o.qZA(),o.YNc(10,hh,2,0,"span",3),o.ALo(11,"async"),o.YNc(12,gh,2,0,"span",3),o.ALo(13,"async"),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"async"),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.ALo(18,"async"),o.ALo(19,"async"),o.YNc(20,Vv,7,11,"div",13),o.ALo(21,"async"),o.qZA(),o.qZA()),2&i){const r=a.ngIf,u=o.oxw();o.xp6(3),o.Oqu(r.color),o.xp6(2),o.hij(" - Ships count: ",o.lcZ(6,8,u.getShipsCount(r.id)),""),o.xp6(3),o.hij(" - Celebration points: ",o.lcZ(9,10,u.getCelebrationPoints(r.id)),""),o.xp6(2),o.Q6J("ngIf",o.lcZ(11,12,u.getTradeMastery(r.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,14,u.getStrengthMastery(r.id))),o.xp6(3),o.hij(" - Victory points: ",o.lcZ(16,16,u.getVictoryPoints(r.id)),""),o.xp6(2),o.Q6J("ngStyle",o.WLB(24,Ul,o.lcZ(18,18,u.getColumnsTemplate(r.id)),o.lcZ(19,20,u.getRowsTemplate(r.id)))),o.xp6(3),o.Q6J("ngForOf",o.lcZ(21,22,u.getDomainsCards(r.id)))}}function Am(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(f.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function bm(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Am,4,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",u.getActionCard(r.cardId))}}function wm(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(r);const f=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(f.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&i){const r=a.ngIf;o.xp6(1),o.hij(" ",r.name," ")}}function sc(i,a){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,wm,4,1,"div",3),o.qZA()),2&i){const r=o.oxw().$implicit,u=o.oxw(2);o.xp6(1),o.Q6J("ngIf",u.getDevelopmentCard(r.cardId))}}function Mm(i,a){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,bm,2,1,"div",11),o.YNc(2,sc,2,1,"div",11),o.qZA()),2&i){const r=a.$implicit,u=o.oxw(2);o.Q6J("ngSwitch",r.cardType),o.xp6(1),o.Q6J("ngSwitchCase",u.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",u.DEVELOPMENT_CARD_INTERFACE_NAME)}}function ac(i,a){if(1&i&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.YNc(3,Mm,3,3,"div",5),o.ALo(4,"async"),o.qZA()),2&i){const r=a.ngIf,u=o.oxw();o.xp6(2),o.Oqu(r.color),o.xp6(1),o.Q6J("ngForOf",o.lcZ(4,2,u.getHandsCards(r.id)))}}let cc=(()=>{class i{constructor(r,u,f,_,A,$,X,ue,ce){this.game=r,this.domainsCards=u,this.handsCards=f,this.faceUpPilesCards=_,this.landsPileCards=A,this.stockPilesCards=$,this.eventsPileCards=X,this.discardPileCards=ue,this.gameRules=ce,this.GamePhase=Xt,this.DomainColor=Ue,this.ACTION_CARD_INTERFACE_NAME=ms,this.AGGLOMERATION_CARD_INTERFACE_NAME=$t,this.DEVELOPMENT_CARD_INTERFACE_NAME=Dr,this.LAND_CARD_INTERFACE_NAME=ft,this.AVAILABLE_AGGLOMERATION_SLOT=mr,this.AVAILABLE_DEVELOPMENT_SLOT=gn,this.AVAILABLE_LAND_SLOT=pa,this.RESOURCE_VALUES=Af}startNewGame(){this.gameRules.initNewGame()}getPhase(){return this.game.phase$}setPhase(r){this.game.setPhase(r)}getPlayer(){return this.game.player$}setPlayer(r){this.game.setPlayer(r)}getNextProductionDie(){return this.game.nextProductionDie$}setNextProductionDie(r){this.game.setNextProductionDie(r)}getSelectedEventsPileCard(){return this.eventsPileCards.selectedEventsPileCards$}removeSelectedEventsPileCard(){this.eventsPileCards.removeSelected()}getAction(){return this.game.action$}unsetAction(){this.game.setAction(void 0)}throwDisabled(){return this.game.phase$.pipe((0,te.U)(r=>r!==Xt.InitialThrow&&r!==Xt.LoopThrow))}onThrow(){this.gameRules.throwDice()}getProductionDie(){return this.game.productionDie$}getEventDie(){return this.game.eventDie$}buyDisabled(){return this.game.phase$.pipe((0,te.U)(r=>r!==Xt.LoopActions))}getRedDomain(){return ru.get(lt)}getBlueDomain(){return ru.get(dt)}getVictoryPoints(r){return this.gameRules.getVictoryPointsForDomain(r)}getStrengthMastery(r){return this.domainsCards.getMasteryDomainForType(hn.Strength).pipe((0,te.U)(u=>r===u))}getTradeMastery(r){return this.domainsCards.getMasteryDomainForType(hn.Trade).pipe((0,te.U)(u=>r===u))}getCelebrationPoints(r){return this.domainsCards.getCelebrationPointsForDomain(r)}getShipsCount(r){return this.domainsCards.getMerchantShipCountForDomain(r)}getColumnsTemplate(r){return rr([this.domainsCards.getDomainMinCol(r),this.domainsCards.getDomainMaxCol(r)]).pipe((0,te.U)(([u,f])=>{let _="";for(let A=u;A<f+1;A++)_+=`[col${A}] 150px `;return _}))}getRowsTemplate(r){return rr([this.domainsCards.getDomainMinRow(r),this.domainsCards.getDomainMaxRow(r)]).pipe((0,te.U)(([u,f])=>{let _="";for(let A=u;A<f+1;A++)_+=`[row${A}] 150px `;return _}))}getDomainsCards(r){return this.domainsCards.allDomainsCards$.pipe((0,te.U)(u=>u.filter(f=>f.domainId===r)))}isDomainCardSelected(r){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(u=>u.map(f=>f.id).includes(r)))}toggleDomainCardSelection(r){this.domainsCards.toggleDomainCardSelection(r)}clearDomainCardSelection(){this.domainsCards.clearDomainCardSelection()}swapSelectedDomainsCards(){this.domainsCards.swapSelectedCards()}lockResource(r){this.domainsCards.lockResource(r)}unlockResources(r){this.domainsCards.unlockResources(r)}increaseResources(r){this.domainsCards.increaseResources(r)}getFaceUpPiles(){return Zg}selectFirst(r){this.faceUpPilesCards.selectFirstCardFromFaceUpPile(r)}getFaceUpPileCount(r){switch(r){case _i:return this.faceUpPilesCards.allRoadPivots$.pipe((0,te.U)(u=>u.length));case Jt:return this.faceUpPilesCards.allHamletPivots$.pipe((0,te.U)(u=>u.length));case ro:return this.faceUpPilesCards.allTownPivots$.pipe((0,te.U)(u=>u.length));default:throw new Error(`Can't get count for pile with id ${r}.`)}}getLandsPileCards(){return this.landsPileCards.allLandsPileCards$}canSelectAnyLandCard(){return this.game.action$.pipe((0,te.U)(r=>r===An.Pathfinder))}selectLandsPileCard(r){this.landsPileCards.selectLandsPileCard(r)}canSelectStockPile(){return this.game.player$.pipe((0,Yo.w)(r=>{const u=Ei(r);return this.domainsCards.hasDomainCommunityCenter(u)}))}buySelectStockPile(r){this.domainsCards.useLockedResources(),this.selectedStockPileId=r}unselectStockPile(){this.selectedStockPileId=void 0}canDrawAnyCardInStockPile(r){return this.game.player$.pipe((0,Yo.w)(u=>{const f=Ei(u);return this.domainsCards.hasDomainCommunityCenter(f)}),(0,te.U)(u=>u&&r===this.selectedStockPileId))}drawCardCurrentPlayer(r,u){this.game.player$.pipe((0,Rt.q)(1)).subscribe(f=>{const _=function(i){switch(i){case Ue.Red:return fo;case Ue.Blue:return Gr;default:throw new Error(`Something went wrong, ${i} should be one of ${Gr} or ${Gr}.`)}}(f);this.gameRules.drawCardFromStockToHand(r,u,_),this.unselectStockPile()})}getStockPiles(){return ys}getStockPilesCards(r){return this.stockPilesCards.allStockPilesCards$.pipe((0,te.U)(u=>u.filter(f=>f.pileId===r)))}getEventsPileCards(){return this.eventsPileCards.allEventsPileCards$}getEventCard(r){return to.get(r)}getDiscardPileCardsReverse(){return this.discardPileCards.allDiscardPileCardsReverse$}useActionCardDisabled(){return this.game.phase$.pipe((0,te.U)(r=>r!==Xt.LoopActions))}useActionCard(){this.gameRules.useActionCard()}getRedHand(){return tl.get(fo)}getBlueHand(){return tl.get(Gr)}getHandsCards(r){return this.handsCards.allHandsCards$.pipe((0,te.U)(u=>u.filter(f=>f.handId===r)))}selectHandCard(r){this.handsCards.selectHandCard(r)}drawInitialRedHandAvailable(){return rr([this.game.phase$,this.game.player$]).pipe((0,te.U)(([r,u])=>r===Xt.InitialDraw&&u===Ue.Red))}drawInitialRedHand(r){this.gameRules.drawFirstCardsFromStockToHand(r,3,fo)}drawFirstCardRedHandAvailable(){return rr([this.game.phase$,this.game.player$]).pipe((0,te.U)(([r,u])=>r===Xt.LoopDraw&&u===Ue.Red))}drawFirstCardRedHand(r){this.gameRules.drawFirstCardsFromStockToHand(r,1,fo)}drawInitialBlueHandAvailable(){return rr([this.game.phase$,this.game.player$]).pipe((0,te.U)(([r,u])=>r===Xt.InitialDraw&&u===Ue.Blue))}drawInitialBlueHand(r){this.gameRules.drawFirstCardsFromStockToHand(r,3,Gr)}drawFirstCardBlueHandAvailable(){return rr([this.game.phase$,this.game.player$]).pipe((0,te.U)(([r,u])=>r===Xt.LoopDraw&&u===Ue.Blue))}drawFirstCardBlueHand(r){this.gameRules.drawFirstCardsFromStockToHand(r,1,Gr)}putBackSelectedHandCardAvailable(){return this.game.phase$.pipe((0,te.U)(r=>r===Xt.LoopExchange))}putBackSelectedHandCard(r){this.gameRules.putBackFromHandToStockPile(r)}putBackSelectedDomainCard(r){this.gameRules.putBackFromDomainToStockPile(r)}getActionCard(r){return zu.get(r)}getAgglomerationCard(r){return ss.get(r)}getDevelopmentCard(r){return kn.get(r)}getLandCard(r){return Ji.get(r)}buyAgglomeration(){this.gameRules.useResourcesToPutFaceUpPileCardInSlot()}buyDevelopment(){this.gameRules.useResourcesToPutHandCardInSlot()}putLand(){this.gameRules.putLandsPileCardInSlot()}giveLockedResources(){this.domainsCards.giveLockedResources()}getSelectedFaceUpPileCard(){return this.faceUpPilesCards.selectedFaceUpPilesCards$}getDomainSelectedAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(r=>r.filter(u=>(null==u?void 0:u.cardType)===$t)))}getSelectedHandCard(){return this.handsCards.selectedHandsCards$}getHandSelectedDevelopmentCard(){return this.handsCards.selectedHandsCards$.pipe((0,Dn.h)(r=>(null==r?void 0:r.cardType)===Dr))}getDomainSelectedDevelopmentCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(r=>r.filter(u=>(null==u?void 0:u.cardType)===Dr)))}getSelectedActionCard(){return this.handsCards.selectedHandsCards$.pipe((0,Dn.h)(r=>(null==r?void 0:r.cardType)===ms))}getPileSelectedLandCard(){return this.landsPileCards.selectedLandsPileCards$}getSelectedAvailableLandSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(r=>r.filter(u=>(null==u?void 0:u.cardType)===pa)))}getDomainSelectedLandCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(r=>r.filter(u=>(null==u?void 0:u.cardType)===ft)))}getSelectedAvailableAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(r=>r.filter(u=>(null==u?void 0:u.cardType)===mr)))}getSelectedAvailableDevelopmentSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,te.U)(r=>r.filter(u=>(null==u?void 0:u.cardType)===gn)))}}return i.\u0275fac=function(r){return new(r||i)(o.Y36(ju),o.Y36(Ta),o.Y36(Nf),o.Y36(Ef),o.Y36(qu),o.Y36(Ha),o.Y36(Su),o.Y36(nu),o.Y36(ep))},i.\u0275cmp=o.Xpm({type:i,selectors:[["taormina-root"]],decls:151,vars:78,consts:[["type","button",3,"click"],[1,"flex-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"disabled","click"],[3,"ngSwitch",4,"ngFor","ngForOf"],["type","radio","name","player",3,"value","ngModel","ngModelChange"],["type","radio","name","phase",3,"value","ngModel","ngModelChange"],["type","radio","name","nextProductionDie",3,"value","ngModel","ngModelChange"],["type","button",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"grid-container",3,"ngStyle"],["class","grid-cell",3,"ngSwitch","ngStyle",4,"ngFor","ngForOf"],[1,"grid-cell",3,"ngSwitch","ngStyle"]],template:function(r,u){1&r&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return u.startNewGame()}),o._uU(1,"New Game !"),o.qZA(),o._UZ(2,"hr"),o.TgZ(3,"div",1),o.TgZ(4,"div"),o.TgZ(5,"p"),o._uU(6,"Current Player:"),o.qZA(),o.YNc(7,Zp,5,5,"div",2),o.ALo(8,"keyvalue"),o.qZA(),o.TgZ(9,"div"),o.TgZ(10,"p"),o._uU(11,"Current Phase:"),o.qZA(),o.YNc(12,Nv,5,5,"div",2),o.ALo(13,"keyvalue"),o.qZA(),o.TgZ(14,"div"),o.TgZ(15,"p"),o._uU(16,"Next Production Die:"),o.qZA(),o.YNc(17,Wp,5,5,"div",2),o.qZA(),o.TgZ(18,"div"),o.TgZ(19,"p"),o._uU(20,"Current event:"),o.qZA(),o.YNc(21,or,2,1,"div",3),o.ALo(22,"async"),o._UZ(23,"hr"),o.TgZ(24,"button",0),o.NdJ("click",function(){return u.removeSelectedEventsPileCard()}),o._uU(25," Finish event "),o.qZA(),o.qZA(),o.TgZ(26,"div"),o.TgZ(27,"p"),o._uU(28,"Current action:"),o.qZA(),o.YNc(29,q_,2,1,"div",3),o.ALo(30,"async"),o._UZ(31,"hr"),o.TgZ(32,"button",0),o.NdJ("click",function(){return u.unsetAction()}),o._uU(33,"Finish action"),o.qZA(),o.qZA(),o.TgZ(34,"div"),o.TgZ(35,"p"),o._uU(36,"Selected stock pile:"),o.qZA(),o.YNc(37,K_,2,1,"div",3),o._UZ(38,"hr"),o.TgZ(39,"button",4),o.NdJ("click",function(){return u.unselectStockPile()}),o._uU(40," Unselect "),o.qZA(),o.qZA(),o.TgZ(41,"div"),o.TgZ(42,"button",0),o.NdJ("click",function(){return u.swapSelectedDomainsCards()}),o._uU(43," swap selected domains cards"),o.qZA(),o._UZ(44,"br"),o.TgZ(45,"button",0),o.NdJ("click",function(){return u.clearDomainCardSelection()}),o._uU(46," clear domain selection "),o.qZA(),o.qZA(),o.qZA(),o._UZ(47,"hr"),o.TgZ(48,"div",1),o.TgZ(49,"button",4),o.NdJ("click",function(){return u.onThrow()}),o.ALo(50,"async"),o._uU(51," throw "),o.qZA(),o.YNc(52,sr,2,1,"p",3),o.ALo(53,"async"),o.YNc(54,Hn,2,1,"p",3),o.ALo(55,"async"),o.qZA(),o._UZ(56,"hr"),o.TgZ(57,"div",1),o.TgZ(58,"button",4),o.NdJ("click",function(){return u.buyAgglomeration()}),o.ALo(59,"async"),o._uU(60," buy agglomeration "),o.qZA(),o.TgZ(61,"div"),o.TgZ(62,"p"),o._uU(63,"Pile Selected Agglomeration Card:"),o.qZA(),o.YNc(64,$n,2,1,"p",3),o.ALo(65,"async"),o.qZA(),o.TgZ(66,"div"),o.TgZ(67,"p"),o._uU(68,"Selected Available Agglomeration Slots:"),o.qZA(),o.YNc(69,Yp,6,3,"p",2),o.ALo(70,"async"),o.qZA(),o.TgZ(71,"div"),o.TgZ(72,"p"),o._uU(73,"Domain Selected Agglomeration Slots:"),o.qZA(),o.YNc(74,qp,6,3,"p",2),o.ALo(75,"async"),o.qZA(),o.qZA(),o._UZ(76,"hr"),o.TgZ(77,"div",1),o.TgZ(78,"button",4),o.NdJ("click",function(){return u.buyDevelopment()}),o.ALo(79,"async"),o._uU(80," buy development "),o.qZA(),o.TgZ(81,"div"),o.TgZ(82,"p"),o._uU(83,"Hand Selected Development Card:"),o.qZA(),o.YNc(84,z_,2,1,"p",3),o.ALo(85,"async"),o.qZA(),o.TgZ(86,"div"),o.TgZ(87,"p"),o._uU(88,"Selected Available Development Slots:"),o.qZA(),o.YNc(89,Q_,6,3,"p",2),o.ALo(90,"async"),o.qZA(),o.TgZ(91,"div"),o.TgZ(92,"p"),o._uU(93,"Domain Selected Development Cards:"),o.qZA(),o.YNc(94,J_,6,3,"p",2),o.ALo(95,"async"),o.qZA(),o.qZA(),o._UZ(96,"hr"),o.TgZ(97,"div",1),o.TgZ(98,"button",4),o.NdJ("click",function(){return u.useActionCard()}),o.ALo(99,"async"),o._uU(100," Use action card "),o.qZA(),o.TgZ(101,"div"),o.TgZ(102,"p"),o._uU(103,"Selected Action Card:"),o.qZA(),o.YNc(104,X_,2,1,"p",3),o.ALo(105,"async"),o.qZA(),o.qZA(),o._UZ(106,"hr"),o.TgZ(107,"div",1),o.TgZ(108,"button",0),o.NdJ("click",function(){return u.putLand()}),o._uU(109,"put land"),o.qZA(),o.TgZ(110,"button",0),o.NdJ("click",function(){return u.giveLockedResources()}),o._uU(111," Give locked resources "),o.qZA(),o.TgZ(112,"div"),o.TgZ(113,"p"),o._uU(114,"Pile Selected Land Card:"),o.qZA(),o.YNc(115,Nl,2,1,"p",3),o.ALo(116,"async"),o.qZA(),o.TgZ(117,"div"),o.TgZ(118,"p"),o._uU(119,"Selected Available Land Slots:"),o.qZA(),o.YNc(120,Ns,6,3,"p",2),o.ALo(121,"async"),o.qZA(),o.TgZ(122,"div"),o.TgZ(123,"p"),o._uU(124,"Domain Selected Available Land Slots:"),o.qZA(),o.YNc(125,em,6,3,"p",2),o.ALo(126,"async"),o.qZA(),o.qZA(),o._UZ(127,"hr"),o.TgZ(128,"div",1),o.YNc(129,Kp,8,4,"div",2),o.TgZ(130,"div"),o._uU(131," LANDS PILE "),o.YNc(132,Qp,2,1,"div",2),o.ALo(133,"async"),o.qZA(),o.YNc(134,oh,18,22,"div",2),o.TgZ(135,"div"),o._uU(136," EVENTS PILE "),o.YNc(137,rm,2,1,"div",2),o.ALo(138,"async"),o.qZA(),o.TgZ(139,"div"),o._uU(140," DISCARD PILE "),o.YNc(141,cm,3,3,"div",5),o.ALo(142,"async"),o.qZA(),o.qZA(),o._UZ(143,"hr"),o.YNc(144,hm,5,4,"div",3),o._UZ(145,"hr"),o.YNc(146,ph,22,27,"div",3),o._UZ(147,"hr"),o.YNc(148,ye,22,27,"div",3),o._UZ(149,"hr"),o.YNc(150,ac,5,4,"div",3)),2&r&&(o.xp6(7),o.Q6J("ngForOf",o.lcZ(8,32,u.DomainColor)),o.xp6(5),o.Q6J("ngForOf",o.lcZ(13,34,u.GamePhase)),o.xp6(5),o.Q6J("ngForOf",u.RESOURCE_VALUES),o.xp6(4),o.Q6J("ngIf",o.lcZ(22,36,u.getSelectedEventsPileCard())),o.xp6(8),o.Q6J("ngIf",o.lcZ(30,38,u.getAction())),o.xp6(8),o.Q6J("ngIf",u.selectedStockPileId),o.xp6(2),o.Q6J("disabled",!u.selectedStockPileId),o.xp6(10),o.Q6J("disabled",o.lcZ(50,40,u.throwDisabled())),o.xp6(3),o.Q6J("ngIf",o.lcZ(53,42,u.getProductionDie())),o.xp6(2),o.Q6J("ngIf",o.lcZ(55,44,u.getEventDie())),o.xp6(4),o.Q6J("disabled",o.lcZ(59,46,u.buyDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(65,48,u.getSelectedFaceUpPileCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(70,50,u.getSelectedAvailableAgglomerationSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(75,52,u.getDomainSelectedAgglomerationSlots())),o.xp6(4),o.Q6J("disabled",o.lcZ(79,54,u.buyDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(85,56,u.getHandSelectedDevelopmentCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(90,58,u.getSelectedAvailableDevelopmentSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(95,60,u.getDomainSelectedDevelopmentCards())),o.xp6(4),o.Q6J("disabled",o.lcZ(99,62,u.useActionCardDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(105,64,u.getSelectedActionCard())),o.xp6(11),o.Q6J("ngIf",o.lcZ(116,66,u.getPileSelectedLandCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(121,68,u.getSelectedAvailableLandSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(126,70,u.getDomainSelectedLandCards())),o.xp6(4),o.Q6J("ngForOf",u.getFaceUpPiles()),o.xp6(3),o.Q6J("ngForOf",o.lcZ(133,72,u.getLandsPileCards())),o.xp6(2),o.Q6J("ngForOf",u.getStockPiles()),o.xp6(3),o.Q6J("ngForOf",o.lcZ(138,74,u.getEventsPileCards())),o.xp6(4),o.Q6J("ngForOf",o.lcZ(142,76,u.getDiscardPileCardsReverse())),o.xp6(3),o.Q6J("ngIf",u.getRedHand()),o.xp6(2),o.Q6J("ngIf",u.getRedDomain()),o.xp6(2),o.Q6J("ngIf",u.getBlueDomain()),o.xp6(2),o.Q6J("ngIf",u.getBlueHand()))},directives:[Ws,E,Cl,rl,Wr,za,K,Q,xe],pipes:[qs,Rh],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;grid-column-gap:20px;column-gap:20px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-gap:20px}.grid-cell[_ngcontent-%COMP%]{border:1px solid black}"]}),i})();v(7687);let vh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i,bootstrap:[cc]}),i.\u0275inj=o.cJS({providers:[],imports:[[xc,bo,m.Aw.forRoot({},{metaReducers:[],runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),hr.forRoot([]),[],y_]]}),i})();(0,o.G48)(),Oc().bootstrapModule(vh).catch(i=>console.error(i))},8521:F=>{F.exports=w=>{if(!Array.isArray(w))throw new TypeError("Expected an array, got "+typeof w);for(let v=(w=[...w]).length-1;v>0;v--){const o=Math.floor(Math.random()*(v+1));[w[v],w[o]]=[w[o],w[v]]}return w}},8085:(F,w,v)=>{v.d(w,{P:()=>P});var o=v(172),N=v(2411),j=v(540);class P{constructor(S,C,M){this.kind=S,this.value=C,this.error=M,this.hasValue="N"===S}observe(S){switch(this.kind){case"N":return S.next&&S.next(this.value);case"E":return S.error&&S.error(this.error);case"C":return S.complete&&S.complete()}}do(S,C,M){switch(this.kind){case"N":return S&&S(this.value);case"E":return C&&C(this.error);case"C":return M&&M()}}accept(S,C,M){return S&&"function"==typeof S.next?this.observe(S):this.do(S,C,M)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return(0,j._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(S){return void 0!==S?new P("N",S):P.undefinedValueNotification}static createError(S){return new P("E",void 0,S)}static createComplete(){return P.completeNotification}}P.completeNotification=new P("C"),P.undefinedValueNotification=new P("N",void 0)},5548:(F,w,v)=>{v.d(w,{y:()=>L});var o=v(4168),j=v(2926),H=v(6617),T=v(1359),S=v(7255);var b=v(5426);let L=(()=>{class B{constructor(W){this._isScalar=!1,W&&(this._subscribe=W)}lift(W){const z=new B;return z.source=this,z.operator=W,z}subscribe(W,z,ae){const{operator:V}=this,q=function(B,se,W){if(B){if(B instanceof o.L)return B;if(B[j.b])return B[j.b]()}return B||se||W?new o.L(B,se,W):new o.L(H.c)}(W,z,ae);if(q.add(V?V.call(q,this.source):this.source||b.v.useDeprecatedSynchronousErrorHandling&&!q.syncErrorThrowable?this._subscribe(q):this._trySubscribe(q)),b.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable&&(q.syncErrorThrowable=!1,q.syncErrorThrown))throw q.syncErrorValue;return q}_trySubscribe(W){try{return this._subscribe(W)}catch(z){b.v.useDeprecatedSynchronousErrorHandling&&(W.syncErrorThrown=!0,W.syncErrorValue=z),function(B){for(;B;){const{closed:se,destination:W,isStopped:z}=B;if(se||z)return!1;B=W&&W instanceof o.L?W:null}return!0}(W)?W.error(z):console.warn(z)}}forEach(W,z){return new(z=O(z))((ae,V)=>{let q;q=this.subscribe(le=>{try{W(le)}catch(Se){V(Se),q&&q.unsubscribe()}},V,ae)})}_subscribe(W){const{source:z}=this;return z&&z.subscribe(W)}[T.L](){return this}pipe(...W){return 0===W.length?this:function(B){return 0===B.length?S.y:1===B.length?B[0]:function(W){return B.reduce((z,ae)=>ae(z),W)}}(W)(this)}toPromise(W){return new(W=O(W))((z,ae)=>{let V;this.subscribe(q=>V=q,q=>ae(q),()=>z(V))})}}return B.create=se=>new B(se),B})();function O(B){if(B||(B=b.v.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6617:(F,w,v)=>{v.d(w,{c:()=>j});var o=v(5426),N=v(9887);const j={closed:!0,next(H){},error(H){if(o.v.useDeprecatedSynchronousErrorHandling)throw H;(0,N.z)(H)},complete(){}}},5330:(F,w,v)=>{v.d(w,{L:()=>N});var o=v(4168);class N extends o.L{notifyNext(H,P,T,S,C){this.destination.next(P)}notifyError(H,P){this.destination.error(H)}notifyComplete(H){this.destination.complete()}}},466:(F,w,v)=>{v.d(w,{t:()=>S});var o=v(3405),N=v(7575),j=v(1346),H=v(9748),P=v(2108),T=v(5973);class S extends o.xQ{constructor(b=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,O){super(),this.scheduler=O,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=b<1?1:b,this._windowTime=L<1?1:L,L===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(b){if(!this.isStopped){const L=this._events;L.push(b),L.length>this._bufferSize&&L.shift()}super.next(b)}nextTimeWindow(b){this.isStopped||(this._events.push(new C(this._getNow(),b)),this._trimBufferThenGetEvents()),super.next(b)}_subscribe(b){const L=this._infiniteTimeWindow,O=L?this._events:this._trimBufferThenGetEvents(),B=this.scheduler,se=O.length;let W;if(this.closed)throw new P.N;if(this.isStopped||this.hasError?W=j.w.EMPTY:(this.observers.push(b),W=new T.W(this,b)),B&&b.add(b=new H.ht(b,B)),L)for(let z=0;z<se&&!b.closed;z++)b.next(O[z]);else for(let z=0;z<se&&!b.closed;z++)b.next(O[z].value);return this.hasError?b.error(this.thrownError):this.isStopped&&b.complete(),W}_getNow(){return(this.scheduler||N.c).now()}_trimBufferThenGetEvents(){const b=this._getNow(),L=this._bufferSize,O=this._windowTime,B=this._events,se=B.length;let W=0;for(;W<se&&!(b-B[W].time<O);)W++;return se>L&&(W=Math.max(W,se-L)),W>0&&B.splice(0,W),B}}class C{constructor(b,L){this.time=b,this.value=L}}},3405:(F,w,v)=>{v.d(w,{Yc:()=>S,xQ:()=>C});var o=v(5548),N=v(4168),j=v(1346),H=v(2108),P=v(5973),T=v(2926);class S extends N.L{constructor(L){super(L),this.destination=L}}let C=(()=>{class b extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[T.b](){return new S(this)}lift(O){const B=new M(this,this);return B.operator=O,B}next(O){if(this.closed)throw new H.N;if(!this.isStopped){const{observers:B}=this,se=B.length,W=B.slice();for(let z=0;z<se;z++)W[z].next(O)}}error(O){if(this.closed)throw new H.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:B}=this,se=B.length,W=B.slice();for(let z=0;z<se;z++)W[z].error(O);this.observers.length=0}complete(){if(this.closed)throw new H.N;this.isStopped=!0;const{observers:O}=this,B=O.length,se=O.slice();for(let W=0;W<B;W++)se[W].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new H.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new H.N;return this.hasError?(O.error(this.thrownError),j.w.EMPTY):this.isStopped?(O.complete(),j.w.EMPTY):(this.observers.push(O),new P.W(this,O))}asObservable(){const O=new o.y;return O.source=this,O}}return b.create=(L,O)=>new M(L,O),b})();class M extends C{constructor(L,O){super(),this.destination=L,this.source=O}next(L){const{destination:O}=this;O&&O.next&&O.next(L)}error(L){const{destination:O}=this;O&&O.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:O}=this;return O?this.source.subscribe(L):j.w.EMPTY}}},5973:(F,w,v)=>{v.d(w,{W:()=>N});var o=v(1346);class N extends o.w{constructor(H,P){super(),this.subject=H,this.subscriber=P,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const H=this.subject,P=H.observers;if(this.subject=null,!P||0===P.length||H.isStopped||H.closed)return;const T=P.indexOf(this.subscriber);-1!==T&&P.splice(T,1)}}},4168:(F,w,v)=>{v.d(w,{L:()=>S});var o=v(6783),N=v(6617),j=v(1346),H=v(2926),P=v(5426),T=v(9887);class S extends j.w{constructor(b,L,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=N.c;break;case 1:if(!b){this.destination=N.c;break}if("object"==typeof b){b instanceof S?(this.syncErrorThrowable=b.syncErrorThrowable,this.destination=b,b.add(this)):(this.syncErrorThrowable=!0,this.destination=new C(this,b));break}default:this.syncErrorThrowable=!0,this.destination=new C(this,b,L,O)}}[H.b](){return this}static create(b,L,O){const B=new S(b,L,O);return B.syncErrorThrowable=!1,B}next(b){this.isStopped||this._next(b)}error(b){this.isStopped||(this.isStopped=!0,this._error(b))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(b){this.destination.next(b)}_error(b){this.destination.error(b),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:b}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=b,this}}class C extends S{constructor(b,L,O,B){super(),this._parentSubscriber=b;let se,W=this;(0,o.m)(L)?se=L:L&&(se=L.next,O=L.error,B=L.complete,L!==N.c&&(W=Object.create(L),(0,o.m)(W.unsubscribe)&&this.add(W.unsubscribe.bind(W)),W.unsubscribe=this.unsubscribe.bind(this))),this._context=W,this._next=se,this._error=O,this._complete=B}next(b){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;P.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,b)&&this.unsubscribe():this.__tryOrUnsub(this._next,b)}}error(b){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:O}=P.v;if(this._error)O&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,b),this.unsubscribe()):(this.__tryOrUnsub(this._error,b),this.unsubscribe());else if(L.syncErrorThrowable)O?(L.syncErrorValue=b,L.syncErrorThrown=!0):(0,T.z)(b),this.unsubscribe();else{if(this.unsubscribe(),O)throw b;(0,T.z)(b)}}}complete(){if(!this.isStopped){const{_parentSubscriber:b}=this;if(this._complete){const L=()=>this._complete.call(this._context);P.v.useDeprecatedSynchronousErrorHandling&&b.syncErrorThrowable?(this.__tryOrSetError(b,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(b,L){try{b.call(this._context,L)}catch(O){if(this.unsubscribe(),P.v.useDeprecatedSynchronousErrorHandling)throw O;(0,T.z)(O)}}__tryOrSetError(b,L,O){if(!P.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,O)}catch(B){return P.v.useDeprecatedSynchronousErrorHandling?(b.syncErrorValue=B,b.syncErrorThrown=!0,!0):((0,T.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:b}=this;this._context=null,this._parentSubscriber=null,b.unsubscribe()}}},1346:(F,w,v)=>{v.d(w,{w:()=>T});var o=v(5894),N=v(7879),j=v(6783);const P=(()=>{function C(M){return Error.call(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((b,L)=>`${L+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M,this}return C.prototype=Object.create(Error.prototype),C})();class T{constructor(M){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,M&&(this._ctorUnsubscribe=!0,this._unsubscribe=M)}unsubscribe(){let M;if(this.closed)return;let{_parentOrParents:b,_ctorUnsubscribe:L,_unsubscribe:O,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,b instanceof T)b.remove(this);else if(null!==b)for(let se=0;se<b.length;++se)b[se].remove(this);if((0,j.m)(O)){L&&(this._unsubscribe=void 0);try{O.call(this)}catch(se){M=se instanceof P?S(se.errors):[se]}}if((0,o.k)(B)){let se=-1,W=B.length;for(;++se<W;){const z=B[se];if((0,N.K)(z))try{z.unsubscribe()}catch(ae){M=M||[],ae instanceof P?M=M.concat(S(ae.errors)):M.push(ae)}}}if(M)throw new P(M)}add(M){let b=M;if(!M)return T.EMPTY;switch(typeof M){case"function":b=new T(M);case"object":if(b===this||b.closed||"function"!=typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;if(!(b instanceof T)){const B=b;b=new T,b._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+M+" added to Subscription.")}let{_parentOrParents:L}=b;if(null===L)b._parentOrParents=this;else if(L instanceof T){if(L===this)return b;b._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return b;L.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[b]:O.push(b),b}remove(M){const b=this._subscriptions;if(b){const L=b.indexOf(M);-1!==L&&b.splice(L,1)}}}var C;function S(C){return C.reduce((M,b)=>M.concat(b instanceof P?b.errors:b),[])}T.EMPTY=((C=new T).closed=!0,C)},5426:(F,w,v)=>{v.d(w,{v:()=>N});let o=!1;const N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const H=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+H.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=j},get useDeprecatedSynchronousErrorHandling(){return o}}},8345:(F,w,v)=>{v.d(w,{IY:()=>H,Ds:()=>T,ft:()=>C});var o=v(4168),N=v(5548),j=v(4651);class H extends o.L{constructor(b){super(),this.parent=b}_next(b){this.parent.notifyNext(b)}_error(b){this.parent.notifyError(b),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class T extends o.L{notifyNext(b){this.destination.next(b)}notifyError(b){this.destination.error(b)}notifyComplete(){this.destination.complete()}}function C(M,b){if(b.closed)return;if(M instanceof N.y)return M.subscribe(b);let L;try{L=(0,j.s)(M)(b)}catch(O){b.error(O)}return L}},172:(F,w,v)=>{v.d(w,{E:()=>N,c:()=>j});var o=v(5548);const N=new o.y(P=>P.complete());function j(P){return P?function(P){return new o.y(T=>P.schedule(()=>T.complete()))}(P):N}},1915:(F,w,v)=>{v.d(w,{D:()=>W});var o=v(5548),N=v(4651),j=v(1346),H=v(1359),S=v(3428),C=v(4352),L=v(847),O=v(1265);function W(z,ae){return ae?function(z,ae){if(null!=z){if(function(z){return z&&"function"==typeof z[H.L]}(z))return function(z,ae){return new o.y(V=>{const q=new j.w;return q.add(ae.schedule(()=>{const le=z[H.L]();q.add(le.subscribe({next(Se){q.add(ae.schedule(()=>V.next(Se)))},error(Se){q.add(ae.schedule(()=>V.error(Se)))},complete(){q.add(ae.schedule(()=>V.complete()))}}))})),q})}(z,ae);if((0,L.t)(z))return function(z,ae){return new o.y(V=>{const q=new j.w;return q.add(ae.schedule(()=>z.then(le=>{q.add(ae.schedule(()=>{V.next(le),q.add(ae.schedule(()=>V.complete()))}))},le=>{q.add(ae.schedule(()=>V.error(le)))}))),q})}(z,ae);if((0,O.z)(z))return(0,S.r)(z,ae);if(function(z){return z&&"function"==typeof z[C.hZ]}(z)||"string"==typeof z)return function(z,ae){if(!z)throw new Error("Iterable cannot be null");return new o.y(V=>{const q=new j.w;let le;return q.add(()=>{le&&"function"==typeof le.return&&le.return()}),q.add(ae.schedule(()=>{le=z[C.hZ](),q.add(ae.schedule(function(){if(V.closed)return;let Se,Ze;try{const Nt=le.next();Se=Nt.value,Ze=Nt.done}catch(Nt){return void V.error(Nt)}Ze?V.complete():(V.next(Se),this.schedule())}))})),q})}(z,ae)}throw new TypeError((null!==z&&typeof z||z)+" is not observable")}(z,ae):z instanceof o.y?z:new o.y((0,N.s)(z))}},5433:(F,w,v)=>{v.d(w,{n:()=>H});var o=v(5548),N=v(8769),j=v(3428);function H(P,T){return T?(0,j.r)(P,T):new o.y((0,N.V)(P))}},3894:(F,w,v)=>{v.d(w,{T:()=>S});var o=v(5548),N=v(8151),j=v(4421),H=v(7255),T=v(5433);function S(...C){let M=Number.POSITIVE_INFINITY,b=null,L=C[C.length-1];return(0,N.K)(L)?(b=C.pop(),C.length>1&&"number"==typeof C[C.length-1]&&(M=C.pop())):"number"==typeof L&&(M=C.pop()),null===b&&1===C.length&&C[0]instanceof o.y?C[0]:function(C=Number.POSITIVE_INFINITY){return(0,j.zg)(H.y,C)}(M)((0,T.n)(C,b))}},2411:(F,w,v)=>{v.d(w,{of:()=>H});var o=v(8151),N=v(5433),j=v(3428);function H(...P){let T=P[P.length-1];return(0,o.K)(T)?(P.pop(),(0,j.r)(P,T)):(0,N.n)(P)}},540:(F,w,v)=>{v.d(w,{_:()=>N});var o=v(5548);function N(H,P){return new o.y(P?T=>P.schedule(j,0,{error:H,subscriber:T}):T=>T.error(H))}function j({error:H,subscriber:P}){P.error(H)}},2047:(F,w,v)=>{v.d(w,{K:()=>N});var o=v(8345);function N(P){return function(S){const C=new j(P),M=S.lift(C);return C.caught=M}}class j{constructor(T){this.selector=T}call(T,S){return S.subscribe(new H(T,this.selector,this.caught))}}class H extends o.Ds{constructor(T,S,C){super(T),this.selector=S,this.caught=C}error(T){if(!this.isStopped){let S;try{S=this.selector(T,this.caught)}catch(b){return void super.error(b)}this._unsubscribeAndRecycle();const C=new o.IY(this);this.add(C);const M=(0,o.ft)(S,C);M!==C&&this.add(M)}}}},6700:(F,w,v)=>{v.d(w,{b:()=>N});var o=v(4421);function N(j,H){return(0,o.zg)(j,H,1)}},5686:(F,w,v)=>{v.d(w,{b:()=>j});var o=v(4168),N=v(8178);function j(S,C=N.P){return M=>M.lift(new H(S,C))}class H{constructor(C,M){this.dueTime=C,this.scheduler=M}call(C,M){return M.subscribe(new P(C,this.dueTime,this.scheduler))}}class P extends o.L{constructor(C,M,b){super(C),this.dueTime=M,this.scheduler=b,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(C){this.clearDebounce(),this.lastValue=C,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(T,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:C}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(C)}}clearDebounce(){const C=this.debouncedSubscription;null!==C&&(this.remove(C),C.unsubscribe(),this.debouncedSubscription=null)}}function T(S){S.debouncedNext()}},8735:(F,w,v)=>{v.d(w,{h:()=>N});var o=v(4168);function N(P,T){return function(C){return C.lift(new j(P,T))}}class j{constructor(T,S){this.predicate=T,this.thisArg=S}call(T,S){return S.subscribe(new H(T,this.predicate,this.thisArg))}}class H extends o.L{constructor(T,S,C){super(T),this.predicate=S,this.thisArg=C,this.count=0}_next(T){let S;try{S=this.predicate.call(this.thisArg,T,this.count++)}catch(C){return void this.destination.error(C)}S&&this.destination.next(T)}}},8053:(F,w,v)=>{v.d(w,{U:()=>N});var o=v(4168);function N(P,T){return function(C){if("function"!=typeof P)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return C.lift(new j(P,T))}}class j{constructor(T,S){this.project=T,this.thisArg=S}call(T,S){return S.subscribe(new H(T,this.project,this.thisArg))}}class H extends o.L{constructor(T,S,C){super(T),this.project=S,this.count=0,this.thisArg=C||this}_next(T){let S;try{S=this.project.call(this.thisArg,T,this.count++)}catch(C){return void this.destination.error(C)}this.destination.next(S)}}},4421:(F,w,v)=>{v.d(w,{zg:()=>H});var o=v(8053),N=v(1915),j=v(8345);function H(C,M,b=Number.POSITIVE_INFINITY){return"function"==typeof M?L=>L.pipe(H((O,B)=>(0,N.D)(C(O,B)).pipe((0,o.U)((se,W)=>M(O,se,B,W))),b)):("number"==typeof M&&(b=M),L=>L.lift(new P(C,b)))}class P{constructor(M,b=Number.POSITIVE_INFINITY){this.project=M,this.concurrent=b}call(M,b){return b.subscribe(new T(M,this.project,this.concurrent))}}class T extends j.Ds{constructor(M,b,L=Number.POSITIVE_INFINITY){super(M),this.project=b,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(M){this.active<this.concurrent?this._tryNext(M):this.buffer.push(M)}_tryNext(M){let b;const L=this.index++;try{b=this.project(M,L)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(b)}_innerSub(M){const b=new j.IY(this),L=this.destination;L.add(b);const O=(0,j.ft)(M,b);O!==b&&L.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(M){this.destination.next(M)}notifyComplete(){const M=this.buffer;this.active--,M.length>0?this._next(M.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9748:(F,w,v)=>{v.d(w,{QV:()=>j,ht:()=>P});var o=v(4168),N=v(8085);function j(S,C=0){return function(b){return b.lift(new H(S,C))}}class H{constructor(C,M=0){this.scheduler=C,this.delay=M}call(C,M){return M.subscribe(new P(C,this.scheduler,this.delay))}}class P extends o.L{constructor(C,M,b=0){super(C),this.scheduler=M,this.delay=b}static dispatch(C){const{notification:M,destination:b}=C;M.observe(b),this.unsubscribe()}scheduleMessage(C){this.destination.add(this.scheduler.schedule(P.dispatch,this.delay,new T(C,this.destination)))}_next(C){this.scheduleMessage(N.P.createNext(C))}_error(C){this.scheduleMessage(N.P.createError(C)),this.unsubscribe()}_complete(){this.scheduleMessage(N.P.createComplete()),this.unsubscribe()}}class T{constructor(C,M){this.notification=C,this.destination=M}}},7434:(F,w,v)=>{v.d(w,{R:()=>N});var o=v(4168);function N(P,T){let S=!1;return arguments.length>=2&&(S=!0),function(M){return M.lift(new j(P,T,S))}}class j{constructor(T,S,C=!1){this.accumulator=T,this.seed=S,this.hasSeed=C}call(T,S){return S.subscribe(new H(T,this.accumulator,this.seed,this.hasSeed))}}class H extends o.L{constructor(T,S,C,M){super(T),this.accumulator=S,this._seed=C,this.hasSeed=M,this.index=0}get seed(){return this._seed}set seed(T){this.hasSeed=!0,this._seed=T}_next(T){if(this.hasSeed)return this._tryNext(T);this.seed=T,this.destination.next(T)}_tryNext(T){const S=this.index++;let C;try{C=this.accumulator(this.seed,T,S)}catch(M){this.destination.error(M)}this.seed=C,this.destination.next(C)}}},3005:(F,w,v)=>{v.d(w,{B:()=>z});var o=v(3405),N=v(5548),j=v(1346),H=v(4168);function P(){return function(V){return V.lift(new T(V))}}class T{constructor(V){this.connectable=V}call(V,q){const{connectable:le}=this;le._refCount++;const Se=new S(V,le),Ze=q.subscribe(Se);return Se.closed||(Se.connection=le.connect()),Ze}}class S extends H.L{constructor(V,q){super(V),this.connectable=q}_unsubscribe(){const{connectable:V}=this;if(!V)return void(this.connection=null);this.connectable=null;const q=V._refCount;if(q<=0)return void(this.connection=null);if(V._refCount=q-1,q>1)return void(this.connection=null);const{connection:le}=this,Se=V._connection;this.connection=null,Se&&(!le||Se===le)&&Se.unsubscribe()}}class C extends N.y{constructor(V,q){super(),this.source=V,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new j.w,V.add(this.source.subscribe(new b(this.getSubject(),this))),V.closed&&(this._connection=null,V=j.w.EMPTY)),V}refCount(){return P()(this)}}const M=(()=>{const ae=C.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ae._subscribe},_isComplete:{value:ae._isComplete,writable:!0},getSubject:{value:ae.getSubject},connect:{value:ae.connect},refCount:{value:ae.refCount}}})();class b extends o.Yc{constructor(V,q){super(V),this.connectable=q}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const q=V._connection;V._refCount=0,V._subject=null,V._connection=null,q&&q.unsubscribe()}}}function W(){return new o.xQ}function z(){return ae=>P()(function(ae,V){return function(le){let Se;Se="function"==typeof ae?ae:function(){return ae};const Ze=Object.create(le,M);return Ze.source=le,Ze.subjectFactory=Se,Ze}}(W)(ae))}},5488:(F,w,v)=>{v.d(w,{T:()=>N});var o=v(4168);function N(P){return T=>T.lift(new j(P))}class j{constructor(T){this.total=T}call(T,S){return S.subscribe(new H(T,this.total))}}class H extends o.L{constructor(T,S){super(T),this.total=S,this.count=0}_next(T){++this.count>this.total&&this.destination.next(T)}}},9204:(F,w,v)=>{v.d(w,{w:()=>H});var o=v(8053),N=v(1915),j=v(8345);function H(S,C){return"function"==typeof C?M=>M.pipe(H((b,L)=>(0,N.D)(S(b,L)).pipe((0,o.U)((O,B)=>C(b,O,L,B))))):M=>M.lift(new P(S))}class P{constructor(C){this.project=C}call(C,M){return M.subscribe(new T(C,this.project))}}class T extends j.Ds{constructor(C,M){super(C),this.project=M,this.index=0}_next(C){let M;const b=this.index++;try{M=this.project(C,b)}catch(L){return void this.destination.error(L)}this._innerSub(M)}_innerSub(C){const M=this.innerSubscription;M&&M.unsubscribe();const b=new j.IY(this),L=this.destination;L.add(b),this.innerSubscription=(0,j.ft)(C,b),this.innerSubscription!==b&&L.add(this.innerSubscription)}_complete(){const{innerSubscription:C}=this;(!C||C.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(C){this.destination.next(C)}}},1887:(F,w,v)=>{v.d(w,{q:()=>P});var o=v(4168);const j=(()=>{function C(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return C.prototype=Object.create(Error.prototype),C})();var H=v(172);function P(C){return M=>0===C?(0,H.c)():M.lift(new T(C))}class T{constructor(M){if(this.total=M,this.total<0)throw new j}call(M,b){return b.subscribe(new S(M,this.total))}}class S extends o.L{constructor(M,b){super(M),this.total=b,this.count=0}_next(M){const b=this.total,L=++this.count;L<=b&&(this.destination.next(M),L===b&&(this.destination.complete(),this.unsubscribe()))}}},8805:(F,w,v)=>{v.d(w,{R:()=>N});var o=v(8345);function N(P){return T=>T.lift(new j(P))}class j{constructor(T){this.notifier=T}call(T,S){const C=new H(T),M=(0,o.ft)(this.notifier,new o.IY(C));return M&&!C.seenValue?(C.add(M),S.subscribe(C)):C}}class H extends o.Ds{constructor(T){super(T),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},9163:(F,w,v)=>{v.d(w,{V:()=>b});var o=v(8178);const j=(()=>{function L(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return L.prototype=Object.create(Error.prototype),L})();var P=v(8345);class S{constructor(O,B,se,W){this.waitFor=O,this.absoluteTimeout=B,this.withObservable=se,this.scheduler=W}call(O,B){return B.subscribe(new C(O,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class C extends P.Ds{constructor(O,B,se,W,z){super(O),this.absoluteTimeout=B,this.waitFor=se,this.withObservable=W,this.scheduler=z,this.scheduleTimeout()}static dispatchTimeout(O){const{withObservable:B}=O;O._unsubscribeAndRecycle(),O.add((0,P.ft)(B,new P.IY(O)))}scheduleTimeout(){const{action:O}=this;O?this.action=O.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(C.dispatchTimeout,this.waitFor,this))}_next(O){this.absoluteTimeout||this.scheduleTimeout(),super._next(O)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var M=v(540);function b(L,O=o.P){return function(L,O,B=o.P){return se=>{let W=function(L){return L instanceof Date&&!isNaN(+L)}(L),z=W?+L-B.now():Math.abs(L);return se.lift(new S(z,W,O,B))}}(L,(0,M._)(new j),O)}},5571:(F,w,v)=>{v.d(w,{M:()=>j});var o=v(5330),N=v(7974);function j(...T){return S=>{let C;return"function"==typeof T[T.length-1]&&(C=T.pop()),S.lift(new H(T,C))}}class H{constructor(S,C){this.observables=S,this.project=C}call(S,C){return C.subscribe(new P(S,this.observables,this.project))}}class P extends o.L{constructor(S,C,M){super(S),this.observables=C,this.project=M,this.toRespond=[];const b=C.length;this.values=new Array(b);for(let L=0;L<b;L++)this.toRespond.push(L);for(let L=0;L<b;L++)this.add((0,N.D)(this,C[L],void 0,L))}notifyNext(S,C,M){this.values[M]=C;const b=this.toRespond;if(b.length>0){const L=b.indexOf(M);-1!==L&&b.splice(L,1)}}notifyComplete(){}_next(S){if(0===this.toRespond.length){const C=[S,...this.values];this.project?this._tryProject(C):this.destination.next(C)}}_tryProject(S){let C;try{C=this.project.apply(this,S)}catch(M){return void this.destination.error(M)}this.destination.next(C)}}},3428:(F,w,v)=>{v.d(w,{r:()=>j});var o=v(5548),N=v(1346);function j(H,P){return new o.y(T=>{const S=new N.w;let C=0;return S.add(P.schedule(function(){C!==H.length?(T.next(H[C++]),T.closed||S.add(this.schedule())):T.complete()})),S})}},6339:(F,w,v)=>{v.d(w,{o:()=>j});var o=v(1346);class N extends o.w{constructor(P,T){super()}schedule(P,T=0){return this}}class j extends N{constructor(P,T){super(P,T),this.scheduler=P,this.work=T,this.pending=!1}schedule(P,T=0){if(this.closed)return this;this.state=P;const S=this.id,C=this.scheduler;return null!=S&&(this.id=this.recycleAsyncId(C,S,T)),this.pending=!0,this.delay=T,this.id=this.id||this.requestAsyncId(C,this.id,T),this}requestAsyncId(P,T,S=0){return setInterval(P.flush.bind(P,this),S)}recycleAsyncId(P,T,S=0){if(null!==S&&this.delay===S&&!1===this.pending)return T;clearInterval(T)}execute(P,T){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(P,T);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(P,T){let C,S=!1;try{this.work(P)}catch(M){S=!0,C=!!M&&M||new Error(M)}if(S)return this.unsubscribe(),C}_unsubscribe(){const P=this.id,T=this.scheduler,S=T.actions,C=S.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==C&&S.splice(C,1),null!=P&&(this.id=this.recycleAsyncId(T,P,null)),this.delay=null}}},5192:(F,w,v)=>{v.d(w,{v:()=>N});let o=(()=>{class j{constructor(P,T=j.now){this.SchedulerAction=P,this.now=T}schedule(P,T=0,S){return new this.SchedulerAction(this,P).schedule(S,T)}}return j.now=()=>Date.now(),j})();class N extends o{constructor(H,P=o.now){super(H,()=>N.delegate&&N.delegate!==this?N.delegate.now():P()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(H,P=0,T){return N.delegate&&N.delegate!==this?N.delegate.schedule(H,P,T):super.schedule(H,P,T)}flush(H){const{actions:P}=this;if(this.active)return void P.push(H);let T;this.active=!0;do{if(T=H.execute(H.state,H.delay))break}while(H=P.shift());if(this.active=!1,T){for(;H=P.shift();)H.unsubscribe();throw T}}}},8178:(F,w,v)=>{v.d(w,{P:()=>H});var o=v(6339);const H=new(v(5192).v)(o.o)},7575:(F,w,v)=>{v.d(w,{c:()=>T,N:()=>P});var o=v(6339),j=v(5192);const P=new class extends j.v{}(class extends o.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,b=0){return null!==b&&b>0||null===b&&this.delay>0?super.requestAsyncId(C,M,b):C.flush(this)}}),T=P},4352:(F,w,v)=>{v.d(w,{hZ:()=>N});const N="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(F,w,v)=>{v.d(w,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(F,w,v)=>{v.d(w,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},2108:(F,w,v)=>{v.d(w,{N:()=>N});const N=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},9887:(F,w,v)=>{function o(N){setTimeout(()=>{throw N},0)}v.d(w,{z:()=>o})},7255:(F,w,v)=>{function o(N){return N}v.d(w,{y:()=>o})},5894:(F,w,v)=>{v.d(w,{k:()=>o});const o=Array.isArray||(N=>N&&"number"==typeof N.length)},1265:(F,w,v)=>{v.d(w,{z:()=>o});const o=N=>N&&"number"==typeof N.length&&"function"!=typeof N},6783:(F,w,v)=>{function o(N){return"function"==typeof N}v.d(w,{m:()=>o})},7879:(F,w,v)=>{function o(N){return null!==N&&"object"==typeof N}v.d(w,{K:()=>o})},847:(F,w,v)=>{function o(N){return!!N&&"function"!=typeof N.subscribe&&"function"==typeof N.then}v.d(w,{t:()=>o})},8151:(F,w,v)=>{function o(N){return N&&"function"==typeof N.schedule}v.d(w,{K:()=>o})},4651:(F,w,v)=>{v.d(w,{s:()=>L});var o=v(8769),N=v(9887),H=v(4352),T=v(1359),C=v(1265),M=v(847),b=v(7879);const L=O=>{if(O&&"function"==typeof O[T.L])return(O=>B=>{const se=O[T.L]();if("function"!=typeof se.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return se.subscribe(B)})(O);if((0,C.z)(O))return(0,o.V)(O);if((0,M.t)(O))return(O=>B=>(O.then(se=>{B.closed||(B.next(se),B.complete())},se=>B.error(se)).then(null,N.z),B))(O);if(O&&"function"==typeof O[H.hZ])return(O=>B=>{const se=O[H.hZ]();for(;;){let W;try{W=se.next()}catch(z){return B.error(z),B}if(W.done){B.complete();break}if(B.next(W.value),B.closed)break}return"function"==typeof se.return&&B.add(()=>{se.return&&se.return()}),B})(O);{const se=`You provided ${(0,b.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(se)}}},8769:(F,w,v)=>{v.d(w,{V:()=>o});const o=N=>j=>{for(let H=0,P=N.length;H<P&&!j.closed;H++)j.next(N[H]);j.complete()}},7974:(F,w,v)=>{v.d(w,{D:()=>P});var o=v(4168);class N extends o.L{constructor(S,C,M){super(),this.parent=S,this.outerValue=C,this.outerIndex=M,this.index=0}_next(S){this.parent.notifyNext(this.outerValue,S,this.outerIndex,this.index++,this)}_error(S){this.parent.notifyError(S,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var j=v(4651),H=v(5548);function P(T,S,C,M,b=new N(T,C,M)){if(!b.closed)return S instanceof H.y?S.subscribe(b):(0,j.s)(S)(b)}},3668:(F,w,v)=>{v.d(w,{AFp:()=>HD,ip1:()=>zm,CZH:()=>hc,hGG:()=>_A,sBO:()=>Z0,_Vd:()=>Hl,EJc:()=>ZD,SBq:()=>$l,qLn:()=>hn,vpe:()=>zr,tBr:()=>vt,OlP:()=>_t,zs3:()=>bn,ZZ4:()=>Ph,aQg:()=>Oh,soG:()=>Th,h0i:()=>dc,R0b:()=>Gn,FiY:()=>gr,Lbi:()=>GD,g9A:()=>$D,Qsj:()=>uE,FYo:()=>nD,JOm:()=>Xn,PiD:()=>Jc,tp0:()=>Yi,Rgc:()=>Yl,dDg:()=>KD,GfV:()=>rD,s_b:()=>Ah,ifc:()=>he,eFA:()=>JD,G48:()=>G0,Gpc:()=>L,X6Q:()=>$0,_c5:()=>uA,VLi:()=>R0,zSh:()=>ja,wAp:()=>ye,vHH:()=>W,cg1:()=>Bl,kL8:()=>_h,dqk:()=>ze,sIi:()=>_o,CqO:()=>Op,QGY:()=>Ml,F4k:()=>Tl,RDi:()=>Fy,AaK:()=>C,qOj:()=>ul,TTD:()=>No,_Bn:()=>Xv,xp6:()=>Fu,uIk:()=>mo,ekj:()=>Rl,Xpm:()=>Pi,lG2:()=>Zs,Yz7:()=>yt,cJS:()=>Ot,oAB:()=>ei,Yjl:()=>xi,Y36:()=>Fs,_UZ:()=>Ip,qZA:()=>Ja,TgZ:()=>Al,EpF:()=>wl,n5z:()=>Ve,LFG:()=>St,$8M:()=>jo,NdJ:()=>ec,oxw:()=>Np,ALo:()=>gD,lcZ:()=>_D,Q6J:()=>El,WLB:()=>uD,CHM:()=>Lo,YNc:()=>fl,_uU:()=>Xp,Oqu:()=>Ll,hij:()=>oc,AsE:()=>kl});var o=v(3405),N=v(1346),j=v(5548),H=v(3894),P=v(3005);function T(e){for(let t in e)if(e[t]===T)return t;throw Error("Could not find renamed property on target object.")}function S(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function C(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(C).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function M(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const b=T({__forward_ref__:T});function L(e){return e.__forward_ref__=L,e.toString=function(){return C(this())},e}function O(e){return B(e)?e():e}function B(e){return"function"==typeof e&&e.hasOwnProperty(b)&&e.__forward_ref__===L}class W extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function V(e){return"string"==typeof e?e:null==e?"":String(e)}function q(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():V(e)}function Nt(e,t){const n=t?` in ${t}`:"";throw new W("201",`No provider for ${q(e)} found${n}`)}function Ut(e,t){null==e&&function(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function yt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function Tn(e){return Io(e,Qr)||Io(e,Jr)}function Io(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ti(e){return e&&(e.hasOwnProperty(Ii)||e.hasOwnProperty(So))?e[Ii]:null}const Qr=T({\u0275prov:T}),Ii=T({\u0275inj:T}),Jr=T({ngInjectableDef:T}),So=T({ngInjectorDef:T});var Ie=(()=>((Ie=Ie||{})[Ie.Default=0]="Default",Ie[Ie.Host=1]="Host",Ie[Ie.Self=2]="Self",Ie[Ie.SkipSelf=4]="SkipSelf",Ie[Ie.Optional=8]="Optional",Ie))();let Tt;function un(e){const t=Tt;return Tt=e,t}function Us(e,t,n){const s=Tn(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&Ie.Optional?null:void 0!==t?t:void Nt(C(e),"Injector")}function In(e){return{toString:e}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),he=(()=>{return(e=he||(he={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",he;var e})();const we="undefined"!=typeof globalThis&&globalThis,js="undefined"!=typeof window&&window,Or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ze=we||"undefined"!=typeof global&&global||js||Or,et={},Ye=[],je=T({\u0275cmp:T}),Oo=T({\u0275dir:T}),ar=T({\u0275pipe:T}),Si=T({\u0275mod:T}),rn=T({\u0275fac:T}),Xr=T({__NG_ELEMENT_ID__:T});let xo=0;function Pi(e){return In(()=>{const n={},s={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ye,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||he.Emulated,id:"c",styles:e.styles||Ye,_:null,setInput:null,schemas:e.schemas||null,tView:null},c=e.directives,l=e.features,d=e.pipes;return s.id+=xo++,s.inputs=Gs(e.inputs,n),s.outputs=Gs(e.outputs),l&&l.forEach(p=>p(s)),s.directiveDefs=c?()=>("function"==typeof c?c():c).map(xr):null,s.pipeDefs=d?()=>("function"==typeof d?d():d).map(Hs):null,s})}function xr(e){return Lt(e)||function(e){return e[Oo]||null}(e)}function Hs(e){return function(e){return e[ar]||null}(e)}const $s={};function ei(e){return In(()=>{const t={type:e.type,bootstrap:e.bootstrap||Ye,declarations:e.declarations||Ye,imports:e.imports||Ye,exports:e.exports||Ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&($s[e.id]=e.type),t})}function Gs(e,t){if(null==e)return et;const n={};for(const s in e)if(e.hasOwnProperty(s)){let c=e[s],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),n[c]=s,t&&(t[c]=l)}return n}const Zs=Pi;function xi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Lt(e){return e[je]||null}function Ft(e,t){const n=e[Si]||null;if(!n&&!0===t)throw new Error(`Type ${C(e)} does not have '\u0275mod' property.`);return n}const k=10;function Q(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ee(e){return Array.isArray(e)&&!0===e[1]}function At(e){return 0!=(8&e.flags)}function tt(e){return 2==(2&e.flags)}function kt(e){return 1==(1&e.flags)}function xe(e){return null!==e.template}function fn(e){return 0!=(512&e[2])}function ni(e,t){return e.hasOwnProperty(rn)?e[rn]:null}class vc{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function No(){return td}function td(e){return e.type.prototype.ngOnChanges&&(e.setInput=nd),Oy}function Oy(){const e=rd(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===et)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function nd(e,t,n,s){const c=rd(e)||function(e,t){return e[Dc]=t}(e,{previous:et,current:null}),l=c.current||(c.current={}),d=c.previous,p=this.declaredInputs[n],h=d[p];l[p]=new vc(h&&h.currentValue,t,d===et),e[s]=t}No.ngInherit=!0;const Dc="__ngSimpleChanges__";function rd(e){return e[Dc]||null}let id;function Fy(e){id=e}function pt(e){return!!e.listen}const Bh={createRenderer:(e,t)=>void 0!==id?id:"undefined"!=typeof document?document:void 0};function bt(e){for(;Array.isArray(e);)e=e[0];return e}function zs(e,t){return bt(t[e])}function qt(e,t){return bt(t[e.index])}function Qs(e,t){return e.data[t]}function pn(e,t){const n=t[e];return Q(n)?n:n[0]}function Ac(e){return 128==(128&e[2])}function Fn(e,t){return null==t?null:e[t]}function bc(e){e[18]=0}function ea(e,t){e[5]+=t;let n=e,s=e[3];for(;null!==s&&(1===t&&1===n[5]||-1===t&&0===n[5]);)s[5]+=t,n=s,s=s[3]}const De={lFrame:ld(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tc(){return De.bindingsEnabled}function Y(){return De.lFrame.lView}function ke(){return De.lFrame.tView}function Lo(e){return De.lFrame.contextLView=e,e[8]}function wt(){let e=Wh();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wh(){return De.lFrame.currentTNode}function vn(e,t){const n=De.lFrame;n.currentTNode=e,n.isParent=t}function Ic(){return De.lFrame.isParent}function na(){return De.isInCheckNoChangesMode}function ko(e){De.isInCheckNoChangesMode=e}function Kt(){const e=De.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Li(){return De.lFrame.bindingIndex++}function dr(e){const t=De.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Kh(e,t){const n=De.lFrame;n.bindingIndex=n.bindingRootIndex=e,Pc(t)}function Pc(e){De.lFrame.currentDirectiveIndex=e}function xc(e){De.lFrame.currentQueryIndex=e}function Ny(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ud(e,t,n){if(n&Ie.SkipSelf){let c=t,l=e;for(;!(c=c.parent,null!==c||n&Ie.Host||(c=Ny(l),null===c||(l=l[15],10&c.type))););if(null===c)return!1;t=c,e=l}const s=De.lFrame=Qh();return s.currentTNode=t,s.lView=e,!0}function Fc(e){const t=Qh(),n=e[1];De.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Qh(){const e=De.lFrame,t=null===e?null:e.child;return null===t?ld(e):t}function ld(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dd(){const e=De.lFrame;return De.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const fd=dd;function Rc(){const e=dd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ht(){return De.lFrame.selectedIndex}function Nr(e){De.lFrame.selectedIndex=e}function gt(){const e=De.lFrame;return Qs(e.tView,e.selectedIndex)}function Lc(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:p,ngAfterViewInit:h,ngAfterViewChecked:g,ngOnDestroy:y}=l;d&&(e.contentHooks||(e.contentHooks=[])).push(-n,d),p&&((e.contentHooks||(e.contentHooks=[])).push(n,p),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,p)),h&&(e.viewHooks||(e.viewHooks=[])).push(-n,h),g&&((e.viewHooks||(e.viewHooks=[])).push(n,g),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,g)),null!=y&&(e.destroyHooks||(e.destroyHooks=[])).push(n,y)}}function ra(e,t,n){Xh(e,t,3,n)}function kc(e,t,n,s){(3&e[2])===n&&Xh(e,t,n,s)}function gd(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Xh(e,t,n,s){const l=null!=s?s:-1,d=t.length-1;let p=0;for(let h=void 0!==s?65535&e[18]:0;h<d;h++)if("number"==typeof t[h+1]){if(p=t[h],null!=s&&p>=s)break}else t[h]<0&&(e[18]+=65536),(p<l||-1==l)&&(eg(e,n,t,h),e[18]=(4294901760&e[18])+h+2),h++}function eg(e,t,n,s){const c=n[s]<0,l=n[s+1],p=e[c?-n[s]:n[s]];if(c){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{l.call(p)}finally{}}}else try{l.call(p)}finally{}}class ia{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function m(e,t,n){const s=pt(e);let c=0;for(;c<n.length;){const l=n[c];if("number"==typeof l){if(0!==l)break;c++;const d=n[c++],p=n[c++],h=n[c++];s?e.setAttribute(t,p,h,d):t.setAttributeNS(d,p,h)}else{const d=l,p=n[++c];ki(d)?s&&e.setProperty(t,d,p):s?e.setAttribute(t,d,p):t.setAttribute(d,p),c++}}return c}function Vc(e){return 3===e||4===e||6===e}function ki(e){return 64===e.charCodeAt(0)}function Vi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const c=t[s];"number"==typeof c?n=c:0===n||Ui(e,n,c,null,-1===n||2===n?t[++s]:null)}}return e}function Ui(e,t,n,s,c){let l=0,d=e.length;if(-1===t)d=-1;else for(;l<e.length;){const p=e[l++];if("number"==typeof p){if(p===t){d=-1;break}if(p>t){d=l-1;break}}}for(;l<e.length;){const p=e[l];if("number"==typeof p)break;if(p===n){if(null===s)return void(null!==c&&(e[l+1]=c));if(s===e[l+1])return void(e[l+2]=c)}l++,null!==s&&l++,null!==c&&l++}-1!==d&&(e.splice(d,0,t),l=d+1),e.splice(l++,0,n),null!==s&&e.splice(l++,0,s),null!==c&&e.splice(l++,0,c)}function md(e){return-1!==e}function Bi(e){return 32767&e}function Lr(e,t){let n=function(e){return e>>16}(e),s=t;for(;n>0;)s=s[15],n--;return s}let Uc=!0;function sa(e){const t=Uc;return Uc=e,t}let Dn=0;function oi(e,t){const n=jc(e,t);if(-1!==n)return n;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,Bc(s.data,e),Bc(t,null),Bc(s.blueprint,null));const c=aa(e,t),l=e.injectorIndex;if(md(c)){const d=Bi(c),p=Lr(c,t),h=p[1].data;for(let g=0;g<8;g++)t[l+g]=p[d+g]|h[d+g]}return t[l+8]=c,l}function Bc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function jc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function aa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,c=t;for(;null!==c;){const l=c[1],d=l.type;if(s=2===d?l.declTNode:1===d?c[6]:null,null===s)return-1;if(n++,c=c[15],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return-1}function Vo(e,t,n){!function(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(Xr)&&(s=n[Xr]),null==s&&(s=n[Xr]=Dn++);const c=255&s;t.data[e+(c>>5)]|=1<<c}(e,t,n)}function Uo(e,t,n){if(n&Ie.Optional)return e;Nt(t,"NodeInjector")}function ca(e,t,n,s){if(n&Ie.Optional&&void 0===s&&(s=null),0==(n&(Ie.Self|Ie.Host))){const c=e[9],l=un(void 0);try{return c?c.get(t,s,n&Ie.Optional):Us(t,s,n&Ie.Optional)}finally{un(l)}}return Uo(s,t,n)}function ua(e,t,n,s=Ie.Default,c){if(null!==e){const l=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xr)?e[Xr]:void 0;return"number"==typeof t?t>=0?255&t:rg:t}(n);if("function"==typeof l){if(!ud(t,e,s))return s&Ie.Host?Uo(c,n,s):ca(t,n,s,c);try{const d=l(s);if(null!=d||s&Ie.Optional)return d;Nt(n)}finally{fd()}}else if("number"==typeof l){let d=null,p=jc(e,t),h=-1,g=s&Ie.Host?t[16][6]:null;for((-1===p||s&Ie.SkipSelf)&&(h=-1===p?aa(e,t):t[p+8],-1!==h&&$c(s,!1)?(d=t[1],p=Bi(h),t=Lr(h,t)):p=-1);-1!==p;){const y=t[1];if(Rt(l,p,y.data)){const D=ig(p,t,n,d,s,g);if(D!==Hc)return D}h=t[p+8],-1!==h&&$c(s,t[1].data[p+8]===g)&&Rt(l,p,t)?(d=y,p=Bi(h),t=Lr(h,t)):p=-1}}}return ca(t,n,s,c)}const Hc={};function rg(){return new fr(wt(),Y())}function ig(e,t,n,s,c,l){const d=t[1],p=d.data[e+8],y=function(e,t,n,s,c){const l=e.providerIndexes,d=t.data,p=1048575&l,h=e.directiveStart,y=l>>20,I=c?p+y:e.directiveEnd;for(let R=s?p:p+y;R<I;R++){const G=d[R];if(R<h&&n===G||R>=h&&G.type===n)return R}if(c){const R=d[h];if(R&&xe(R)&&R.type===n)return h}return null}(p,d,n,null==s?tt(p)&&Uc:s!=d&&0!=(3&p.type),c&Ie.Host&&l===p);return null!==y?Bo(t,d,y,p):Hc}function Bo(e,t,n,s){let c=e[n];const l=t.data;if(function(e){return e instanceof ia}(c)){const d=c;d.resolving&&function(e,t){throw new W("200",`Circular dependency in DI detected for ${e}`)}(q(l[n]));const p=sa(d.canSeeViewProviders);d.resolving=!0;const h=d.injectImpl?un(d.injectImpl):null;ud(e,s,Ie.Default);try{c=e[n]=d.factory(void 0,l,e,s),t.firstCreatePass&&n>=s.directiveStart&&function(e,t,n){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:l}=t.type.prototype;if(s){const d=td(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d)}c&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,c),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}(n,l[n],t)}finally{null!==h&&un(h),sa(p),d.resolving=!1,fd()}}return c}function Rt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function $c(e,t){return!(e&Ie.Self||e&Ie.Host&&t)}class fr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return ua(this._tNode,this._lView,t,s,n)}}function Ve(e){return In(()=>{const t=e.prototype.constructor,n=t[rn]||Gc(t),s=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==s;){const l=c[rn]||Gc(c);if(l&&l!==n)return l;c=Object.getPrototypeOf(c)}return l=>new l})}function Gc(e){return B(e)?()=>{const t=Gc(O(e));return t&&t()}:ni(e)}function jo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const s=n.length;let c=0;for(;c<s;){const l=n[c];if(Vc(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<s&&"string"==typeof n[c];)c++;else{if(l===t)return n[c+1];c+=2}}}return null}(wt(),e)}const Ho="__parameters__";function $i(e,t,n){return In(()=>{const s=function(e){return function(...n){if(e){const s=e(...n);for(const c in s)this[c]=s[c]}}}(t);function c(...l){if(this instanceof c)return s.apply(this,l),this;const d=new c(...l);return p.annotation=d,p;function p(h,g,y){const D=h.hasOwnProperty(Ho)?h[Ho]:Object.defineProperty(h,Ho,{value:[]})[Ho];for(;D.length<=y;)D.push(null);return(D[y]=D[y]||[]).push(d),h}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}class _t{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=yt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Rn(e,t){e.forEach(n=>Array.isArray(n)?Rn(n,t):t(n))}function Zo(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Gi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zt(e,t,n){let s=Wo(e,t);return s>=0?e[1|s]=n:(s=~s,function(e,t,n,s){let c=e.length;if(c==t)e.push(n,s);else if(1===c)e.push(s,e[0]),e[0]=n;else{for(c--,e.push(e[c-1],e[c]);c>t;)e[c]=e[c-2],c--;e[t]=n,e[t+1]=s}}(e,s,t,n)),s}function da(e,t){const n=Wo(e,t);if(n>=0)return e[1|n]}function Wo(e,t){return function(e,t,n){let s=0,c=e.length>>n;for(;c!==s;){const l=s+(c-s>>1),d=e[l<<n];if(t===d)return l<<n;d>t?c=l:s=l+1}return~(c<<n)}(e,t,1)}const Nn={},Md="__NG_DI_FLAG__",Kc="ngTempTokenPath",ev=/\n/gm,Wi="__source",qo=T({provide:String,useValue:T});let Ko;function fg(e){const t=Ko;return Ko=e,t}function Id(e,t=Ie.Default){if(void 0===Ko)throw new Error("inject() must be called from an injection context");return null===Ko?Us(e,void 0,t):Ko.get(e,t&Ie.Optional?null:void 0,t)}function St(e,t=Ie.Default){return(Tt||Id)(O(e),t)}function Qc(e){const t=[];for(let n=0;n<e.length;n++){const s=O(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let c,l=Ie.Default;for(let d=0;d<s.length;d++){const p=s[d],h=hg(p);"number"==typeof h?-1===h?c=p.token:l|=h:c=p}t.push(St(c,l))}else t.push(St(s))}return t}function zo(e,t){return e[Md]=t,e.prototype[Md]=t,e}function hg(e){return e[Md]}const vt=zo($i("Inject",e=>({token:e})),-1),gr=zo($i("Optional"),8),Jc=zo($i("Self"),2),Yi=zo($i("SkipSelf"),4);const cu="__ngContext__";function at(e,t){e[cu]=t}function mr(e){const t=function(e){return e[cu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Aa(e){return e.ngOriginalError}function vr(e,...t){e.error(...t)}class hn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),s=(e=t)&&e.ngErrorLogger||vr;var e;s(this._console,"ERROR",t),n&&s(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Aa(t);for(;n&&Aa(n);)n=Aa(n);return n||null}}const gu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ze))();function Jn(e){return e instanceof Function?e():e}var Xn=(()=>((Xn=Xn||{})[Xn.Important=1]="Important",Xn[Xn.DashCase=2]="DashCase",Xn))();function ba(e,t){return undefined(e,t)}function Xi(e){const t=e[3];return Ee(t)?t[3]:t}function wa(e){return zd(e[13])}function mu(e){return zd(e[4])}function zd(e){for(;null!==e&&!Ee(e);)e=e[4];return e}function eo(e,t,n,s,c){if(null!=s){let l,d=!1;Ee(s)?l=s:Q(s)&&(d=!0,s=s[0]);const p=bt(s);0===e&&null!==n?null==c?Eu(t,n,p):Cr(t,n,p,c||null,!0):1===e&&null!==n?Cr(t,n,p,c||null,!0):2===e?function(e,t,n){const s=cs(e,t);s&&function(e,t,n,s){pt(e)?e.removeChild(t,n,s):t.removeChild(n)}(e,s,t,n)}(t,p,d):3===e&&t.destroyNode(p),null!=l&&function(e,t,n,s,c){const l=n[7];l!==bt(n)&&eo(t,e,s,l,c);for(let p=k;p<n.length;p++){const h=n[p];ls(h[1],h,e,t,s,l)}}(t,e,l,n,c)}}function vu(e,t,n){return pt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ma(e,t){const n=e[9],s=n.indexOf(t),c=t[3];1024&t[2]&&(t[2]&=-1025,ea(c,-1)),n.splice(s,1)}function Du(e,t){if(e.length<=k)return;const n=k+t,s=e[n];if(s){const c=s[17];null!==c&&c!==e&&Ma(c,s),t>0&&(e[n-1][4]=s[4]);const l=Gi(e,k+t);!function(e,t){ls(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const d=l[19];null!==d&&d.detachView(l[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function rf(e,t){if(!(256&t[2])){const n=t[11];pt(n)&&n.destroyNode&&ls(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Cu(e[1],e);for(;t;){let n=null;if(Q(t))n=t[13];else{const s=t[k];s&&(n=s)}if(!n){for(;t&&!t[4]&&t!==e;)Q(t)&&Cu(t[1],t),t=t[3];null===t&&(t=e),Q(t)&&Cu(t[1],t),n=t&&t[4]}t=n}}(t)}}function Cu(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const c=t[n[s]];if(!(c instanceof ia)){const l=n[s+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){const p=c[l[d]],h=l[d+1];try{h.call(p)}finally{}}else try{l.call(c)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,s=t[7];let c=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const d=n[l+1],p="function"==typeof d?d(t):bt(t[d]),h=s[c=n[l+2]],g=n[l+3];"boolean"==typeof g?p.removeEventListener(n[l],h,g):g>=0?s[c=g]():s[c=-g].unsubscribe(),l+=2}else{const d=s[c=n[l+1]];n[l].call(d)}if(null!==s){for(let l=c+1;l<s.length;l++)s[l]();t[7]=null}}(e,t),1===t[1].type&&pt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ee(t[3])){n!==t[3]&&Ma(n,t);const s=t[19];null!==s&&s.detachView(e)}}}function Ta(e,t,n){return function(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[0];if(2&s.flags){const c=e.data[s.directiveStart].encapsulation;if(c===he.None||c===he.Emulated)return null}return qt(s,n)}(e,t.parent,n)}function Cr(e,t,n,s,c){pt(e)?e.insertBefore(t,n,s,c):t.insertBefore(n,s,c)}function Eu(e,t,n){pt(e)?e.appendChild(t,n):t.appendChild(n)}function Au(e,t,n,s,c){null!==s?Cr(e,t,n,s,c):Eu(e,t,n)}function cs(e,t){return pt(e)?e.parentNode(t):t.parentNode}let cf=function(e,t,n){return 40&e.type?qt(e,n):null};function Mu(e,t,n,s){const c=Ta(e,s,t),l=t[11],p=function(e,t,n){return cf(e,t,n)}(s.parent||t[6],s,t);if(null!=c)if(Array.isArray(n))for(let h=0;h<n.length;h++)Au(l,c,n[h],p,!1);else Au(l,c,n,p,!1)}function us(e,t){if(null!==t){const n=t.type;if(3&n)return qt(t,e);if(4&n)return lf(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return us(e,s);{const c=e[t.index];return Ee(c)?lf(-1,c):bt(c)}}if(32&n)return ba(t,e)()||bt(e[t.index]);{const s=er(e,t);return null!==s?Array.isArray(s)?s[0]:us(Xi(e[16]),s):us(e,t.next)}}return null}function er(e,t){return null!==t?e[16][6].projection[t.projection]:null}function lf(e,t){const n=k+e+1;if(n<t.length){const s=t[n],c=s[1].firstChild;if(null!==c)return us(s,c)}return t[7]}function to(e,t,n,s,c,l,d){for(;null!=n;){const p=s[n.index],h=n.type;if(d&&0===t&&(p&&at(bt(p),s),n.flags|=4),64!=(64&n.flags))if(8&h)to(e,t,n.child,s,c,l,!1),eo(t,e,c,p,l);else if(32&h){const g=ba(n,s);let y;for(;y=g();)eo(t,e,c,y,l);eo(t,e,c,p,l)}else 16&h?df(e,t,s,n,c,l):eo(t,e,c,p,l);n=d?n.projectionNext:n.next}}function ls(e,t,n,s,c,l){to(n,s,e.firstChild,t,c,l,!1)}function df(e,t,n,s,c,l){const d=n[16],h=d[6].projection[s.projection];if(Array.isArray(h))for(let g=0;g<h.length;g++)eo(t,e,c,h[g],l);else to(e,t,h,d[3],c,l,!0)}function Iu(e,t,n){pt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Hr(e,t,n){pt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function pf(e,t,n){let s=e.length;for(;;){const c=e.indexOf(t,n);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const l=t.length;if(c+l===s||e.charCodeAt(c+l)<=32)return c}n=c+1}}const no="ng-template";function jg(e,t,n){let s=0;for(;s<e.length;){let c=e[s++];if(n&&"class"===c){if(c=e[s],-1!==pf(c.toLowerCase(),t,0))return!0}else if(1===c){for(;s<e.length&&"string"==typeof(c=e[s++]);)if(c.toLowerCase()===t)return!0;return!1}}return!1}function hf(e){return 4===e.type&&e.value!==no}function Hg(e,t,n){return t===(4!==e.type||n?e.value:no)}function dv(e,t,n){let s=4;const c=e.attrs||[],l=function(e){for(let t=0;t<e.length;t++)if(Vc(e[t]))return t;return e.length}(c);let d=!1;for(let p=0;p<t.length;p++){const h=t[p];if("number"!=typeof h){if(!d)if(4&s){if(s=2|1&s,""!==h&&!Hg(e,h,n)||""===h&&1===t.length){if(Vn(s))return!1;d=!0}}else{const g=8&s?h:t[++p];if(8&s&&null!==e.attrs){if(!jg(e.attrs,g,n)){if(Vn(s))return!1;d=!0}continue}const D=$g(8&s?"class":h,c,hf(e),n);if(-1===D){if(Vn(s))return!1;d=!0;continue}if(""!==g){let I;I=D>l?"":c[D+1].toLowerCase();const R=8&s?I:null;if(R&&-1!==pf(R,g,0)||2&s&&g!==I){if(Vn(s))return!1;d=!0}}}}else{if(!d&&!Vn(s)&&!Vn(h))return!1;if(d&&Vn(h))continue;d=!1,s=h|1&s}}return Vn(s)||d}function Vn(e){return 0==(1&e)}function $g(e,t,n,s){if(null===t)return-1;let c=0;if(s||!n){let l=!1;for(;c<t.length;){const d=t[c];if(d===e)return c;if(3===d||6===d)l=!0;else{if(1===d||2===d){let p=t[++c];for(;"string"==typeof p;)p=t[++c];continue}if(4===d)break;if(0===d){c+=4;continue}}c+=l?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function gf(e,t,n=!1){for(let s=0;s<t.length;s++)if(dv(e,t[s],n))return!0;return!1}function xu(e,t){return e?":not("+t.trim()+")":t}function _f(e){let t=e[0],n=1,s=2,c="",l=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&s){const p=e[++n];c+="["+d+(p.length>0?'="'+p+'"':"")+"]"}else 8&s?c+="."+d:4&s&&(c+=" "+d);else""!==c&&!Vn(d)&&(t+=xu(l,c),c=""),s=d,l=l||!Vn(s);n++}return""!==c&&(t+=xu(l,c)),t}const be={};function Fu(e){vf(ke(),Y(),ht()+e,na())}function vf(e,t,n,s){if(!s)if(3==(3&t[2])){const l=e.preOrderCheckHooks;null!==l&&ra(t,l,n)}else{const l=e.preOrderHooks;null!==l&&kc(t,l,0,n)}Nr(n)}function _i(e,t){return e<<17|t<<2}function Jt(e){return e>>17&32767}function ds(e){return 2|e}function Er(e){return(131068&e)>>2}function Sa(e,t){return-131069&e|t<<2}function Nu(e){return 1|e}function Pf(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const c=n[s],l=n[s+1];if(-1!==l){const d=e.data[l];xc(c),d.contentQueries(2,t[l],l)}}}function mi(e,t,n,s,c,l,d,p,h,g){const y=t.blueprint.slice();return y[0]=c,y[2]=140|s,bc(y),y[3]=y[15]=e,y[8]=n,y[10]=d||e&&e[10],y[11]=p||e&&e[11],y[12]=h||e&&e[12]||null,y[9]=g||e&&e[9]||null,y[6]=l,y[16]=2==t.type?e[16]:y,y}function yi(e,t,n,s,c){let l=e.data[t];if(null===l)l=function(e,t,n,s,c){const l=Wh(),d=Ic(),h=e.data[t]=function(e,t,n,s,c,l){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?l:l&&l.parent,n,t,s,c);return null===e.firstChild&&(e.firstChild=h),null!==l&&(d?null==l.child&&null!==h.parent&&(l.child=h):null===l.next&&(l.next=h)),h}(e,t,n,s,c),De.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=n,l.value=s,l.attrs=c;const d=function(){const e=De.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===d?-1:d.injectorIndex}return vn(l,!0),l}function vi(e,t,n,s){if(0===n)return-1;const c=t.length;for(let l=0;l<n;l++)t.push(s),e.blueprint.push(s),e.data.push(null);return c}function ao(e,t,n){Fc(t);try{const s=e.viewQuery;null!==s&&qf(1,s,n);const c=e.template;null!==c&&$u(e,t,c,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Pf(e,t),e.staticViewQueries&&qf(2,e.viewQuery,n);const l=e.components;null!==l&&function(e,t){for(let n=0;n<t.length;n++)Gf(e,t[n])}(t,l)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,Rc()}}function Di(e,t,n,s){const c=t[2];if(256==(256&c))return;Fc(t);const l=na();try{bc(t),function(e){De.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&$u(e,t,n,2,s);const d=3==(3&c);if(!l)if(d){const g=e.preOrderCheckHooks;null!==g&&ra(t,g,null)}else{const g=e.preOrderHooks;null!==g&&kc(t,g,0,null),gd(t,0)}if(function(e){for(let t=wa(e);null!==t;t=mu(t)){if(!t[2])continue;const n=t[9];for(let s=0;s<n.length;s++){const c=n[s],l=c[3];0==(1024&c[2])&&ea(l,1),c[2]|=1024}}}(t),function(e){for(let t=wa(e);null!==t;t=mu(t))for(let n=k;n<t.length;n++){const s=t[n],c=s[1];Ac(s)&&Di(c,s,c.template,s[8])}}(t),null!==e.contentQueries&&Pf(e,t),!l)if(d){const g=e.contentCheckHooks;null!==g&&ra(t,g)}else{const g=e.contentHooks;null!==g&&kc(t,g,1),gd(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const c=n[s];if(c<0)Nr(~c);else{const l=c,d=n[++s],p=n[++s];Kh(d,l),p(2,t[l])}}}finally{Nr(-1)}}(e,t);const p=e.components;null!==p&&function(e,t){for(let n=0;n<t.length;n++)Ku(e,t[n])}(t,p);const h=e.viewQuery;if(null!==h&&qf(2,h,s),!l)if(d){const g=e.viewCheckHooks;null!==g&&ra(t,g)}else{const g=e.viewHooks;null!==g&&kc(t,g,2),gd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ea(t[3],-1))}finally{Rc()}}function r_(e,t,n,s){const c=t[10],l=!na(),d=function(e){return 4==(4&e[2])}(t);try{l&&!d&&c.begin&&c.begin(),d&&ao(e,t,s),Di(e,t,n,s)}finally{l&&!d&&c.end&&c.end()}}function $u(e,t,n,s,c){const l=ht(),d=2&s;try{Nr(-1),d&&t.length>20&&vf(e,t,20,na()),n(s,c)}finally{Nr(l)}}function Ra(e,t,n){!Tc()||(function(e,t,n,s){const c=n.directiveStart,l=n.directiveEnd;e.firstCreatePass||oi(n,t),at(s,t);const d=n.initialInputs;for(let p=c;p<l;p++){const h=e.data[p],g=xe(h);g&&f_(t,n,h);const y=Bo(t,e,p,n);at(y,t),null!==d&&Dv(0,p-c,y,h,0,d),g&&(pn(n.index,t)[8]=y)}}(e,t,n,qt(n,t)),128==(128&n.flags)&&function(e,t,n){const s=n.directiveStart,c=n.directiveEnd,d=n.index,p=De.lFrame.currentDirectiveIndex;try{Nr(d);for(let h=s;h<c;h++){const g=e.data[h],y=t[h];Pc(h),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&jf(g,y)}}finally{Nr(-1),Pc(p)}}(e,t,n))}function Zu(e,t,n=qt){const s=t.localNames;if(null!==s){let c=t.index+1;for(let l=0;l<s.length;l+=2){const d=s[l+1],p=-1===d?n(t,e):e[d];e[c++]=p}}}function Of(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ps(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ps(e,t,n,s,c,l,d,p,h,g){const y=20+s,D=y+c,I=function(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:be);return n}(y,D),R="function"==typeof g?g():g;return I[1]={type:e,blueprint:I,template:n,queries:null,viewQuery:p,declTNode:t,data:I.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:h,consts:R,incompleteFirstPass:!1}}function Rf(e,t,n){for(let s in e)if(e.hasOwnProperty(s)){const c=e[s];(n=null===n?{}:n).hasOwnProperty(s)?n[s].push(t,c):n[s]=[t,c]}return n}function La(e,t,n,s){let c=!1;if(Tc()){const l=function(e,t,n){const s=e.directiveRegistry;let c=null;if(s)for(let l=0;l<s.length;l++){const d=s[l];gf(n,d.selectors,!1)&&(c||(c=[]),Vo(oi(n,t),e,d.type),xe(d)?(Wu(e,n),c.unshift(d)):c.push(d))}return c}(e,t,n),d=null===s?null:{"":-1};if(null!==l){c=!0,Hf(n,e.data.length,l.length);for(let y=0;y<l.length;y++){const D=l[y];D.providersResolver&&D.providersResolver(D)}let p=!1,h=!1,g=vi(e,t,l.length,null);for(let y=0;y<l.length;y++){const D=l[y];n.mergedAttrs=Vi(n.mergedAttrs,D.hostAttrs),lo(e,n,t,g,D),d_(g,D,d),null!==D.contentQueries&&(n.flags|=8),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(n.flags|=128);const I=D.type.prototype;!p&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),p=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),h=!0),g++}!function(e,t){const s=t.directiveEnd,c=e.data,l=t.attrs,d=[];let p=null,h=null;for(let g=t.directiveStart;g<s;g++){const y=c[g],D=y.inputs,I=null===l||hf(t)?null:p_(D,l);d.push(I),p=Rf(D,g,p),h=Rf(y.outputs,g,h)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=16),p.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=d,t.inputs=p,t.outputs=h}(e,n)}d&&function(e,t,n){if(t){const s=e.localNames=[];for(let c=0;c<t.length;c+=2){const l=n[t[c+1]];if(null==l)throw new W("301",`Export of name '${t[c+1]}' not found!`);s.push(t[c],l)}}}(n,s,d)}return n.mergedAttrs=Vi(n.mergedAttrs,n.attrs),c}function Vf(e,t,n,s,c,l){const d=l.hostBindings;if(d){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const h=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=h&&p.push(h),p.push(s,c,d)}}function jf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Wu(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function d_(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;xe(t)&&(n[""]=e)}}function Hf(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function lo(e,t,n,s,c){e.data[s]=c;const l=c.factory||(c.factory=ni(c.type)),d=new ia(l,xe(c),null);e.blueprint[s]=d,n[s]=d,Vf(e,t,0,s,vi(e,n,c.hostVars,be),c)}function f_(e,t,n){const s=qt(t,e),c=Of(n),l=e[10],d=_s(e,mi(e,c,null,n.onPush?64:16,s,t,l,l.createRenderer(s,n),null,null));e[t.index]=d}function nr(e,t,n,s,c,l){const d=qt(e,t);!function(e,t,n,s,c,l,d){if(null==l)pt(e)?e.removeAttribute(t,c,n):t.removeAttribute(c);else{const p=null==d?V(l):d(l,s||"",c);pt(e)?e.setAttribute(t,c,p,n):n?t.setAttributeNS(n,c,p):t.setAttribute(c,p)}}(t[11],d,l,e.value,n,s,c)}function Dv(e,t,n,s,c,l){const d=l[t];if(null!==d){const p=s.setInput;for(let h=0;h<d.length;){const g=d[h++],y=d[h++],D=d[h++];null!==p?s.setInput(n,D,g,y):n[y]=D}}}function p_(e,t){let n=null,s=0;for(;s<t.length;){const c=t[s];if(0!==c)if(5!==c){if("number"==typeof c)break;e.hasOwnProperty(c)&&(null===n&&(n=[]),n.push(c,e[c],t[s+1])),s+=2}else s+=2;else s+=4}return n}function $f(e,t,n,s){return new Array(e,!0,!1,t,null,0,s,n,null,null)}function Ku(e,t){const n=pn(t,e);if(Ac(n)){const s=n[1];80&n[2]?Di(s,n,s.template,n[8]):n[5]>0&&gs(n)}}function gs(e){for(let s=wa(e);null!==s;s=mu(s))for(let c=k;c<s.length;c++){const l=s[c];if(1024&l[2]){const d=l[1];Di(d,l,d.template,l[8])}else l[5]>0&&gs(l)}const n=e[1].components;if(null!==n)for(let s=0;s<n.length;s++){const c=pn(n[s],e);Ac(c)&&c[5]>0&&gs(c)}}function Gf(e,t){const n=pn(t,e),s=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(s,n),ao(s,n,n[8])}function _s(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ka(e){for(;e;){e[2]|=64;const t=Xi(e);if(fn(e)&&!t)return e;e=t}return null}function Ua(e,t,n){const s=t[10];s.begin&&s.begin();try{Di(e,t,e.template,n)}catch(c){throw Ju(t,c),c}finally{s.end&&s.end()}}function Yf(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],s=mr(n),c=s[1];r_(c,s,c.template,n)}}(e[8])}function qf(e,t,n){xc(0),t(e,n)}const zu=(()=>Promise.resolve(null))();function ys(e){return e[7]||(e[7]=[])}function Qu(e){return e.cleanup||(e.cleanup=[])}function Ju(e,t){const n=e[9],s=n?n.get(hn,null):null;s&&s.handleError(t)}function Ci(e,t,n,s,c){for(let l=0;l<n.length;){const d=n[l++],p=n[l++],h=t[d],g=e.data[d];null!==g.setInput?g.setInput(h,c,s,p):h[p]=c}}function wr(e,t,n){const s=zs(t,e);!function(e,t,n){pt(e)?e.setValue(t,n):t.textContent=n}(e[11],s,n)}function Ba(e,t,n){let s=n?e.styles:null,c=n?e.classes:null,l=0;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?l=p:1==l?c=M(c,p):2==l&&(s=M(s,p+": "+t[++d]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=c:e.classesWithoutHost=c}const Xu=new _t("INJECTOR",-1);class __{get(t,n=Nn){if(n===Nn){const s=new Error(`NullInjectorError: No provider for ${C(t)}!`);throw s.name="NullInjectorError",s}return n}}const ja=new _t("Set Injector scope."),Ds={},m_={};let el;function zf(){return void 0===el&&(el=new __),el}function Qf(e,t=null,n=null,s){const c=Ha(e,t,n,s);return c._resolveInjectorDefTypes(),c}function Ha(e,t=null,n=null,s){return new y_(e,n,t||zf(),s)}class y_{constructor(t,n,s,c=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];n&&Rn(n,p=>this.processProvider(p,t,n)),Rn([t],p=>this.processInjectorType(p,[],l)),this.records.set(Xu,Ei(void 0,this));const d=this.records.get(ja);this.scope=null!=d?d.value:null,this.source=c||("object"==typeof t?null:C(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Nn,s=Ie.Default){this.assertNotDestroyed();const c=fg(this),l=un(void 0);try{if(!(s&Ie.SkipSelf)){let p=this.records.get(t);if(void 0===p){const h=("function"==typeof(e=t)||"object"==typeof e&&e instanceof _t)&&Tn(t);p=h&&this.injectableDefInScope(h)?Ei($a(t),Ds):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(s&Ie.Self?zf():this.parent).get(t,n=s&Ie.Optional&&n===Nn?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Kc]=d[Kc]||[]).unshift(C(t)),c)throw d;return function(e,t,n,s){const c=e[Kc];throw t[Wi]&&c.unshift(t[Wi]),e.message=function(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let c=C(t);if(Array.isArray(t))c=t.map(C).join(" -> ");else if("object"==typeof t){let l=[];for(let d in t)if(t.hasOwnProperty(d)){let p=t[d];l.push(d+":"+("string"==typeof p?JSON.stringify(p):C(p)))}c=`{${l.join(", ")}}`}return`${n}${s?"("+s+")":""}[${c}]: ${e.replace(ev,"\n  ")}`}("\n"+e.message,c,n,s),e.ngTokenPath=c,e[Kc]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{un(l),fg(c)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((s,c)=>t.push(C(c))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,s){if(!(t=O(t)))return!1;let c=Ti(t);const l=null==c&&t.ngModule||void 0,d=void 0===l?t:l,p=-1!==s.indexOf(d);if(void 0!==l&&(c=Ti(l)),null==c)return!1;if(null!=c.imports&&!p){let y;s.push(d);try{Rn(c.imports,D=>{this.processInjectorType(D,n,s)&&(void 0===y&&(y=[]),y.push(D))})}finally{}if(void 0!==y)for(let D=0;D<y.length;D++){const{ngModule:I,providers:R}=y[D];Rn(R,G=>this.processProvider(G,I,R||Ye))}}this.injectorDefTypes.add(d);const h=ni(d)||(()=>new d);this.records.set(d,Ei(h,Ds));const g=c.providers;if(null!=g&&!p){const y=t;Rn(g,D=>this.processProvider(D,y,g))}return void 0!==l&&void 0!==t.providers}processProvider(t,n,s){let c=po(t=O(t))?t:O(t&&t.provide);const l=(e=t,Jf(e)?Ei(void 0,e.useValue):Ei(tl(e),Ds));var e;if(po(t)||!0!==t.multi)this.records.get(c);else{let d=this.records.get(c);d||(d=Ei(void 0,Ds,!0),d.factory=()=>Qc(d.multi),this.records.set(c,d)),c=t,d.multi.push(t)}this.records.set(c,l)}hydrate(t,n){return n.value===Ds&&(n.value=m_,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=O(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function $a(e){const t=Tn(e),n=null!==t?t.factory:ni(e);if(null!==n)return n;if(e instanceof _t)throw new Error(`Token ${C(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const s=function(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${C(e)}: (${s.join(", ")}).`)}const n=function(e){const t=e&&(e[Qr]||e[Jr]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function tl(e,t,n){let s;if(po(e)){const c=O(e);return ni(c)||$a(c)}if(Jf(e))s=()=>O(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...Qc(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))s=()=>St(O(e.useExisting));else{const c=O(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ni(c)||$a(c);s=()=>new c(...Qc(e.deps))}return s}function Ei(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Jf(e){return null!==e&&"object"==typeof e&&qo in e}function po(e){return"function"==typeof e}let bn=(()=>{class e{static create(n,s){var c;if(Array.isArray(n))return Qf({name:""},s,n,"");{const l=null!=(c=n.name)?c:"";return Qf({name:l},n.parent,n.providers,l)}}}return e.THROW_IF_NOT_FOUND=Nn,e.NULL=new __,e.\u0275prov=yt({token:e,providedIn:"any",factory:()=>St(Xu)}),e.__NG_ELEMENT_ID__=-1,e})();function sp(e,t){Lc(mr(e)[1],wt())}function ul(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const s=[e];for(;t;){let c;if(xe(e))c=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");c=t.\u0275dir}if(c){if(n){s.push(c);const d=e;d.inputs=Ga(e.inputs),d.declaredInputs=Ga(e.declaredInputs),d.outputs=Ga(e.outputs);const p=c.hostBindings;p&&dl(e,p);const h=c.viewQuery,g=c.contentQueries;if(h&&ll(e,h),g&&cp(e,g),S(e.inputs,c.inputs),S(e.declaredInputs,c.declaredInputs),S(e.outputs,c.outputs),xe(c)&&c.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(c.data.animation)}}const l=c.features;if(l)for(let d=0;d<l.length;d++){const p=l[d];p&&p.ngInherit&&p(e),p===ul&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let s=e.length-1;s>=0;s--){const c=e[s];c.hostVars=t+=c.hostVars,c.hostAttrs=Vi(c.hostAttrs,n=Vi(n,c.hostAttrs))}}(s)}function Ga(e){return e===et?{}:e===Ye?[]:e}function ll(e,t){const n=e.viewQuery;e.viewQuery=n?(s,c)=>{t(s,c),n(s,c)}:t}function cp(e,t){const n=e.contentQueries;e.contentQueries=n?(s,c,l)=>{t(s,c,l),n(s,c,l)}:t}function dl(e,t){const n=e.hostBindings;e.hostBindings=n?(s,c)=>{t(s,c),n(s,c)}:t}let go=null;function Tr(){if(!go){const e=ze.Symbol;if(e&&e.iterator)go=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const s=t[n];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(go=s)}}}return go}function _o(e){return!!ir(e)&&(Array.isArray(e)||!(e instanceof Map)&&Tr()in e)}function ir(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function jn(e,t,n){return e[t]=n}function tn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Wr(e,t,n,s){const c=tn(e,t,n);return tn(e,t+1,s)||c}function mo(e,t,n,s){const c=Y();return tn(c,Li(),t)&&(ke(),nr(gt(),c,e,t,n,s)),mo}function vo(e,t,n,s,c,l){const p=Wr(e,De.lFrame.bindingIndex,n,c);return dr(2),p?t+V(n)+s+V(c)+l:be}function fl(e,t,n,s,c,l,d,p){const h=Y(),g=ke(),y=e+20,D=g.firstCreatePass?function(e,t,n,s,c,l,d,p,h){const g=t.consts,y=yi(t,e,4,d||null,Fn(g,p));La(t,n,y,Fn(g,h)),Lc(t,y);const D=y.tViews=ps(2,y,s,c,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,g);return null!==t.queries&&(t.queries.template(t,y),D.queries=t.queries.embeddedTView(y)),y}(y,g,h,t,n,s,c,l,d):g.data[y];vn(D,!1);const I=h[11].createComment("");Mu(g,h,I,D),at(I,h),_s(h,h[y]=$f(I,h,I,D)),kt(D)&&Ra(g,h,D),null!=d&&Zu(h,D,p)}function Fs(e,t=Ie.Default){const n=Y();return null===n?St(e,t):ua(wt(),n,O(e),t)}function El(e,t,n){const s=Y();return tn(s,Li(),t)&&function(e,t,n,s,c,l,d,p){const h=qt(t,n);let y,g=t.inputs;!p&&null!=g&&(y=g[s])?(Ci(e,n,y,s,c),tt(t)&&function(e,t){const n=pn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(s=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),c=null!=d?d(c,t.value||"",s):c,pt(l)?l.setProperty(h,s,c):ki(s)||(h.setProperty?h.setProperty(s,c):h[s]=c))}(ke(),gt(),s,e,t,s[11],n,!1),El}function Qa(e,t,n,s,c){const d=c?"class":"style";Ci(e,n,t.inputs[d],d,s)}function Al(e,t,n,s){const c=Y(),l=ke(),d=20+e,p=c[11],h=c[d]=vu(p,t,De.lFrame.currentNamespace),g=l.firstCreatePass?function(e,t,n,s,c,l,d){const p=t.consts,g=yi(t,e,2,c,Fn(p,l));return La(t,n,g,Fn(p,d)),null!==g.attrs&&Ba(g,g.attrs,!1),null!==g.mergedAttrs&&Ba(g,g.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,g),g}(d,l,c,0,t,n,s):l.data[d];vn(g,!0);const y=g.mergedAttrs;null!==y&&m(p,h,y);const D=g.classes;null!==D&&Hr(p,h,D);const I=g.styles;null!==I&&Iu(p,h,I),64!=(64&g.flags)&&Mu(l,c,h,g),0===De.lFrame.elementDepthCount&&at(h,c),De.lFrame.elementDepthCount++,kt(g)&&(Ra(l,c,g),function(e,t,n){if(At(t)){const c=t.directiveEnd;for(let l=t.directiveStart;l<c;l++){const d=e.data[l];d.contentQueries&&d.contentQueries(1,n[l],l)}}}(l,g,c)),null!==s&&Zu(c,g)}function Ja(){let e=wt();Ic()?De.lFrame.isParent=!1:(e=e.parent,vn(e,!1));const t=e;De.lFrame.elementDepthCount--;const n=ke();n.firstCreatePass&&(Lc(n,e),At(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Qa(n,t,Y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Qa(n,t,Y(),t.stylesWithoutHost,!1)}function Ip(e,t,n,s){Al(e,t,n,s),Ja()}function wl(){return Y()}function Ml(e){return!!e&&"function"==typeof e.then}function Tl(e){return!!e&&"function"==typeof e.subscribe}const Op=Tl;function ec(e,t,n,s){const c=Y(),l=ke(),d=wt();return function(e,t,n,s,c,l,d,p){const h=kt(s),y=e.firstCreatePass&&Qu(e),D=t[8],I=ys(t);let R=!0;if(3&s.type||p){const ne=qt(s,t),de=p?p(ne):ne,Z=I.length,me=p?Le=>p(bt(Le[s.index])):s.index;if(pt(n)){let Le=null;if(!p&&h&&(Le=function(e,t,n,s){const c=e.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const d=c[l];if(d===n&&c[l+1]===s){const p=t[7],h=c[l+2];return p.length>h?p[h]:null}"string"==typeof d&&(l+=2)}return null}(e,t,c,s.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=l,Le.__ngLastListenerFn__=l,R=!1;else{l=tc(s,t,D,l,!1);const Xe=n.listen(de,c,l);I.push(l,Xe),y&&y.push(c,me,Z,Z+1)}}else l=tc(s,t,D,l,!0),de.addEventListener(c,l,d),I.push(l),y&&y.push(c,me,Z,d)}else l=tc(s,t,D,l,!1);const G=s.outputs;let J;if(R&&null!==G&&(J=G[c])){const ne=J.length;if(ne)for(let de=0;de<ne;de+=2){const Zn=t[J[de]][J[de+1]].subscribe(l),ks=I.length;I.push(l,Zn),y&&y.push(c,s.index,ks,-(ks+1))}}}(l,c,c[11],d,e,t,!!n,s),ec}function Rp(e,t,n,s){try{return!1!==n(s)}catch(c){return Ju(e,c),!1}}function tc(e,t,n,s,c){return function l(d){if(d===Function)return s;const p=2&e.flags?pn(e.index,t):t;0==(32&t[2])&&ka(p);let h=Rp(t,0,s,d),g=l.__ngNextListenerFn__;for(;g;)h=Rp(t,0,g,d)&&h,g=g.__ngNextListenerFn__;return c&&!1===h&&(d.preventDefault(),d.returnValue=!1),h}}function Np(e=1){return function(e){return(De.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,De.lFrame.contextLView))[8]}(e)}function jp(e,t,n,s,c){const l=e[n+1],d=null===t;let p=s?Jt(l):Er(l),h=!1;for(;0!==p&&(!1===h||d);){const y=e[p+1];Hp(e[p],t)&&(h=!0,e[p+1]=s?Nu(y):ds(y)),p=s?Jt(y):Er(y)}h&&(e[n+1]=s?ds(l):Nu(l))}function Hp(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Wo(e,t)>=0}function Rl(e,t){return function(e,t,n,s){const c=Y(),l=ke(),d=dr(2);l.firstUpdatePass&&function(e,t,n,s){const c=e.data;if(null===c[n+1]){const l=c[ht()],d=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(l,s)&&null===t&&!d&&(t=!1),t=function(e,t,n,s){const c=function(e){const t=De.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=s?t.residualClasses:t.residualStyles;if(null===c)0===(s?t.classBindings:t.styleBindings)&&(n=Ns(n=Nl(null,e,t,n,s),t.attrs,s),l=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==c)if(n=Nl(c,e,t,n,s),null===l){let h=function(e,t,n){const s=n?t.classBindings:t.styleBindings;if(0!==Er(s))return e[Jt(s)]}(e,t,s);void 0!==h&&Array.isArray(h)&&(h=Nl(null,e,t,h[1],s),h=Ns(h,t.attrs,s),function(e,t,n,s){e[Jt(n?t.classBindings:t.styleBindings)]=s}(e,t,s,h))}else l=function(e,t,n){let s;const c=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<c;l++)s=Ns(s,e[l].hostAttrs,n);return Ns(s,t.attrs,n)}(e,t,s)}return void 0!==l&&(s?t.residualClasses=l:t.residualStyles=l),n}(c,l,t,s),function(e,t,n,s,c,l){let d=l?t.classBindings:t.styleBindings,p=Jt(d),h=Er(d);e[s]=n;let y,g=!1;if(Array.isArray(n)){const D=n;y=D[1],(null===y||Wo(D,y)>0)&&(g=!0)}else y=n;if(c)if(0!==h){const I=Jt(e[p+1]);e[s+1]=_i(I,p),0!==I&&(e[I+1]=Sa(e[I+1],s)),e[p+1]=function(e,t){return 131071&e|t<<17}(e[p+1],s)}else e[s+1]=_i(p,0),0!==p&&(e[p+1]=Sa(e[p+1],s)),p=s;else e[s+1]=_i(h,0),0===p?p=s:e[h+1]=Sa(e[h+1],s),h=s;g&&(e[s+1]=ds(e[s+1])),jp(e,y,s,!0),jp(e,y,s,!1),function(e,t,n,s,c){const l=c?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Wo(l,t)>=0&&(n[s+1]=Nu(n[s+1]))}(t,y,e,s,l),d=_i(p,h),l?t.classBindings=d:t.styleBindings=d}(c,l,t,n,d,s)}}(l,e,d,s),t!==be&&tn(c,d,t)&&function(e,t,n,s,c,l,d,p){if(!(3&t.type))return;const h=e.data,g=h[p+1];ic(function(e){return 1==(1&e)}(g)?Qp(h,t,n,c,Er(g),d):void 0)||(ic(l)||function(e){return 2==(2&e)}(g)&&(l=Qp(h,null,n,c,p,d)),function(e,t,n,s,c){const l=pt(e);if(t)c?l?e.addClass(n,s):n.classList.add(s):l?e.removeClass(n,s):n.classList.remove(s);else{let d=-1===s.indexOf("-")?void 0:Xn.DashCase;if(null==c)l?e.removeStyle(n,s,d):n.style.removeProperty(s);else{const p="string"==typeof c&&c.endsWith("!important");p&&(c=c.slice(0,-10),d|=Xn.Important),l?e.setStyle(n,s,c,d):n.style.setProperty(s,c,p?"important":"")}}}(s,d,zs(ht(),n),c,l))}(l,l.data[ht()],c,c[11],e,c[d+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=C(function(e){return e instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),s,d)}(e,t,null,!0),Rl}function Nl(e,t,n,s,c){let l=null;const d=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<d&&(l=t[p],s=Ns(s,l.hostAttrs,c),l!==e);)p++;return null!==e&&(n.directiveStylingLast=p),s}function Ns(e,t,n){const s=n?1:2;let c=-1;if(null!==t)for(let l=0;l<t.length;l++){const d=t[l];"number"==typeof d?c=d:c===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),zt(e,d,!!n||t[++l]))}return void 0===e?null:e}function Qp(e,t,n,s,c,l){const d=null===t;let p;for(;c>0;){const h=e[c],g=Array.isArray(h),y=g?h[1]:h,D=null===y;let I=n[c+1];I===be&&(I=D?Ye:void 0);let R=D?da(I,s):y===s?I:void 0;if(g&&!ic(R)&&(R=da(h,s)),ic(R)&&(p=R,d))return p;const G=e[c+1];c=d?Jt(G):Er(G)}if(null!==t){let h=l?t.residualClasses:t.residualStyles;null!=h&&(p=da(h,s))}return p}function ic(e){return void 0!==e}function Xp(e,t=""){const n=Y(),s=ke(),c=e+20,l=s.firstCreatePass?yi(s,c,1,t,null):s.data[c],d=n[c]=function(e,t){return pt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Mu(s,n,d,l),vn(l,!1)}function Ll(e){return oc("",e,""),Ll}function oc(e,t,n){const s=Y(),c=function(e,t,n,s){return tn(e,Li(),n)?t+V(n)+s:be}(s,e,t,n);return c!==be&&wr(s,ht(),c),oc}function kl(e,t,n,s,c){const l=Y(),d=vo(l,e,t,n,s,c);return d!==be&&wr(l,ht(),d),kl}const wi=void 0;var Em=["en",[["a","p"],["AM","PM"],wi],[["AM","PM"],wi,wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wi,"{1} 'at' {0}",wi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const n=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let wo={};function Bl(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=mh(t);if(n)return n;const s=t.split("-")[0];if(n=mh(s),n)return n;if("en"===s)return Em;throw new Error(`Missing locale data for the locale "${e}".`)}function _h(e){return Bl(e)[ye.PluralCase]}function mh(e){return e in wo||(wo[e]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[e]),wo[e]}var ye=(()=>((ye=ye||{})[ye.LocaleId=0]="LocaleId",ye[ye.DayPeriodsFormat=1]="DayPeriodsFormat",ye[ye.DayPeriodsStandalone=2]="DayPeriodsStandalone",ye[ye.DaysFormat=3]="DaysFormat",ye[ye.DaysStandalone=4]="DaysStandalone",ye[ye.MonthsFormat=5]="MonthsFormat",ye[ye.MonthsStandalone=6]="MonthsStandalone",ye[ye.Eras=7]="Eras",ye[ye.FirstDayOfWeek=8]="FirstDayOfWeek",ye[ye.WeekendRange=9]="WeekendRange",ye[ye.DateFormat=10]="DateFormat",ye[ye.TimeFormat=11]="TimeFormat",ye[ye.DateTimeFormat=12]="DateTimeFormat",ye[ye.NumberSymbols=13]="NumberSymbols",ye[ye.NumberFormats=14]="NumberFormats",ye[ye.CurrencyCode=15]="CurrencyCode",ye[ye.CurrencySymbol=16]="CurrencySymbol",ye[ye.CurrencyName=17]="CurrencyName",ye[ye.Currencies=18]="Currencies",ye[ye.Directionality=19]="Directionality",ye[ye.PluralCase=20]="PluralCase",ye[ye.ExtraData=21]="ExtraData",ye))();const sc="en-US";let vh=sc;function Pm(e,t,n,s,c){if(e=O(e),Array.isArray(e))for(let l=0;l<e.length;l++)Pm(e[l],t,n,s,c);else{const l=ke(),d=Y();let p=po(e)?e:O(e.provide),h=tl(e);const g=wt(),y=1048575&g.providerIndexes,D=g.directiveStart,I=g.providerIndexes>>20;if(po(e)||!e.multi){const R=new ia(h,c,Fs),G=xm(p,t,c?y:y+I,D);-1===G?(Vo(oi(g,d),l,p),Om(l,e,t.length),t.push(p),g.directiveStart++,g.directiveEnd++,c&&(g.providerIndexes+=1048576),n.push(R),d.push(R)):(n[G]=R,d[G]=R)}else{const R=xm(p,t,y+I,D),G=xm(p,t,y,y+I),J=R>=0&&n[R],ne=G>=0&&n[G];if(c&&!ne||!c&&!J){Vo(oi(g,d),l,p);const de=function(e,t,n,s,c){const l=new ia(e,n,Fs);return l.multi=[],l.index=t,l.componentProviders=0,Jv(l,c,s&&!n),l}(c?nE:tE,n.length,c,s,h);!c&&ne&&(n[G].providerFactory=de),Om(l,e,t.length,0),t.push(p),g.directiveStart++,g.directiveEnd++,c&&(g.providerIndexes+=1048576),n.push(de),d.push(de)}else Om(l,e,R>-1?R:G,Jv(n[c?G:R],h,!c&&s));!c&&s&&ne&&n[G].componentProviders++}}}function Om(e,t,n,s){const c=po(t),l=function(e){return!!e.useClass}(t);if(c||l){const h=(l?O(t.useClass):t).prototype.ngOnDestroy;if(h){const g=e.destroyHooks||(e.destroyHooks=[]);if(!c&&t.multi){const y=g.indexOf(n);-1===y?g.push(n,[s,h]):g[y+1].push(s,h)}else g.push(n,h)}}}function Jv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function xm(e,t,n,s){for(let c=n;c<s;c++)if(t[c]===e)return c;return-1}function tE(e,t,n,s){return Fm(this.multi,[])}function nE(e,t,n,s){const c=this.multi;let l;if(this.providerFactory){const d=this.providerFactory.componentProviders,p=Bo(n,n[1],this.providerFactory.index,s);l=p.slice(0,d),Fm(c,l);for(let h=d;h<p.length;h++)l.push(p[h])}else l=[],Fm(c,l);return l}function Fm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Xv(e,t=[]){return n=>{n.providersResolver=(s,c)=>function(e,t,n){const s=ke();if(s.firstCreatePass){const c=xe(e);Pm(n,s.data,s.blueprint,c,!0),Pm(t,s.data,s.blueprint,c,!1)}}(s,c?c(e):e,t)}}class eD{}class sE{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${C(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Hl=(()=>{class e{}return e.NULL=new sE,e})();function aE(){return lc(wt(),Y())}function lc(e,t){return new $l(qt(e,t))}let $l=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=aE,e})();class nD{}let uE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function(){const e=Y(),n=pn(wt().index,e);return function(e){return e[11]}(Q(n)?n:e)}(),e})(),fE=(()=>{class e{}return e.\u0275prov=yt({token:e,providedIn:"root",factory:()=>null}),e})();class rD{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pE=new rD("13.0.3"),Rm={};function Ch(e,t,n,s,c=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&s.push(bt(l)),Ee(l))for(let p=k;p<l.length;p++){const h=l[p],g=h[1].firstChild;null!==g&&Ch(h[1],h,g,s)}const d=n.type;if(8&d)Ch(e,t,n.child,s);else if(32&d){const p=ba(n,t);let h;for(;h=p();)s.push(h)}else if(16&d){const p=er(t,n);if(Array.isArray(p))s.push(...p);else{const h=Xi(t[16]);Ch(h[1],h,p,s,!0)}}n=c?n.projectionNext:n.next}return s}class Gl{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Ch(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ee(t)){const n=t[8],s=n?n.indexOf(this):-1;s>-1&&(Du(t,s),Gi(n,s))}this._attachedToViewContainer=!1}rf(this._lView[1],this._lView)}onDestroy(t){!function(e,t,n,s){const c=ys(t);null===n?c.push(s):(c.push(n),e.firstCreatePass&&Qu(e).push(s,c.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){ka(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ua(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ko(!0);try{Ua(e,t,n)}finally{ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ls(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class hE extends Gl{constructor(t){super(t),this._view=t}detectChanges(){Yf(this._view)}checkNoChanges(){!function(e){ko(!0);try{Yf(e)}finally{ko(!1)}}(this._view)}get context(){return null}}class iD extends Hl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Lt(t);return new Nm(n,this.ngModule)}}function oD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const _E=new _t("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gu});class Nm extends eD{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(_f).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return oD(this.componentDef.inputs)}get outputs(){return oD(this.componentDef.outputs)}create(t,n,s,c){const l=(c=c||this.ngModule)?function(e,t){return{get:(n,s,c)=>{const l=e.get(n,Rm,c);return l!==Rm||s===Rm?l:t.get(n,s,c)}}}(t,c.injector):t,d=l.get(nD,Bh),p=l.get(fE,null),h=d.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=s?function(e,t,n){if(pt(e))return e.selectRootElement(t,n===he.ShadowDom);let s="string"==typeof t?e.querySelector(t):t;return s.textContent="",s}(h,s,this.componentDef.encapsulation):vu(d.createRenderer(null,this.componentDef),g,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(g)),D=this.componentDef.onPush?576:528,I=function(e,t){return{components:[],scheduler:e||gu,clean:zu,playerHandler:t||null,flags:0}}(),R=ps(0,null,null,1,0,null,null,null,null,null),G=mi(null,R,I,D,null,null,d,h,p,l);let J,ne;Fc(G);try{const de=function(e,t,n,s,c,l){const d=n[1];n[20]=e;const h=yi(d,20,2,"#host",null),g=h.mergedAttrs=t.hostAttrs;null!==g&&(Ba(h,g,!0),null!==e&&(m(c,e,g),null!==h.classes&&Hr(c,e,h.classes),null!==h.styles&&Iu(c,e,h.styles)));const y=s.createRenderer(e,t),D=mi(n,Of(t),null,t.onPush?64:16,n[20],h,s,y,l||null,null);return d.firstCreatePass&&(Vo(oi(h,n),d,t.type),Wu(d,h),Hf(h,n.length,1)),_s(n,D),n[20]=D}(y,this.componentDef,G,d,h);if(y)if(s)m(h,y,["ng-version",pE.full]);else{const{attrs:Z,classes:me}=function(e){const t=[],n=[];let s=1,c=2;for(;s<e.length;){let l=e[s];if("string"==typeof l)2===c?""!==l&&t.push(l,e[++s]):8===c&&n.push(l);else{if(!Vn(c))break;c=l}s++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Z&&m(h,y,Z),me&&me.length>0&&Hr(h,y,me.join(" "))}if(ne=Qs(R,20),void 0!==n){const Z=ne.projection=[];for(let me=0;me<this.ngContentSelectors.length;me++){const Le=n[me];Z.push(null!=Le?Array.from(Le):null)}}J=function(e,t,n,s,c){const l=n[1],d=function(e,t,n){const s=wt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),lo(e,s,t,vi(e,t,1,null),n));const c=Bo(t,e,s.directiveStart,s);at(c,t);const l=qt(s,t);return l&&at(l,t),c}(l,n,t);if(s.components.push(d),e[8]=d,c&&c.forEach(h=>h(d,t)),t.contentQueries){const h=wt();t.contentQueries(1,d,h.directiveStart)}const p=wt();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Nr(p.index),Vf(n[1],p,0,p.directiveStart,p.directiveEnd,t),jf(t,d)),d}(de,this.componentDef,G,I,[sp]),ao(R,G,null)}finally{Rc()}return new vE(this.componentType,J,lc(ne,G),G,ne)}}class vE extends class{}{constructor(t,n,s,c,l){super(),this.location=s,this._rootLView=c,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new hE(c),this.componentType=t}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class dc{}const fc=new Map;class cD extends dc{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iD(this);const s=Ft(t);this._bootstrapComponents=Jn(s.bootstrap),this._r3Injector=Ha(t,n,[{provide:dc,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],C(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=bn.THROW_IF_NOT_FOUND,s=Ie.Default){return t===bn||t===dc||t===Xu?this:this._r3Injector.get(t,n,s)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Lm extends class{}{constructor(t){super(),this.moduleType=t,null!==Ft(t)&&function(e){const t=new Set;!function n(s){const c=Ft(s,!0),l=c.id;null!==l&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${C(t)} vs ${C(t.name)}`)}(l,fc.get(l),s),fc.set(l,s));const d=Jn(c.imports);for(const p of d)t.has(p)||(t.add(p),n(p))}(e)}(t)}create(t){return new cD(this.moduleType,t)}}function uD(e,t,n,s,c){return function(e,t,n,s,c,l,d){const p=t+n;return Wr(e,p,c,l)?jn(e,p+2,d?s.call(d,c,l):s(c,l)):Zl(e,p+2)}(Y(),Kt(),e,t,n,s,c)}function Zl(e,t){const n=e[t];return n===be?void 0:n}function gD(e,t){const n=ke();let s;const c=e+20;n.firstCreatePass?(s=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const s=t[n];if(e===s.name)return s}}(t,n.pipeRegistry),n.data[c]=s,s.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(c,s.onDestroy)):s=n.data[c];const l=s.factory||(s.factory=ni(s.type)),d=un(Fs);try{const p=sa(!1),h=l();return sa(p),function(e,t,n,s){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=s}(n,Y(),c,h),h}finally{un(d)}}function _D(e,t,n){const s=e+20,c=Y(),l=function(e,t){return e[t]}(c,s);return function(e,t){return e[1].data[t].pure}(c,s)?function(e,t,n,s,c,l){const d=t+n;return tn(e,d,c)?jn(e,d+1,l?s.call(l,c):s(c)):Zl(e,d+1)}(c,Kt(),t,l.transform,n,l):l.transform(n)}function km(e){return t=>{setTimeout(e,void 0,t)}}const zr=class extends o.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){var h,g,y;let c=t,l=n||(()=>null),d=s;if(t&&"object"==typeof t){const D=t;c=null==(h=D.next)?void 0:h.bind(D),l=null==(g=D.error)?void 0:g.bind(D),d=null==(y=D.complete)?void 0:y.bind(D)}this.__isAsync&&(l=km(l),c&&(c=km(c)),d&&(d=km(d)));const p=super.subscribe({next:c,error:l,complete:d});return t instanceof N.w&&t.add(p),p}};Symbol;let Yl=(()=>{class e{}return e.__NG_ELEMENT_ID__=jE,e})();const UE=Yl,BE=class extends UE{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}createEmbeddedView(t){const n=this._declarationTContainer.tViews,s=mi(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(s[19]=l.createEmbeddedView(n)),ao(n,s,t),new Gl(s)}};function jE(){return e=wt(),t=Y(),4&e.type?new BE(t,e,lc(e,t)):null;var e,t}let Ah=(()=>{class e{}return e.__NG_ELEMENT_ID__=HE,e})();function HE(){return function(e,t){let n;const s=t[e.index];if(Ee(s))n=s;else{let c;if(8&e.type)c=bt(s);else{const l=t[11];c=l.createComment("");const d=qt(e,t);Cr(l,cs(l,d),c,function(e,t){return pt(e)?e.nextSibling(t):t.nextSibling}(l,d),!1)}t[e.index]=n=$f(s,t,c,e),_s(t,n)}return new mD(n,e,t)}(wt(),Y())}const $E=Ah,mD=class extends $E{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const t=aa(this._hostTNode,this._hostLView);if(md(t)){const n=Lr(t,this._hostLView),s=Bi(t);return new fr(n[1].data[s+8],n)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=yD(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-k}createEmbeddedView(t,n,s){const c=t.createEmbeddedView(n||{});return this.insert(c,s),c}createComponent(t,n,s,c,l){const d=t&&!("function"==typeof t);let p;if(d)p=n;else{const D=n||{};p=D.index,s=D.injector,c=D.projectableNodes,l=D.ngModuleRef}const h=d?t:new Nm(Lt(t)),g=s||this.parentInjector;if(!l&&null==h.ngModule&&g){const D=g.get(dc,null);D&&(l=D)}const y=h.create(g,c,void 0,l);return this.insert(y.hostView,p),y}insert(t,n){const s=t._lView,c=s[1];if(Ee(s[3])){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const D=s[3],I=new mD(D,D[6],D[3]);I.detach(I.indexOf(t))}}const l=this._adjustIndex(n),d=this._lContainer;!function(e,t,n,s){const c=k+s,l=n.length;s>0&&(n[c-1][4]=t),s<l-k?(t[4]=n[c],Zo(n,k+s,t)):(n.push(t),t[4]=null),t[3]=n;const d=t[17];null!==d&&n!==d&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(d,t);const p=t[19];null!==p&&p.insertView(e),t[2]|=128}(c,s,d,l);const p=lf(l,d),h=s[11],g=cs(h,d[7]);return null!==g&&function(e,t,n,s,c,l){s[0]=c,s[6]=t,ls(e,s,n,1,c,l)}(c,d[6],h,s,g,p),t.attachToViewContainerRef(),Zo(Um(d),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=yD(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=Du(this._lContainer,n);s&&(Gi(Um(this._lContainer),n),rf(s[1],s))}detach(t){const n=this._adjustIndex(t,-1),s=Du(this._lContainer,n);return s&&null!=Gi(Um(this._lContainer),n)?new Gl(s):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function yD(e){return e[8]}function Um(e){return e[8]||(e[8]=[])}function Mh(...e){}const zm=new _t("Application Initializer");let hc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Mh,this.reject=Mh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c})}runInitializers(){if(this.initialized)return;const n=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const l=this.appInits[c]();if(Ml(l))n.push(l);else if(Op(l)){const d=new Promise((p,h)=>{l.subscribe({complete:p,error:h})});n.push(d)}}Promise.all(n).then(()=>{s()}).catch(c=>{this.reject(c)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(St(zm,8))},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})();const HD=new _t("AppId"),E0={provide:HD,useFactory:function(){return`${Qm()}${Qm()}${Qm()}`},deps:[]};function Qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $D=new _t("Platform Initializer"),GD=new _t("Platform ID"),A0=new _t("appBootstrapListener");let b0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})();const Th=new _t("LocaleId"),ZD=new _t("DefaultCurrencyCode");class w0{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let WD=(()=>{class e{compileModuleSync(n){return new Lm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),l=Jn(Ft(n).declarations).reduce((d,p)=>{const h=Lt(p);return h&&d.push(new Nm(h)),d},[]);return new w0(s,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})();const T0=(()=>Promise.resolve(0))();function Jm(e){"undefined"==typeof Zone?T0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Gn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zr(!1),this.onMicrotaskEmpty=new zr(!1),this.onStable=new zr(!1),this.onError=new zr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&n,c.shouldCoalesceRunChangeDetection=s,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let e=ze.requestAnimationFrame,t=ze.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ze,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ey(e),e.isCheckStableRunning=!0,Xm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ey(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,c,l,d,p)=>{try{return YD(e),n.invokeTask(c,l,d,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),qD(e)}},onInvoke:(n,s,c,l,d,p,h)=>{try{return YD(e),n.invoke(c,l,d,p,h)}finally{e.shouldCoalesceRunChangeDetection&&t(),qD(e)}},onHasTask:(n,s,c,l)=>{n.hasTask(c,l),s===c&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,ey(e),Xm(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,s,c,l)=>(n.handleError(c,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,c){const l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+c,t,S0,Mh,Mh);try{return l.runTask(d,n,s)}finally{l.cancelTask(d)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const S0={};function Xm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ey(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function YD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qD(e){e._nesting--,Xm(e)}class x0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zr,this.onMicrotaskEmpty=new zr,this.onStable=new zr,this.onError=new zr}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,c){return t.apply(n,s)}}let KD=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gn.assertNotInAngularZone(),Jm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,c){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==l),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:c})}whenStable(n,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,s,c){return[]}}return e.\u0275fac=function(n){return new(n||e)(St(Gn))},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})(),zD=(()=>{class e{constructor(){this._applications=new Map,ty.addToWindow(this)}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return ty.findTestabilityInTree(this,n,s)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})();class F0{addToWindow(t){}findTestabilityInTree(t,n,s){return null}}function R0(e){ty=e}let Sr,ty=new F0;const QD=new _t("AllowMultipleToken");function JD(e,t,n=[]){const s=`Platform: ${t}`,c=new _t(s);return(l=[])=>{let d=XD();if(!d||d.injector.get(QD,!1))if(e)e(n.concat(l).concat({provide:c,useValue:!0}));else{const p=n.concat(l).concat({provide:c,useValue:!0},{provide:ja,useValue:"platform"});!function(e){if(Sr&&!Sr.destroyed&&!Sr.injector.get(QD,!1))throw new W("400","");Sr=e.get(eC);const t=e.get($D,null);t&&t.forEach(n=>n())}(bn.create({providers:p,name:s}))}return function(e){const t=XD();if(!t)throw new W("401","");return t}()}}function XD(){return Sr&&!Sr.destroyed?Sr:null}let eC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const p=function(e,t){let n;return n="noop"===e?new x0:("zone.js"===e?void 0:e)||new Gn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),h=[{provide:Gn,useValue:p}];return p.run(()=>{const g=bn.create({providers:h,parent:this.injector,name:n.moduleType.name}),y=n.create(g),D=y.injector.get(hn,null);if(!D)throw new W("402","");return p.runOutsideAngular(()=>{const I=p.onError.subscribe({next:R=>{D.handleError(R)}});y.onDestroy(()=>{ny(this._modules,y),I.unsubscribe()})}),function(e,t,n){try{const s=n();return Ml(s)?s.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(D,p,()=>{const I=y.injector.get(hc);return I.runInitializers(),I.donePromise.then(()=>(function(e){Ut(e,"Expected localeId to be defined"),"string"==typeof e&&(vh=e.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Th,sc)||sc),this._moduleDoBootstrap(y),y))})})}bootstrapModule(n,s=[]){const c=tC({},s);return function(e,t,n){const s=new Lm(n);return Promise.resolve(s)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(n){const s=n.injector.get(Ih);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!n.instance.ngDoBootstrap)throw new W("403","");n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(St(bn))},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})();function tC(e,t){return Array.isArray(t)?t.reduce(tC,e):Re(Re({},e),t)}let Ih=(()=>{class e{constructor(n,s,c,l,d){this._zone=n,this._injector=s,this._exceptionHandler=c,this._componentFactoryResolver=l,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new j.y(g=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{g.next(this._stable),g.complete()})}),h=new j.y(g=>{let y;this._zone.runOutsideAngular(()=>{y=this._zone.onStable.subscribe(()=>{Gn.assertNotInAngularZone(),Jm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,g.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Gn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{g.next(!1)}))});return()=>{y.unsubscribe(),D.unsubscribe()}});this.isStable=(0,H.T)(p,h.pipe((0,P.B)()))}bootstrap(n,s){if(!this._initStatus.done)throw new W("405","");let c;c=n instanceof eD?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(c.componentType);const l=function(e){return e.isBoundToModule}(c)?void 0:this._injector.get(dc),p=c.create(bn.NULL,[],s||c.selector,l),h=p.location.nativeElement,g=p.injector.get(KD,null),y=g&&p.injector.get(zD);return g&&y&&y.registerApplication(h,g),p.onDestroy(()=>{this.detachView(p.hostView),ny(this.components,p),y&&y.unregisterApplication(h)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new W("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;ny(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(A0,[]).concat(this._bootstrapListeners).forEach(c=>c(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(St(Gn),St(bn),St(hn),St(Hl),St(hc))},e.\u0275prov=yt({token:e,factory:e.\u0275fac}),e})();function ny(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let rC=!0,iC=!1;function $0(){return iC=!0,rC}function G0(){if(iC)throw new Error("Cannot enable prod mode after platform setup.");rC=!1}let Z0=(()=>{class e{}return e.__NG_ELEMENT_ID__=W0,e})();function W0(e){return function(e,t,n){if(tt(e)&&!n){const s=pn(e.index,t);return new Gl(s,s)}return 47&e.type?new Gl(t[16],t):null}(wt(),Y(),16==(16&e))}class lC{constructor(){}supports(t){return _o(t)}create(t){return new X0(t)}}const J0=(e,t)=>t;class X0{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||J0}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,s=this._removalsHead,c=0,l=null;for(;n||s;){const d=!s||n&&n.currentIndex<fC(s,c,l)?n:s,p=fC(d,c,l),h=d.currentIndex;if(d===s)c--,s=s._nextRemoved;else if(n=n._next,null==d.previousIndex)c++;else{l||(l=[]);const g=p-c,y=h-c;if(g!=y){for(let I=0;I<g;I++){const R=I<l.length?l[I]:l[I]=0,G=R+I;y<=G&&G<g&&(l[I]=R+1)}l[d.previousIndex]=y-g}}p!==h&&t(d,p,h)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!_o(t))throw new Error(`Error trying to diff '${C(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let c,l,d,n=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)l=t[p],d=this._trackByFn(p,l),null!==n&&Object.is(n.trackById,d)?(s&&(n=this._verifyReinsertion(n,l,d,p)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,d,p),s=!0),n=n._next}else c=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Tr()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(t,p=>{d=this._trackByFn(c,p),null!==n&&Object.is(n.trackById,d)?(s&&(n=this._verifyReinsertion(n,p,d,c)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,d,c),s=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,s,c){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,c)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,c)):t=this._addAfter(new eA(n,s),l,c),t}_verifyReinsertion(t,n,s,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?t=this._reinsertAfter(l,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const c=t._prevRemoved,l=t._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(t,n,s),this._addToMoves(t,s),t}_moveAfter(t,n,s){return this._unlink(t),this._insertAfter(t,n,s),this._addToMoves(t,s),t}_addAfter(t,n,s){return this._insertAfter(t,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,s){const c=null===n?this._itHead:n._next;return t._next=c,t._prev=n,null===c?this._itTail=t:c._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new dC),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,s=t._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class eA{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tA{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const n=t._prevDup,s=t._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class dC{constructor(){this.map=new Map}put(t){const n=t.trackById;let s=this.map.get(n);s||(s=new tA,this.map.set(n,s)),s.add(t)}get(t,n){const c=this.map.get(t);return c?c.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(e,t,n){const s=e.previousIndex;if(null===s)return s;let c=0;return n&&s<n.length&&(c=n[s]),s+t+c}class pC{constructor(){}supports(t){return t instanceof Map||ir(t)}create(){return new nA}}class nA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ir(t)))throw new Error(`Error trying to diff '${C(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(c,s);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const s=t._prev;return n._next=t,n._prev=s,t._prev=n,s&&(s._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const c=this._records.get(t);this._maybeAddToChanges(c,n);const l=c._prev,d=c._next;return l&&(l._next=d),d&&(d._prev=l),c._next=null,c._prev=null,c}const s=new rA(t);return this._records.set(t,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(s=>n(t[s],s))}}class rA{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hC(){return new Ph([new lC])}let Ph=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const c=s.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||hC()),deps:[[e,new Yi,new gr]]}}find(n){const s=this.factories.find(c=>c.supports(n));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=yt({token:e,providedIn:"root",factory:hC}),e})();function gC(){return new Oh([new pC])}let Oh=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(s){const c=s.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||gC()),deps:[[e,new Yi,new gr]]}}find(n){const s=this.factories.find(c=>c.supports(n));if(s)return s;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=yt({token:e,providedIn:"root",factory:gC}),e})();const oA=[new pC],aA=new Ph([new lC]),cA=new Oh(oA),uA=JD(null,"core",[{provide:GD,useValue:"unknown"},{provide:eC,deps:[bn]},{provide:zD,deps:[]},{provide:b0,deps:[]}]),hA=[{provide:Ih,useClass:Ih,deps:[Gn,bn,hn,Hl,hc]},{provide:_E,deps:[Gn],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:hc,useClass:hc,deps:[[new gr,zm]]},{provide:WD,useClass:WD,deps:[]},E0,{provide:Ph,useFactory:function(){return aA},deps:[]},{provide:Oh,useFactory:function(){return cA},deps:[]},{provide:Th,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||sc},deps:[[new vt(Th),new gr,new Yi]]},{provide:ZD,useValue:"USD"}];let _A=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(St(Ih))},e.\u0275mod=ei({type:e}),e.\u0275inj=Ot({providers:hA}),e})()},7687:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3668),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4467),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(172),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5548),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2411),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3894),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7575),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(466),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3005),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8735),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8053),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6700),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9163),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5686),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2047),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1887),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8805),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9204),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5488),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9748),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5571),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(7434);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(F){const w={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},v="function"==typeof F?F():F,j=Object.assign({},w,{features:v.features||!!v.logOnly&&{pause:!0,export:!0,test:!0}||w.features},v);if(j.maxAge&&j.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${j.maxAge}`);return j}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(w,v){if(this.action=w,this.timestamp=v,this.type=PERFORM_ACTION,void 0===w.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(w){this.timestamp=w,this.type=RESET}}class Rollback{constructor(w){this.timestamp=w,this.type=ROLLBACK}}class Commit{constructor(w){this.timestamp=w,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(w){this.id=w,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(w,v,o=!0){this.start=w,this.end=v,this.active=o,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(w){this.index=w,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(w){this.actionId=w,this.type=JUMP_TO_ACTION}}class ImportState{constructor(w){this.nextLiftedState=w,this.type=IMPORT_STATE}}class LockChanges{constructor(w){this.status=w,this.type=LOCK_CHANGES}}class PauseRecording{constructor(w){this.status=w,this.type=PAUSE_RECORDING}}function difference(F,w){return F.filter(v=>w.indexOf(v)<0)}function unliftState(F){const{computedStates:w,currentStateIndex:v}=F;if(v>=w.length){const{state:N}=w[w.length-1];return N}const{state:o}=w[v];return o}function unliftAction(F){return F.actionsById[F.nextActionId-1]}function liftAction(F){return new PerformAction(F,+Date.now())}function sanitizeActions(F,w){return Object.keys(w).reduce((v,o)=>{const N=Number(o);return v[N]=sanitizeAction(F,w[N],N),v},{})}function sanitizeAction(F,w,v){return nn(Re({},w),{action:F(w.action,v)})}function sanitizeStates(F,w){return w.map((v,o)=>({state:sanitizeState(F,v.state,o),error:v.error}))}function sanitizeState(F,w,v){return F(w,v)}function shouldFilterActions(F){return F.predicate||F.actionsSafelist||F.actionsBlocklist}function filterLiftedState(F,w,v,o){const N=[],j={},H=[];return F.stagedActionIds.forEach((P,T)=>{const S=F.actionsById[P];!S||T&&isActionFiltered(F.computedStates[T],S,w,v,o)||(j[P]=S,N.push(P),H.push(F.computedStates[T]))}),nn(Re({},F),{stagedActionIds:N,actionsById:j,computedStates:H})}function isActionFiltered(F,w,v,o,N){const j=v&&!v(F,w.action),H=o&&!w.action.type.match(o.map(T=>escapeRegExp(T)).join("|")),P=N&&w.action.type.match(N.map(T=>escapeRegExp(T)).join("|"));return j||H||P}function escapeRegExp(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(F,w,v,o,N){if(o)return{state:v,error:"Interrupted by an error up the chain"};let H,j=v;try{j=F(v,w)}catch(P){H=P.toString(),N.handleError(P)}return{state:j,error:H}}function recomputeStates(F,w,v,o,N,j,H,P,T){if(w>=F.length&&F.length===j.length)return F;const S=F.slice(0,w),C=j.length-(T?1:0);for(let M=w;M<C;M++){const b=j[M],L=N[b].action,O=S[M-1],B=O?O.state:o,se=O?O.error:void 0,z=H.indexOf(b)>-1?O:computeNextEntry(v,L,B,se,P);S.push(z)}return T&&S.push(F[F.length-1]),S}function liftInitialState(F,w){return{monitorState:w(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:F,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(F,w,v,o,N={}){return j=>(H,P)=>{let{monitorState:T,actionsById:S,nextActionId:C,stagedActionIds:M,skippedActionIds:b,committedState:L,currentStateIndex:O,computedStates:B,isLocked:se,isPaused:W}=H||w;function z(q){let le=q,Se=M.slice(1,le+1);for(let Ze=0;Ze<Se.length;Ze++){if(B[Ze+1].error){le=Ze,Se=M.slice(1,le+1);break}delete S[Se[Ze]]}b=b.filter(Ze=>-1===Se.indexOf(Ze)),M=[0,...M.slice(le+1)],L=B[le].state,B=B.slice(le),O=O>le?O-le:0}function ae(){S={0:liftAction(INIT_ACTION)},C=1,M=[0],b=[],L=B[O].state,O=0,B=[]}H||(S=Object.create(S));let V=0;switch(P.type){case LOCK_CHANGES:se=P.status,V=1/0;break;case PAUSE_RECORDING:W=P.status,W?(M=[...M,C],S[C]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),C++,V=M.length-1,B=B.concat(B[B.length-1]),O===M.length-2&&O++,V=1/0):ae();break;case RESET:S={0:liftAction(INIT_ACTION)},C=1,M=[0],b=[],L=F,O=0,B=[];break;case COMMIT:ae();break;case ROLLBACK:S={0:liftAction(INIT_ACTION)},C=1,M=[0],b=[],O=0,B=[];break;case TOGGLE_ACTION:{const{id:q}=P;b=-1===b.indexOf(q)?[q,...b]:b.filter(Se=>Se!==q),V=M.indexOf(q);break}case SET_ACTIONS_ACTIVE:{const{start:q,end:le,active:Se}=P,Ze=[];for(let Nt=q;Nt<le;Nt++)Ze.push(Nt);b=Se?difference(b,Ze):[...b,...Ze],V=M.indexOf(q);break}case JUMP_TO_STATE:O=P.index,V=1/0;break;case JUMP_TO_ACTION:{const q=M.indexOf(P.actionId);-1!==q&&(O=q),V=1/0;break}case SWEEP:M=difference(M,b),b=[],O=Math.min(O,M.length-1);break;case PERFORM_ACTION:{if(se)return H||w;if(W||H&&isActionFiltered(H.computedStates[O],P,N.predicate,N.actionsSafelist,N.actionsBlocklist)){const le=B[B.length-1];B=[...B.slice(0,-1),computeNextEntry(j,P.action,le.state,le.error,v)],V=1/0;break}N.maxAge&&M.length===N.maxAge&&z(1),O===M.length-1&&O++;const q=C++;S[q]=P,M=[...M,q],V=M.length-1;break}case IMPORT_STATE:({monitorState:T,actionsById:S,nextActionId:C,stagedActionIds:M,skippedActionIds:b,committedState:L,currentStateIndex:O,computedStates:B,isLocked:se,isPaused:W}=P.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:V=0,N.maxAge&&M.length>N.maxAge&&(B=recomputeStates(B,V,j,L,S,M,b,v,W),z(M.length-N.maxAge),V=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(B.filter(le=>le.error).length>0)V=0,N.maxAge&&M.length>N.maxAge&&(B=recomputeStates(B,V,j,L,S,M,b,v,W),z(M.length-N.maxAge),V=1/0);else{if(!W&&!se){O===M.length-1&&O++;const le=C++;S[le]=new PerformAction(P,+Date.now()),M=[...M,le],V=M.length-1,B=recomputeStates(B,V,j,L,S,M,b,v,W)}B=B.map(le=>nn(Re({},le),{state:j(le.state,RECOMPUTE_ACTION)})),O=M.length-1,N.maxAge&&M.length>N.maxAge&&z(M.length-N.maxAge),V=1/0}break;default:V=1/0}return B=recomputeStates(B,V,j,L,S,M,b,v,W),T=o(T,P),{monitorState:T,actionsById:S,nextActionId:C,stagedActionIds:M,skippedActionIds:b,committedState:L,currentStateIndex:O,computedStates:B,isLocked:se,isPaused:W}}}let DevtoolsDispatcher=(()=>{class F extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return F.\u0275fac=function(){let w;return function(o){return(w||(w=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(F)))(o||F)}}(),F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:F,factory:F.\u0275fac}),F})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(F,w,v){this.config=w,this.dispatcher=v,this.devtoolsExtension=F,this.createActionStreams()}notify(F,w){if(this.devtoolsExtension)if(F.type===PERFORM_ACTION){if(w.isLocked||w.isPaused)return;const v=unliftState(w);if(shouldFilterActions(this.config)&&isActionFiltered(v,F,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,v,w.currentStateIndex):v,N=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,F,w.nextActionId):F;this.sendToReduxDevtools(()=>this.extensionConnection.send(N,o))}else{const v=nn(Re({},w),{stagedActionIds:w.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,w.actionsById):w.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,w.computedStates):w.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,v,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(F=>{const w=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=w,w.init(),w.subscribe(v=>F.next(v)),w.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const F=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),w=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(P=>P.type===ExtensionActionTypes.START)),v=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(P=>P.type===ExtensionActionTypes.STOP)),o=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(P=>P.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(P=>this.unwrapAction(P.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(P=>P.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>P),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(P)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(P))),j=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(P=>P.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(P=>this.unwrapAction(P.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(v)),H=o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(v));this.start$=w.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(v)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>j)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>H))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(F){var v;const w={name:F.name,features:F.features,serialize:F.serialize,autoPause:null!=(v=F.autoPause)&&v};return!1!==F.maxAge&&(w.maxAge=F.maxAge),w}sendToReduxDevtools(F){try{F()}catch(w){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",w)}}}return DevtoolsExtension.\u0275fac=function(w){return new(w||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class F{constructor(v,o,N,j,H,P,T,S){const C=liftInitialState(T,S.monitor),M=liftReducerWith(T,C,P,S.monitor,S),b=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(o.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),j.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),v,j.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),L=N.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(M)),O=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),B=b.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(L),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ae},[V,q])=>{let le=q(ae,V);return V.type!==PERFORM_ACTION&&shouldFilterActions(S)&&(le=filterLiftedState(le,S.predicate,S.actionsSafelist,S.actionsBlocklist)),j.notify(V,le),{state:le,action:V}},{state:C,action:null})).subscribe(({state:ae,action:V})=>{O.next(ae),V.type===PERFORM_ACTION&&H.next(V.action)}),se=j.start$.subscribe(()=>{this.refresh()}),W=O.asObservable(),z=W.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=se,this.stateSubscription=B,this.dispatcher=v,this.liftedState=W,this.state=z}dispatch(v){this.dispatcher.next(v)}next(v){this.dispatcher.next(v)}error(v){}complete(){}performAction(v){this.dispatch(new PerformAction(v,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(v){this.dispatch(new ToggleAction(v))}jumpToAction(v){this.dispatch(new JumpToAction(v))}jumpToState(v){this.dispatch(new JumpToState(v))}importState(v){this.dispatch(new ImportState(v))}lockChanges(v){this.dispatch(new LockChanges(v))}pauseRecording(v){this.dispatch(new PauseRecording(v))}}return F.\u0275fac=function(v){return new(v||F)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:F,factory:F.\u0275fac}),F})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(F,w){return Boolean(F)||w.monitor!==noMonitor}function createReduxDevtoolsExtension(){const F="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[F]?window[F]:null}function createStateObservable(F){return F.state}let StoreDevtoolsModule=(()=>{class F{static instrument(v={}){return{ngModule:F,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:v},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:F}),F.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),F})()},4467:(F,w,v)=>{v.d(w,{UO:()=>Ct,qg:()=>Nt,Y6:()=>Be,mK:()=>So,n$:()=>Jr,Y$:()=>un,FR:()=>Bs,yh:()=>ut,CK:()=>qn,Aw:()=>jt,cr:()=>Yn,wb:()=>Ie,qC:()=>Ti,PH:()=>q,ZF:()=>xi,Lq:()=>Ro,P1:()=>Fo,on:()=>ti,Ky:()=>le,Ys:()=>we});var o=v(3668),N=v(3405),j=v(2108);class H extends N.xQ{constructor(U){super(),this._value=U}get value(){return this.getValue()}_subscribe(U){const x=super._subscribe(U);return x&&!x.closed&&U.next(this._value),x}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j.N;return this._value}next(U){super.next(this._value=U)}}var P=v(5548),T=v(7575),S=v(8053),b=v(4168);class O{constructor(U,x){this.compare=U,this.keySelector=x}call(U,x){return x.subscribe(new B(U,this.compare,this.keySelector))}}class B extends b.L{constructor(U,x,k){super(U),this.keySelector=k,this.hasKey=!1,"function"==typeof x&&(this.compare=x)}compare(U,x){return U===x}_next(U){let x;try{const{keySelector:K}=this;x=K?K(U):U}catch(K){return this.destination.error(K)}let k=!1;if(this.hasKey)try{const{compare:K}=this;k=K(this.key,x)}catch(K){return this.destination.error(K)}else this.hasKey=!0;k||(this.key=x,this.destination.next(U))}}var se=v(9748),W=v(5571),z=v(7434);const ae={};function q(E,U){if(ae[E]=(ae[E]||0)+1,"function"==typeof U)return Ze(E,(...k)=>nn(Re({},U(...k)),{type:E}));switch(U?U._as:"empty"){case"empty":return Ze(E,()=>({type:E}));case"props":return Ze(E,k=>nn(Re({},k),{type:E}));default:throw new Error("Unexpected config.")}}function le(){return{_as:"props",_p:void 0}}function Ze(E,U){return Object.defineProperty(U,"type",{value:E,writable:!1})}const Nt="@ngrx/store/init";let Ct=(()=>{class E extends H{constructor(){super({type:Nt})}next(x){if("function"==typeof x)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===x)throw new TypeError("Actions must be objects");if(void 0===x.type)throw new TypeError("Actions must have a type property");super.next(x)}complete(){}ngOnDestroy(){super.complete()}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac}),E})();const xh=[Ct],Mo=new o.OlP("@ngrx/store Internal Root Guard"),Vt=new o.OlP("@ngrx/store Internal Initial State"),Be=new o.OlP("@ngrx/store Initial State"),ct=new o.OlP("@ngrx/store Reducer Factory"),Oe=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),nt=new o.OlP("@ngrx/store Initial Reducers"),_e=new o.OlP("@ngrx/store Internal Initial Reducers"),gc=new o.OlP("@ngrx/store Store Features"),_c=new o.OlP("@ngrx/store Internal Store Reducers"),To=new o.OlP("@ngrx/store Internal Feature Reducers"),mc=new o.OlP("@ngrx/store Internal Feature Configs"),Ut=new o.OlP("@ngrx/store Internal Store Features"),Ke=new o.OlP("@ngrx/store Internal Feature Reducers Token"),Kl=new o.OlP("@ngrx/store Feature Reducers"),zl=new o.OlP("@ngrx/store User Provided Meta Reducers"),Pr=new o.OlP("@ngrx/store Meta Reducers"),yt=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),Mi=new o.OlP("@ngrx/store User Runtime Checks Config"),Ot=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),Tn=new o.OlP("@ngrx/store Internal Runtime Checks"),Io=new o.OlP("@ngrx/store Check if Action types are unique");function Vs(E,U={}){const x=Object.keys(E),k={};for(let Q=0;Q<x.length;Q++){const Ee=x[Q];"function"==typeof E[Ee]&&(k[Ee]=E[Ee])}const K=Object.keys(k);return function(Ee,At){Ee=void 0===Ee?U:Ee;let tt=!1;const kt={};for(let xe=0;xe<K.length;xe++){const fn=K[xe],on=Ee[fn],Ys=(0,k[fn])(on,At);kt[fn]=Ys,tt=tt||Ys!==on}return tt?kt:Ee}}function Ti(...E){return function(U){if(0===E.length)return U;const x=E[E.length-1];return E.slice(0,-1).reduceRight((K,Q)=>Q(K),x(U))}}function Qr(E,U){return Array.isArray(U)&&U.length>0&&(E=Ti.apply(null,[...U,E])),(x,k)=>{const K=E(x);return(Q,Ee)=>K(Q=void 0===Q?k:Q,Ee)}}class Jr extends P.y{}class So extends Ct{}const Ie="@ngrx/store/update-reducers";let Tt=(()=>{class E extends H{constructor(x,k,K,Q){super(Q(K,k)),this.dispatcher=x,this.initialState=k,this.reducers=K,this.reducerFactory=Q}get currentReducers(){return this.reducers}addFeature(x){this.addFeatures([x])}addFeatures(x){const k=x.reduce((K,{reducers:Q,reducerFactory:Ee,metaReducers:At,initialState:tt,key:kt})=>{const xe="function"==typeof Q?function(E){const U=Array.isArray(E)&&E.length>0?Ti(...E):x=>x;return(x,k)=>(x=U(x),(K,Q)=>x(K=void 0===K?k:K,Q))}(At)(Q,tt):Qr(Ee,At)(Q,tt);return K[kt]=xe,K},{});this.addReducers(k)}removeFeature(x){this.removeFeatures([x])}removeFeatures(x){this.removeReducers(x.map(k=>k.key))}addReducer(x,k){this.addReducers({[x]:k})}addReducers(x){this.reducers=Re(Re({},this.reducers),x),this.updateReducers(Object.keys(x))}removeReducer(x){this.removeReducers([x])}removeReducers(x){x.forEach(k=>{this.reducers=function(E,U){return Object.keys(E).filter(x=>x!==U).reduce((x,k)=>Object.assign(x,{[k]:E[k]}),{})}(this.reducers,k)}),this.updateReducers(x)}updateReducers(x){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ie,features:x})}ngOnDestroy(){this.complete()}}return E.\u0275fac=function(x){return new(x||E)(o.LFG(So),o.LFG(Be),o.LFG(nt),o.LFG(ct))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac}),E})();const Po=[Tt,{provide:Jr,useExisting:Tt},{provide:So,useExisting:Ct}];let un=(()=>{class E extends N.xQ{ngOnDestroy(){this.complete()}}return E.\u0275fac=function(){let U;return function(k){return(U||(U=o.n5z(E)))(k||E)}}(),E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac}),E})();const Us=[un];class Bs extends P.y{}let In=(()=>{class E extends H{constructor(x,k,K,Q){super(Q);const kt=x.pipe((0,se.QV)(T.N)).pipe((0,W.M)(k)).pipe((0,z.R)(xt,{state:Q}));this.stateSubscription=kt.subscribe(({state:xe,action:fn})=>{this.next(xe),K.next(fn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return E.INIT=Nt,E.\u0275fac=function(x){return new(x||E)(o.LFG(Ct),o.LFG(Jr),o.LFG(un),o.LFG(Be))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac}),E})();function xt(E={state:void 0},[U,x]){const{state:k}=E;return{state:x(k,U),action:U}}const Jl=[In,{provide:Bs,useExisting:In}];let ut=(()=>{class E extends P.y{constructor(x,k,K){super(),this.actionsObserver=k,this.reducerManager=K,this.source=x}select(x,...k){return we.call(null,x,...k)(this)}lift(x){const k=new E(this,this.actionsObserver,this.reducerManager);return k.operator=x,k}dispatch(x){this.actionsObserver.next(x)}next(x){this.actionsObserver.next(x)}error(x){this.actionsObserver.error(x)}complete(){this.actionsObserver.complete()}addReducer(x,k){this.reducerManager.addReducer(x,k)}removeReducer(x){this.reducerManager.removeReducer(x)}}return E.\u0275fac=function(x){return new(x||E)(o.LFG(Bs),o.LFG(Ct),o.LFG(Tt))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac}),E})();const he=[ut];function we(E,U,...x){return function(K){let Q;if("string"==typeof E){const Ee=[U,...x].filter(Boolean);Q=K.pipe(function(...E){const U=E.length;if(0===U)throw new Error("list of properties cannot be empty.");return x=>(0,S.U)(function(E,U){return k=>{let K=k;for(let Q=0;Q<U;Q++){const Ee=null!=K?K[E[Q]]:void 0;if(void 0===Ee)return;K=Ee}return K}}(E,U))(x)}(E,...Ee))}else{if("function"!=typeof E)throw new TypeError(`Unexpected type '${typeof E}' in select operator, expected 'string' or 'function'`);Q=K.pipe((0,S.U)(Ee=>E(Ee,U)))}return Q.pipe(x=>x.lift(new O(void 0,void 0)))}}const Or="https://ngrx.io/guide/store/configuration/runtime-checks";function Sn(E){return void 0===E}function ze(E){return null===E}function ln(E){return Array.isArray(E)}function je(E){return"object"==typeof E&&null!==E}function Si(E){return"function"==typeof E}function xr(E,U){return E===U}function Hs(E,U,x){for(let k=0;k<E.length;k++)if(!x(E[k],U[k]))return!0;return!1}function ei(E,U=xr,x=xr){let Q,k=null,K=null;return{memoized:function(){if(void 0!==Q)return Q.result;if(!k)return K=E.apply(null,arguments),k=arguments,K;if(!Hs(arguments,k,U))return K;const xe=E.apply(null,arguments);return k=arguments,x(K,xe)?K:(K=xe,xe)},reset:function(){k=null,K=null},setResult:function(xe){Q={result:xe}},clearResult:function(){Q=void 0}}}function Fo(...E){return function(E,U={stateFn:Gs}){return function(...x){let k=x;if(Array.isArray(k[0])){const[xe,...fn]=k;k=[...xe,...fn]}const K=k.slice(0,k.length-1),Q=k[k.length-1],Ee=K.filter(xe=>xe.release&&"function"==typeof xe.release),At=E(function(...xe){return Q.apply(null,xe)}),tt=ei(function(xe,fn){return U.stateFn.apply(null,[xe,K,fn,At])});return Object.assign(tt.memoized,{release:function(){tt.reset(),At.reset(),Ee.forEach(xe=>xe.release())},projector:At.memoized,setResult:tt.setResult,clearResult:tt.clearResult})}}(ei)(...E)}function Gs(E,U,x,k){if(void 0===x){const Q=U.map(Ee=>Ee(E));return k.memoized.apply(null,Q)}const K=U.map(Q=>Q(E,x));return k.memoized.apply(null,[...K,x])}function xi(E){return Fo(U=>{const x=U[E];return(0,o.X6Q)()&&!(E in U)&&console.warn(`@ngrx/store: The feature name "${E}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${E}', ...) or StoreModule.forFeature('${E}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),x},U=>U)}function Bt(E){Object.freeze(E);const U=Si(E);return Object.getOwnPropertyNames(E).forEach(x=>{if(!x.startsWith("\u0275")&&function(E,U){return Object.prototype.hasOwnProperty.call(E,U)}(E,x)&&(!U||"caller"!==x&&"callee"!==x&&"arguments"!==x)){const k=E[x];(je(k)||Si(k))&&!Object.isFrozen(k)&&Bt(k)}}),E}function Me(E,U=[]){return(Sn(E)||ze(E))&&0===U.length?{path:["root"],value:E}:Object.keys(E).reduce((k,K)=>{if(k)return k;const Q=E[K];return function(E){return Si(E)&&E.hasOwnProperty("\u0275cmp")}(Q)?k:!(Sn(Q)||ze(Q)||function(E){return"number"==typeof E}(Q)||function(E){return"boolean"==typeof E}(Q)||function(E){return"string"==typeof E}(Q)||ln(Q))&&(function(E){if(!function(E){return je(E)&&!ln(E)}(E))return!1;const U=Object.getPrototypeOf(E);return U===Object.prototype||null===U}(Q)?Me(Q,[...U,K]):{path:[...U,K],value:Q})},!1)}function Qe(E,U){if(!1===E)return;const x=E.path.join("."),k=new Error(`Detected unserializable ${U} at "${x}". ${Or}#strict${U}serializability`);throw k.value=E.value,k.unserializablePath=x,k}function On(E){return(0,o.X6Q)()?Re({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},E):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Et({strictActionSerializability:E,strictStateSerializability:U}){return x=>E||U?function(E,U){return function(x,k){U.action(k)&&Qe(Me(k),"action");const K=E(x,k);return U.state()&&Qe(Me(K),"state"),K}}(x,{action:k=>E&&!rt(k),state:()=>U}):x}function cr({strictActionImmutability:E,strictStateImmutability:U}){return x=>E||U?function(E,U){return function(x,k){const K=U.action(k)?Bt(k):k,Q=E(x,K);return U.state()?Bt(Q):Q}}(x,{action:k=>E&&!rt(k),state:()=>U}):x}function rt(E){return E.type.startsWith("@ngrx")}function ur({strictActionWithinNgZone:E}){return U=>E?function(E,U){return function(x,k){if(U.action(k)&&!o.R0b.isInAngularZone())throw new Error(`Action '${k.type}' running outside NgZone. ${Or}#strictactionwithinngzone`);return E(x,k)}}(U,{action:x=>E&&!rt(x)}):U}function Fr(E){return[{provide:Ot,useValue:E},{provide:Mi,useFactory:Fi,deps:[Ot]},{provide:Tn,deps:[Mi],useFactory:On},{provide:Pr,multi:!0,deps:[Tn],useFactory:cr},{provide:Pr,multi:!0,deps:[Tn],useFactory:Et},{provide:Pr,multi:!0,deps:[Tn],useFactory:ur}]}function Te(){return[{provide:Io,multi:!0,deps:[Tn],useFactory:Wn}]}function Fi(E){return E}function Wn(E){if(!E.strictActionTypeUniqueness)return;const U=Object.entries(ae).filter(([,x])=>x>1).map(([x])=>x);if(U.length)throw new Error(`Action types are registered more than once, ${U.map(x=>`"${x}"`).join(", ")}. ${Or}#strictactiontypeuniqueness`)}let Yn=(()=>{class E{constructor(x,k,K,Q,Ee,At){}}return E.\u0275fac=function(x){return new(x||E)(o.LFG(Ct),o.LFG(Jr),o.LFG(un),o.LFG(ut),o.LFG(Mo,8),o.LFG(Io,8))},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({}),E})(),qn=(()=>{class E{constructor(x,k,K,Q,Ee){this.features=x,this.featureReducers=k,this.reducerManager=K;const At=x.map((tt,kt)=>{const fn=k.shift()[kt];return nn(Re({},tt),{reducers:fn,initialState:qe(tt.initialState)})});K.addFeatures(At)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return E.\u0275fac=function(x){return new(x||E)(o.LFG(Ut),o.LFG(Kl),o.LFG(Tt),o.LFG(Yn),o.LFG(Io,8))},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({}),E})(),jt=(()=>{class E{static forRoot(x,k={}){return{ngModule:Yn,providers:[{provide:Mo,useFactory:Ws,deps:[[ut,new o.FiY,new o.tp0]]},{provide:Vt,useValue:k.initialState},{provide:Be,useFactory:qe,deps:[Vt]},{provide:_e,useValue:x},{provide:_c,useExisting:x instanceof o.OlP?x:_e},{provide:nt,deps:[o.zs3,_e,[new o.tBr(_c)]],useFactory:Ri},{provide:zl,useValue:k.metaReducers?k.metaReducers:[]},{provide:yt,deps:[Pr,zl],useFactory:yc},{provide:Oe,useValue:k.reducerFactory?k.reducerFactory:Vs},{provide:ct,deps:[Oe,yt],useFactory:Qr},xh,Po,Us,Jl,he,Fr(k.runtimeChecks),Te()]}}static forFeature(x,k,K={}){return{ngModule:qn,providers:[{provide:mc,multi:!0,useValue:x instanceof Object?{}:K},{provide:gc,multi:!0,useValue:{key:x instanceof Object?x.name:x,reducerFactory:K instanceof o.OlP||!K.reducerFactory?Vs:K.reducerFactory,metaReducers:K instanceof o.OlP||!K.metaReducers?[]:K.metaReducers,initialState:K instanceof o.OlP||!K.initialState?void 0:K.initialState}},{provide:Ut,deps:[o.zs3,mc,gc],useFactory:Rr},{provide:To,multi:!0,useValue:x instanceof Object?x.reducer:k},{provide:Ke,multi:!0,useExisting:k instanceof o.OlP?k:To},{provide:Kl,multi:!0,deps:[o.zs3,To,[new o.tBr(Ke)]],useFactory:dn},Te()]}}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({}),E})();function Ri(E,U){return U instanceof o.OlP?E.get(U):U}function Rr(E,U,x){return x.map((k,K)=>{if(U[K]instanceof o.OlP){const Q=E.get(U[K]);return{key:k.key,reducerFactory:Q.reducerFactory?Q.reducerFactory:Vs,metaReducers:Q.metaReducers?Q.metaReducers:[],initialState:Q.initialState}}return k})}function dn(E,U){return U.map(k=>k instanceof o.OlP?E.get(k):k)}function qe(E){return"function"==typeof E?E():E}function yc(E,U){return E.concat(U)}function Ws(E){if(E)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function ti(...E){return{reducer:E.pop(),types:E.map(k=>k.type)}}function Ro(E,...U){const x=new Map;for(const k of U)for(const K of k.types){const Q=x.get(K);x.set(K,Q?(At,tt)=>k.reducer(Q(At,tt),tt):k.reducer)}return function(k=E,K){const Q=x.get(K.type);return Q?Q(k,K):k}}}},F=>{F(F.s=8758)}]);