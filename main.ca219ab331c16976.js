"use strict";(self.webpackChunktaormina_duel=self.webpackChunktaormina_duel||[]).push([[179],{9715:(L,P,E)=>{var o=E(4650);let V=null;function W(){return V}const F=new o.OlP("DocumentToken");class vs{constructor(r,n,l,d){this.$implicit=r,this.ngForOf=n,this.index=l,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wn=(()=>{class i{constructor(n,l,d){this._viewContainer=n,this._template=l,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const l=this._viewContainer;n.forEachOperation((d,h,_)=>{if(null==d.previousIndex)l.createEmbeddedView(this._template,new vs(d.item,this._ngForOf,-1,-1),null===_?void 0:_);else if(null==_)l.remove(null===h?void 0:h);else if(null!==h){const D=l.get(h);l.move(D,_),Vt(D,d)}});for(let d=0,h=l.length;d<h;d++){const D=l.get(d).context;D.index=d,D.count=h,D.ngForOf=this._ngForOf}n.forEachIdentityChange(d=>{Vt(l.get(d.currentIndex),d)})}static ngTemplateContextGuard(n,l){return!0}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function Vt(i,r){i.context.$implicit=r.item}let Kt=(()=>{class i{constructor(n,l){this._viewContainer=n,this._context=new Mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=l}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){w("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){w("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,l){return!0}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.s_b),o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Mn{constructor(){this.$implicit=null,this.ngIf=null}}function w(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,o.AaK)(r)}'.`)}class U{constructor(r,n){this._viewContainerRef=r,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let x=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const l=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||l,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),l}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let l=0;l<this._defaultViews.length;l++)this._defaultViews[l].enforceState(n)}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=o.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),H=(()=>{class i{constructor(n,l,d){this.ngSwitch=d,d._addCase(),this._view=new U(n,l)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(x,9))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),vt=(()=>{class i{constructor(n,l,d){this._ngEl=n,this._differs=l,this._renderer=d,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,l){const[d,h]=n.split("."),_=-1===d.indexOf("-")?void 0:o.JOm.DashCase;null!=l?this._renderer.setStyle(this._ngEl.nativeElement,d,h?`${l}${h}`:l,_):this._renderer.removeStyle(this._ngEl.nativeElement,d,_)}_applyChanges(n){n.forEachRemovedItem(l=>this._setStyle(l.key,null)),n.forEachAddedItem(l=>this._setStyle(l.key,l.currentValue)),n.forEachChangedItem(l=>this._setStyle(l.key,l.currentValue))}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();class ch{createSubscription(r,n){return r.subscribe({next:n,error:l=>{throw l}})}dispose(r){r.unsubscribe()}}class Uc{createSubscription(r,n){return r.then(n,l=>{throw l})}dispose(r){}}const Hc=new Uc,mC=new ch;let G_=(()=>{class i{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,l=>this._updateLatestValue(n,l))}_selectStrategy(n){if((0,o.QGY)(n))return Hc;if((0,o.F4k)(n))return mC;throw function bt(i,r){return new o.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,l){n===this._obj&&(this._latestValue=l,this._ref.markForCheck())}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.sBO,16))},i.\u0275pipe=o.Yjl({name:"async",type:i,pure:!1}),i})(),dh=(()=>{class i{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Ra}transform(n,l=Ra){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const d=this.differ.diff(n),h=l!==this.compareFn;return d&&(this.keyValues=[],d.forEachItem(_=>{this.keyValues.push(function Ii(i,r){return{key:i,value:r}}(_.key,_.currentValue))})),(d||h)&&(this.keyValues.sort(l),this.compareFn=l),this.keyValues}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.aQg,16))},i.\u0275pipe=o.Yjl({name:"keyvalue",type:i,pure:!1}),i})();function Ra(i,r){const n=i.key,l=r.key;if(n===l)return 0;if(void 0===n)return 1;if(void 0===l)return-1;if(null===n)return 1;if(null===l)return-1;if("string"==typeof n&&"string"==typeof l)return n<l?-1:1;if("number"==typeof n&&"number"==typeof l)return n-l;if("boolean"==typeof n&&"boolean"==typeof l)return n<l?-1:1;const d=String(n),h=String(l);return d==h?0:d<h?-1:1}let ph=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})();class Zc extends class Rt extends class T{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function N(i){V||(V=i)}(new Zc)}onAndCancel(r,n,l){return r.addEventListener(n,l,!1),()=>{r.removeEventListener(n,l,!1)}}dispatchEvent(r,n){r.dispatchEvent(n)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,n){return(n=n||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,n){return"window"===n?window:"document"===n?r:"body"===n?r.body:null}getBaseHref(r){const n=function Ba(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}();return null==n?null:function J_(i){an=an||document.createElement("a"),an.setAttribute("href",i);const r=an.pathname;return"/"===r.charAt(0)?r:`/${r}`}(n)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function yo(i,r){r=encodeURIComponent(r);for(const n of i.split(";")){const l=n.indexOf("="),[d,h]=-1==l?[n,""]:[n.slice(0,l),n.slice(l+1)];if(d.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let an,Va=null;const Ua=new o.OlP("TRANSITION_ID"),Pn=[{provide:o.ip1,useFactory:function Ds(i,r,n){return()=>{n.get(o.CZH).donePromise.then(()=>{const l=W(),d=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<d.length;h++)l.remove(d[h])})}},deps:[Ua,F,o.zs3],multi:!0}];let Kc=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Ha=new o.OlP("EventManagerPlugins");let Zn=(()=>{class i{constructor(n,l){this._zone=l,this._eventNameToPlugin=new Map,n.forEach(d=>d.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,l,d){return this._findPluginFor(l).addEventListener(n,l,d)}addGlobalEventListener(n,l,d){return this._findPluginFor(l).addGlobalEventListener(n,l,d)}getZone(){return this._zone}_findPluginFor(n){const l=this._eventNameToPlugin.get(n);if(l)return l;const d=this._plugins;for(let h=0;h<d.length;h++){const _=d[h];if(_.supports(n))return this._eventNameToPlugin.set(n,_),_}throw new Error(`No event manager plugin found for event ${n}`)}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(Ha),o.LFG(o.R0b))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class zc{constructor(r){this._doc=r}addGlobalEventListener(r,n,l){const d=W().getGlobalEventTarget(this._doc,r);if(!d)throw new Error(`Unsupported event target ${d} for event ${n}`);return this.addEventListener(d,n,l)}}let ja=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(n){const l=new Set;n.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),l.add(d))}),this.onStylesAdded(l)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Fe=(()=>{class i extends ja{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,l,d){n.forEach(h=>{const _=this._doc.createElement("style");_.textContent=h,d.push(l.appendChild(_))})}addHost(n){const l=[];this._addStylesToHost(this._stylesSet,n,l),this._hostNodes.set(n,l)}removeHost(n){const l=this._hostNodes.get(n);l&&l.forEach(Yc),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((l,d)=>{this._addStylesToHost(n,d,l)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Yc))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(F))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();function Yc(i){W().remove(i)}const yh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qc=/%COMP%/g;function He(i,r,n){for(let l=0;l<r.length;l++){let d=r[l];Array.isArray(d)?He(i,d,n):(d=d.replace(qc,i),n.push(d))}return n}function Qc(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let St=(()=>{class i{constructor(n,l,d){this.eventManager=n,this.sharedStylesHost=l,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new $a(n)}createRenderer(n,l){if(!n||!l)return this.defaultRenderer;switch(l.encapsulation){case o.ifc.Emulated:{let d=this.rendererByCompId.get(l.id);return d||(d=new Jc(this.eventManager,this.sharedStylesHost,l,this.appId),this.rendererByCompId.set(l.id,d)),d.applyToHost(n),d}case 1:case o.ifc.ShadowDom:return new TC(this.eventManager,this.sharedStylesHost,n,l);default:if(!this.rendererByCompId.has(l.id)){const d=He(l.id,l.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(l.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(Zn),o.LFG(Fe),o.LFG(o.AFp))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class $a{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,n){return n?document.createElementNS(yh[n]||n,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,n){(Ga(r)?r.content:r).appendChild(n)}insertBefore(r,n,l){r&&(Ga(r)?r.content:r).insertBefore(n,l)}removeChild(r,n){r&&r.removeChild(n)}selectRootElement(r,n){let l="string"==typeof r?document.querySelector(r):r;if(!l)throw new Error(`The selector "${r}" did not match any elements`);return n||(l.textContent=""),l}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,n,l,d){if(d){n=d+":"+n;const h=yh[d];h?r.setAttributeNS(h,n,l):r.setAttribute(n,l)}else r.setAttribute(n,l)}removeAttribute(r,n,l){if(l){const d=yh[l];d?r.removeAttributeNS(d,n):r.removeAttribute(`${l}:${n}`)}else r.removeAttribute(n)}addClass(r,n){r.classList.add(n)}removeClass(r,n){r.classList.remove(n)}setStyle(r,n,l,d){d&(o.JOm.DashCase|o.JOm.Important)?r.style.setProperty(n,l,d&o.JOm.Important?"important":""):r.style[n]=l}removeStyle(r,n,l){l&o.JOm.DashCase?r.style.removeProperty(n):r.style[n]=""}setProperty(r,n,l){r[n]=l}setValue(r,n){r.nodeValue=n}listen(r,n,l){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,n,Qc(l)):this.eventManager.addEventListener(r,n,Qc(l))}}function Ga(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class Jc extends $a{constructor(r,n,l,d){super(r),this.component=l;const h=He(d+"-"+l.id,l.styles,[]);n.addStyles(h),this.contentAttr=function ey(i){return"_ngcontent-%COMP%".replace(qc,i)}(d+"-"+l.id),this.hostAttr=function Q(i){return"_nghost-%COMP%".replace(qc,i)}(d+"-"+l.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,n){const l=super.createElement(r,n);return super.setAttribute(l,this.contentAttr,""),l}}class TC extends $a{constructor(r,n,l,d){super(r),this.sharedStylesHost=n,this.hostEl=l,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=He(d.id,d.styles,[]);for(let _=0;_<h.length;_++){const D=document.createElement("style");D.textContent=h[_],this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,n){return super.appendChild(this.nodeOrShadowRoot(r),n)}insertBefore(r,n,l){return super.insertBefore(this.nodeOrShadowRoot(r),n,l)}removeChild(r,n){return super.removeChild(this.nodeOrShadowRoot(r),n)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let ny=(()=>{class i extends zc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,l,d){return n.addEventListener(l,d,!1),()=>this.removeEventListener(n,l,d)}removeEventListener(n,l,d){return n.removeEventListener(l,d)}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(F))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const ry=["alt","control","meta","shift"],ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ch={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Es=(()=>{class i extends zc{constructor(n){super(n)}supports(n){return null!=i.parseEventName(n)}addEventListener(n,l,d){const h=i.parseEventName(l),_=i.eventCallback(h.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(n,h.domEventName,_))}static parseEventName(n){const l=n.toLowerCase().split("."),d=l.shift();if(0===l.length||"keydown"!==d&&"keyup"!==d)return null;const h=i._normalizeKey(l.pop());let _="";if(ry.forEach(S=>{const R=l.indexOf(S);R>-1&&(l.splice(R,1),_+=S+".")}),_+=h,0!=l.length||0===h.length)return null;const D={};return D.domEventName=d,D.fullKey=_,D}static getEventFullKey(n){let l="",d=function Rr(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&hr.hasOwnProperty(r)&&(r=hr[r]))}return ln[r]||r}(n);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),ry.forEach(h=>{h!=d&&Ch[h](n)&&(l+=h+".")}),l+=d,l}static eventCallback(n,l,d){return h=>{i.getEventFullKey(h)===n&&d.runGuarded(()=>l(h))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(F))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const ru=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function sy(){Zc.makeCurrent()},multi:!0},{provide:F,useFactory:function tu(){return(0,o.RDi)(document),document},deps:[]}]),wh=new o.OlP(""),iu=[{provide:o.rWj,useClass:class _h{addToWindow(r){o.dqk.getAngularTestability=(l,d=!0)=>{const h=r.findTestabilityInTree(l,d);if(null==h)throw new Error("Could not find testability for element.");return h},o.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(l=>{const d=o.dqk.getAllAngularTestabilities();let h=d.length,_=!1;const D=function(S){_=_||S,h--,0==h&&l(_)};d.forEach(function(S){S.whenStable(D)})})}findTestabilityInTree(r,n,l){return null==n?null:r.getTestability(n)??(l?W().isShadowRoot(n)?this.findTestabilityInTree(r,n.host,!0):this.findTestabilityInTree(r,n.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Do=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function eu(){return new o.qLn},deps:[]},{provide:Ha,useClass:ny,multi:!0,deps:[F,o.R0b,o.Lbi]},{provide:Ha,useClass:Es,multi:!0,deps:[F]},{provide:St,useClass:St,deps:[Zn,Fe,o.AFp]},{provide:o.FYo,useExisting:St},{provide:ja,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[F]},{provide:Zn,useClass:Zn,deps:[Ha,o.R0b]},{provide:class Q_{},useClass:Kc,deps:[]},[]];let su=(()=>{class i{constructor(n){}static withServerTransition(n){return{ngModule:i,providers:[{provide:o.AFp,useValue:n.appId},{provide:Ua,useExisting:o.AFp},Pn]}}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(wh,12))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[...Do,...iu],imports:[ph,o.hGG]}),i})();typeof window<"u"&&window;var y=E(2879),gu=E(7138),Lr=E(2916),mu=E(8929),pr=E(3489);class za{call(r,n){return n.subscribe(new NC(r))}}class NC extends pr.L{_next(r){}}var Ya=E(9312);class my{call(r,n){return n.subscribe(new gr(r))}}class gr extends pr.L{constructor(r){super(r)}_next(r){this.destination.next(Ya.P.createNext(r))}_error(r){const n=this.destination;n.next(Ya.P.createError(r)),n.complete()}_complete(){const r=this.destination;r.next(Ya.P.createComplete()),r.complete()}}var ae=E(4850),zn=E(7221),Cn=E(2198),qa=E(2654);function Cs(i,r,n,l){return d=>d.lift(new Qa(i,r,n,l))}class Qa{constructor(r,n,l,d){this.keySelector=r,this.elementSelector=n,this.durationSelector=l,this.subjectSelector=d}call(r,n){return n.subscribe(new _y(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class _y extends pr.L{constructor(r,n,l,d,h){super(r),this.keySelector=n,this.elementSelector=l,this.durationSelector=d,this.subjectSelector=h,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let n;try{n=this.keySelector(r)}catch(l){return void this.error(l)}this._group(r,n)}_group(r,n){let l=this.groups;l||(l=this.groups=new Map);let h,d=l.get(n);if(this.elementSelector)try{h=this.elementSelector(r)}catch(_){this.error(_)}else h=r;if(!d){d=this.subjectSelector?this.subjectSelector():new mu.xQ,l.set(n,d);const _=new yu(n,d,this);if(this.destination.next(_),this.durationSelector){let D;try{D=this.durationSelector(new yu(n,d))}catch(S){return void this.error(S)}this.add(D.subscribe(new Ih(n,d,this)))}}d.closed||d.next(h)}_error(r){const n=this.groups;n&&(n.forEach((l,d)=>{l.error(r)}),n.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((n,l)=>{n.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Ih extends pr.L{constructor(r,n,l){super(n),this.key=r,this.group=n,this.parent=l}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:n}=this;this.key=this.parent=null,r&&r.removeGroup(n)}}class yu extends Lr.y{constructor(r,n,l){super(),this.key=r,this.groupSubject=n,this.refCountSubscription=l}_subscribe(r){const n=new qa.w,{refCountSubscription:l,groupSubject:d}=this;return l&&!l.closed&&n.add(new Ph(l)),n.add(d.subscribe(r)),n}}class Ph extends qa.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}var Eo=E(1709),vu=E(5254),ws=E(1177);function As(i,r){return r?n=>n.pipe(As((l,d)=>(0,vu.D)(i(l,d)).pipe((0,ae.U)((h,_)=>r(l,h,d,_))))):n=>n.lift(new yy(i))}class yy{constructor(r){this.project=r}call(r,n){return n.subscribe(new Fh(r,this.project))}}class Fh extends ws.Ds{constructor(r,n){super(r),this.project=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(r){this.hasSubscription||this.tryNext(r)}tryNext(r){let n;const l=this.index++;try{n=this.project(r,l)}catch(d){return void this.destination.error(d)}this.hasSubscription=!0,this._innerSub(n)}_innerSub(r){const n=new ws.IY(this),l=this.destination;l.add(n);const d=(0,ws.ft)(r,n);d!==n&&l.add(d)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(r){this.destination.next(r)}notifyError(r){this.destination.error(r)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class bs{call(r,n){return n.subscribe(new vy(r))}}class vy extends pr.L{constructor(r){super(r)}_next(r){r.observe(this.destination)}}var jt=E(5632);const Ja={dispatch:!0,useEffectsErrorHandler:!0},Xa="__@ngrx/effects_create__";function Ze(i,r){const n=i(),l={...Ja,...r};return Object.defineProperty(n,Xa,{value:l}),n}function Du(i){return Object.getOwnPropertyNames(i).filter(l=>!(!i[l]||!i[l].hasOwnProperty(Xa))&&i[l][Xa].hasOwnProperty("dispatch")).map(l=>({propertyName:l,...i[l][Xa]}))}function ti(i){return Object.getPrototypeOf(i)}const kr="__@ngrx/effects__";function Nh(i){return(0,y.qC)(xC,ti)(i)}function xC(i){return function el(i){return i.constructor.hasOwnProperty(kr)}(i)?i.constructor[kr]:[]}function LC(i,r,n){const l=ti(i).constructor.name,d=function st(i){return[Nh,Du].reduce((n,l)=>n.concat(l(i)),[])}(i).map(({propertyName:h,dispatch:_,useEffectsErrorHandler:D})=>{const S="function"==typeof i[h]?i[h]():i[h],R=D?n(S,r):S;return!1===_?R.pipe(function _u(){return function(r){return r.lift(new za)}}()):R.pipe(function Th(){return function(r){return r.lift(new my)}}()).pipe((0,ae.U)(Y=>({effect:i[h],notification:Y,propertyName:h,sourceName:l,sourceInstance:i})))});return(0,gu.T)(...d)}function Dy(i,r,n=10){return i.pipe((0,zn.K)(l=>(r&&r.handleError(l),n<=1?i:Dy(i,r,n-1))))}let ni=(()=>{class i extends Lr.y{constructor(n){super(),n&&(this.source=n)}lift(n){const l=new i;return l.source=this,l.operator=n,l}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.Y$))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();function Qe(...i){return(0,Cn.h)(r=>i.some(n=>"string"==typeof n?n===r.type:n.type===r.type))}function Ey(i){return un(i,"ngrxOnInitEffects")}function un(i,r){return i&&r in i&&"function"==typeof i[r]}const mr=new o.OlP("@ngrx/effects Internal Root Guard"),bo=new o.OlP("@ngrx/effects User Provided Effects"),Ms=new o.OlP("@ngrx/effects Internal Root Effects"),Ts=new o.OlP("@ngrx/effects Root Effects"),Cu=new o.OlP("@ngrx/effects Internal Feature Effects"),xh=new o.OlP("@ngrx/effects Feature Effects"),Rh=new o.OlP("@ngrx/effects Effects Error Handler");let Lh=(()=>{class i extends mu.xQ{constructor(n,l){super(),this.errorHandler=n,this.effectsErrorHandler=l}addEffects(n){this.next(n)}toActions(){return this.pipe(Cs(ti),(0,Eo.zg)(n=>n.pipe(Cs($C))),(0,Eo.zg)(n=>{const l=n.pipe(As(h=>function kh(i,r){return n=>{const l=LC(n,i,r);return function Ao(i){return un(i,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(l):l}}(this.errorHandler,this.effectsErrorHandler)(h)),(0,ae.U)(h=>(function VC(i,r){if("N"===i.notification.kind){const n=i.notification.value;!function BC(i){return"function"!=typeof i&&i&&i.type&&"string"==typeof i.type}(n)&&r.handleError(new Error(`Effect ${function wo({propertyName:i,sourceInstance:r,sourceName:n}){const l="function"==typeof r[i];return`"${n}.${String(i)}${l?"()":""}"`}(i)} dispatched an invalid action: ${function UC(i){try{return JSON.stringify(i)}catch{return i}}(n)}`))}}(h,this.errorHandler),h.notification)),(0,Cn.h)(h=>"N"===h.kind&&null!=h.value),function Oh(){return function(r){return r.lift(new bs)}}()),d=n.pipe((0,jt.q)(1),(0,Cn.h)(Ey),(0,ae.U)(h=>h.ngrxOnInitEffects()));return(0,gu.T)(l,d)}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(o.qLn),o.LFG(Rh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();function $C(i){return function Ut(i){return un(i,"ngrxOnIdentifyEffects")}(i)?i.ngrxOnIdentifyEffects():""}let dn=(()=>{class i{constructor(n,l){this.effectSources=n,this.store=l,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(Lh),o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const tl="@ngrx/effects/init";(0,y.PH)(tl);let Cy=(()=>{class i{constructor(n,l,d,h,_,D,S){this.sources=n,l.start(),h.forEach(R=>n.addEffects(R)),d.dispatch({type:tl})}addEffects(n){this.sources.addEffects(n)}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(Lh),o.LFG(dn),o.LFG(y.yh),o.LFG(Ts),o.LFG(y.cr,8),o.LFG(y.CK,8),o.LFG(mr,8))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),Vh=(()=>{class i{constructor(n,l,d,h){l.forEach(_=>_.forEach(D=>n.addEffects(D)))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(Cy),o.LFG(xh),o.LFG(y.cr,8),o.LFG(y.CK,8))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),Vr=(()=>{class i{static forFeature(n=[]){return{ngModule:Vh,providers:[n,{provide:Cu,multi:!0,useValue:n},{provide:bo,multi:!0,useValue:[]},{provide:xh,multi:!0,useFactory:Bh,deps:[o.zs3,Cu,bo]}]}}static forRoot(n=[]){return{ngModule:Cy,providers:[{provide:Rh,useValue:Dy},dn,Lh,ni,n,{provide:Ms,useValue:[n]},{provide:mr,useFactory:Ay,deps:[[dn,new o.FiY,new o.tp0],[Ms,new o.PiD]]},{provide:bo,multi:!0,useValue:[]},{provide:Ts,useFactory:Bh,deps:[o.zs3,Ms,bo]}]}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})();function Bh(i,r,n){const l=[];for(const d of r)l.push(...d);for(const d of n)l.push(...d);return function wy(i,r){return r.map(n=>i.get(n))}(i,l)}function Ay(i,r){if((1!==r.length||0!==r[0].length)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var _r=E(1086),Mo=E(7545),Yn=E(1406);function Oi(i){return r=>i.id?r.pipe(Br(),Cs(([l,...d])=>i.id(l,...d))).pipe((0,Eo.zg)(l=>l.pipe((0,Mo.w)(Is(i.run,i.onError))))):r.pipe(Br(),(0,Yn.b)(Is(i.run,i.onError)))}function Is(i,r){return([n,...l])=>{try{return rl(i(n,...l)).pipe((0,zn.K)(h=>rl(r(n,h))))}catch(d){return rl(r(n,d))}}}function Br(){return i=>i.pipe((0,ae.U)(r=>function nl(i){let r,n;return i instanceof Array?[r,...n]=i:(n=[],r=i),[r,...n]}(r)))}function rl(i){return function wu(i){return!!i&&(i instanceof Lr.y||"function"==typeof i.lift&&"function"==typeof i.subscribe)}(i)?i:i?(0,_r.of)(i):(0,_r.of)()}var Ps,To=new Uint8Array(16);function by(){if(!Ps&&!(Ps=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ps(To)}const Sy=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,il=function My(i){return"string"==typeof i&&Sy.test(i)};for(var Ft=[],Io=0;Io<256;++Io)Ft.push((Io+256).toString(16).substr(1));const Le=function jh(i,r,n){var l=(i=i||{}).random||(i.rng||by)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,r){n=n||0;for(var d=0;d<16;++d)r[n+d]=l[d];return r}return function Po(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ft[i[r+0]]+Ft[i[r+1]]+Ft[i[r+2]]+Ft[i[r+3]]+"-"+Ft[i[r+4]]+Ft[i[r+5]]+"-"+Ft[i[r+6]]+Ft[i[r+7]]+"-"+Ft[i[r+8]]+Ft[i[r+9]]+"-"+Ft[i[r+10]]+Ft[i[r+11]]+Ft[i[r+12]]+Ft[i[r+13]]+Ft[i[r+14]]+Ft[i[r+15]]).toLowerCase();if(!il(n))throw TypeError("Stringified UUID is invalid");return n}(l)},Fs=(0,y.PH)("[Start Page] Init DiscardPileCards New Game"),sl=(0,y.PH)("[Start Page] Init DiscardPileCards Saved Game"),$h=(0,y.PH)("[DiscardPileCards/API] Load DiscardPileCards Success",(0,y.Ky)()),Gh=(0,y.PH)("[DiscardPileCards/API] Load DiscardPileCards Failure",(0,y.Ky)()),Ni=(0,y.PH)("[DiscardPileCards] Set DiscardPileCards On Init",(0,y.Ky)()),Fo=(0,y.PH)("[DiscardPileCards] Set DiscardPileCards Error",(0,y.Ky)()),Wh=(0,y.PH)("[DiscardPileCards] Add Card To Discard Pile",(0,y.Ky)()),Iy=(0,y.PH)("[DiscardPileCards] Add DiscardPileCard",(0,y.Ky)());let Py=(()=>{class i{constructor(n){this.actions$=n,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(Fs),(0,ae.U)(()=>Ni({discardPileCards:[]})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(sl),Oi({run:()=>$h({discardPileCards:[]}),onError:(l,d)=>(console.error("Error",d),Gh({error:d}))}))),this.addCard$=Ze(()=>this.actions$.pipe(Qe(Wh),(0,ae.U)(({card:l})=>((i,r,n)=>({id:i,cardType:r,cardId:n}))(Le(),l.type,l.id)),(0,ae.U)(l=>Iy({discardPileCard:l}))))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();var Me=(()=>{return(i=Me||(Me={}))[i.EntitiesOnly=0]="EntitiesOnly",i[i.Both=1]="Both",i[i.None=2]="None",Me;var i})();function at(i){return function(n,l){const d={ids:[...l.ids],entities:{...l.entities}},h=i(n,d);return h===Me.Both?Object.assign({},l,d):h===Me.EntitiesOnly?{...l,entities:d.entities}:l}}function yr(i,r){const n=r(i);return(0,o.X6Q)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",i,"The `selectId` implementation:",r.toString()),n}function Kh(i){function r(le,re){const se=yr(le,i);return se in re.entities?Me.None:(re.ids.push(se),re.entities[se]=le,Me.Both)}function n(le,re){let se=!1;for(const te of le)se=r(te,re)!==Me.None||se;return se?Me.Both:Me.None}function d(le,re){const se=yr(le,i);return se in re.entities?(re.entities[se]=le,Me.EntitiesOnly):(re.ids.push(se),re.entities[se]=le,Me.Both)}function D(le,re){const te=(le instanceof Array?le:re.ids.filter(ge=>le(re.entities[ge]))).filter(ge=>ge in re.entities).map(ge=>delete re.entities[ge]).length>0;return te&&(re.ids=re.ids.filter(ge=>ge in re.entities)),te?Me.Both:Me.None}function $(le,re){return Y([le],re)}function Y(le,re){const se={};return(le=le.filter(ge=>ge.id in re.entities)).length>0?le.filter(we=>function R(le,re,se){const ge=Object.assign({},se.entities[re.id],re.changes),we=yr(ge,i),Be=we!==re.id;return Be&&(le[re.id]=we,delete se.entities[re.id]),se.entities[we]=ge,Be}(se,we,re)).length>0?(re.ids=re.ids.map(we=>se[we]||we),Me.Both):Me.EntitiesOnly:Me.None}function Ee(le,re){const se=[],te=[];for(const Be of le){const ze=yr(Be,i);ze in re.entities?te.push({id:ze,changes:Be}):se.push(Be)}const ge=Y(te,re),we=n(se,re);switch(!0){case we===Me.None&&ge===Me.None:return Me.None;case we===Me.Both||ge===Me.Both:return Me.Both;default:return Me.EntitiesOnly}}return{removeAll:function S(le){return Object.assign({},le,{ids:[],entities:{}})},addOne:at(r),addMany:at(n),setAll:at(function l(le,re){return re.ids=[],re.entities={},n(le,re),Me.Both}),setOne:at(d),setMany:at(function h(le,re){const se=le.map(te=>d(te,re));switch(!0){case se.some(te=>te===Me.Both):return Me.Both;case se.some(te=>te===Me.EntitiesOnly):return Me.EntitiesOnly;default:return Me.None}}),updateOne:at($),updateMany:at(Y),upsertOne:at(function ce(le,re){return Ee([le],re)}),upsertMany:at(Ee),removeOne:at(function _(le,re){return D([le],re)}),removeMany:at(D),map:at(function _e(le,re){return Y(re.ids.reduce((ge,we)=>{const Be=le(re.entities[we]);return Be!==re.entities[we]&&ge.push({id:we,changes:Be}),ge},[]).filter(({id:ge})=>ge in re.entities),re)}),mapOne:at(function he({map:le,id:re},se){const te=se.entities[re];return te?$({id:re,changes:le(te)},se):Me.None})}}function zh(i,r){const{removeOne:n,removeMany:l,removeAll:d}=Kh(i);function h(se,te){return _([se],te)}function _(se,te){const ge=se.filter(we=>!(yr(we,i)in te.entities));return 0===ge.length?Me.None:(re(ge,te),Me.Both)}function S(se,te){const ge=yr(se,i);return ge in te.entities?(te.ids=te.ids.filter(we=>we!==ge),re([se],te),Me.Both):h(se,te)}function $(se,te){return _e([se],te)}function _e(se,te){const ge=[],we=se.filter(Be=>function Y(se,te,ge){if(!(te.id in ge.entities))return!1;const Be=Object.assign({},ge.entities[te.id],te.changes),ze=yr(Be,i);return delete ge.entities[te.id],se.push(Be),ze!==te.id}(ge,Be,te)).length>0;if(0===ge.length)return Me.None;{const Be=te.ids,ze=[];return te.ids=te.ids.filter((Lt,rn)=>Lt in te.entities||(ze.push(rn),!1)),re(ge,te),!we&&ze.every(Lt=>te.ids[Lt]===Be[Lt])?Me.EntitiesOnly:Me.Both}}function le(se,te){const ge=[],we=[];for(const Lt of se){const rn=yr(Lt,i);rn in te.entities?we.push({id:rn,changes:Lt}):ge.push(Lt)}const Be=_e(we,te),ze=_(ge,te);switch(!0){case ze===Me.None&&Be===Me.None:return Me.None;case ze===Me.Both||Be===Me.Both:return Me.Both;default:return Me.EntitiesOnly}}function re(se,te){se.sort(r);const ge=[];let we=0,Be=0;for(;we<se.length&&Be<te.ids.length;){const ze=se[we],Lt=yr(ze,i),rn=te.ids[Be];r(ze,te.entities[rn])<=0?(ge.push(Lt),we++):(ge.push(rn),Be++)}te.ids=ge.concat(we<se.length?se.slice(we).map(i):te.ids.slice(Be)),se.forEach((ze,Lt)=>{te.entities[i(ze)]=ze})}return{removeOne:n,removeMany:l,removeAll:d,addOne:at(h),updateOne:at($),upsertOne:at(function Ee(se,te){return le([se],te)}),setAll:at(function D(se,te){return te.entities={},te.ids=[],_(se,te),Me.Both}),setOne:at(S),setMany:at(function R(se,te){const ge=se.map(we=>S(we,te));switch(!0){case ge.some(we=>we===Me.Both):return Me.Both;case ge.some(we=>we===Me.EntitiesOnly):return Me.EntitiesOnly;default:return Me.None}}),addMany:at(_),updateMany:at(_e),upsertMany:at(le),map:at(function he(se,te){return _e(te.ids.reduce((we,Be)=>{const ze=se(te.entities[Be]);return ze!==te.entities[Be]&&we.push({id:Be,changes:ze}),we},[]),te)}),mapOne:at(function ce({map:se,id:te},ge){const we=ge.entities[te];return we?$({id:te,changes:se(we)},ge):Me.None})}}function Os(i={}){const{selectId:r,sortComparer:n}={selectId:i.selectId??(_=>_.id),sortComparer:i.sortComparer??!1},l=function Fy(){return{getInitialState:function i(r={}){return Object.assign({ids:[],entities:{}},r)}}}(),d=function Oy(){return{getSelectors:function i(r){const n=_=>_.ids,l=_=>_.entities,d=(0,y.P1)(n,l,(_,D)=>_.map(S=>D[S])),h=(0,y.P1)(n,_=>_.length);return r?{selectIds:(0,y.P1)(r,n),selectEntities:(0,y.P1)(r,l),selectAll:(0,y.P1)(r,d),selectTotal:(0,y.P1)(r,h)}:{selectIds:n,selectEntities:l,selectAll:d,selectTotal:h}}}}();return{selectId:r,sortComparer:n,...l,...d,...n?zh(r,n):Kh(r)}}const xy="discardPileCards",ri=Os(),bu=ri.getInitialState({initialized:!1,loaded:!1}),Ns=(0,y.Lq)(bu,(0,y.on)(Fs,i=>({...i,initialized:!1})),(0,y.on)(sl,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)($h,(i,{discardPileCards:r})=>ri.setAll(r,{...i,loaded:!0})),(0,y.on)(Gh,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(Ni,(i,{discardPileCards:r})=>ri.setAll(r,{...i,initialized:!0})),(0,y.on)(Iy,(i,{discardPileCard:r})=>ri.addOne(r,i)),(0,y.on)(Fo,(i,{error:r})=>({...i,errorMsg:r}))),xs=(0,y.ZF)(xy),{selectAll:Yh,selectEntities:qC}=ri.getSelectors(),ol=(0,y.P1)(xs,i=>i.loaded),Qh=((0,y.P1)(xs,i=>i.errorMsg),(0,y.P1)(xs,i=>Yh(i))),Jh=(0,y.P1)(xs,i=>[...Yh(i)].reverse()),Xh=(0,y.P1)(xs,i=>qC(i)),ep=(0,y.P1)(xs,i=>i.selectedId),Ry=(0,y.P1)(Xh,ep,(i,r)=>{if(void 0!==r)return i[r]});let Su=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(ol)),this.allDiscardPileCards$=this.store.pipe((0,y.Ys)(Qh)),this.allDiscardPileCardsReverse$=this.store.pipe((0,y.Ys)(Jh)),this.selectedDiscardPileCards$=this.store.pipe((0,y.Ys)(Ry))}initNewGame(){this.store.dispatch(Fs())}initSavedGame(){this.store.dispatch(sl())}addCardToDiscardPile(n){this.store.dispatch(Wh({card:n}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Dt="LandCard",al="AvailableLandSlot",gt=(i,r,n,l)=>({interface:Dt,id:i,type:r,die:n,color:l,print:()=>`${r}`});var oe=(()=>{return(i=oe||(oe={})).Clay="CLAY",i.Wood="WOOD",i.Gold="GOLD",i.Wheat="WHEAT",i.Stone="STONE",i.Wool="WOOL",oe;var i})(),$e=(()=>{return(i=$e||($e={})).ClayPit="CLAYPIT",i.Forest="FOREST",i.GoldMine="GOLDMINE",i.Field="FIELD",i.StoneQuarry="STONEQUARRY",i.Pasture="PASTURE",$e;var i})();const Ri=[0,1,2,3];var Ke=(()=>{return(i=Ke||(Ke={})).Red="RED",i.Blue="BLUE",Ke;var i})(),Li=(()=>{return(i=Li||(Li={}))[i.Lower=-2]="Lower",i[i.Low=-1]="Low",i[i.Middle=0]="Middle",i[i.Up=1]="Up",i[i.Upper=2]="Upper",Li;var i})();const tp="CLAY_PIT_RED",np="FOREST_RED",ll="GOLD_MINE_RED",Mu="FIELD_RED",Tu="STONE_QUARRY_RED",Iu="PASTURE_RED",Pu="CLAY_PIT_BLUE",rp="FOREST_BLUE",Fu="GOLD_MINE_BLUE",Rs="FIELD_BLUE",cl="STONE_QUARRY_BLUE",Ln="PASTURE_BLUE",qn=new Map([[tp,gt(tp,$e.ClayPit,3,Ke.Red)],[np,gt(np,$e.Forest,2,Ke.Red)],[ll,gt(ll,$e.GoldMine,1,Ke.Red)],[Mu,gt(Mu,$e.Field,6,Ke.Red)],[Tu,gt(Tu,$e.StoneQuarry,5,Ke.Red)],[Iu,gt(Iu,$e.Pasture,4,Ke.Red)],[Pu,gt(Pu,$e.ClayPit,2,Ke.Blue)],[rp,gt(rp,$e.Forest,3,Ke.Blue)],[Fu,gt(Fu,$e.GoldMine,4,Ke.Blue)],[Rs,gt(Rs,$e.Field,5,Ke.Blue)],[cl,gt(cl,$e.StoneQuarry,6,Ke.Blue)],[Ln,gt(Ln,$e.Pasture,1,Ke.Blue)],["LAND_1",gt("LAND_1",$e.ClayPit,1)],["LAND_2",gt("LAND_2",$e.Field,1)],["LAND_3",gt("LAND_3",$e.GoldMine,2)],["LAND_4",gt("LAND_4",$e.StoneQuarry,2)],["LAND_5",gt("LAND_5",$e.Field,3)],["LAND_6",gt("LAND_6",$e.GoldMine,3)],["LAND_7",gt("LAND_7",$e.Forest,4)],["LAND_8",gt("LAND_8",$e.StoneQuarry,4)],["LAND_9",gt("LAND_9",$e.ClayPit,5)],["LAND_10",gt("LAND_10",$e.Pasture,5)],["LAND_11",gt("LAND_11",$e.Forest,6)],["LAND_12",gt("LAND_12",$e.Pasture,6)]]);var ul=E(6688),ip=E(7830);function dl(...i){if(1===i.length){const r=i[0];if((0,ul.k)(r))return Ou(r,null);if((0,ip.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const n=Object.keys(r);return Ou(n.map(l=>r[l]),n)}}if("function"==typeof i[i.length-1]){const r=i.pop();return Ou(i=1===i.length&&(0,ul.k)(i[0])?i[0]:i,null).pipe((0,ae.U)(n=>r(...n)))}return Ou(i,null)}function Ou(i,r){return new Lr.y(n=>{const l=i.length;if(0===l)return void n.complete();const d=new Array(l);let h=0,_=0;for(let D=0;D<l;D++){const S=(0,vu.D)(i[D]);let R=!1;n.add(S.subscribe({next:$=>{R||(R=!0,_++),d[D]=$},error:$=>n.error($),complete:()=>{h++,(h===l||!R)&&(_===l&&n.next(r?r.reduce(($,Y,_e)=>($[Y]=d[_e],$),{}):d),n.complete())}}))}})}var fl=E(7168);const sp=(0,y.PH)("[Start Page] Init DomainsCards New Game"),Oo=(0,y.PH)("[Start Page] Init DomainsCards Saved Game"),hl=(0,y.PH)("[DomainsCards/API] Load DomainsCards Success",(0,y.Ky)()),pl=(0,y.PH)("[DomainsCards/API] Load DomainsCards Failure",(0,y.Ky)()),Ly=(0,y.PH)("[DomainsCards] Set DomainsCards On Init",(0,y.Ky)()),ky=(0,y.PH)("[DomainsCards] Increase Available Resources For Die",(0,y.Ky)()),Nu=(0,y.PH)("[DomainsCards] Increase Available Resources For Auspicious Year"),op=(0,y.PH)("[DomainsCards] Increase Available Resources",(0,y.Ky)()),No=(0,y.PH)("[DomainsCards] Update DomainCard",(0,y.Ky)()),Ls=(0,y.PH)("[DomainsCards] Update DomainsCards",(0,y.Ky)()),ap=(0,y.PH)("[DomainsCards] Add DomainCard",(0,y.Ky)()),xu=(0,y.PH)("[DomainsCards] Lock Resource",(0,y.Ky)()),xo=(0,y.PH)("[DomainsCards] Unlock Resources",(0,y.Ky)()),lp=(0,y.PH)("[DomainsCards] Use Locked Resources"),gl=(0,y.PH)("[DomainsCards] Give Locked Resources"),cp=(0,y.PH)("[DomainsCards] Toggle DomainCard Selection",(0,y.Ky)()),Ot=(0,y.PH)("[DomainsCards] Clear DomainCards Selection"),up=(0,y.PH)("[DomainsCards] Put Card In Pivot",(0,y.Ky)()),Ro=(0,y.PH)("[DomainsCards] Set DomainsCards Error",(0,y.Ky)()),Ru=(0,y.PH)("[DomainsCards] Create DomainCard",(0,y.Ky)()),Lu=(0,y.PH)("[DomainsCards] Count And Steal Unprotected Gold And Wool"),dp=(0,y.PH)("[DomainsCards] Swap Selected Cards"),fp=(0,y.PH)("[DomainsCards] Remove DomainCard",(0,y.Ky)()),hp=(i,r)=>({id:i,color:r}),mt="DOMAIN_RED",_t="DOMAIN_BLUE",Vy=new Map([[mt,hp(mt,Ke.Red)],[_t,hp(_t,Ke.Blue)]]);var ii=(()=>{return(i=ii||(ii={})).Road="ROAD",i.Hamlet="HAMLET",i.Town="TOWN",ii;var i})();const tn="AgglomerationCard",Ur="AvailableAgglomerationSlot",ku=(i,r,n,l,d)=>({interface:tn,id:i,cost:r,type:n,victoryPoints:l,color:d,print:()=>`type: ${n}`});function Qn(i,r){return ku(i,new Map([[oe.Wood,1],[oe.Clay,2]]),ii.Road,0,r)}function Fn(i,r){return ku(i,new Map([[oe.Wood,1],[oe.Clay,1],[oe.Wool,1],[oe.Wheat,1]]),ii.Hamlet,1,r)}function ki(i,r){return ku(i,new Map([[oe.Wheat,2],[oe.Stone,3]]),ii.Town,2,r)}const Vu="ROAD_RED",ml="HAMLET_RED_1",Bu="HAMLET_RED_2",Uu="ROAD_BLUE",Hu="HAMLET_BLUE_1",ju="HAMLET_BLUE_2",Vi=new Map([[Vu,Qn(Vu,Ke.Red)],[Uu,Qn(Uu,Ke.Blue)],["ROAD_1",Qn("ROAD_1")],["ROAD_2",Qn("ROAD_2")],["ROAD_3",Qn("ROAD_3")],["ROAD_4",Qn("ROAD_4")],["ROAD_5",Qn("ROAD_5")],["ROAD_6",Qn("ROAD_6")],["ROAD_7",Qn("ROAD_7")],[ml,Fn(ml,Ke.Red)],[Bu,Fn(Bu,Ke.Red)],[Hu,Fn(Hu,Ke.Blue)],[ju,Fn(ju,Ke.Blue)],["HAMLET_1",Fn("HAMLET_1")],["HAMLET_2",Fn("HAMLET_2")],["HAMLET_3",Fn("HAMLET_3")],["HAMLET_4",Fn("HAMLET_4")],["HAMLET_5",Fn("HAMLET_5")],["TOWN_1",ki("TOWN_1")],["TOWN_2",ki("TOWN_2")],["TOWN_3",ki("TOWN_3")],["TOWN_4",ki("TOWN_4")],["TOWN_5",ki("TOWN_5")],["TOWN_6",ki("TOWN_6")],["TOWN_7",ki("TOWN_7")]]);var Bi=(()=>{return(i=Bi||(Bi={})).Building="BUILDING",i.Ship="SHIP",i.Warrior="WARRIOR",Bi;var i})(),ut=(()=>{return(i=ut||(ut={})).Brickyard="Brickyard",i.Sawmill="Sawmill",i.Mill="Mill",i.Foundry="Foundry",i.Weaving="Weaving",i.Warehouse="Warehouse",i.Market="Market",i.TollBridge="Toll bridge",i.Monastery="Monastery",i.CommunityCenter="Community center",ut;var i})();const gp=new Map([[oe.Clay,`Merchant ship - ${oe.Clay}`],[oe.Wood,`Merchant ship - ${oe.Wood}`],[oe.Gold,`Merchant ship - ${oe.Gold}`],[oe.Wheat,`Merchant ship - ${oe.Wheat}`],[oe.Stone,`Merchant ship - ${oe.Stone}`],[oe.Wool,`Merchant ship - ${oe.Wool}`],["ANY","Great merchant ship"]]);var Hr=(()=>{return(i=Hr||(Hr={})).Altair="Alta\xefr",i.Ezio="Ezio",i.Evie="Evie",i.Jacob="Jacob",i.Kassandra="Kassandra",i.Alexios="Alexios",Hr;var i})(),jr=(()=>{return(i=jr||(jr={})).Trade="TRADE",i.Strength="STRENGTH",jr;var i})();const Et="DevelopmentCard",fn="AvailableDevelopmentSlot",_l=(i,r,n,l)=>({interface:Et,id:i,name:r,cost:n,type:l});function nn(i,r,n,l,d,h,_){const D=_l(i,r,n,Bi.Building);return D.tradePoints=l,D.givesKnowledge=d,D.noDuplicate=h,D.victoryPoints=_,D}function Mt(i,r){const n=gp.get(r);if(void 0===n)throw new Error(`Can't find ship name for type ${r}`);const l=_l(i,n,new Map([[oe.Wood,1],[oe.Wool,1]]),Bi.Ship);return l.tradePoints=1,l}function vr(i,r,n,l,d){const h=_l(i,r,n,Bi.Warrior);return h.strengthPoints=l,h.celebrationPoints=d,h}const Xe=(i,r,n,l,d,h,_=0,D=0)=>({id:i,domainId:r,cardType:n,cardId:l,col:d,row:h,availableResources:_,lockedResources:D}),kn=new Map([["BUILDING_1",nn("BUILDING_1",ut.Brickyard,new Map([[oe.Clay,1],[oe.Stone,1]]))],["BUILDING_2",nn("BUILDING_2",ut.Sawmill,new Map([[oe.Wood,1],[oe.Stone,1]]))],["BUILDING_3",nn("BUILDING_3",ut.Mill,new Map([[oe.Wood,1],[oe.Wheat,1]]))],["BUILDING_4",nn("BUILDING_4",ut.Foundry,new Map([[oe.Clay,1],[oe.Stone,1]]))],["BUILDING_5",nn("BUILDING_5",ut.Weaving,new Map([[oe.Wood,1],[oe.Wool,1]]))],["BUILDING_6",nn("BUILDING_6",ut.Warehouse,new Map([[oe.Wood,1],[oe.Wool,1]]))],["BUILDING_7",nn("BUILDING_7",ut.Warehouse,new Map([[oe.Wood,1],[oe.Wool,1]]))],["BUILDING_8",nn("BUILDING_8",ut.Market,new Map([[oe.Wheat,1],[oe.Wool,1]]),1,!1,!0)],["BUILDING_9",nn("BUILDING_9",ut.Market,new Map([[oe.Wheat,1],[oe.Wool,1]]),1,!1,!0)],["BUILDING_10",nn("BUILDING_10",ut.TollBridge,new Map([[oe.Wool,1],[oe.Clay,1]]),1)],["BUILDING_11",nn("BUILDING_11",ut.Monastery,new Map([[oe.Clay,1],[oe.Wheat,1],[oe.Stone,1]]),0,!0,!0)],["BUILDING_12",nn("BUILDING_12",ut.Monastery,new Map([[oe.Clay,1],[oe.Wheat,1],[oe.Stone,1]]),0,!0,!0)],["BUILDING_13",nn("BUILDING_13",ut.CommunityCenter,new Map([[oe.Clay,1],[oe.Wheat,1]]),0,!1,!0)],["BUILDING_14",nn("BUILDING_14",ut.CommunityCenter,new Map([[oe.Clay,1],[oe.Wheat,1]]),0,!1,!0)],["SHIP_1",Mt("SHIP_1",oe.Clay)],["SHIP_2",Mt("SHIP_2",oe.Wood)],["SHIP_3",Mt("SHIP_3",oe.Gold)],["SHIP_4",Mt("SHIP_4",oe.Wheat)],["SHIP_5",Mt("SHIP_5",oe.Stone)],["SHIP_6",Mt("SHIP_6",oe.Wool)],["SHIP_7",Mt("SHIP_7","ANY")],["WARRIOR_1",vr("WARRIOR_1",Hr.Altair,new Map([[oe.Wheat,1],[oe.Stone,1]]),1,1)],["WARRIOR_2",vr("WARRIOR_2",Hr.Ezio,new Map([[oe.Wheat,1],[oe.Stone,1]]),2,1)],["WARRIOR_3",vr("WARRIOR_3",Hr.Evie,new Map([[oe.Wheat,1],[oe.Wool,1],[oe.Stone,1]]),1,3)],["WARRIOR_4",vr("WARRIOR_4",Hr.Jacob,new Map([[oe.Wheat,1],[oe.Wool,1],[oe.Stone,1]]),2,2)],["WARRIOR_5",vr("WARRIOR_5",Hr.Kassandra,new Map([[oe.Wool,2],[oe.Wheat,1],[oe.Stone,1]]),2,3)],["WARRIOR_6",vr("WARRIOR_6",Hr.Alexios,new Map([[oe.Wool,2],[oe.Wheat,1],[oe.Stone,1]]),4,1)]]),_p="domainsCards",$r=Os(),Uy=$r.getInitialState({selectedIds:[],initialized:!1,loaded:!1}),yp=(0,y.Lq)(Uy,(0,y.on)(sp,i=>({...i,initialized:!1})),(0,y.on)(Oo,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)(hl,(i,{domainsCards:r})=>$r.setAll(r,{...i,loaded:!0})),(0,y.on)(pl,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(Ly,(i,{domainsCards:r})=>$r.setAll(r,{...i,initialized:!0})),(0,y.on)(No,(i,{update:r})=>$r.updateOne(r,i)),(0,y.on)(Ls,(i,{updates:r})=>$r.updateMany(r,i)),(0,y.on)(ap,(i,{domainCard:r})=>$r.addOne(r,i)),(0,y.on)(cp,(i,{id:r})=>{const n=i.selectedIds.find(d=>d===r);let l;return l=void 0===n?[...i.selectedIds,r]:i.selectedIds.filter(d=>d!==n),{...i,selectedIds:l}}),(0,y.on)(Ot,i=>({...i,selectedIds:[]})),(0,y.on)(dp,i=>{const r=i.entities[i.selectedIds[0]],n=i.entities[i.selectedIds[1]];if(void 0===r||void 0===n)throw new Error("Something went wrong, card0 and card1 shouldn't be undefined at this point.");const l={...r,col:n.col,row:n.row},d={...n,col:r.col,row:r.row};return{...i,entities:{...i.entities,[r.id]:l,[n.id]:d}}}),(0,y.on)(fp,(i,{id:r})=>$r.removeOne(r,i)),(0,y.on)(Ro,(i,{error:r})=>({...i,errorMsg:r}))),Lo=(0,y.ZF)(_p),{selectAll:Hy,selectEntities:jy}=$r.getSelectors(),$y=(0,y.P1)(Lo,i=>i.loaded),zt=((0,y.P1)(Lo,i=>i.errorMsg),(0,y.P1)(Lo,i=>Hy(i))),ks=(0,y.P1)(Lo,i=>jy(i)),Gr=(0,y.P1)(Lo,i=>i.selectedIds),vp=(0,y.P1)(ks,Gr,(i,r)=>r.map(n=>i[n]).filter(n=>void 0!==n)),XC=i=>(0,y.P1)(zt,r=>r.filter(n=>{const l=$u(n,i);return void 0!==l&&!Dl(n,r,l.type)})),ew=i=>(0,y.P1)(zt,r=>r.filter(n=>{const l=$u(n,i);return void 0!==l&&Dl(n,r,l.type)})),$u=(i,r)=>{if(i.cardType===Dt&&void 0!==i.cardId){const n=qn.get(i.cardId);if(void 0!==n&&n.die===r)return n}},Gy=1,Jn=2,yl=3,vl=4,Wy=(0,y.P1)(zt,i=>[Gy,Jn,yl,vl].map(r=>i.filter(n=>n.cardType===Dt&&void 0!==n.cardId&&void 0!==qn.get(n.cardId)&&zy(n,i,r)))),Vs=(0,y.P1)(zt,i=>i.filter(r=>r.cardType===Dt&&r.lockedResources>0)),Ui=(i,r)=>i.filter(n=>n.cardType===Et&&void 0!==n.cardId).map(n=>kn.get(n.cardId)).filter(n=>void 0!==n).map(n=>((i,r)=>{switch(r){case jr.Trade:return i.tradePoints||0;case jr.Strength:return i.strengthPoints||0}})(n,r)).reduce((n,l)=>n+l,0),Ap=(0,y.P1)(zt,i=>[mt,_t].map(r=>i.filter(n=>n.domainId===r&&n.cardType===Dt&&!bp(n,i)).reduce((n,l)=>n+l.availableResources,0))),Zy=(0,y.P1)(zt,i=>[mt,_t].map(r=>i.filter(n=>n.domainId===r&&n.cardType===Dt&&void 0!==n.cardId&&(qn.get(n.cardId)?.type===$e.GoldMine||qn.get(n.cardId)?.type===$e.Pasture)&&!bp(n,i)))),Dl=(i,r,n)=>void 0!==Ku(i,r).find(d=>void 0!==d.cardId&&Ky(d.cardId,n)),Ky=(i,r)=>{const n=kn.get(i)?.name;switch(r){case $e.ClayPit:return n===ut.Brickyard;case $e.Forest:return n===ut.Sawmill;case $e.Field:return n===ut.Mill;case $e.StoneQuarry:return n===ut.Foundry;case $e.Pasture:return n===ut.Weaving;case $e.GoldMine:return!1}},bp=(i,r)=>void 0!==Ku(i,r).find(l=>void 0!==l.cardId&&kn.get(l.cardId)?.name===ut.Warehouse),zy=(i,r,n)=>Ku(i,r).filter(d=>void 0!==d.cardId&&(kn.get(d.cardId)?.name===ut.Warehouse||kn.get(d.cardId)?.name===ut.Monastery)).length===n,Ku=(i,r)=>r.filter(n=>n.domainId===i.domainId&&(n.col===i.col-1||n.col===i.col+1)&&(i.row<0?n.row<0:n.row>=0));let Mp=(()=>{class i{constructor(n,l){this.actions$=n,this.domainsCardsStore=l,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(sp),(0,ae.U)(()=>Ly({domainsCards:[Xe(Le(),mt,tn,Vu,0,0),Xe(Le(),mt,tn,ml,-1,0),Xe(Le(),mt,Ur,void 0,-2,0),Xe(Le(),mt,tn,Bu,1,0),Xe(Le(),mt,Ur,void 0,2,0),Xe(Le(),mt,Dt,tp,-2,-1,1),Xe(Le(),mt,Dt,np,-2,1,1),Xe(Le(),mt,fn,void 0,-1,1),Xe(Le(),mt,Dt,ll,0,1,0),Xe(Le(),mt,fn,void 0,1,1),Xe(Le(),mt,Dt,Mu,2,1,1),Xe(Le(),mt,Dt,Tu,2,-1,1),Xe(Le(),mt,fn,void 0,1,-1),Xe(Le(),mt,Dt,Iu,0,-1,1),Xe(Le(),mt,fn,void 0,-1,-1),Xe(Le(),_t,tn,Uu,0,0),Xe(Le(),_t,tn,Hu,-1,0),Xe(Le(),_t,Ur,void 0,-2,0),Xe(Le(),_t,tn,ju,1,0),Xe(Le(),_t,Ur,void 0,2,0),Xe(Le(),_t,Dt,Pu,-2,-1,1),Xe(Le(),_t,Dt,rp,-2,1,1),Xe(Le(),_t,fn,void 0,-1,1),Xe(Le(),_t,Dt,Fu,0,1,0),Xe(Le(),_t,fn,void 0,1,1),Xe(Le(),_t,Dt,Rs,2,1,1),Xe(Le(),_t,Dt,cl,2,-1,1),Xe(Le(),_t,fn,void 0,1,-1),Xe(Le(),_t,Dt,Ln,0,-1,1),Xe(Le(),_t,fn,void 0,-1,-1)]})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(Oo),Oi({run:()=>hl({domainsCards:[]}),onError:(d,h)=>(console.error("Error",h),pl({error:h}))}))),this.increaseResourcesForDie$=Ze(()=>this.actions$.pipe(Qe(ky),(0,Yn.b)(d=>dl({increaseOne:this.domainsCardsStore.pipe((0,y.Ys)(XC(d.die)),(0,jt.q)(1)),increaseTwo:this.domainsCardsStore.pipe((0,y.Ys)(ew(d.die)),(0,jt.q)(1))})),(0,ae.U)(({increaseOne:d,increaseTwo:h})=>{const _=this.updatesAvailableResources(d,1),D=this.updatesAvailableResources(h,2);return Ls({updates:[..._,...D]})}))),this.increaseResourcesAuspiciousYear$=Ze(()=>this.actions$.pipe(Qe(Nu),(0,fl.M)(this.domainsCardsStore.select(Wy)),(0,ae.U)(([d,[h,_,D,S]])=>{const R=this.updatesAvailableResources(h,Gy),$=this.updatesAvailableResources(_,Jn),Y=this.updatesAvailableResources(D,yl),_e=this.updatesAvailableResources(S,vl);return Ls({updates:[...R,...$,...Y,..._e]})}))),this.lockResource$=Ze(()=>this.actions$.pipe(Qe(xu),(0,Yn.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,ae.U)(h=>{if(0===h.availableResources)throw new Error(`Can't lock unavailable resource for pivot ${h.id}.`);if(h.lockedResources===Math.max(...Ri))throw new Error(`Can't lock more resources for pivot ${h.id}.`);return No({update:{id:h.id,changes:{availableResources:h.availableResources-1,lockedResources:h.lockedResources+1}}})}),(0,zn.K)(h=>(0,_r.of)(Ro({error:h.message}))))))),this.unlockResources$=Ze(()=>this.actions$.pipe(Qe(xo),(0,Yn.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,ae.U)(h=>{if(h.availableResources+h.lockedResources>Math.max(...Ri))throw new Error(`Shouldn't have been able to lock so many resources for pivot ${h.id}.`);return No({update:{id:h.id,changes:{availableResources:h.availableResources+h.lockedResources,lockedResources:0}}})}),(0,zn.K)(h=>(0,_r.of)(Ro({error:h.message}))))))),this.useLockedResources$=Ze(()=>this.actions$.pipe(Qe(lp),(0,fl.M)(this.domainsCardsStore.select(Vs)),(0,ae.U)(([d,h])=>{const _=h.map(D=>({id:D.id,changes:{lockedResources:0}}));return Ls({updates:_})}))),this.giveLockedResources$=Ze(()=>this.actions$.pipe(Qe(gl),(0,fl.M)(this.domainsCardsStore.select(Vs)),(0,Yn.b)(([d,h])=>this.domainsCardsStore.pipe((0,y.Ys)(vp),(0,jt.q)(1),(0,ae.U)(_=>{if(0===h.length)throw new Error("Can't give locked resources if no pivots with locked resources.");const S=this.getLandCardFromPivot(h[0]);let R=0;h.forEach(Ee=>{if(this.getLandCardFromPivot(Ee).type!==S.type)throw new Error("Can't give locked resources of different types.");R+=Ee.lockedResources});const $=h.map(Ee=>({id:Ee.id,changes:{lockedResources:0}}));if(1!==_.length)throw new Error("Can't give locked resources if no pivot or more than one pivot selected.");const Y=_[0];if(this.getLandCardFromPivot(Y).type!==S.type)throw new Error("Can't give locked resources to pivot of different type.");const he=Y.availableResources+R;if(he>Math.max(...Ri))throw new Error("Can't give so many locked resources to selected pivot.");return Ls({updates:[...$,{id:Y.id,changes:{availableResources:he}}]})}),(0,zn.K)(_=>(0,_r.of)(Ro({error:_.message}))))))),this.increaseResources$=Ze(()=>this.actions$.pipe(Qe(op),(0,Yn.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,ae.U)(h=>{if(h.availableResources===Math.max(...Ri))throw new Error(`Can't increase available resources beyond maximum for pivot ${h.id}.`);return No({update:{id:h.id,changes:{availableResources:h.availableResources+1}}})}),(0,zn.K)(h=>(0,_r.of)(Ro({error:h.message}))))))),this.putCardInPivot$=Ze(()=>this.actions$.pipe(Qe(up),(0,ae.U)(d=>No({update:{id:d.id,changes:{cardType:d.cardType,cardId:d.cardId}}})))),this.createCard$=Ze(()=>this.actions$.pipe(Qe(Ru),(0,ae.U)(({domainId:d,cardType:h,cardId:_,col:D,row:S})=>{const R=Xe(Le(),d,h,_,D,S);return ap({domainCard:R})}))),this.countStealResources$=Ze(()=>this.actions$.pipe(Qe(Lu),(0,fl.M)(this.domainsCardsStore.select(Ap),this.domainsCardsStore.select(Zy)),(0,ae.U)(([d,[h,_],[D,S]])=>{let $=[];return h>7&&($=[...$,...D]),_>7&&($=[...$,...S]),$}),(0,ae.U)(d=>{const h=d.map(_=>({id:_.id,changes:{availableResources:0}}));return Ls({updates:h})}))),this.updatesAvailableResources=(d,h)=>[...d.filter(S=>S.availableResources<Math.max(...Ri)-h).map(S=>({id:S.id,changes:{availableResources:S.availableResources+h}})),...d.filter(S=>S.availableResources>=Math.max(...Ri)-h&&S.availableResources<Math.max(...Ri)).map(S=>({id:S.id,changes:{availableResources:Math.max(...Ri)}}))]}takeOneDefinedPivotOrThrow(n){return this.domainsCardsStore.pipe((0,y.Ys)((i=>(0,y.P1)(zt,r=>r.find(n=>n.cardType===Dt&&n.id===i)))(n)),(0,ae.U)(l=>{if(void 0===l)throw new Error("Couldn't find land card pivot for id.");return l}),(0,jt.q)(1))}getLandCardFromPivot(n){if(void 0===n.cardId)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");const l=qn.get(n.cardId);if(void 0===l)throw new Error("Something went wrong, land shouldn't be undefined at this point.");return l}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni),o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),ko=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)($y)),this.allDomainsCards$=this.store.pipe((0,y.Ys)(zt)),this.selectedDomainsCards$=this.store.pipe((0,y.Ys)(vp))}initNewGame(){this.store.dispatch(sp())}initSavedGame(){this.store.dispatch(Oo())}lockResource(n){this.store.dispatch(xu({id:n}))}unlockResources(n){this.store.dispatch(xo({id:n}))}increaseResources(n){this.store.dispatch(op({id:n}))}increaseResourcesForDie(n){this.store.dispatch(ky({die:n}))}increaseResourcesForAuspiciousYear(){this.store.dispatch(Nu())}useLockedResources(){this.store.dispatch(lp())}giveLockedResources(){this.store.dispatch(gl())}toggleDomainCardSelection(n){this.store.dispatch(cp({id:n}))}clearDomainCardSelection(){this.store.dispatch(Ot())}putCardInSlot(n,l,d){this.store.dispatch(up({id:n,cardType:l,cardId:d}))}createAvailableDomainCard(n,l,d,h){this.store.dispatch(Ru({domainId:n,cardType:l,cardId:void 0,col:d,row:h}))}countAndStealUnprotectedGoldAndWool(){this.store.dispatch(Lu())}swapSelectedCards(){this.store.dispatch(dp())}removeDomainCard(n){this.store.dispatch(fp({id:n}))}getDomainMinCol(n){return this.store.select((i=>(0,y.P1)(zt,r=>Math.min(...r.filter(n=>n.domainId===i).map(n=>n.col))))(n))}getDomainMaxCol(n){return this.store.select((i=>(0,y.P1)(zt,r=>Math.max(...r.filter(n=>n.domainId===i).map(n=>n.col))))(n))}getDomainMinRow(n){return this.store.select((i=>(0,y.P1)(zt,r=>Math.min(...r.filter(n=>n.domainId===i).map(n=>n.row))))(n))}getDomainMaxRow(n){return this.store.select((i=>(0,y.P1)(zt,r=>Math.max(...r.filter(n=>n.domainId===i).map(n=>n.row))))(n))}getMasteryDomainForType(n){return this.store.select((i=>(0,y.P1)(zt,r=>{const n=r.filter(_=>_.domainId===mt),l=r.filter(_=>_.domainId===_t);return((i,r)=>i>r&&i>2?mt:r>i&&r>2?_t:void 0)(Ui(n,i),Ui(l,i))}))(n))}getCardsVictoryPointsForDomain(n){return this.store.select((i=>(0,y.P1)(zt,r=>r.filter(n=>n.domainId===i&&void 0!==n.cardId).map(n=>{switch(n.cardType){case tn:return Vi.get(n.cardId)?.victoryPoints||0;case Et:return kn.get(n.cardId)?.victoryPoints||0;default:return 0}}).reduce((n,l)=>n+l,0)))(n))}getMerchantShipCountForDomain(n){return this.store.select((i=>(0,y.P1)(zt,r=>r.filter(n=>n.domainId===i&&void 0!==n.cardId).map(n=>kn.get(n.cardId)).filter(n=>void 0!==n).filter(n=>n.type===Bi.Ship).length))(n))}getCelebrationPointsForDomain(n){return this.store.select((i=>(0,y.P1)(zt,r=>r.filter(n=>n.domainId===i&&void 0!==n.cardId).map(n=>kn.get(n.cardId)).filter(n=>void 0!==n).map(n=>n.celebrationPoints||0).reduce((n,l)=>n+l,0)))(n))}hasDomainCommunityCenter(n){return this.store.select((i=>(0,y.P1)(zt,r=>r.filter(n=>n.domainId===i&&void 0!==n.cardId).map(n=>kn.get(n.cardId)).filter(n=>void 0!==n).filter(n=>n.name===ut.CommunityCenter).length>0))(n))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Yu=(0,y.PH)("[Start Page] Init EventsPileCards New Game"),qu=(0,y.PH)("[Start Page] Init EventsPileCards Saved Game"),Qu=(0,y.PH)("[EventsPileCards/API] Load EventsPileCards Success",(0,y.Ky)()),Ju=(0,y.PH)("[EventsPileCards/API] Load EventsPileCards Failure",(0,y.Ky)()),si=(0,y.PH)("[Game Rules] Reset Events Pile"),Xu=(0,y.PH)("[EventsPileCards] Select First Events Pile Card"),ed=(0,y.PH)("[EventsPileCards] Remove Selected Events Pile Card"),Tp=(0,y.PH)("[EventsPileCards] Set Entities Select First EventsPileCards",(0,y.Ky)()),td=(0,y.PH)("[EventsPileCards] Set EventsPileCards Initialized Status",(0,y.Ky)()),El=(0,y.PH)("[EventsPileCards] Set EventsPileCards Error",(0,y.Ky)()),nd=((0,y.PH)("[EventsPileCards] Select Events Pile Card",(0,y.Ky)()),(0,y.PH)("[EventsPileCards] Unselect Events Pile Card"),(0,y.PH)("[EventsPileCards] Remove Events Pile Card",(0,y.Ky)()),"DevelopmentCard"),Xn=(i,r,n)=>({interface:nd,id:i,name:r,ruleIds:n});var Yt=(()=>{return(i=Yt||(Yt={})).Festival="Festival",i.AuspiciousYear="Auspicious year",i.Hawker="Hawker",i.Invention="Invention",i.MerchantShipTravel="Merchant ship travel",i.Quarrel="Quarrel",i.SiblingRivalry="Sibling rivalry",Yt;var i})();const Hi=new Map([["EVENT_0",Xn("EVENT_0",Yt.Festival,[])],["EVENT_1",Xn("EVENT_1",Yt.AuspiciousYear,[])],["EVENT_2",Xn("EVENT_2",Yt.AuspiciousYear,[])],["EVENT_3",Xn("EVENT_3",Yt.Hawker,[])],["EVENT_4",Xn("EVENT_4",Yt.Hawker,[])],["EVENT_5",Xn("EVENT_5",Yt.Invention,[])],["EVENT_6",Xn("EVENT_6",Yt.MerchantShipTravel,[])],["EVENT_7",Xn("EVENT_7",Yt.Quarrel,[])],["EVENT_8",Xn("EVENT_8",Yt.SiblingRivalry,[])]]);var Ip=E(9763),Vo=E.n(Ip);const Cl=()=>{const r=Vo()(Array.from(Hi.keys()).slice(1));return r.splice(-3,0,"EVENT_0"),r.map(l=>((i,r)=>({id:i,cardId:r}))(Le(),l))};let Bo=(()=>{class i{constructor(n,l){this.actions$=n,this.eventsPileCardsStore=l,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(Yu),(0,ae.U)(()=>td({eventsPileCards:Cl()})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(qu),Oi({run:()=>Qu({eventsPileCards:[]}),onError:(d,h)=>(console.error("Error",h),Ju({error:h}))}))),this.resetPileAndSelectFirst$=Ze(()=>this.actions$.pipe(Qe(si),(0,ae.U)(()=>Tp({eventsPileCards:Cl()}))))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni),o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Fp="eventsPileCards",ji=Os(),ev=ji.getInitialState({initialized:!1,loaded:!1}),tv=(0,y.Lq)(ev,(0,y.on)(Yu,i=>({...i,initialized:!1,selectedId:void 0})),(0,y.on)(qu,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)(Qu,(i,{eventsPileCards:r})=>ji.setAll(r,{...i,loaded:!0})),(0,y.on)(Ju,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(El,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(td,(i,{eventsPileCards:r})=>ji.setAll(r,{...i,initialized:!0})),(0,y.on)(Tp,(i,{eventsPileCards:r})=>ji.setAll(r,{...i,selectedId:r[0].id})),(0,y.on)(Xu,i=>({...i,selectedId:i.ids[0]})),(0,y.on)(ed,i=>{const r={...i,selectedId:void 0};return void 0!==i.selectedId?ji.removeOne(i.selectedId,r):r})),Bs=(0,y.ZF)(Fp),{selectAll:rd,selectEntities:Op}=ji.getSelectors(),rw=(0,y.P1)(Bs,i=>i.loaded),rv=((0,y.P1)(Bs,i=>i.errorMsg),(0,y.P1)(Bs,i=>rd(i))),Np=(0,y.P1)(Bs,i=>Op(i)),iv=(0,y.P1)(Bs,i=>i.selectedId),sv=(0,y.P1)(Np,iv,(i,r)=>{if(void 0!==r)return i[r]});let On=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(rw)),this.allEventsPileCards$=this.store.pipe((0,y.Ys)(rv)),this.selectedEventsPileCards$=this.store.pipe((0,y.Ys)(sv))}initNewGame(){this.store.dispatch(Yu())}initSavedGame(){this.store.dispatch(qu())}resetEventsPile(){this.store.dispatch(si())}selectFirst(){this.store.dispatch(Xu())}removeSelected(){this.store.dispatch(ed())}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const id=(0,y.PH)("[Start Page] Init FaceUpPilesCards New Game"),wl=(0,y.PH)("[Start Page] Init FaceUpPilesCards Saved Game"),xp=(0,y.PH)("[FaceUpPilesCards/API] Load FaceUpPilesCards Success",(0,y.Ky)()),Rp=(0,y.PH)("[FaceUpPilesCards/API] Load FaceUpPilesCards Failure",(0,y.Ky)()),Lp=(0,y.PH)("[FaceUpPilesCards] Set FaceUpPilesCards On Init",(0,y.Ky)()),kp=(0,y.PH)("[FaceUpPilesCards] Remove FaceUpPileCard",(0,y.Ky)()),sd=(0,y.PH)("[FaceUpPilesCards] Select FirstCardFromFaceUpPile",(0,y.Ky)()),Vp=(0,y.PH)("[FaceUpPilesCards] Select Face Up Pile Card",(0,y.Ky)()),ov=(0,y.PH)("[FaceUpPilesCards] Unselect Face Up Pile Card"),Bp=(0,y.PH)("[FaceUpPilesCards] Set FaceUpPilesCards Error",(0,y.Ky)()),Oe="FACE_UP_ROAD",Us="FACE_UP_HAMLET",Hs="FACE_UP_TOWN",Up=[Oe,Us,Hs],od=(i,r,n)=>({id:i,pileId:r,cardId:n}),ad="faceUpPilesCards",Uo=Os(),Hp=Uo.getInitialState({initialized:!1,loaded:!1}),lv=(0,y.Lq)(Hp,(0,y.on)(id,i=>({...i,initialized:!1})),(0,y.on)(wl,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)(xp,(i,{faceUpPilesCards:r})=>Uo.setAll(r,{...i,loaded:!0})),(0,y.on)(Rp,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(Lp,(i,{faceUpPilesCards:r})=>Uo.setAll(r,{...i,initialized:!0})),(0,y.on)(Vp,(i,{id:r})=>({...i,selectedId:r})),(0,y.on)(ov,i=>({...i,selectedId:void 0})),(0,y.on)(kp,(i,{id:r})=>Uo.removeOne(r,i)),(0,y.on)(Bp,(i,{error:r})=>({...i,errorMsg:r}))),Ho=(0,y.ZF)(ad),{selectAll:iw,selectEntities:jp}=Uo.getSelectors(),$p=(0,y.P1)(Ho,i=>i.loaded),jo=((0,y.P1)(Ho,i=>i.errorMsg),(0,y.P1)(Ho,i=>iw(i))),Gp=(0,y.P1)(Ho,i=>jp(i)),ld=(0,y.P1)(Ho,i=>i.selectedId),ow=(0,y.P1)(Gp,ld,(i,r)=>{if(void 0!==r)return i[r]}),$o=i=>(0,y.P1)(jo,r=>r.filter(n=>n.pileId===i));let Zp=(()=>{class i{constructor(n,l){this.actions$=n,this.faceUpPilesCardsStore=l,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(id),(0,ae.U)(()=>Lp({faceUpPilesCards:[...Array.from(Vi.values()).filter(l=>l.type===ii.Road&&void 0===l.color).map(l=>od(Le(),Oe,l.id)),...Array.from(Vi.values()).filter(l=>l.type===ii.Hamlet&&void 0===l.color).map(l=>od(Le(),Us,l.id)),...Array.from(Vi.values()).filter(l=>l.type===ii.Town&&void 0===l.color).map(l=>od(Le(),Hs,l.id))]})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(wl),Oi({run:()=>xp({faceUpPilesCards:[]}),onError:(d,h)=>(console.error("Error",h),Rp({error:h}))}))),this.selectFirst$=Ze(()=>this.actions$.pipe(Qe(sd),(0,Yn.b)(d=>this.faceUpPilesCardsStore.pipe((0,y.Ys)((i=>(0,y.P1)(jo,r=>r.find(n=>n.pileId===i)))(d.pileId)),(0,ae.U)(h=>{if(void 0===h)throw new Error("Can't get first card in empty face up pile.");return h}),(0,jt.q)(1),(0,ae.U)(h=>Vp({id:h.id})),(0,zn.K)(h=>(0,_r.of)(Bp({error:h.message})))))))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni),o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Wr=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)($p)),this.allFaceUpPilesCards$=this.store.pipe((0,y.Ys)(jo)),this.selectedFaceUpPilesCards$=this.store.pipe((0,y.Ys)(ow)),this.allRoadPivots$=this.store.select($o(Oe)),this.allHamletPivots$=this.store.select($o(Us)),this.allTownPivots$=this.store.select($o(Hs))}initNewGame(){this.store.dispatch(id())}initSavedGame(){this.store.dispatch(wl())}removeFaceUpPileCard(n){this.store.dispatch(kp({id:n}))}selectFirstCardFromFaceUpPile(n){this.store.dispatch(sd({pileId:n}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const zp=[1,2,3,4,5,6];var Vn=(()=>{return(i=Vn||(Vn={})).Thieves="THIEVES",i.Trade="TRADE",i.Celebration="CELEBRATION",i.Harvest="HARVEST",i.Event="EVENT",Vn;var i})();function Go(){return Math.floor(6*Math.random()+1)}const js=(0,y.PH)("[Start Page] Init New Game"),dd=(0,y.PH)("[Game] Set Phase",(0,y.Ky)()),Al=(0,y.PH)("[Game] Set Player",(0,y.Ky)()),Yp=(0,y.PH)("[Game] Set Action",(0,y.Ky)()),qp=(0,y.PH)("[Dice Component] Throw Dice"),bl=(0,y.PH)("[Dice Component] Throw Production Die"),oi=(0,y.PH)("[Dice Component] Throw Event Die"),fd=(0,y.PH)("[Dice] Set Production Die",(0,y.Ky)()),hd=(0,y.PH)("[Dice] Set Next Production Die",(0,y.Ky)()),pd=(0,y.PH)("[Dice] Set Event Die",(0,y.Ky)());var hn=(()=>{return(i=hn||(hn={})).InitialThrow="INITIAL THROW",i.InitialDraw="INITIAL DRAW",i.LoopThrow="LOOP THROW",i.LoopActions="LOOP ACTIONS",i.LoopDraw="LOOP DRAW",i.LoopExchange="LOOP EXCHANGE",hn;var i})();const gd={productionDie:void 0,nextProductionDie:void 0,eventDie:void 0,phase:hn.InitialThrow,player:Ke.Red,action:void 0},Qp=(0,y.Lq)(gd,(0,y.on)(js,()=>({...gd})),(0,y.on)(fd,(i,{value:r})=>({...i,productionDie:r})),(0,y.on)(hd,(i,{value:r})=>({...i,nextProductionDie:r})),(0,y.on)(pd,(i,{value:r})=>({...i,eventDie:r})),(0,y.on)(dd,(i,{phase:r})=>({...i,phase:r})),(0,y.on)(Al,(i,{player:r})=>({...i,player:r})),(0,y.on)(Yp,(i,{action:r})=>({...i,action:r}))),pn=(0,y.ZF)("game"),dv=(0,y.P1)(pn,i=>i.productionDie),Ml=(0,y.P1)(pn,i=>i.nextProductionDie),md=(0,y.P1)(pn,i=>i.eventDie),fv=(0,y.P1)(pn,i=>i.phase),lw=(0,y.P1)(pn,i=>i.player),cw=(0,y.P1)(pn,i=>i.action);let uw=(()=>{class i{constructor(n,l){this.actions$=n,this.gameStore=l,this.throwDice$=Ze(()=>this.actions$.pipe(Qe(qp),(0,Mo.w)(()=>[oi(),bl()]))),this.throwProduction$=Ze(()=>this.actions$.pipe(Qe(bl),(0,fl.M)(this.gameStore.select(Ml)),(0,ae.U)(([d,h])=>void 0!==h?h:function cd(){return Go()}()),(0,Mo.w)(d=>[fd({value:void 0}),fd({value:d}),hd({value:void 0})]))),this.throwEvent$=Ze(()=>this.actions$.pipe(Qe(oi),(0,ae.U)(()=>function ud(){return function uv(i){switch(i){case 1:case 2:return Vn.Event;case 3:return Vn.Thieves;case 4:return Vn.Trade;case 5:return Vn.Celebration;case 6:return Vn.Harvest}}(Go())}()),(0,Mo.w)(d=>[pd({value:void 0}),pd({value:d})])))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni),o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),_d=(()=>{class i{constructor(n){this.store=n,this.productionDie$=this.store.pipe((0,y.Ys)(dv)),this.nextProductionDie$=this.store.pipe((0,y.Ys)(Ml)),this.eventDie$=this.store.pipe((0,y.Ys)(md)),this.phase$=this.store.pipe((0,y.Ys)(fv)),this.player$=this.store.pipe((0,y.Ys)(lw)),this.action$=this.store.pipe((0,y.Ys)(cw))}initNewGame(){this.store.dispatch(js())}throwDice(){this.store.dispatch(qp())}throwProductionDie(){this.store.dispatch(bl())}setNextProductionDie(n){this.store.dispatch(hd({value:n}))}throwEventDie(){this.store.dispatch(oi())}setPhase(n){this.store.dispatch(dd({phase:n}))}setPlayer(n){this.store.dispatch(Al({player:n}))}setAction(n){this.store.dispatch(Yp({action:n}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Tl=(0,y.PH)("[Start Page] Init HandsCards New Game"),Jp=(0,y.PH)("[Start Page] Init HandsCards Saved Game"),Xp=(0,y.PH)("[HandsCards/API] Load HandsCards Success",(0,y.Ky)()),$i=(0,y.PH)("[HandsCards/API] Load HandsCards Failure",(0,y.Ky)()),eg=(0,y.PH)("[HandsCards] Set HandsCards On Init",(0,y.Ky)()),yd=(0,y.PH)("[HandsCards] Add Cards To Hand",(0,y.Ky)()),Wo=(0,y.PH)("[HandsCards] Add HandsCards",(0,y.Ky)()),hv=(0,y.PH)("[HandsCards] Set HandsCards Error",(0,y.Ky)()),vd=(0,y.PH)("[HandsCards] Select Hand Card",(0,y.Ky)()),tg=(0,y.PH)("[HandsCards] Unselect Hand Card"),ng=(0,y.PH)("[HandsCards] Remove HandCard",(0,y.Ky)());let gv=(()=>{class i{constructor(n){this.actions$=n,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(Tl),(0,ae.U)(()=>eg({handsCards:[]})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(Jp),Oi({run:()=>Xp({handsCards:[]}),onError:(l,d)=>(console.error("Error",d),$i({error:d}))}))),this.addCards$=Ze(()=>this.actions$.pipe(Qe(yd),(0,ae.U)(({handId:l,cards:d})=>d.map(h=>((i,r,n,l)=>({id:i,handId:r,cardType:n,cardId:l}))(Le(),l,h.type,h.id))),(0,ae.U)(l=>Wo({handsCards:l}))))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const rg="handsCards",Gi=Os(),mv=Gi.getInitialState({initialized:!1,loaded:!1}),ig=(0,y.Lq)(mv,(0,y.on)(Tl,i=>({...i,initialized:!1})),(0,y.on)(Jp,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)(Xp,(i,{handsCards:r})=>Gi.setAll(r,{...i,loaded:!0})),(0,y.on)($i,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(eg,(i,{handsCards:r})=>Gi.setAll(r,{...i,initialized:!0})),(0,y.on)(Wo,(i,{handsCards:r})=>Gi.addMany(r,i)),(0,y.on)(hv,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(vd,(i,{id:r})=>({...i,selectedId:r})),(0,y.on)(tg,i=>({...i,selectedId:void 0})),(0,y.on)(ng,(i,{id:r})=>Gi.removeOne(r,i))),$s=(0,y.ZF)(rg),{selectAll:Dd,selectEntities:dw}=Gi.getSelectors(),Ed=(0,y.P1)($s,i=>i.loaded),hw=((0,y.P1)($s,i=>i.errorMsg),(0,y.P1)($s,i=>Dd(i))),Gs=(0,y.P1)($s,i=>dw(i)),_v=(0,y.P1)($s,i=>i.selectedId),yv=(0,y.P1)(Gs,_v,(i,r)=>{if(void 0!==r)return i[r]});let Cd=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Ed)),this.allHandsCards$=this.store.pipe((0,y.Ys)(hw)),this.selectedHandsCards$=this.store.pipe((0,y.Ys)(yv))}initNewGame(){this.store.dispatch(Tl())}initSavedGame(){this.store.dispatch(Jp())}addCardsToHand(n,l){this.store.dispatch(yd({handId:n,cards:l}))}selectHandCard(n){this.store.dispatch(vd({id:n}))}unselectHandCard(){this.store.dispatch(tg())}removeHandCard(n){this.store.dispatch(ng({id:n}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Zo=(0,y.PH)("[Start Page] Init LandsPileCards New Game"),sg=(0,y.PH)("[Start Page] Init LandsPileCards Saved Game"),vv=(0,y.PH)("[LandsPileCards/API] Load LandsPileCards Success",(0,y.Ky)()),Il=(0,y.PH)("[LandsPileCards/API] Load LandsPileCards Failure",(0,y.Ky)()),Dv=(0,y.PH)("[LandsPileCards] Set LandsPileCards On Init",(0,y.Ky)()),pw=(0,y.PH)("[LandsPileCards] Set LandsPileCards Error",(0,y.Ky)()),Ev=(0,y.PH)("[LandsPileCards] Select LandsPileCard",(0,y.Ky)()),Cv=(0,y.PH)("[LandsPileCards] Remove LandsPileCard",(0,y.Ky)());let wd=(()=>{class i{constructor(n){this.actions$=n,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(Zo),(0,ae.U)(()=>Dv({landsPileCards:Vo()(Array.from(qn.keys())).map(n=>({id:Le(),cardId:n}))})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(sg),Oi({run:()=>vv({landsPileCards:[]}),onError:(l,d)=>(console.error("Error",d),Il({error:d}))})))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Ad="landsPileCards",Ko=Os(),ag=Ko.getInitialState({initialized:!1,loaded:!1}),lg=(0,y.Lq)(ag,(0,y.on)(Zo,i=>({...i,initialized:!1})),(0,y.on)(sg,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)(vv,(i,{landsPileCards:r})=>Ko.setAll(r,{...i,loaded:!0})),(0,y.on)(Il,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(Dv,(i,{landsPileCards:r})=>Ko.setAll(r,{...i,initialized:!0})),(0,y.on)(pw,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(Ev,(i,{id:r})=>({...i,selectedId:r})),(0,y.on)(Cv,(i,{id:r})=>Ko.removeOne(r,i))),ai=(0,y.ZF)(Ad),{selectAll:er,selectEntities:cg}=Ko.getSelectors(),wv=(0,y.P1)(ai,i=>i.loaded),Zr=((0,y.P1)(ai,i=>i.errorMsg),(0,y.P1)(ai,i=>er(i))),bd=(0,y.P1)(ai,i=>cg(i)),dg=(0,y.P1)(ai,i=>i.selectedId),Sd=(0,y.P1)(bd,dg,(i,r)=>{if(void 0!==r)return i[r]});let fg=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(wv)),this.allLandsPileCards$=this.store.pipe((0,y.Ys)(Zr)),this.selectedLandsPileCards$=this.store.pipe((0,y.Ys)(Sd))}initNewGame(){this.store.dispatch(Zo())}initSavedGame(){this.store.dispatch(sg())}selectLandsPileCard(n){this.store.dispatch(Ev({id:n}))}removeLandsPileCard(n){this.store.dispatch(Cv({id:n}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();const Pl=(0,y.PH)("[Start Page] Init StockPilesCards New Game"),hg=(0,y.PH)("[Start Page] Init StockPilesCards Saved Game"),zo=(0,y.PH)("[StockPilesCards/API] Load StockPilesCards Success",(0,y.Ky)()),Yo=(0,y.PH)("[StockPilesCards/API] Load StockPilesCards Failure",(0,y.Ky)()),Fl=(0,y.PH)("[StockPilesCards] Set StockPilesCards On Init",(0,y.Ky)()),Ol=(0,y.PH)("[StockPilesCards] Remove Cards From Stock Pile Top",(0,y.Ky)()),Nl=(0,y.PH)("[StockPilesCards] Add Cards To Stock Pile Bottom",(0,y.Ky)()),Av=(0,y.PH)("[StockPilesCards] Remove StockPilesCards",(0,y.Ky)()),pg=(0,y.PH)("[StockPilesCards] Add StockPilesCards",(0,y.Ky)()),bv=(0,y.PH)("[StockPilesCards] Set StockPilesCards Error",(0,y.Ky)()),qo="ActionCard",Kr=(i,r,n)=>({interface:qo,id:i,name:r,ruleIds:n});var Bn=(()=>{return(i=Bn||(Bn={})).Soothsayer="Soothsayer",i.Pathfinder="Pathfinder",i.Goldsmith="Goldsmith",i.TradeRoute="Trade route",i.Relocation="Relocation",Bn;var i})();const Md=new Map([["ACTION_1",Kr("ACTION_1",Bn.Soothsayer,[])],["ACTION_2",Kr("ACTION_2",Bn.Soothsayer,[])],["ACTION_3",Kr("ACTION_3",Bn.Pathfinder,[])],["ACTION_4",Kr("ACTION_4",Bn.Pathfinder,[])],["ACTION_5",Kr("ACTION_5",Bn.Goldsmith,[])],["ACTION_6",Kr("ACTION_6",Bn.Goldsmith,[])],["ACTION_7",Kr("ACTION_7",Bn.TradeRoute,[])],["ACTION_8",Kr("ACTION_8",Bn.TradeRoute,[])],["ACTION_9",Kr("ACTION_9",Bn.Relocation,[])]]),Td=["STOCK_1","STOCK_2","STOCK_3","STOCK_4"],Id=(i,r,n,l)=>({id:i,pileId:r,cardType:n,cardId:l}),gg=()=>{const i=[],r=Vo()([...Array.from(Md.values()),...Array.from(kn.values())]);for(let n=0;n<Td.length;n++){const l=Math.ceil(r.length/Td.length);for(let d=0;d<l;d++){const h=n*l+d;if(h>=r.length)break;i.push(Id(Le(),Td[n],r[h].interface,r[h].id))}}return i},mg="stockPilesCards",li=Os(),mw=li.getInitialState({initialized:!1,loaded:!1}),_w=(0,y.Lq)(mw,(0,y.on)(Pl,i=>({...i,initialized:!1})),(0,y.on)(hg,i=>({...i,loaded:!1,errorMsg:void 0})),(0,y.on)(zo,(i,{stockPilesCards:r})=>li.setAll(r,{...i,loaded:!0})),(0,y.on)(Yo,(i,{error:r})=>({...i,errorMsg:r})),(0,y.on)(Fl,(i,{stockPilesCards:r})=>li.setAll(r,{...i,initialized:!0})),(0,y.on)(Av,(i,{ids:r})=>li.removeMany(r,i)),(0,y.on)(pg,(i,{stockPilesCards:r})=>li.addMany(r,i)),(0,y.on)(bv,(i,{error:r})=>({...i,errorMsg:r}))),xl=(0,y.ZF)(mg),{selectAll:yw,selectEntities:vw}=li.getSelectors(),Dw=(0,y.P1)(xl,i=>i.loaded),Mv=((0,y.P1)(xl,i=>i.errorMsg),(0,y.P1)(xl,i=>yw(i))),Ew=(0,y.P1)(xl,i=>vw(i)),Cw=(0,y.P1)(xl,i=>i.selectedId),ci=(0,y.P1)(Ew,Cw,(i,r)=>{if(void 0!==r)return i[r]});let Tv=(()=>{class i{constructor(n,l){this.actions$=n,this.stockPilesCardsStore=l,this.initNewGame$=Ze(()=>this.actions$.pipe(Qe(Pl),(0,ae.U)(()=>Fl({stockPilesCards:gg()})))),this.initSavedGame$=Ze(()=>this.actions$.pipe(Qe(hg),Oi({run:()=>zo({stockPilesCards:[]}),onError:(d,h)=>(console.error("Error",h),Yo({error:h}))}))),this.removeCards$=Ze(()=>this.actions$.pipe(Qe(Ol),(0,Eo.zg)(d=>dl(d.cards.map(({type:h,id:_})=>this.stockPilesCardsStore.pipe((0,y.Ys)(((i,r,n)=>(0,y.P1)(Mv,l=>l.find(d=>d.pileId===i&&d.cardType===r&&d.cardId===n)))(d.pileId,h,_)),(0,jt.q)(1))))),(0,ae.U)(d=>d.filter(h=>void 0!==h).map(h=>h.id)),(0,ae.U)(d=>Av({ids:d})))),this.addCards$=Ze(()=>this.actions$.pipe(Qe(Nl),(0,ae.U)(({pileId:d,cards:h})=>h.map(_=>Id(Le(),d,_.type,_.id))),(0,ae.U)(d=>pg({stockPilesCards:d}))))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(ni),o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Rl=(()=>{class i{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Dw)),this.allStockPilesCards$=this.store.pipe((0,y.Ys)(Mv)),this.selectedStockPilesCards$=this.store.pipe((0,y.Ys)(ci))}initNewGame(){this.store.dispatch(Pl())}initSavedGame(){this.store.dispatch(hg())}removeCardsFromStockPileTop(n,l){this.store.dispatch(Ol({pileId:n,cards:l}))}addCardsToStockPileBottom(n,l){this.store.dispatch(Nl({pileId:n,cards:l}))}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(y.yh))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Fd=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[_d,ko,Cd,Wr,fg,Rl,On,Su],imports:[ph,y.Aw.forFeature("game",Qp),Vr.forFeature([uw]),y.Aw.forFeature(_p,yp),Vr.forFeature([Mp]),y.Aw.forFeature(rg,ig),Vr.forFeature([gv]),y.Aw.forFeature(ad,lv),Vr.forFeature([Bo]),y.Aw.forFeature(Ad,lg),Vr.forFeature([Zp]),y.Aw.forFeature(mg,_w),Vr.forFeature([Tv]),y.Aw.forFeature(Fp,tv),Vr.forFeature([wd]),y.Aw.forFeature(xy,Ns),Vr.forFeature([Py])]}),i})();const Od=(i,r)=>({id:i,color:r}),ui="HAND_RED",di="HAND_BLUE",zr=new Map([[ui,Od(ui,Ke.Red)],[di,Od(di,Ke.Blue)]]);function Nd(i){switch(i){case Ke.Red:return mt;case Ke.Blue:return _t;default:throw new Error(`Something went wrong, ${i} should be one of ${mt} or ${_t}.`)}}var xd=E(2866),Pv=E(826),_g=E(448),Fv=E(3009);const yg={};function wn(...i){let r,n;return(0,xd.K)(i[i.length-1])&&(n=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,ul.k)(i[0])&&(i=i[0]),(0,Fv.n)(i,n).lift(new Ws(r))}class Ws{constructor(r){this.resultSelector=r}call(r,n){return n.subscribe(new Rd(r,this.resultSelector))}}class Rd extends Pv.L{constructor(r,n){super(r),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(yg),this.observables.push(r)}_complete(){const r=this.observables,n=r.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let l=0;l<n;l++)this.add((0,_g.D)(this,r[l],void 0,l))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,n,l){const d=this.values,_=this.toRespond?d[l]===yg?--this.toRespond:this.toRespond:0;d[l]=n,0===_&&(this.resultSelector?this._tryResultSelector(d):this.destination.next(d.slice()))}_tryResultSelector(r){let n;try{n=this.resultSelector.apply(this,r)}catch(l){return void this.destination.error(l)}this.destination.next(n)}}var Dr=E(7625);let Qo=(()=>{class i{constructor(n,l,d,h,_,D,S,R){this.game=n,this.domainsCards=l,this.handsCards=d,this.faceUpPilesCards=h,this.landsPileCards=_,this.stockPilesCards=D,this.eventsPileCards=S,this.discardPileCards=R,this.gameEnded$=new mu.xQ,this.event$=this.game.eventDie$.pipe((0,Cn.h)($=>$===Vn.Event)),this.thieves$=this.game.eventDie$.pipe((0,Cn.h)($=>$===Vn.Thieves)),this.countAndSteal$=this.thieves$.pipe((0,Dr.R)(this.gameEnded$),(0,ae.U)(()=>{this.domainsCards.countAndStealUnprotectedGoldAndWool()})),this.selectFirstEvent$=this.event$.pipe((0,Dr.R)(this.gameEnded$),(0,ae.U)(()=>{this.eventsPileCards.selectFirst()})),this.auspiciousYear$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,Cn.h)($=>void 0!==$),(0,Cn.h)($=>Hi.get($.cardId)?.name===Yt.AuspiciousYear)),this.festival$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,Cn.h)($=>void 0!==$),(0,Cn.h)($=>Hi.get($.cardId)?.name===Yt.Festival)),this.increaseResourcesForDie$=this.game.productionDie$.pipe((0,Dr.R)(this.gameEnded$),(0,Cn.h)($=>void 0!==$),(0,ae.U)($=>this.domainsCards.increaseResourcesForDie($))),this.increaseResourcesForAuspiciousYear$=this.auspiciousYear$.pipe((0,Dr.R)(this.gameEnded$),(0,ae.U)(()=>this.domainsCards.increaseResourcesForAuspiciousYear())),this.resetEventsPileOnFestival$=this.festival$.pipe((0,Dr.R)(this.gameEnded$),(0,ae.U)(()=>this.eventsPileCards.resetEventsPile()))}initNewGame(){this.gameEnded$.next(),this.countAndSteal$.subscribe(),this.selectFirstEvent$.subscribe(),this.increaseResourcesForDie$.subscribe(),this.increaseResourcesForAuspiciousYear$.subscribe(),this.resetEventsPileOnFestival$.subscribe(),this.game.initNewGame(),this.domainsCards.initNewGame(),this.handsCards.initNewGame(),this.faceUpPilesCards.initNewGame(),this.landsPileCards.initNewGame(),this.stockPilesCards.initNewGame(),this.eventsPileCards.initNewGame(),this.discardPileCards.initNewGame()}getVictoryPointsForDomain(n){return wn([this.domainsCards.getCardsVictoryPointsForDomain(n),this.domainsCards.getMasteryDomainForType(jr.Trade),this.domainsCards.getMasteryDomainForType(jr.Strength)]).pipe((0,ae.U)(([l,d,h])=>l+(d===n?1:0)+(h===n?1:0)))}drawFirstCardsFromStockToHand(n,l,d){this.stockPilesCards.allStockPilesCards$.pipe((0,jt.q)(1),(0,ae.U)(h=>h.filter(_=>_.pileId===n).slice(0,l).map(_=>({type:_.cardType,id:_.cardId})))).subscribe(h=>{this.stockPilesCards.removeCardsFromStockPileTop(n,h),this.handsCards.addCardsToHand(d,h)})}drawCardFromStockToHand(n,l,d){this.stockPilesCards.allStockPilesCards$.pipe((0,jt.q)(1),(0,ae.U)(h=>{const _=h.find(D=>D.pileId===n&&D.cardId===l);if(void 0===_)throw new Error("Something went wrong, card shouldn't be undefined at this point.");return{type:_.cardType,id:_.cardId}})).subscribe(h=>{this.stockPilesCards.removeCardsFromStockPileTop(n,[h]),this.handsCards.addCardsToHand(d,[h])})}throwDice(){this.game.throwEventDie(),this.game.phase$.pipe((0,jt.q)(1)).subscribe(n=>{n!==hn.InitialThrow&&this.game.throwProductionDie()})}useResourcesToPutFaceUpPileCardInSlot(){this.domainsCards.useLockedResources(),wn([this.faceUpPilesCards.selectedFaceUpPilesCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,jt.q)(1),(0,ae.U)(([n,l])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==l.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=l[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");if(this.faceUpPilesCards.removeFaceUpPileCard(n.id),this.domainsCards.putCardInSlot(d.id,tn,n.cardId),n.pileId===Hs)this.domainsCards.createAvailableDomainCard(d.domainId,fn,d.col,Li.Lower),this.domainsCards.createAvailableDomainCard(d.domainId,fn,d.col,Li.Upper);else{const h=d.col<0?d.col-1:d.col+1;this.domainsCards.createAvailableDomainCard(d.domainId,Ur,h,Li.Middle),n.pileId===Us&&(this.domainsCards.createAvailableDomainCard(d.domainId,al,h,Li.Low),this.domainsCards.createAvailableDomainCard(d.domainId,al,h,Li.Up))}this.domainsCards.clearDomainCardSelection()})).subscribe()}useResourcesToPutHandCardInSlot(){this.domainsCards.useLockedResources(),wn([this.handsCards.selectedHandsCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,jt.q)(1),(0,ae.U)(([n,l])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==l.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=l[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.handsCards.removeHandCard(n.id),this.domainsCards.putCardInSlot(d.id,Et,n.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putLandsPileCardInSlot(){wn([this.landsPileCards.selectedLandsPileCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,jt.q)(1),(0,ae.U)(([n,l])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==l.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=l[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.landsPileCards.removeLandsPileCard(n.id),this.domainsCards.putCardInSlot(d.id,Dt,n.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putBackFromHandToStockPile(n){this.handsCards.selectedHandsCards$.pipe((0,jt.q)(1),(0,ae.U)(l=>{if(void 0===l)throw new Error("Can't put card in pile if no card selected.");this.handsCards.removeHandCard(l.id),this.handsCards.unselectHandCard(),this.stockPilesCards.addCardsToStockPileBottom(n,[{type:l.cardType,id:l.cardId}])})).subscribe()}putBackFromDomainToStockPile(n){this.domainsCards.selectedDomainsCards$.pipe((0,jt.q)(1),(0,ae.U)(l=>{if(1!==l.length)throw new Error("Can't put card in pile if no card or more than one card selected.");const d=l[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");const h=d.cardType;if(h!==Et)throw new Error("Can't put back card of type other than development.");const _=d.cardId;if(void 0===_)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");this.domainsCards.removeDomainCard(d.id),this.domainsCards.createAvailableDomainCard(d.domainId,fn,d.col,d.row),this.domainsCards.clearDomainCardSelection(),this.stockPilesCards.addCardsToStockPileBottom(n,[{type:h,id:_}])})).subscribe()}useActionCard(){this.handsCards.selectedHandsCards$.pipe((0,jt.q)(1),(0,ae.U)(n=>{if(void 0===n)throw new Error("Can't put card in pile if no card selected.");if(n.cardType!==qo||void 0===n.cardId)throw new Error("Can't use card other than action.");const l=Md.get(n.cardId);if(void 0===l)throw new Error("Something went wrong, action shouldn't be undefined at this point.");this.handsCards.removeHandCard(n.id),this.handsCards.unselectHandCard(),this.game.setAction(l.name),this.discardPileCards.addCardToDiscardPile({type:n.cardType,id:n.cardId})})).subscribe()}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(_d),o.LFG(ko),o.LFG(Cd),o.LFG(Wr),o.LFG(fg),o.LFG(Rl),o.LFG(On),o.LFG(Su))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wi=(()=>{class i{constructor(n,l){this._renderer=n,this._elementRef=l,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(n,l){this._renderer.setProperty(this._elementRef.nativeElement,n,l)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.Qsj),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i}),i})(),Zi=(()=>{class i extends Wi{}return i.\u0275fac=function(){let r;return function(l){return(r||(r=o.n5z(i)))(l||i)}}(),i.\u0275dir=o.lG2({type:i,features:[o.qOj]}),i})();const tr=new o.OlP("NgValueAccessor"),Ld={provide:tr,useExisting:(0,o.Gpc)(()=>Vl),multi:!0},kl=new o.OlP("CompositionEventMode");let Vl=(()=>{class i extends Wi{constructor(n,l,d){super(n,l),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dg(){const i=W()?W().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(kl,8))},i.\u0275dir=o.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,l){1&n&&o.NdJ("input",function(h){return l._handleInput(h.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(h){return l._compositionEnd(h.target.value)})},features:[o._Bn([Ld]),o.qOj]}),i})();const qt=new o.OlP("NgValidators"),fi=new o.OlP("NgAsyncValidators");function Mg(i){return null!=i}function Tg(i){return(0,o.QGY)(i)?(0,vu.D)(i):i}function Bd(i){let r={};return i.forEach(n=>{r=null!=n?{...r,...n}:r}),0===Object.keys(r).length?null:r}function Ig(i,r){return r.map(n=>n(i))}function Fg(i){return i.map(r=>function Pg(i){return!i.validate}(r)?r:n=>r.validate(n))}function Hl(i){return null!=i?function Og(i){if(!i)return null;const r=i.filter(Mg);return 0==r.length?null:function(n){return Bd(Ig(n,r))}}(Fg(i)):null}function Hd(i){return null!=i?function Ud(i){if(!i)return null;const r=i.filter(Mg);return 0==r.length?null:function(n){return dl(Ig(n,r).map(Tg)).pipe((0,ae.U)(Bd))}}(Fg(i)):null}function nr(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function jd(i){return i?Array.isArray(i)?i:[i]:[]}function $d(i,r){return Array.isArray(i)?i.includes(r):i===r}function Gd(i,r){const n=jd(r);return jd(i).forEach(d=>{$d(n,d)||n.push(d)}),n}function xg(i,r){return jd(r).filter(n=>!$d(i,n))}class Rg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Hl(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Hd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,n){return!!this.control&&this.control.hasError(r,n)}getError(r,n){return this.control?this.control.getError(r,n):null}}class gn extends Rg{get formDirective(){return null}get path(){return null}}class Er extends Rg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let $l=(()=>{class i extends class Lg{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(Er,2))},i.\u0275dir=o.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,l){2&n&&o.ekj("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},features:[o.qOj]}),i})();const zi="VALID",Xo="INVALID",Yi="PENDING",Ks="DISABLED";function jg(i){return Array.isArray(i)?Hl(i):i||null}function $g(i){return Array.isArray(i)?Hd(i):i||null}function Zl(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function zs(i,r){(function Gg(i,r){const n=function jl(i){return i._rawValidators}(i);null!==r.validator?i.setValidators(nr(n,r.validator)):"function"==typeof n&&i.setValidators([n]);const l=function Ng(i){return i._rawAsyncValidators}(i);null!==r.asyncValidator?i.setAsyncValidators(nr(l,r.asyncValidator)):"function"==typeof l&&i.setAsyncValidators([l]);const d=()=>i.updateValueAndValidity();qd(r._rawValidators,d),qd(r._rawAsyncValidators,d)})(i,r),r.valueAccessor.writeValue(i.value),i.disabled&&r.valueAccessor.setDisabledState?.(!0),function Wg(i,r){r.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Jd(i,r)})}(i,r),function Hv(i,r){const n=(l,d)=>{r.valueAccessor.writeValue(l),d&&r.viewToModelUpdate(l)};i.registerOnChange(n),r._registerOnDestroy(()=>{i._unregisterOnChange(n)})}(i,r),function Zg(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Jd(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function rr(i,r){if(r.valueAccessor.setDisabledState){const n=l=>{r.valueAccessor.setDisabledState(l)};i.registerOnDisabledChange(n),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}(i,r)}function qd(i,r){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(r)})}function Jd(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function qg(i,r){const n=i.indexOf(r);n>-1&&i.splice(n,1)}function Qg(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const Qs={provide:Er,useExisting:(0,o.Gpc)(()=>hi)},Xi=(()=>Promise.resolve(null))();let hi=(()=>{class i extends Er{constructor(n,l,d,h,_){super(),this._changeDetectorRef=_,this.control=new class extends class zd{constructor(r,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=n,this._composedValidatorFn=jg(this._rawValidators),this._composedAsyncValidatorFn=$g(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===zi}get invalid(){return this.status===Xo}get pending(){return this.status==Yi}get disabled(){return this.status===Ks}get enabled(){return this.status!==Ks}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=jg(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=$g(r)}addValidators(r){this.setValidators(Gd(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Gd(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(xg(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(xg(r,this._rawAsyncValidators))}hasValidator(r){return $d(this._rawValidators,r)}hasAsyncValidator(r){return $d(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Yi,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const n=this._parentMarkedDirty(r.onlySelf);this.status=Ks,this.errors=null,this._forEachChild(l=>{l.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:n}),this._onDisabledChange.forEach(l=>l(!0))}enable(r={}){const n=this._parentMarkedDirty(r.onlySelf);this.status=zi,this._forEachChild(l=>{l.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:n}),this._onDisabledChange.forEach(l=>l(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zi||this.status===Yi)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ks:zi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Yi,this._hasOwnPendingAsyncValidator=!0;const n=Tg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(l=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(l,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,n={}){this.errors=r,this._updateControlsErrors(!1!==n.emitEvent)}get(r){let n=r;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((l,d)=>l&&l._find(d),this)}getError(r,n){const l=n?this.get(n):this;return l&&l.errors?l.errors[r]:null}hasError(r,n){return!!this.getError(r,n)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Ks:this.errors?Xo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yi)?Yi:this._anyControlsHaveStatus(Xo)?Xo:zi}_anyControlsHaveStatus(r){return this._anyControls(n=>n.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Zl(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}}{constructor(r=null,n,l){super(function Wl(i){return(Zl(i)?i.validators:i)||null}(n),function Zd(i,r){return(Zl(r)?r.asyncValidators:i)||null}(l,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Qg(r)?r.value:r)}setValue(r,n={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(l=>l(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(r,n={}){this.setValue(r,n)}reset(r=this.defaultValue,n={}){this._applyFormState(r),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){qg(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){qg(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){Qg(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},this._registered=!1,this.update=new o.vpe,this._parent=n,this._setValidators(l),this._setAsyncValidators(d),this.valueAccessor=function ef(i,r){if(!r)return null;let n,l,d;return Array.isArray(r),r.forEach(h=>{h.constructor===Vl?n=h:function Gv(i){return Object.getPrototypeOf(i.constructor)===Zi}(h)?l=h:d=h}),d||l||n||null}(0,h)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const l=n.name.previousValue;this.formDirective.removeControl({name:l,path:this._getPath(l)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Xd(i,r){if(!i.hasOwnProperty("model"))return!1;const n=i.model;return!!n.isFirstChange()||!Object.is(r,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Xi.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const l=n.isDisabled.currentValue,d=0!==l&&(0,o.D6c)(l);Xi.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Kl(i,r){return[...r.path,i]}(n,this._parent):[n]}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(gn,9),o.Y36(qt,10),o.Y36(fi,10),o.Y36(tr,10),o.Y36(o.sBO,8))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Qs]),o.qOj,o.TTD]}),i})();const eo={provide:tr,useExisting:(0,o.Gpc)(()=>Ql),multi:!0};let sf=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),Jg=(()=>{class i{constructor(){this._accessors=[]}add(n,l){this._accessors.push([n,l])}remove(n){for(let l=this._accessors.length-1;l>=0;--l)if(this._accessors[l][1]===n)return void this._accessors.splice(l,1)}select(n){this._accessors.forEach(l=>{this._isSameGroup(l,n)&&l[1]!==n&&l[1].fireUncheck(n.value)})}_isSameGroup(n,l){return!!n[0].control&&n[0]._parent===l._control._parent&&n[1].name===l.name}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:sf}),i})(),Ql=(()=>{class i extends Zi{constructor(n,l,d,h){super(n,l),this._registry=d,this._injector=h,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Er),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Jg),o.Y36(o.zs3))},i.\u0275dir=o.lG2({type:i,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,l){1&n&&o.NdJ("change",function(){return l.onChange()})("blur",function(){return l.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([eo]),o.qOj]}),i})(),fm=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[sf]}),i})(),Jv=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[fm]}),i})();function nD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"label")(2,"input",6),o.NdJ("ngModelChange",function(d){o.CHM(n);const h=o.oxw();return o.KtG(h.setPlayer(d))}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA()()}if(2&i){const n=r.$implicit,l=o.oxw();o.xp6(2),o.Q6J("value",n.value)("ngModel",o.lcZ(3,3,l.getPlayer())),o.xp6(2),o.Oqu(n.key)}}function rD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"label")(2,"input",7),o.NdJ("ngModelChange",function(d){o.CHM(n);const h=o.oxw();return o.KtG(h.setPhase(d))}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA()()}if(2&i){const n=r.$implicit,l=o.oxw();o.xp6(2),o.Q6J("value",n.value)("ngModel",o.lcZ(3,3,l.getPhase())),o.xp6(2),o.Oqu(n.key)}}function pm(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"label")(2,"input",8),o.NdJ("ngModelChange",function(d){o.CHM(n);const h=o.oxw();return o.KtG(h.setNextProductionDie(d))}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA()()}if(2&i){const n=r.$implicit,l=o.oxw();o.xp6(2),o.Q6J("value",n)("ngModel",o.lcZ(3,3,l.getNextProductionDie())),o.xp6(2),o.Oqu(n)}}function iD(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function gm(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,iD,2,1,"div",3),o.qZA()),2&i){const n=r.ngIf,l=o.oxw();o.xp6(1),o.Q6J("ngIf",l.getEventCard(n.cardId))}}function kw(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n," ")}}function mm(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=o.oxw();o.xp6(1),o.hij(" ",n.selectedStockPileId," ")}}function Ef(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij("Production: ",n,"")}}function Ar(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij("Event: ",n,"")}}function sD(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.pileId," ")}}function oD(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function br(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function sr(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.cardId," ")}}function or(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function _m(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function ym(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.cardId," ")}}function aD(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.cardId," ")}}function lD(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function cD(i,r){if(1&i&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&i){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function uD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"button",0),o.NdJ("click",function(){const h=o.CHM(n).$implicit,_=o.oxw();return o.KtG(_.selectFirst(h))}),o._uU(4,"Select"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"async"),o.qZA()()}if(2&i){const n=r.$implicit,l=o.oxw();o.xp6(2),o.Oqu(n),o.xp6(4),o.hij("Remaining: ",o.lcZ(7,2,l.getFaceUpPileCount(n)),"")}}function Cf(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw();return o.KtG(h.selectLandsPileCard(d.id))}),o._uU(1," Select "),o.qZA()}}function oa(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,Cf,2,0,"button",9),o.ALo(3,"async"),o.qZA()),2&i){const n=r.ngIf,l=o.oxw().index,d=o.oxw();o.xp6(1),o.AsE(" ",n.type," - ",n.die," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,3,d.canSelectAnyLandCard())||l<2)}}function dD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,oa,4,5,"div",3),o.qZA()),2&i){const n=r.$implicit,l=o.oxw();o.xp6(1),o.Q6J("ngIf",l.getLandCard(n.cardId))}}function vm(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw();return o.KtG(h.drawInitialRedHand(d))}),o._uU(1," Draw 3 cards to red hand "),o.qZA()}}function fD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw();return o.KtG(h.drawFirstCardRedHand(d))}),o._uU(1," Draw first card to red hand "),o.qZA()}}function Dm(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw();return o.KtG(h.drawInitialBlueHand(d))}),o._uU(1," Draw 3 cards to blue hand "),o.qZA()}}function Em(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw();return o.KtG(h.drawFirstCardBlueHand(d))}),o._uU(1," Draw first card to blue hand "),o.qZA()}}function sc(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function hD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,sc,2,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",l.getActionCard(n.cardId))}}function Cm(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function wm(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Cm,2,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",l.getDevelopmentCard(n.cardId))}}function wf(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw().$implicit,_=o.oxw();return o.KtG(_.drawCardCurrentPlayer(h,d.cardId))}),o._uU(1," Draw "),o.qZA()}}function oc(i,r){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,hD,2,1,"div",11),o.YNc(2,wm,2,1,"div",11),o.YNc(3,wf,2,0,"button",9),o.ALo(4,"async"),o.qZA()),2&i){const n=r.$implicit,l=o.oxw().$implicit,d=o.oxw();o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",d.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",d.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngIf",o.lcZ(4,4,d.canDrawAnyCardInStockPile(l)))}}function Af(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw();return o.KtG(h.putBackSelectedHandCard(d))}),o._uU(1," Put back selected hand card "),o.qZA()}}function Am(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw();return o.KtG(h.buySelectStockPile(d))}),o._uU(1," Select stock pile (buy) "),o.qZA()}}function bm(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.YNc(2,vm,2,0,"button",9),o.ALo(3,"async"),o.YNc(4,fD,2,0,"button",9),o.ALo(5,"async"),o.YNc(6,Dm,2,0,"button",9),o.ALo(7,"async"),o.YNc(8,Em,2,0,"button",9),o.ALo(9,"async"),o.YNc(10,oc,5,6,"div",5),o.ALo(11,"async"),o.YNc(12,Af,2,0,"button",9),o.ALo(13,"async"),o.TgZ(14,"button",0),o.NdJ("click",function(){const h=o.CHM(n).$implicit,_=o.oxw();return o.KtG(_.putBackSelectedDomainCard(h))}),o._uU(15," Put back selected domain card "),o.qZA(),o.YNc(16,Am,2,0,"button",9),o.ALo(17,"async"),o.qZA()}if(2&i){const n=r.$implicit,l=r.index,d=o.oxw();o.xp6(1),o.hij(" STOCK PILE ",l," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,8,d.drawInitialRedHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,10,d.drawFirstCardRedHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(7,12,d.drawInitialBlueHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(9,14,d.drawFirstCardBlueHandAvailable())),o.xp6(2),o.Q6J("ngForOf",o.lcZ(11,16,d.getStockPilesCards(n))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,18,d.putBackSelectedHandCardAvailable())),o.xp6(4),o.Q6J("ngIf",o.lcZ(17,20,d.canSelectStockPile()))}}function Sm(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Mm(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Sm,2,1,"div",3),o.qZA()),2&i){const n=r.$implicit,l=o.oxw();o.xp6(1),o.Q6J("ngIf",l.getEventCard(n.cardId))}}function Tm(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Im(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Tm,2,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw();o.xp6(1),o.Q6J("ngIf",l.getActionCard(n.cardId))}}function Pm(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function pD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Pm,2,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw();o.xp6(1),o.Q6J("ngIf",l.getDevelopmentCard(n.cardId))}}function gD(i,r){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,Im,2,1,"div",11),o.YNc(2,pD,2,1,"div",11),o.qZA()),2&i){const n=r.$implicit,l=o.oxw();o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",l.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.DEVELOPMENT_CARD_INTERFACE_NAME)}}function mD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.selectHandCard(d.id))}),o._uU(3,"Select"),o.qZA()()}if(2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function _D(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,mD,4,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",l.getActionCard(n.cardId))}}function yD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.selectHandCard(d.id))}),o._uU(3,"Select"),o.qZA()()}if(2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function vD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,yD,4,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",l.getDevelopmentCard(n.cardId))}}function DD(i,r){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,_D,2,1,"div",11),o.YNc(2,vD,2,1,"div",11),o.qZA()),2&i){const n=r.$implicit,l=o.oxw(2);o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",l.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.DEVELOPMENT_CARD_INTERFACE_NAME)}}function ED(i,r){if(1&i&&(o.TgZ(0,"div")(1,"div"),o._uU(2),o.qZA(),o.YNc(3,DD,3,3,"div",5),o.ALo(4,"async"),o.qZA()),2&i){const n=r.ngIf,l=o.oxw();o.xp6(2),o.Oqu(n.color),o.xp6(1),o.Q6J("ngForOf",o.lcZ(4,2,l.getHandsCards(n.id)))}}function CD(i,r){1&i&&(o.TgZ(0,"span"),o._uU(1," - Trade Mastery"),o.qZA())}function wD(i,r){1&i&&(o.TgZ(0,"span"),o._uU(1," - Strength Mastery"),o.qZA())}function AD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(3),o.ALo(4,"async"),o.qZA()()}if(2&i){const n=r.ngIf,l=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.name," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,d.isDomainCardSelected(l.id))?"Unselect":"Select"," ")}}function bD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,AD,5,4,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&l.getDevelopmentCard(n.cardId))}}function SD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(3),o.ALo(4,"async"),o.qZA()()}if(2&i){const n=r.ngIf,l=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.type," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,d.isDomainCardSelected(l.id))?"Unselect":"Select"," ")}}function MD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,SD,5,4,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&l.getAgglomerationCard(n.cardId))}}function TD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o._UZ(6,"br"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.lockResource(d.id))}),o._uU(10,"Lock"),o.qZA(),o.TgZ(11,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.unlockResources(d.id))}),o._uU(12," Unlock"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.increaseResources(d.id))}),o._uU(15," Increase"),o.qZA(),o._UZ(16,"br"),o.TgZ(17,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(18),o.ALo(19,"async"),o.qZA()()}if(2&i){const n=r.ngIf,l=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.type,""),o.xp6(2),o.hij(" ",n.die,""),o.xp6(2),o.hij(" Available: ",l.availableResources,""),o.xp6(2),o.hij(" Locked: ",l.lockedResources,""),o.xp6(11),o.hij(" ",o.lcZ(19,5,d.isDomainCardSelected(l.id))?"Unselect":"Select"," ")}}function ID(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,TD,20,7,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&l.getLandCard(n.cardId))}}function PD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(2),o.ALo(3,"async"),o.qZA()()}if(2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,l.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function FD(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(2),o.ALo(3,"async"),o.qZA()()}if(2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,l.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function Fm(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(2),o.ALo(3,"async"),o.qZA()()}if(2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,l.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}const bf=function(i,r){return{"grid-column-start":i,"grid-row-start":r}};function Om(i,r){if(1&i&&(o.TgZ(0,"div",14),o.YNc(1,bD,2,1,"div",11),o.YNc(2,MD,2,1,"div",11),o.YNc(3,ID,2,1,"div",11),o.YNc(4,PD,4,3,"div",11),o.YNc(5,FD,4,3,"div",11),o.YNc(6,Fm,4,3,"div",11),o.qZA()),2&i){const n=r.$implicit,l=o.oxw(2);o.Q6J("ngSwitch",n.cardType)("ngStyle",o.WLB(8,bf,"col"+n.col,"row"+n.row)),o.xp6(1),o.Q6J("ngSwitchCase",l.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.AGGLOMERATION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.LAND_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.AVAILABLE_AGGLOMERATION_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",l.AVAILABLE_DEVELOPMENT_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",l.AVAILABLE_LAND_SLOT)}}const Sf=function(i,r){return{"grid-template-columns":i,"grid-template-rows":r}};function Nm(i,r){if(1&i&&(o.TgZ(0,"div")(1,"div")(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"async"),o.qZA(),o.YNc(10,CD,2,0,"span",3),o.ALo(11,"async"),o.YNc(12,wD,2,0,"span",3),o.ALo(13,"async"),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"async"),o.qZA()(),o.TgZ(17,"div",12),o.ALo(18,"async"),o.ALo(19,"async"),o.YNc(20,Om,7,11,"div",13),o.ALo(21,"async"),o.qZA()()),2&i){const n=r.ngIf,l=o.oxw();o.xp6(3),o.Oqu(n.color),o.xp6(2),o.hij(" - Ships count: ",o.lcZ(6,8,l.getShipsCount(n.id)),""),o.xp6(3),o.hij(" - Celebration points: ",o.lcZ(9,10,l.getCelebrationPoints(n.id)),""),o.xp6(2),o.Q6J("ngIf",o.lcZ(11,12,l.getTradeMastery(n.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,14,l.getStrengthMastery(n.id))),o.xp6(3),o.hij(" - Victory points: ",o.lcZ(16,16,l.getVictoryPoints(n.id)),""),o.xp6(2),o.Q6J("ngStyle",o.WLB(24,Sf,o.lcZ(18,18,l.getColumnsTemplate(n.id)),o.lcZ(19,20,l.getRowsTemplate(n.id)))),o.xp6(3),o.Q6J("ngForOf",o.lcZ(21,22,l.getDomainsCards(n.id)))}}function xm(i,r){1&i&&(o.TgZ(0,"span"),o._uU(1," - Trade Mastery"),o.qZA())}function Rm(i,r){1&i&&(o.TgZ(0,"span"),o._uU(1," - Strength Mastery"),o.qZA())}function Lm(i,r){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function km(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Lm,2,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&l.getDevelopmentCard(n.cardId))}}function Vm(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(3),o.ALo(4,"async"),o.qZA()()}if(2&i){const n=r.ngIf,l=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.type," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,d.isDomainCardSelected(l.id))?"Unselect":"Select"," ")}}function Bm(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Vm,5,4,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&l.getAgglomerationCard(n.cardId))}}function ts(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o._UZ(6,"br"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.lockResource(d.id))}),o._uU(10,"Lock"),o.qZA(),o.TgZ(11,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.unlockResources(d.id))}),o._uU(12," Unlock"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.increaseResources(d.id))}),o._uU(15," Increase "),o.qZA()()}if(2&i){const n=r.ngIf,l=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",n.type,""),o.xp6(2),o.hij(" ",n.die,""),o.xp6(2),o.hij(" Available: ",l.availableResources,""),o.xp6(2),o.hij(" locked: ",l.lockedResources,"")}}function OD(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,ts,16,4,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&l.getLandCard(n.cardId))}}function ND(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(2),o.ALo(3,"async"),o.qZA()()}if(2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,l.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function to(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(2),o.ALo(3,"async"),o.qZA()()}if(2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,l.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function Vw(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw(2);return o.KtG(h.toggleDomainCardSelection(d.id))}),o._uU(2),o.ALo(3,"async"),o.qZA()()}if(2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,l.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function Mf(i,r){if(1&i&&(o.TgZ(0,"div",14),o.YNc(1,km,2,1,"div",11),o.YNc(2,Bm,2,1,"div",11),o.YNc(3,OD,2,1,"div",11),o.YNc(4,ND,4,3,"div",11),o.YNc(5,to,4,3,"div",11),o.YNc(6,Vw,4,3,"div",11),o.qZA()),2&i){const n=r.$implicit,l=o.oxw(2);o.Q6J("ngSwitch",n.cardType)("ngStyle",o.WLB(8,bf,"col"+n.col,"row"+n.row)),o.xp6(1),o.Q6J("ngSwitchCase",l.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.AGGLOMERATION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.LAND_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.AVAILABLE_AGGLOMERATION_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",l.AVAILABLE_DEVELOPMENT_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",l.AVAILABLE_LAND_SLOT)}}function Bw(i,r){if(1&i&&(o.TgZ(0,"div")(1,"div")(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"async"),o.qZA(),o.YNc(10,xm,2,0,"span",3),o.ALo(11,"async"),o.YNc(12,Rm,2,0,"span",3),o.ALo(13,"async"),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"async"),o.qZA()(),o.TgZ(17,"div",12),o.ALo(18,"async"),o.ALo(19,"async"),o.YNc(20,Mf,7,11,"div",13),o.ALo(21,"async"),o.qZA()()),2&i){const n=r.ngIf,l=o.oxw();o.xp6(3),o.Oqu(n.color),o.xp6(2),o.hij(" - Ships count: ",o.lcZ(6,8,l.getShipsCount(n.id)),""),o.xp6(3),o.hij(" - Celebration points: ",o.lcZ(9,10,l.getCelebrationPoints(n.id)),""),o.xp6(2),o.Q6J("ngIf",o.lcZ(11,12,l.getTradeMastery(n.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,14,l.getStrengthMastery(n.id))),o.xp6(3),o.hij(" - Victory points: ",o.lcZ(16,16,l.getVictoryPoints(n.id)),""),o.xp6(2),o.Q6J("ngStyle",o.WLB(24,Sf,o.lcZ(18,18,l.getColumnsTemplate(n.id)),o.lcZ(19,20,l.getRowsTemplate(n.id)))),o.xp6(3),o.Q6J("ngForOf",o.lcZ(21,22,l.getDomainsCards(n.id)))}}function Um(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.selectHandCard(d.id))}),o._uU(3,"Select"),o.qZA()()}if(2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Hm(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Um,4,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",l.getActionCard(n.cardId))}}function Uw(i,r){if(1&i){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit,h=o.oxw(2);return o.KtG(h.selectHandCard(d.id))}),o._uU(3,"Select"),o.qZA()()}if(2&i){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Se(i,r){if(1&i&&(o.TgZ(0,"div"),o.YNc(1,Uw,4,1,"div",3),o.qZA()),2&i){const n=o.oxw().$implicit,l=o.oxw(2);o.xp6(1),o.Q6J("ngIf",l.getDevelopmentCard(n.cardId))}}function xD(i,r){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,Hm,2,1,"div",11),o.YNc(2,Se,2,1,"div",11),o.qZA()),2&i){const n=r.$implicit,l=o.oxw(2);o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",l.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",l.DEVELOPMENT_CARD_INTERFACE_NAME)}}function RD(i,r){if(1&i&&(o.TgZ(0,"div")(1,"div"),o._uU(2),o.qZA(),o.YNc(3,xD,3,3,"div",5),o.ALo(4,"async"),o.qZA()),2&i){const n=r.ngIf,l=o.oxw();o.xp6(2),o.Oqu(n.color),o.xp6(1),o.Q6J("ngForOf",o.lcZ(4,2,l.getHandsCards(n.id)))}}let LD=(()=>{class i{constructor(n,l,d,h,_,D,S,R,$){this.game=n,this.domainsCards=l,this.handsCards=d,this.faceUpPilesCards=h,this.landsPileCards=_,this.stockPilesCards=D,this.eventsPileCards=S,this.discardPileCards=R,this.gameRules=$,this.GamePhase=hn,this.DomainColor=Ke,this.ACTION_CARD_INTERFACE_NAME=qo,this.AGGLOMERATION_CARD_INTERFACE_NAME=tn,this.DEVELOPMENT_CARD_INTERFACE_NAME=Et,this.LAND_CARD_INTERFACE_NAME=Dt,this.AVAILABLE_AGGLOMERATION_SLOT=Ur,this.AVAILABLE_DEVELOPMENT_SLOT=fn,this.AVAILABLE_LAND_SLOT=al,this.RESOURCE_VALUES=zp}startNewGame(){this.gameRules.initNewGame()}getPhase(){return this.game.phase$}setPhase(n){this.game.setPhase(n)}getPlayer(){return this.game.player$}setPlayer(n){this.game.setPlayer(n)}getNextProductionDie(){return this.game.nextProductionDie$}setNextProductionDie(n){this.game.setNextProductionDie(n)}getSelectedEventsPileCard(){return this.eventsPileCards.selectedEventsPileCards$}removeSelectedEventsPileCard(){this.eventsPileCards.removeSelected()}getAction(){return this.game.action$}unsetAction(){this.game.setAction(void 0)}throwDisabled(){return this.game.phase$.pipe((0,ae.U)(n=>n!==hn.InitialThrow&&n!==hn.LoopThrow))}onThrow(){this.gameRules.throwDice()}getProductionDie(){return this.game.productionDie$}getEventDie(){return this.game.eventDie$}buyDisabled(){return this.game.phase$.pipe((0,ae.U)(n=>n!==hn.LoopActions))}getRedDomain(){return Vy.get(mt)}getBlueDomain(){return Vy.get(_t)}getVictoryPoints(n){return this.gameRules.getVictoryPointsForDomain(n)}getStrengthMastery(n){return this.domainsCards.getMasteryDomainForType(jr.Strength).pipe((0,ae.U)(l=>n===l))}getTradeMastery(n){return this.domainsCards.getMasteryDomainForType(jr.Trade).pipe((0,ae.U)(l=>n===l))}getCelebrationPoints(n){return this.domainsCards.getCelebrationPointsForDomain(n)}getShipsCount(n){return this.domainsCards.getMerchantShipCountForDomain(n)}getColumnsTemplate(n){return wn([this.domainsCards.getDomainMinCol(n),this.domainsCards.getDomainMaxCol(n)]).pipe((0,ae.U)(([l,d])=>{let h="";for(let _=l;_<d+1;_++)h+=`[col${_}] 150px `;return h}))}getRowsTemplate(n){return wn([this.domainsCards.getDomainMinRow(n),this.domainsCards.getDomainMaxRow(n)]).pipe((0,ae.U)(([l,d])=>{let h="";for(let _=l;_<d+1;_++)h+=`[row${_}] 150px `;return h}))}getDomainsCards(n){return this.domainsCards.allDomainsCards$.pipe((0,ae.U)(l=>l.filter(d=>d.domainId===n)))}isDomainCardSelected(n){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(l=>l.map(d=>d.id).includes(n)))}toggleDomainCardSelection(n){this.domainsCards.toggleDomainCardSelection(n)}clearDomainCardSelection(){this.domainsCards.clearDomainCardSelection()}swapSelectedDomainsCards(){this.domainsCards.swapSelectedCards()}lockResource(n){this.domainsCards.lockResource(n)}unlockResources(n){this.domainsCards.unlockResources(n)}increaseResources(n){this.domainsCards.increaseResources(n)}getFaceUpPiles(){return Up}selectFirst(n){this.faceUpPilesCards.selectFirstCardFromFaceUpPile(n)}getFaceUpPileCount(n){switch(n){case Oe:return this.faceUpPilesCards.allRoadPivots$.pipe((0,ae.U)(l=>l.length));case Us:return this.faceUpPilesCards.allHamletPivots$.pipe((0,ae.U)(l=>l.length));case Hs:return this.faceUpPilesCards.allTownPivots$.pipe((0,ae.U)(l=>l.length));default:throw new Error(`Can't get count for pile with id ${n}.`)}}getLandsPileCards(){return this.landsPileCards.allLandsPileCards$}canSelectAnyLandCard(){return this.game.action$.pipe((0,ae.U)(n=>n===Bn.Pathfinder))}selectLandsPileCard(n){this.landsPileCards.selectLandsPileCard(n)}canSelectStockPile(){return this.game.player$.pipe((0,Mo.w)(n=>{const l=Nd(n);return this.domainsCards.hasDomainCommunityCenter(l)}))}buySelectStockPile(n){this.domainsCards.useLockedResources(),this.selectedStockPileId=n}unselectStockPile(){this.selectedStockPileId=void 0}canDrawAnyCardInStockPile(n){return this.game.player$.pipe((0,Mo.w)(l=>{const d=Nd(l);return this.domainsCards.hasDomainCommunityCenter(d)}),(0,ae.U)(l=>l&&n===this.selectedStockPileId))}drawCardCurrentPlayer(n,l){this.game.player$.pipe((0,jt.q)(1)).subscribe(d=>{const h=function Iv(i){switch(i){case Ke.Red:return ui;case Ke.Blue:return di;default:throw new Error(`Something went wrong, ${i} should be one of ${di} or ${di}.`)}}(d);this.gameRules.drawCardFromStockToHand(n,l,h),this.unselectStockPile()})}getStockPiles(){return Td}getStockPilesCards(n){return this.stockPilesCards.allStockPilesCards$.pipe((0,ae.U)(l=>l.filter(d=>d.pileId===n)))}getEventsPileCards(){return this.eventsPileCards.allEventsPileCards$}getEventCard(n){return Hi.get(n)}getDiscardPileCardsReverse(){return this.discardPileCards.allDiscardPileCardsReverse$}useActionCardDisabled(){return this.game.phase$.pipe((0,ae.U)(n=>n!==hn.LoopActions))}useActionCard(){this.gameRules.useActionCard()}getRedHand(){return zr.get(ui)}getBlueHand(){return zr.get(di)}getHandsCards(n){return this.handsCards.allHandsCards$.pipe((0,ae.U)(l=>l.filter(d=>d.handId===n)))}selectHandCard(n){this.handsCards.selectHandCard(n)}drawInitialRedHandAvailable(){return wn([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,l])=>n===hn.InitialDraw&&l===Ke.Red))}drawInitialRedHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,3,ui)}drawFirstCardRedHandAvailable(){return wn([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,l])=>n===hn.LoopDraw&&l===Ke.Red))}drawFirstCardRedHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,1,ui)}drawInitialBlueHandAvailable(){return wn([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,l])=>n===hn.InitialDraw&&l===Ke.Blue))}drawInitialBlueHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,3,di)}drawFirstCardBlueHandAvailable(){return wn([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,l])=>n===hn.LoopDraw&&l===Ke.Blue))}drawFirstCardBlueHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,1,di)}putBackSelectedHandCardAvailable(){return this.game.phase$.pipe((0,ae.U)(n=>n===hn.LoopExchange))}putBackSelectedHandCard(n){this.gameRules.putBackFromHandToStockPile(n)}putBackSelectedDomainCard(n){this.gameRules.putBackFromDomainToStockPile(n)}getActionCard(n){return Md.get(n)}getAgglomerationCard(n){return Vi.get(n)}getDevelopmentCard(n){return kn.get(n)}getLandCard(n){return qn.get(n)}buyAgglomeration(){this.gameRules.useResourcesToPutFaceUpPileCardInSlot()}buyDevelopment(){this.gameRules.useResourcesToPutHandCardInSlot()}putLand(){this.gameRules.putLandsPileCardInSlot()}giveLockedResources(){this.domainsCards.giveLockedResources()}getSelectedFaceUpPileCard(){return this.faceUpPilesCards.selectedFaceUpPilesCards$}getDomainSelectedAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(l=>l?.cardType===tn)))}getSelectedHandCard(){return this.handsCards.selectedHandsCards$}getHandSelectedDevelopmentCard(){return this.handsCards.selectedHandsCards$.pipe((0,Cn.h)(n=>n?.cardType===Et))}getDomainSelectedDevelopmentCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(l=>l?.cardType===Et)))}getSelectedActionCard(){return this.handsCards.selectedHandsCards$.pipe((0,Cn.h)(n=>n?.cardType===qo))}getPileSelectedLandCard(){return this.landsPileCards.selectedLandsPileCards$}getSelectedAvailableLandSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(l=>l?.cardType===al)))}getDomainSelectedLandCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(l=>l?.cardType===Dt)))}getSelectedAvailableAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(l=>l?.cardType===Ur)))}getSelectedAvailableDevelopmentSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(l=>l?.cardType===fn)))}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(_d),o.Y36(ko),o.Y36(Cd),o.Y36(Wr),o.Y36(fg),o.Y36(Rl),o.Y36(On),o.Y36(Su),o.Y36(Qo))},i.\u0275cmp=o.Xpm({type:i,selectors:[["taormina-root"]],decls:151,vars:78,consts:[["type","button",3,"click"],[1,"flex-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"disabled","click"],[3,"ngSwitch",4,"ngFor","ngForOf"],["type","radio","name","player",3,"value","ngModel","ngModelChange"],["type","radio","name","phase",3,"value","ngModel","ngModelChange"],["type","radio","name","nextProductionDie",3,"value","ngModel","ngModelChange"],["type","button",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"grid-container",3,"ngStyle"],["class","grid-cell",3,"ngSwitch","ngStyle",4,"ngFor","ngForOf"],[1,"grid-cell",3,"ngSwitch","ngStyle"]],template:function(n,l){1&n&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return l.startNewGame()}),o._uU(1,"New Game !"),o.qZA(),o._UZ(2,"hr"),o.TgZ(3,"div",1)(4,"div")(5,"p"),o._uU(6,"Current Player:"),o.qZA(),o.YNc(7,nD,5,5,"div",2),o.ALo(8,"keyvalue"),o.qZA(),o.TgZ(9,"div")(10,"p"),o._uU(11,"Current Phase:"),o.qZA(),o.YNc(12,rD,5,5,"div",2),o.ALo(13,"keyvalue"),o.qZA(),o.TgZ(14,"div")(15,"p"),o._uU(16,"Next Production Die:"),o.qZA(),o.YNc(17,pm,5,5,"div",2),o.qZA(),o.TgZ(18,"div")(19,"p"),o._uU(20,"Current event:"),o.qZA(),o.YNc(21,gm,2,1,"div",3),o.ALo(22,"async"),o._UZ(23,"hr"),o.TgZ(24,"button",0),o.NdJ("click",function(){return l.removeSelectedEventsPileCard()}),o._uU(25," Finish event "),o.qZA()(),o.TgZ(26,"div")(27,"p"),o._uU(28,"Current action:"),o.qZA(),o.YNc(29,kw,2,1,"div",3),o.ALo(30,"async"),o._UZ(31,"hr"),o.TgZ(32,"button",0),o.NdJ("click",function(){return l.unsetAction()}),o._uU(33,"Finish action"),o.qZA()(),o.TgZ(34,"div")(35,"p"),o._uU(36,"Selected stock pile:"),o.qZA(),o.YNc(37,mm,2,1,"div",3),o._UZ(38,"hr"),o.TgZ(39,"button",4),o.NdJ("click",function(){return l.unselectStockPile()}),o._uU(40," Unselect "),o.qZA()(),o.TgZ(41,"div")(42,"button",0),o.NdJ("click",function(){return l.swapSelectedDomainsCards()}),o._uU(43," swap selected domains cards"),o.qZA(),o._UZ(44,"br"),o.TgZ(45,"button",0),o.NdJ("click",function(){return l.clearDomainCardSelection()}),o._uU(46," clear domain selection "),o.qZA()()(),o._UZ(47,"hr"),o.TgZ(48,"div",1)(49,"button",4),o.NdJ("click",function(){return l.onThrow()}),o.ALo(50,"async"),o._uU(51," throw "),o.qZA(),o.YNc(52,Ef,2,1,"p",3),o.ALo(53,"async"),o.YNc(54,Ar,2,1,"p",3),o.ALo(55,"async"),o.qZA(),o._UZ(56,"hr"),o.TgZ(57,"div",1)(58,"button",4),o.NdJ("click",function(){return l.buyAgglomeration()}),o.ALo(59,"async"),o._uU(60," buy agglomeration "),o.qZA(),o.TgZ(61,"div")(62,"p"),o._uU(63,"Pile Selected Agglomeration Card:"),o.qZA(),o.YNc(64,sD,2,1,"p",3),o.ALo(65,"async"),o.qZA(),o.TgZ(66,"div")(67,"p"),o._uU(68,"Selected Available Agglomeration Slots:"),o.qZA(),o.YNc(69,oD,6,3,"p",2),o.ALo(70,"async"),o.qZA(),o.TgZ(71,"div")(72,"p"),o._uU(73,"Domain Selected Agglomeration Slots:"),o.qZA(),o.YNc(74,br,6,3,"p",2),o.ALo(75,"async"),o.qZA()(),o._UZ(76,"hr"),o.TgZ(77,"div",1)(78,"button",4),o.NdJ("click",function(){return l.buyDevelopment()}),o.ALo(79,"async"),o._uU(80," buy development "),o.qZA(),o.TgZ(81,"div")(82,"p"),o._uU(83,"Hand Selected Development Card:"),o.qZA(),o.YNc(84,sr,2,1,"p",3),o.ALo(85,"async"),o.qZA(),o.TgZ(86,"div")(87,"p"),o._uU(88,"Selected Available Development Slots:"),o.qZA(),o.YNc(89,or,6,3,"p",2),o.ALo(90,"async"),o.qZA(),o.TgZ(91,"div")(92,"p"),o._uU(93,"Domain Selected Development Cards:"),o.qZA(),o.YNc(94,_m,6,3,"p",2),o.ALo(95,"async"),o.qZA()(),o._UZ(96,"hr"),o.TgZ(97,"div",1)(98,"button",4),o.NdJ("click",function(){return l.useActionCard()}),o.ALo(99,"async"),o._uU(100," Use action card "),o.qZA(),o.TgZ(101,"div")(102,"p"),o._uU(103,"Selected Action Card:"),o.qZA(),o.YNc(104,ym,2,1,"p",3),o.ALo(105,"async"),o.qZA()(),o._UZ(106,"hr"),o.TgZ(107,"div",1)(108,"button",0),o.NdJ("click",function(){return l.putLand()}),o._uU(109,"put land"),o.qZA(),o.TgZ(110,"button",0),o.NdJ("click",function(){return l.giveLockedResources()}),o._uU(111," Give locked resources "),o.qZA(),o.TgZ(112,"div")(113,"p"),o._uU(114,"Pile Selected Land Card:"),o.qZA(),o.YNc(115,aD,2,1,"p",3),o.ALo(116,"async"),o.qZA(),o.TgZ(117,"div")(118,"p"),o._uU(119,"Selected Available Land Slots:"),o.qZA(),o.YNc(120,lD,6,3,"p",2),o.ALo(121,"async"),o.qZA(),o.TgZ(122,"div")(123,"p"),o._uU(124,"Domain Selected Available Land Slots:"),o.qZA(),o.YNc(125,cD,6,3,"p",2),o.ALo(126,"async"),o.qZA()(),o._UZ(127,"hr"),o.TgZ(128,"div",1),o.YNc(129,uD,8,4,"div",2),o.TgZ(130,"div"),o._uU(131," LANDS PILE "),o.YNc(132,dD,2,1,"div",2),o.ALo(133,"async"),o.qZA(),o.YNc(134,bm,18,22,"div",2),o.TgZ(135,"div"),o._uU(136," EVENTS PILE "),o.YNc(137,Mm,2,1,"div",2),o.ALo(138,"async"),o.qZA(),o.TgZ(139,"div"),o._uU(140," DISCARD PILE "),o.YNc(141,gD,3,3,"div",5),o.ALo(142,"async"),o.qZA()(),o._UZ(143,"hr"),o.YNc(144,ED,5,4,"div",3),o._UZ(145,"hr"),o.YNc(146,Nm,22,27,"div",3),o._UZ(147,"hr"),o.YNc(148,Bw,22,27,"div",3),o._UZ(149,"hr"),o.YNc(150,RD,5,4,"div",3)),2&n&&(o.xp6(7),o.Q6J("ngForOf",o.lcZ(8,32,l.DomainColor)),o.xp6(5),o.Q6J("ngForOf",o.lcZ(13,34,l.GamePhase)),o.xp6(5),o.Q6J("ngForOf",l.RESOURCE_VALUES),o.xp6(4),o.Q6J("ngIf",o.lcZ(22,36,l.getSelectedEventsPileCard())),o.xp6(8),o.Q6J("ngIf",o.lcZ(30,38,l.getAction())),o.xp6(8),o.Q6J("ngIf",l.selectedStockPileId),o.xp6(2),o.Q6J("disabled",!l.selectedStockPileId),o.xp6(10),o.Q6J("disabled",o.lcZ(50,40,l.throwDisabled())),o.xp6(3),o.Q6J("ngIf",o.lcZ(53,42,l.getProductionDie())),o.xp6(2),o.Q6J("ngIf",o.lcZ(55,44,l.getEventDie())),o.xp6(4),o.Q6J("disabled",o.lcZ(59,46,l.buyDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(65,48,l.getSelectedFaceUpPileCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(70,50,l.getSelectedAvailableAgglomerationSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(75,52,l.getDomainSelectedAgglomerationSlots())),o.xp6(4),o.Q6J("disabled",o.lcZ(79,54,l.buyDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(85,56,l.getHandSelectedDevelopmentCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(90,58,l.getSelectedAvailableDevelopmentSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(95,60,l.getDomainSelectedDevelopmentCards())),o.xp6(4),o.Q6J("disabled",o.lcZ(99,62,l.useActionCardDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(105,64,l.getSelectedActionCard())),o.xp6(11),o.Q6J("ngIf",o.lcZ(116,66,l.getPileSelectedLandCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(121,68,l.getSelectedAvailableLandSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(126,70,l.getDomainSelectedLandCards())),o.xp6(4),o.Q6J("ngForOf",l.getFaceUpPiles()),o.xp6(3),o.Q6J("ngForOf",o.lcZ(133,72,l.getLandsPileCards())),o.xp6(2),o.Q6J("ngForOf",l.getStockPiles()),o.xp6(3),o.Q6J("ngForOf",o.lcZ(138,74,l.getEventsPileCards())),o.xp6(4),o.Q6J("ngForOf",o.lcZ(142,76,l.getDiscardPileCardsReverse())),o.xp6(3),o.Q6J("ngIf",l.getRedHand()),o.xp6(2),o.Q6J("ngIf",l.getRedDomain()),o.xp6(2),o.Q6J("ngIf",l.getBlueDomain()),o.xp6(2),o.Q6J("ngIf",l.getBlueHand()))},dependencies:[Wn,Kt,vt,x,H,Vl,Ql,$l,hi,G_,dh],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;column-gap:20px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-gap:20px}.grid-cell[_ngcontent-%COMP%]{border:1px solid black}"]}),i})();E(825);class aa{}const et="*";function jm(i,r=null){return{type:2,steps:i,options:r}}function If(i){return{type:6,styles:i,offset:null}}function $m(i){Promise.resolve(null).then(i)}class la{constructor(r=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(l=>l()),n.length=0}}class ca{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let n=0,l=0,d=0;const h=this.players.length;0==h?$m(()=>this._onFinish()):this.players.forEach(_=>{_.onDone(()=>{++n==h&&this._onFinish()}),_.onDestroy(()=>{++l==h&&this._onDestroy()}),_.onStart(()=>{++d==h&&this._onStart()})}),this.totalTime=this.players.reduce((_,D)=>Math.max(_,D.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const n=r*this.totalTime;this.players.forEach(l=>{const d=l.totalTime?Math.min(1,n/l.totalTime):1;l.setPosition(d)})}getPosition(){const r=this.players.reduce((n,l)=>null===n||l.totalTime>n.totalTime?l:n,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(l=>l()),n.length=0}}function Pf(i){return new o.vHH(3e3,!1)}function cE(){return typeof window<"u"&&typeof window.document<"u"}function dc(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gi(i){switch(i.length){case 0:return new la;case 1:return i[0];default:return new ca(i)}}function fc(i,r,n,l,d=new Map,h=new Map){const _=[],D=[];let S=-1,R=null;if(l.forEach($=>{const Y=$.get("offset"),_e=Y==S,he=_e&&R||new Map;$.forEach((ce,Ee)=>{let le=Ee,re=ce;if("offset"!==Ee)switch(le=r.normalizePropertyName(le,_),re){case"!":re=d.get(Ee);break;case et:re=h.get(Ee);break;default:re=r.normalizeStyleValue(Ee,le,re,_)}he.set(le,re)}),_e||D.push(he),R=he,S=Y}),_.length)throw function XD(i){return new o.vHH(3502,!1)}();return D}function Ff(i,r,n,l){switch(r){case"start":i.onStart(()=>l(n&&hc(n,"start",i)));break;case"done":i.onDone(()=>l(n&&hc(n,"done",i)));break;case"destroy":i.onDestroy(()=>l(n&&hc(n,"destroy",i)))}}function hc(i,r,n){const h=pc(i.element,i.triggerName,i.fromState,i.toState,r||i.phaseName,n.totalTime??i.totalTime,!!n.disabled),_=i._data;return null!=_&&(h._data=_),h}function pc(i,r,n,l,d="",h=0,_){return{element:i,triggerName:r,fromState:n,toState:l,phaseName:d,totalTime:h,disabled:!!_}}function Nn(i,r,n){let l=i.get(r);return l||i.set(r,l=n),l}function Qm(i){const r=i.indexOf(":");return[i.substring(1,r),i.slice(r+1)]}let Of=(i,r)=>!1,gc=(i,r,n)=>[],Jm=null;function mc(i){const r=i.parentNode||i.host;return r===Jm?null:r}(dc()||typeof Element<"u")&&(cE()?(Jm=(()=>document.documentElement)(),Of=(i,r)=>{for(;r;){if(r===i)return!0;r=mc(r)}return!1}):Of=(i,r)=>i.contains(r),gc=(i,r,n)=>{if(n)return Array.from(i.querySelectorAll(r));const l=i.querySelector(r);return l?[l]:[]});let ns=null,Xm=!1;const e_=Of,Nf=gc;let t_=(()=>{class i{validateStyleProperty(n){return function dE(i){ns||(ns=function fE(){return typeof document<"u"?document.body:null}()||{},Xm=!!ns.style&&"WebkitAppearance"in ns.style);let r=!0;return ns.style&&!function uE(i){return"ebkit"==i.substring(1,6)}(i)&&(r=i in ns.style,!r&&Xm&&(r="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in ns.style)),r}(n)}matchesElement(n,l){return!1}containsElement(n,l){return e_(n,l)}getParentElement(n){return mc(n)}query(n,l,d){return Nf(n,l,d)}computeStyle(n,l,d){return d||""}animate(n,l,d,h,_,D=[],S){return new la(d,h)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),xf=(()=>{class i{}return i.NOOP=new t_,i})();const Rf="ng-enter",io="ng-leave",so="ng-trigger",oo=".ng-trigger",_c="ng-animating",Lf=".ng-animating";function mi(i){if("number"==typeof i)return i;const r=i.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:ha(parseFloat(r[1]),r[2])}function ha(i,r){return"s"===r?1e3*i:i}function yc(i,r,n){return i.hasOwnProperty("duration")?i:function i_(i,r,n){let d,h=0,_="";if("string"==typeof i){const D=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===D)return r.push(Pf()),{duration:0,delay:0,easing:""};d=ha(parseFloat(D[1]),D[2]);const S=D[3];null!=S&&(h=ha(parseFloat(S),D[4]));const R=D[5];R&&(_=R)}else d=i;if(!n){let D=!1,S=r.length;d<0&&(r.push(function $D(){return new o.vHH(3100,!1)}()),D=!0),h<0&&(r.push(function ua(){return new o.vHH(3101,!1)}()),D=!0),D&&r.splice(S,0,Pf())}return{duration:d,delay:h,easing:_}}(i,r,n)}function pa(i,r={}){return Object.keys(i).forEach(n=>{r[n]=i[n]}),r}function kf(i){const r=new Map;return Object.keys(i).forEach(n=>{r.set(n,i[n])}),r}function ar(i,r=new Map,n){if(n)for(let[l,d]of n)r.set(l,d);for(let[l,d]of i)r.set(l,d);return r}function _i(i,r,n){return n?r+":"+n+";":""}function o_(i){let r="";for(let n=0;n<i.style.length;n++){const l=i.style.item(n);r+=_i(0,l,i.style.getPropertyValue(l))}for(const n in i.style)i.style.hasOwnProperty(n)&&!n.startsWith("_")&&(r+=_i(0,mE(n),i.style[n]));i.setAttribute("style",r)}function Sr(i,r,n){i.style&&(r.forEach((l,d)=>{const h=Bf(d);n&&!n.has(d)&&n.set(d,i.style[h]),i.style[h]=l}),dc()&&o_(i))}function yi(i,r){i.style&&(r.forEach((n,l)=>{const d=Bf(l);i.style[d]=""}),dc()&&o_(i))}function ga(i){return Array.isArray(i)?1==i.length?i[0]:jm(i):i}const rs=new RegExp("{{\\s*(.+?)\\s*}}","g");function a_(i){let r=[];if("string"==typeof i){let n;for(;n=rs.exec(i);)r.push(n[1]);rs.lastIndex=0}return r}function Vf(i,r,n){const l=i.toString(),d=l.replace(rs,(h,_)=>{let D=r[_];return null==D&&(n.push(function GD(i){return new o.vHH(3003,!1)}()),D=""),D.toString()});return d==l?i:d}function ma(i){const r=[];let n=i.next();for(;!n.done;)r.push(n.value),n=i.next();return r}const gE=/-+([a-z0-9])/g;function Bf(i){return i.replace(gE,(...r)=>r[1].toUpperCase())}function mE(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xn(i,r,n){switch(r.type){case 7:return i.visitTrigger(r,n);case 0:return i.visitState(r,n);case 1:return i.visitTransition(r,n);case 2:return i.visitSequence(r,n);case 3:return i.visitGroup(r,n);case 4:return i.visitAnimate(r,n);case 5:return i.visitKeyframes(r,n);case 6:return i.visitStyle(r,n);case 8:return i.visitReference(r,n);case 9:return i.visitAnimateChild(r,n);case 10:return i.visitAnimateRef(r,n);case 11:return i.visitQuery(r,n);case 12:return i.visitStagger(r,n);default:throw function WD(i){return new o.vHH(3004,!1)}()}}function vc(i,r){return window.getComputedStyle(i)[r]}function eA(i,r){const n=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(l=>function vE(i,r,n){if(":"==i[0]){const S=function DE(i,r){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,l)=>parseFloat(l)>parseFloat(n);case":decrement":return(n,l)=>parseFloat(l)<parseFloat(n);default:return r.push(function QD(i){return new o.vHH(3016,!1)}()),"* => *"}}(i,n);if("function"==typeof S)return void r.push(S);i=S}const l=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return n.push(function uc(i){return new o.vHH(3015,!1)}()),r;const d=l[1],h=l[2],_=l[3];r.push(d_(d,_));"<"==h[0]&&!("*"==d&&"*"==_)&&r.push(d_(_,d))}(l,n,r)):n.push(i),n}const _a=new Set(["true","1"]),lo=new Set(["false","0"]);function d_(i,r){const n=_a.has(i)||lo.has(i),l=_a.has(r)||lo.has(r);return(d,h)=>{let _="*"==i||i==d,D="*"==r||r==h;return!_&&n&&"boolean"==typeof d&&(_=d?_a.has(i):lo.has(i)),!D&&l&&"boolean"==typeof h&&(D=h?_a.has(r):lo.has(r)),_&&D}}const EE=new RegExp("s*:selfs*,?","g");function jf(i,r,n,l){return new CE(i).build(r,n,l)}class CE{constructor(r){this._driver=r}build(r,n,l){const d=new AE(n);return this._resetContextStyleTimingState(d),xn(this,ga(r),d)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,n){let l=n.queryCount=0,d=n.depCount=0;const h=[],_=[];return"@"==r.name.charAt(0)&&n.errors.push(function Gm(){return new o.vHH(3006,!1)}()),r.definitions.forEach(D=>{if(this._resetContextStyleTimingState(n),0==D.type){const S=D,R=S.name;R.toString().split(/\s*,\s*/).forEach($=>{S.name=$,h.push(this.visitState(S,n))}),S.name=R}else if(1==D.type){const S=this.visitTransition(D,n);l+=S.queryCount,d+=S.depCount,_.push(S)}else n.errors.push(function Wm(){return new o.vHH(3007,!1)}())}),{type:7,name:r.name,states:h,transitions:_,queryCount:l,depCount:d,options:null}}visitState(r,n){const l=this.visitStyle(r.styles,n),d=r.options&&r.options.params||null;if(l.containsDynamicStyles){const h=new Set,_=d||{};l.styles.forEach(D=>{D instanceof Map&&D.forEach(S=>{a_(S).forEach(R=>{_.hasOwnProperty(R)||h.add(R)})})}),h.size&&(ma(h.values()),n.errors.push(function Zm(i,r){return new o.vHH(3008,!1)}()))}return{type:0,name:r.name,style:l,options:d?{params:d}:null}}visitTransition(r,n){n.queryCount=0,n.depCount=0;const l=xn(this,ga(r.animation),n);return{type:1,matchers:eA(r.expr,n.errors),animation:l,queryCount:n.queryCount,depCount:n.depCount,options:ss(r.options)}}visitSequence(r,n){return{type:2,steps:r.steps.map(l=>xn(this,l,n)),options:ss(r.options)}}visitGroup(r,n){const l=n.currentTime;let d=0;const h=r.steps.map(_=>{n.currentTime=l;const D=xn(this,_,n);return d=Math.max(d,n.currentTime),D});return n.currentTime=d,{type:3,steps:h,options:ss(r.options)}}visitAnimate(r,n){const l=function SE(i,r){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return $f(yc(i,r).duration,0,"");const n=i;if(n.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=$f(0,0,"");return h.dynamic=!0,h.strValue=n,h}const d=yc(n,r);return $f(d.duration,d.delay,d.easing)}(r.timings,n.errors);n.currentAnimateTimings=l;let d,h=r.styles?r.styles:If({});if(5==h.type)d=this.visitKeyframes(h,n);else{let _=r.styles,D=!1;if(!_){D=!0;const R={};l.easing&&(R.easing=l.easing),_=If(R)}n.currentTime+=l.duration+l.delay;const S=this.visitStyle(_,n);S.isEmptyStep=D,d=S}return n.currentAnimateTimings=null,{type:4,timings:l,style:d,options:null}}visitStyle(r,n){const l=this._makeStyleAst(r,n);return this._validateStyleAst(l,n),l}_makeStyleAst(r,n){const l=[],d=Array.isArray(r.styles)?r.styles:[r.styles];for(let D of d)"string"==typeof D?D===et?l.push(D):n.errors.push(new o.vHH(3002,!1)):l.push(kf(D));let h=!1,_=null;return l.forEach(D=>{if(D instanceof Map&&(D.has("easing")&&(_=D.get("easing"),D.delete("easing")),!h))for(let S of D.values())if(S.toString().indexOf("{{")>=0){h=!0;break}}),{type:6,styles:l,easing:_,offset:r.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(r,n){const l=n.currentAnimateTimings;let d=n.currentTime,h=n.currentTime;l&&h>0&&(h-=l.duration+l.delay),r.styles.forEach(_=>{"string"!=typeof _&&_.forEach((D,S)=>{const R=n.collectedStyles.get(n.currentQuerySelector),$=R.get(S);let Y=!0;$&&(h!=d&&h>=$.startTime&&d<=$.endTime&&(n.errors.push(function YD(i,r,n,l,d){return new o.vHH(3010,!1)}()),Y=!1),h=$.startTime),Y&&R.set(S,{startTime:h,endTime:d}),n.options&&function ao(i,r,n){const l=r.params||{},d=a_(i);d.length&&d.forEach(h=>{l.hasOwnProperty(h)||n.push(function da(i){return new o.vHH(3001,!1)}())})}(D,n.options,n.errors)})})}visitKeyframes(r,n){const l={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function qD(){return new o.vHH(3011,!1)}()),l;let h=0;const _=[];let D=!1,S=!1,R=0;const $=r.steps.map(re=>{const se=this._makeStyleAst(re,n);let te=null!=se.offset?se.offset:function bE(i){if("string"==typeof i)return null;let r=null;if(Array.isArray(i))i.forEach(n=>{if(n instanceof Map&&n.has("offset")){const l=n;r=parseFloat(l.get("offset")),l.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const n=i;r=parseFloat(n.get("offset")),n.delete("offset")}return r}(se.styles),ge=0;return null!=te&&(h++,ge=se.offset=te),S=S||ge<0||ge>1,D=D||ge<R,R=ge,_.push(ge),se});S&&n.errors.push(function Ww(){return new o.vHH(3012,!1)}()),D&&n.errors.push(function Zw(){return new o.vHH(3200,!1)}());const Y=r.steps.length;let _e=0;h>0&&h<Y?n.errors.push(function Kw(){return new o.vHH(3202,!1)}()):0==h&&(_e=1/(Y-1));const he=Y-1,ce=n.currentTime,Ee=n.currentAnimateTimings,le=Ee.duration;return $.forEach((re,se)=>{const te=_e>0?se==he?1:_e*se:_[se],ge=te*le;n.currentTime=ce+Ee.delay+ge,Ee.duration=ge,this._validateStyleAst(re,n),re.offset=te,l.styles.push(re)}),l}visitReference(r,n){return{type:8,animation:xn(this,ga(r.animation),n),options:ss(r.options)}}visitAnimateChild(r,n){return n.depCount++,{type:9,options:ss(r.options)}}visitAnimateRef(r,n){return{type:10,animation:this.visitReference(r.animation,n),options:ss(r.options)}}visitQuery(r,n){const l=n.currentQuerySelector,d=r.options||{};n.queryCount++,n.currentQuery=r;const[h,_]=function wE(i){const r=!!i.split(/\s*,\s*/).find(n=>":self"==n);return r&&(i=i.replace(EE,"")),i=i.replace(/@\*/g,oo).replace(/@\w+/g,n=>oo+"-"+n.slice(1)).replace(/:animating/g,Lf),[i,r]}(r.selector);n.currentQuerySelector=l.length?l+" "+h:h,Nn(n.collectedStyles,n.currentQuerySelector,new Map);const D=xn(this,ga(r.animation),n);return n.currentQuery=null,n.currentQuerySelector=l,{type:11,selector:h,limit:d.limit||0,optional:!!d.optional,includeSelf:_,animation:D,originalSelector:r.selector,options:ss(r.options)}}visitStagger(r,n){n.currentQuery||n.errors.push(function zw(){return new o.vHH(3013,!1)}());const l="full"===r.timings?{duration:0,delay:0,easing:"full"}:yc(r.timings,n.errors,!0);return{type:12,animation:xn(this,ga(r.animation),n),timings:l,options:null}}}class AE{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function ss(i){return i?(i=pa(i)).params&&(i.params=function h_(i){return i?pa(i):null}(i.params)):i={},i}function $f(i,r,n){return{duration:i,delay:r,easing:n}}function Gf(i,r,n,l,d,h,_=null,D=!1){return{type:1,element:i,keyframes:r,preStyleProps:n,postStyleProps:l,duration:d,delay:h,totalTime:d+h,easing:_,subTimeline:D}}class Ec{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,n){let l=this._map.get(r);l||this._map.set(r,l=[]),l.push(...n)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const g_=new RegExp(":enter","g"),__=new RegExp(":leave","g");function Cc(i,r,n,l,d,h=new Map,_=new Map,D,S,R=[]){return(new y_).buildKeyframes(i,r,n,l,d,h,_,D,S,R)}class y_{buildKeyframes(r,n,l,d,h,_,D,S,R,$=[]){R=R||new Ec;const Y=new v_(r,n,R,d,h,$,[]);Y.options=S;const _e=S.delay?mi(S.delay):0;Y.currentTimeline.delayNextStep(_e),Y.currentTimeline.setStyles([_],null,Y.errors,S),xn(this,l,Y);const he=Y.timelines.filter(ce=>ce.containsAnimation());if(he.length&&D.size){let ce;for(let Ee=he.length-1;Ee>=0;Ee--){const le=he[Ee];if(le.element===n){ce=le;break}}ce&&!ce.allowOnlyTimelineStyles()&&ce.setStyles([D],null,Y.errors,S)}return he.length?he.map(ce=>ce.buildKeyframes()):[Gf(n,[],[],[],0,_e,"",!1)]}visitTrigger(r,n){}visitState(r,n){}visitTransition(r,n){}visitAnimateChild(r,n){const l=n.subInstructions.get(n.element);if(l){const d=n.createSubContext(r.options),h=n.currentTimeline.currentTime,_=this._visitSubInstructions(l,d,d.options);h!=_&&n.transformIntoNewTimeline(_)}n.previousNode=r}visitAnimateRef(r,n){const l=n.createSubContext(r.options);l.transformIntoNewTimeline(),this.visitReference(r.animation,l),n.transformIntoNewTimeline(l.currentTimeline.currentTime),n.previousNode=r}_visitSubInstructions(r,n,l){let h=n.currentTimeline.currentTime;const _=null!=l.duration?mi(l.duration):null,D=null!=l.delay?mi(l.delay):null;return 0!==_&&r.forEach(S=>{const R=n.appendInstructionToTimeline(S,_,D);h=Math.max(h,R.duration+R.delay)}),h}visitReference(r,n){n.updateOptions(r.options,!0),xn(this,r.animation,n),n.previousNode=r}visitSequence(r,n){const l=n.subContextCount;let d=n;const h=r.options;if(h&&(h.params||h.delay)&&(d=n.createSubContext(h),d.transformIntoNewTimeline(),null!=h.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=wc);const _=mi(h.delay);d.delayNextStep(_)}r.steps.length&&(r.steps.forEach(_=>xn(this,_,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>l&&d.transformIntoNewTimeline()),n.previousNode=r}visitGroup(r,n){const l=[];let d=n.currentTimeline.currentTime;const h=r.options&&r.options.delay?mi(r.options.delay):0;r.steps.forEach(_=>{const D=n.createSubContext(r.options);h&&D.delayNextStep(h),xn(this,_,D),d=Math.max(d,D.currentTimeline.currentTime),l.push(D.currentTimeline)}),l.forEach(_=>n.currentTimeline.mergeTimelineCollectedStyles(_)),n.transformIntoNewTimeline(d),n.previousNode=r}_visitTiming(r,n){if(r.dynamic){const l=r.strValue;return yc(n.params?Vf(l,n.params,n.errors):l,n.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,n){const l=n.currentAnimateTimings=this._visitTiming(r.timings,n),d=n.currentTimeline;l.delay&&(n.incrementTime(l.delay),d.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,n):(n.incrementTime(l.duration),this.visitStyle(h,n),d.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=r}visitStyle(r,n){const l=n.currentTimeline,d=n.currentAnimateTimings;!d&&l.hasCurrentStyleProperties()&&l.forwardFrame();const h=d&&d.easing||r.easing;r.isEmptyStep?l.applyEmptyStep(h):l.setStyles(r.styles,h,n.errors,n.options),n.previousNode=r}visitKeyframes(r,n){const l=n.currentAnimateTimings,d=n.currentTimeline.duration,h=l.duration,D=n.createSubContext().currentTimeline;D.easing=l.easing,r.styles.forEach(S=>{D.forwardTime((S.offset||0)*h),D.setStyles(S.styles,S.easing,n.errors,n.options),D.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(D),n.transformIntoNewTimeline(d+h),n.previousNode=r}visitQuery(r,n){const l=n.currentTimeline.currentTime,d=r.options||{},h=d.delay?mi(d.delay):0;h&&(6===n.previousNode.type||0==l&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=wc);let _=l;const D=n.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!d.optional,n.errors);n.currentQueryTotal=D.length;let S=null;D.forEach((R,$)=>{n.currentQueryIndex=$;const Y=n.createSubContext(r.options,R);h&&Y.delayNextStep(h),R===n.element&&(S=Y.currentTimeline),xn(this,r.animation,Y),Y.currentTimeline.applyStylesToKeyframe(),_=Math.max(_,Y.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(_),S&&(n.currentTimeline.mergeTimelineCollectedStyles(S),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=r}visitStagger(r,n){const l=n.parentContext,d=n.currentTimeline,h=r.timings,_=Math.abs(h.duration),D=_*(n.currentQueryTotal-1);let S=_*n.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":S=D-S;break;case"full":S=l.currentStaggerTime}const $=n.currentTimeline;S&&$.delayNextStep(S);const Y=$.currentTime;xn(this,r.animation,n),n.previousNode=r,l.currentStaggerTime=d.currentTime-Y+(d.startTime-l.currentTimeline.startTime)}}const wc={};class v_{constructor(r,n,l,d,h,_,D,S){this._driver=r,this.element=n,this.subInstructions=l,this._enterClassName=d,this._leaveClassName=h,this.errors=_,this.timelines=D,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=S||new va(this._driver,n,0),D.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,n){if(!r)return;const l=r;let d=this.options;null!=l.duration&&(d.duration=mi(l.duration)),null!=l.delay&&(d.delay=mi(l.delay));const h=l.params;if(h){let _=d.params;_||(_=this.options.params={}),Object.keys(h).forEach(D=>{(!n||!_.hasOwnProperty(D))&&(_[D]=Vf(h[D],_,this.errors))})}}_copyOptions(){const r={};if(this.options){const n=this.options.params;if(n){const l=r.params={};Object.keys(n).forEach(d=>{l[d]=n[d]})}}return r}createSubContext(r=null,n,l){const d=n||this.element,h=new v_(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,l||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=wc,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,n,l){const d={duration:n??r.duration,delay:this.currentTimeline.currentTime+(l??0)+r.delay,easing:""},h=new ME(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,d,r.stretchStartingKeyframe);return this.timelines.push(h),d}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,n,l,d,h,_){let D=[];if(d&&D.push(this.element),r.length>0){r=(r=r.replace(g_,"."+this._enterClassName)).replace(__,"."+this._leaveClassName);let R=this._driver.query(this.element,r,1!=l);0!==l&&(R=l<0?R.slice(R.length+l,R.length):R.slice(0,l)),D.push(...R)}return!h&&0==D.length&&_.push(function Km(i){return new o.vHH(3014,!1)}()),D}}class va{constructor(r,n,l,d){this._driver=r,this.element=n,this.startTime=l,this._elementTimelineStylesLookup=d,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+r),n&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,n){return this.applyStylesToKeyframe(),new va(this._driver,r,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,n){this._localTimelineStyles.set(r,n),this._globalTimelineStyles.set(r,n),this._styleSummary.set(r,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[n,l]of this._globalTimelineStyles)this._backFill.set(n,l||et),this._currentKeyframe.set(n,et);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,n,l,d){n&&this._previousKeyframe.set("easing",n);const h=d&&d.params||{},_=function TE(i,r){const n=new Map;let l;return i.forEach(d=>{if("*"===d){l=l||r.keys();for(let h of l)n.set(h,et)}else ar(d,n)}),n}(r,this._globalTimelineStyles);for(let[D,S]of _){const R=Vf(S,h,l);this._pendingStyles.set(D,R),this._localTimelineStyles.has(D)||this._backFill.set(D,this._globalTimelineStyles.get(D)||et),this._updateStyle(D,R)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,n)=>{this._currentKeyframe.set(n,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,r)}))}snapshotCurrentStyles(){for(let[r,n]of this._localTimelineStyles)this._pendingStyles.set(r,n),this._updateStyle(r,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let n in this._currentKeyframe)r.push(n);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((n,l)=>{const d=this._styleSummary.get(l);(!d||n.time>d.time)&&this._updateStyle(l,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,n=new Set,l=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((D,S)=>{const R=ar(D,new Map,this._backFill);R.forEach(($,Y)=>{"!"===$?r.add(Y):$===et&&n.add(Y)}),l||R.set("offset",S/this.duration),d.push(R)});const h=r.size?ma(r.values()):[],_=n.size?ma(n.values()):[];if(l){const D=d[0],S=new Map(D);D.set("offset",0),S.set("offset",1),d=[D,S]}return Gf(this.element,d,h,_,this.duration,this.startTime,this.easing,!1)}}class ME extends va{constructor(r,n,l,d,h,_,D=!1){super(r,n,_.delay),this.keyframes=l,this.preStyleProps=d,this.postStyleProps=h,this._stretchStartingKeyframe=D,this.timings={duration:_.duration,delay:_.delay,easing:_.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:n,duration:l,easing:d}=this.timings;if(this._stretchStartingKeyframe&&n){const h=[],_=l+n,D=n/_,S=ar(r[0]);S.set("offset",0),h.push(S);const R=ar(r[0]);R.set("offset",D_(D)),h.push(R);const $=r.length-1;for(let Y=1;Y<=$;Y++){let _e=ar(r[Y]);const he=_e.get("offset");_e.set("offset",D_((n+he*l)/_)),h.push(_e)}l=_,n=0,d="",r=h}return Gf(this.element,r,this.preStyleProps,this.postStyleProps,l,n,d,!0)}}function D_(i,r=3){const n=Math.pow(10,r-1);return Math.round(i*n)/n}class os{}const Wf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Mr extends os{normalizePropertyName(r,n){return Bf(r)}normalizeStyleValue(r,n,l,d){let h="";const _=l.toString().trim();if(Wf.has(n)&&0!==l&&"0"!==l)if("number"==typeof l)h="px";else{const D=l.match(/^[+-]?[\d\.]+([a-z]*)$/);D&&0==D[1].length&&d.push(function ZD(i,r){return new o.vHH(3005,!1)}())}return _+h}}function E_(i,r,n,l,d,h,_,D,S,R,$,Y,_e){return{type:0,element:i,triggerName:r,isRemovalTransition:d,fromState:n,fromStyles:h,toState:l,toStyles:_,timelines:D,queriedElements:S,preStyleProps:R,postStyleProps:$,totalTime:Y,errors:_e}}const Da={};class co{constructor(r,n,l){this._triggerName=r,this.ast=n,this._stateStyles=l}match(r,n,l,d){return function IE(i,r,n,l,d){return i.some(h=>h(r,n,l,d))}(this.ast.matchers,r,n,l,d)}buildStyles(r,n,l){let d=this._stateStyles.get("*");return void 0!==r&&(d=this._stateStyles.get(r?.toString())||d),d?d.buildStyles(n,l):new Map}build(r,n,l,d,h,_,D,S,R,$){const Y=[],_e=this.ast.options&&this.ast.options.params||Da,ce=this.buildStyles(l,D&&D.params||Da,Y),Ee=S&&S.params||Da,le=this.buildStyles(d,Ee,Y),re=new Set,se=new Map,te=new Map,ge="void"===d,we={params:PE(Ee,_e),delay:this.ast.options?.delay},Be=$?[]:Cc(r,n,this.ast.animation,h,_,ce,le,we,R,Y);let ze=0;if(Be.forEach(rn=>{ze=Math.max(rn.duration+rn.delay,ze)}),Y.length)return E_(n,this._triggerName,l,d,ge,ce,le,[],[],se,te,ze,Y);Be.forEach(rn=>{const Tr=rn.element,GE=Nn(se,Tr,new Set);rn.preStyleProps.forEach(uo=>GE.add(uo));const Pc=Nn(te,Tr,new Set);rn.postStyleProps.forEach(uo=>Pc.add(uo)),Tr!==n&&re.add(Tr)});const Lt=ma(re.values());return E_(n,this._triggerName,l,d,ge,ce,le,Be,Lt,se,te,ze)}}function PE(i,r){const n=pa(r);for(const l in i)i.hasOwnProperty(l)&&null!=i[l]&&(n[l]=i[l]);return n}class FE{constructor(r,n,l){this.styles=r,this.defaultParams=n,this.normalizer=l}buildStyles(r,n){const l=new Map,d=pa(this.defaultParams);return Object.keys(r).forEach(h=>{const _=r[h];null!==_&&(d[h]=_)}),this.styles.styles.forEach(h=>{"string"!=typeof h&&h.forEach((_,D)=>{_&&(_=Vf(_,d,n));const S=this.normalizer.normalizePropertyName(D,n);_=this.normalizer.normalizeStyleValue(D,S,_,n),l.set(S,_)})}),l}}class bc{constructor(r,n,l){this.name=r,this.ast=n,this._normalizer=l,this.transitionFactories=[],this.states=new Map,n.states.forEach(d=>{this.states.set(d.name,new FE(d.style,d.options&&d.options.params||{},l))}),C_(this.states,"true","1"),C_(this.states,"false","0"),n.transitions.forEach(d=>{this.transitionFactories.push(new co(r,d,this.states))}),this.fallbackTransition=function OE(i,r,n){return new co(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_,D)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,n,l,d){return this.transitionFactories.find(_=>_.match(r,n,l,d))||null}matchStyles(r,n,l){return this.fallbackTransition.buildStyles(r,n,l)}}function C_(i,r,n){i.has(r)?i.has(n)||i.set(n,i.get(r)):i.has(n)&&i.set(r,i.get(n))}const w_=new Ec;class A_{constructor(r,n,l){this.bodyNode=r,this._driver=n,this._normalizer=l,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,n){const l=[],h=jf(this._driver,n,l,[]);if(l.length)throw function eE(i){return new o.vHH(3503,!1)}();this._animations.set(r,h)}_buildPlayer(r,n,l){const d=r.element,h=fc(0,this._normalizer,0,r.keyframes,n,l);return this._driver.animate(d,h,r.duration,r.delay,r.easing,[],!0)}create(r,n,l={}){const d=[],h=this._animations.get(r);let _;const D=new Map;if(h?(_=Cc(this._driver,n,h,Rf,io,new Map,new Map,l,w_,d),_.forEach($=>{const Y=Nn(D,$.element,new Map);$.postStyleProps.forEach(_e=>Y.set(_e,null))})):(d.push(function tE(){return new o.vHH(3300,!1)}()),_=[]),d.length)throw function nE(i){return new o.vHH(3504,!1)}();D.forEach(($,Y)=>{$.forEach((_e,he)=>{$.set(he,this._driver.computeStyle(Y,he,et))})});const R=gi(_.map($=>{const Y=D.get($.element);return this._buildPlayer($,new Map,Y)}));return this._playersById.set(r,R),R.onDestroy(()=>this.destroy(r)),this.players.push(R),R}destroy(r){const n=this._getPlayer(r);n.destroy(),this._playersById.delete(r);const l=this.players.indexOf(n);l>=0&&this.players.splice(l,1)}_getPlayer(r){const n=this._playersById.get(r);if(!n)throw function rE(i){return new o.vHH(3301,!1)}();return n}listen(r,n,l,d){const h=pc(n,"","","");return Ff(this._getPlayer(r),l,h,d),()=>{}}command(r,n,l,d){if("register"==l)return void this.register(r,d[0]);if("create"==l)return void this.create(r,n,d[0]||{});const h=this._getPlayer(r);switch(l){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(r)}}}const Sc="ng-animate-queued",Zf="ng-animate-disabled",zf=[],Yf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bn="__ng_removed";class Qf{constructor(r,n=""){this.namespaceId=n;const l=r&&r.hasOwnProperty("value");if(this.value=function LE(i){return i??null}(l?r.value:r),l){const h=pa(r);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const n=r.params;if(n){const l=this.options.params;Object.keys(n).forEach(d=>{null==l[d]&&(l[d]=n[d])})}}}const Ea="void",Jf=new Qf(Ea);class xE{constructor(r,n,l){this.id=r,this.hostElement=n,this._engine=l,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Un(n,this._hostClassName)}listen(r,n,l,d){if(!this._triggers.has(n))throw function Ym(i,r){return new o.vHH(3302,!1)}();if(null==l||0==l.length)throw function iE(i){return new o.vHH(3303,!1)}();if(!function kE(i){return"start"==i||"done"==i}(l))throw function sE(i,r){return new o.vHH(3400,!1)}();const h=Nn(this._elementListeners,r,[]),_={name:n,phase:l,callback:d};h.push(_);const D=Nn(this._engine.statesByElement,r,new Map);return D.has(n)||(Un(r,so),Un(r,so+"-"+n),D.set(n,Jf)),()=>{this._engine.afterFlush(()=>{const S=h.indexOf(_);S>=0&&h.splice(S,1),this._triggers.has(n)||D.delete(n)})}}register(r,n){return!this._triggers.has(r)&&(this._triggers.set(r,n),!0)}_getTrigger(r){const n=this._triggers.get(r);if(!n)throw function ro(i){return new o.vHH(3401,!1)}();return n}trigger(r,n,l,d=!0){const h=this._getTrigger(n),_=new Ca(this.id,n,r);let D=this._engine.statesByElement.get(r);D||(Un(r,so),Un(r,so+"-"+n),this._engine.statesByElement.set(r,D=new Map));let S=D.get(n);const R=new Qf(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&S&&R.absorbOptions(S.options),D.set(n,R),S||(S=Jf),R.value!==Ea&&S.value===R.value){if(!function BE(i,r){const n=Object.keys(i),l=Object.keys(r);if(n.length!=l.length)return!1;for(let d=0;d<n.length;d++){const h=n[d];if(!r.hasOwnProperty(h)||i[h]!==r[h])return!1}return!0}(S.params,R.params)){const Ee=[],le=h.matchStyles(S.value,S.params,Ee),re=h.matchStyles(R.value,R.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{yi(r,le),Sr(r,re)})}return}const _e=Nn(this._engine.playersByElement,r,[]);_e.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==n&&Ee.queued&&Ee.destroy()});let he=h.matchTransition(S.value,R.value,r,R.params),ce=!1;if(!he){if(!d)return;he=h.fallbackTransition,ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:n,transition:he,fromState:S,toState:R,player:_,isFallbackTransition:ce}),ce||(Un(r,Sc),_.onStart(()=>{as(r,Sc)})),_.onDone(()=>{let Ee=this.players.indexOf(_);Ee>=0&&this.players.splice(Ee,1);const le=this._engine.playersByElement.get(r);if(le){let re=le.indexOf(_);re>=0&&le.splice(re,1)}}),this.players.push(_),_e.push(_),_}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(n=>n.delete(r)),this._elementListeners.forEach((n,l)=>{this._elementListeners.set(l,n.filter(d=>d.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const n=this._engine.playersByElement.get(r);n&&(n.forEach(l=>l.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,n){const l=this._engine.driver.query(r,oo,!0),d=r.shadowRoot?this._engine.driver.query(r.shadowRoot,oo,!0):[];[...l,...d].forEach(h=>{if(h[bn])return;const _=this._engine.fetchNamespacesByElement(h);_.size?_.forEach(D=>D.triggerLeaveAnimation(h,n,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(r,n,l,d){const h=this._engine.statesByElement.get(r),_=new Map;if(h){const D=[];if(h.forEach((S,R)=>{if(_.set(R,S.value),this._triggers.has(R)){const $=this.trigger(r,R,Ea,d);$&&D.push($)}}),D.length)return this._engine.markElementAsRemoved(this.id,r,!0,n,_),l&&gi(D).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const n=this._elementListeners.get(r),l=this._engine.statesByElement.get(r);if(n&&l){const d=new Set;n.forEach(h=>{const _=h.name;if(d.has(_))return;d.add(_);const S=this._triggers.get(_).fallbackTransition,R=l.get(_)||Jf,$=new Qf(Ea),Y=new Ca(this.id,_,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:_,transition:S,fromState:R,toState:$,player:Y,isFallbackTransition:!0})})}}removeNode(r,n){const l=this._engine;if((!!r.childElementCount||!(!r.shadowRoot||!r.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(r,n),this.triggerLeaveAnimation(r,n,!0))return;let _=!1;if(l.totalAnimations){const D=l.players.length?l.playersByQueriedElement.get(r):[];if(D&&D.length)_=!0;else{let S=r;for(;S=S.parentNode;)if(l.statesByElement.get(S)){_=!0;break}}}if(this.prepareLeaveAnimationListeners(r),_)l.markElementAsRemoved(this.id,r,!1,n);else{const D=r[bn];(!D||D===Yf)&&(l.afterFlush(()=>this.clearElementCache(r)),l.destroyInnerAnimations(r),l._onRemovalComplete(r,n))}}insertNode(r,n){Un(r,this._hostClassName)}drainQueuedTransitions(r){const n=[];return this._queue.forEach(l=>{const d=l.player;if(d.destroyed)return;const h=l.element,_=this._elementListeners.get(h);_&&_.forEach(D=>{if(D.name==l.triggerName){const S=pc(h,l.triggerName,l.fromState.value,l.toState.value);S._data=r,Ff(l.player,D.phase,S,D.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):n.push(l)}),this._queue=[],n.sort((l,d)=>{const h=l.transition.ast.depCount,_=d.transition.ast.depCount;return 0==h||0==_?h-_:this._engine.driver.containsElement(l.element,d.element)?1:-1})}destroy(r){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let n=!1;return this._elementListeners.has(r)&&(n=!0),n=!!this._queue.find(l=>l.element===r)||n,n}}class S_{constructor(r,n,l){this.bodyNode=r,this.driver=n,this._normalizer=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,h)=>{}}_onRemovalComplete(r,n){this.onRemovalComplete(r,n)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(n=>{n.players.forEach(l=>{l.queued&&r.push(l)})}),r}createNamespace(r,n){const l=new xE(r,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(l,n):(this.newHostElements.set(n,l),this.collectEnterElement(n)),this._namespaceLookup[r]=l}_balanceNamespaceList(r,n){const l=this._namespaceList,d=this.namespacesByHostElement;if(l.length-1>=0){let _=!1,D=this.driver.getParentElement(n);for(;D;){const S=d.get(D);if(S){const R=l.indexOf(S);l.splice(R+1,0,r),_=!0;break}D=this.driver.getParentElement(D)}_||l.unshift(r)}else l.push(r);return d.set(n,r),r}register(r,n){let l=this._namespaceLookup[r];return l||(l=this.createNamespace(r,n)),l}registerTrigger(r,n,l){let d=this._namespaceLookup[r];d&&d.register(n,l)&&this.totalAnimations++}destroy(r,n){if(!r)return;const l=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(l.hostElement),delete this._namespaceLookup[r];const d=this._namespaceList.indexOf(l);d>=0&&this._namespaceList.splice(d,1)}),this.afterFlushAnimationsDone(()=>l.destroy(n))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const n=new Set,l=this.statesByElement.get(r);if(l)for(let d of l.values())if(d.namespaceId){const h=this._fetchNamespace(d.namespaceId);h&&n.add(h)}return n}trigger(r,n,l,d){if(Mc(n)){const h=this._fetchNamespace(r);if(h)return h.trigger(n,l,d),!0}return!1}insertNode(r,n,l,d){if(!Mc(n))return;const h=n[bn];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const _=this.collectedLeaveElements.indexOf(n);_>=0&&this.collectedLeaveElements.splice(_,1)}if(r){const _=this._fetchNamespace(r);_&&_.insertNode(n,l)}d&&this.collectEnterElement(n)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,n){n?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Un(r,Zf)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),as(r,Zf))}removeNode(r,n,l,d){if(Mc(n)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(n,d):this.markElementAsRemoved(r,n,!1,d),l){const _=this.namespacesByHostElement.get(n);_&&_.id!==r&&_.removeNode(n,d)}}else this._onRemovalComplete(n,d)}markElementAsRemoved(r,n,l,d,h){this.collectedLeaveElements.push(n),n[bn]={namespaceId:r,setForRemoval:d,hasAnimation:l,removedBeforeQueried:!1,previousTriggersValues:h}}listen(r,n,l,d,h){return Mc(n)?this._fetchNamespace(r).listen(n,l,d,h):()=>{}}_buildInstruction(r,n,l,d,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,l,d,r.fromState.options,r.toState.options,n,h)}destroyInnerAnimations(r){let n=this.driver.query(r,oo,!0);n.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(r,Lf,!0),n.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(r){const n=this.playersByElement.get(r);n&&n.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(r){const n=this.playersByQueriedElement.get(r);n&&n.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return gi(this.players).onDone(()=>r());r()})}processLeaveNode(r){const n=r[bn];if(n&&n.setForRemoval){if(r[bn]=Yf,n.namespaceId){this.destroyInnerAnimations(r);const l=this._fetchNamespace(n.namespaceId);l&&l.clearElementCache(r)}this._onRemovalComplete(r,n.setForRemoval)}r.classList?.contains(Zf)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(r=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,d)=>this._balanceNamespaceList(l,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)Un(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{n=this._flushAnimations(l,r)}finally{for(let d=0;d<l.length;d++)l[d]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],n.length?gi(n).onDone(()=>{l.forEach(d=>d())}):l.forEach(d=>d())}}reportError(r){throw function oE(i){return new o.vHH(3402,!1)}()}_flushAnimations(r,n){const l=new Ec,d=[],h=new Map,_=[],D=new Map,S=new Map,R=new Map,$=new Set;this.disabledNodes.forEach(De=>{$.add(De);const Ce=this.driver.query(De,".ng-animate-queued",!0);for(let Te=0;Te<Ce.length;Te++)$.add(Ce[Te])});const Y=this.bodyNode,_e=Array.from(this.statesByElement.keys()),he=eh(_e,this.collectedEnterElements),ce=new Map;let Ee=0;he.forEach((De,Ce)=>{const Te=Rf+Ee++;ce.set(Ce,Te),De.forEach(Ye=>Un(Ye,Te))});const le=[],re=new Set,se=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Ce=this.collectedLeaveElements[De],Te=Ce[bn];Te&&Te.setForRemoval&&(le.push(Ce),re.add(Ce),Te.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(Ye=>re.add(Ye)):se.add(Ce))}const te=new Map,ge=eh(_e,Array.from(re));ge.forEach((De,Ce)=>{const Te=io+Ee++;te.set(Ce,Te),De.forEach(Ye=>Un(Ye,Te))}),r.push(()=>{he.forEach((De,Ce)=>{const Te=ce.get(Ce);De.forEach(Ye=>as(Ye,Te))}),ge.forEach((De,Ce)=>{const Te=te.get(Ce);De.forEach(Ye=>as(Ye,Te))}),le.forEach(De=>{this.processLeaveNode(De)})});const we=[],Be=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(n).forEach(Te=>{const Ye=Te.player,Qt=Te.element;if(we.push(Ye),this.collectedEnterElements.length){const yn=Qt[bn];if(yn&&yn.setForMove){if(yn.previousTriggersValues&&yn.previousTriggersValues.has(Te.triggerName)){const us=yn.previousTriggersValues.get(Te.triggerName),vn=this.statesByElement.get(Te.element);if(vn&&vn.has(Te.triggerName)){const Fc=vn.get(Te.triggerName);Fc.value=us,vn.set(Te.triggerName,Fc)}}return void Ye.destroy()}}const Hn=!Y||!this.driver.containsElement(Y,Qt),Sn=te.get(Qt),Ei=ce.get(Qt),Ct=this._buildInstruction(Te,l,Ei,Sn,Hn);if(Ct.errors&&Ct.errors.length)return void Be.push(Ct);if(Hn)return Ye.onStart(()=>yi(Qt,Ct.fromStyles)),Ye.onDestroy(()=>Sr(Qt,Ct.toStyles)),void d.push(Ye);if(Te.isFallbackTransition)return Ye.onStart(()=>yi(Qt,Ct.fromStyles)),Ye.onDestroy(()=>Sr(Qt,Ct.toStyles)),void d.push(Ye);const ZE=[];Ct.timelines.forEach(yn=>{yn.stretchStartingKeyframe=!0,this.disabledNodes.has(yn.element)||ZE.push(yn)}),Ct.timelines=ZE,l.append(Qt,Ct.timelines),_.push({instruction:Ct,player:Ye,element:Qt}),Ct.queriedElements.forEach(yn=>Nn(D,yn,[]).push(Ye)),Ct.preStyleProps.forEach((yn,us)=>{if(yn.size){let vn=S.get(us);vn||S.set(us,vn=new Set),yn.forEach((Fc,V_)=>vn.add(V_))}}),Ct.postStyleProps.forEach((yn,us)=>{let vn=R.get(us);vn||R.set(us,vn=new Set),yn.forEach((Fc,V_)=>vn.add(V_))})});if(Be.length){const De=[];Be.forEach(Ce=>{De.push(function lE(i,r){return new o.vHH(3505,!1)}())}),we.forEach(Ce=>Ce.destroy()),this.reportError(De)}const ze=new Map,Lt=new Map;_.forEach(De=>{const Ce=De.element;l.has(Ce)&&(Lt.set(Ce,Ce),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,ze))}),d.forEach(De=>{const Ce=De.element;this._getPreviousPlayers(Ce,!1,De.namespaceId,De.triggerName,null).forEach(Ye=>{Nn(ze,Ce,[]).push(Ye),Ye.destroy()})});const rn=le.filter(De=>T_(De,S,R)),Tr=new Map;Xf(Tr,this.driver,se,R,et).forEach(De=>{T_(De,S,R)&&rn.push(De)});const Pc=new Map;he.forEach((De,Ce)=>{Xf(Pc,this.driver,new Set(De),S,"!")}),rn.forEach(De=>{const Ce=Tr.get(De),Te=Pc.get(De);Tr.set(De,new Map([...Array.from(Ce?.entries()??[]),...Array.from(Te?.entries()??[])]))});const uo=[],Aa=[],WE={};_.forEach(De=>{const{element:Ce,player:Te,instruction:Ye}=De;if(l.has(Ce)){if($.has(Ce))return Te.onDestroy(()=>Sr(Ce,Ye.toStyles)),Te.disabled=!0,Te.overrideTotalTime(Ye.totalTime),void d.push(Te);let Qt=WE;if(Lt.size>1){let Sn=Ce;const Ei=[];for(;Sn=Sn.parentNode;){const Ct=Lt.get(Sn);if(Ct){Qt=Ct;break}Ei.push(Sn)}Ei.forEach(Ct=>Lt.set(Ct,Qt))}const Hn=this._buildAnimation(Te.namespaceId,Ye,ze,h,Pc,Tr);if(Te.setRealPlayer(Hn),Qt===WE)uo.push(Te);else{const Sn=this.playersByElement.get(Qt);Sn&&Sn.length&&(Te.parentPlayer=gi(Sn)),d.push(Te)}}else yi(Ce,Ye.fromStyles),Te.onDestroy(()=>Sr(Ce,Ye.toStyles)),Aa.push(Te),$.has(Ce)&&d.push(Te)}),Aa.forEach(De=>{const Ce=h.get(De.element);if(Ce&&Ce.length){const Te=gi(Ce);De.setRealPlayer(Te)}}),d.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<le.length;De++){const Ce=le[De],Te=Ce[bn];if(as(Ce,io),Te&&Te.hasAnimation)continue;let Ye=[];if(D.size){let Hn=D.get(Ce);Hn&&Hn.length&&Ye.push(...Hn);let Sn=this.driver.query(Ce,Lf,!0);for(let Ei=0;Ei<Sn.length;Ei++){let Ct=D.get(Sn[Ei]);Ct&&Ct.length&&Ye.push(...Ct)}}const Qt=Ye.filter(Hn=>!Hn.destroyed);Qt.length?VE(this,Ce,Qt):this.processLeaveNode(Ce)}return le.length=0,uo.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Ce=this.players.indexOf(De);this.players.splice(Ce,1)}),De.play()}),uo}elementContainsData(r,n){let l=!1;const d=n[bn];return d&&d.setForRemoval&&(l=!0),this.playersByElement.has(n)&&(l=!0),this.playersByQueriedElement.has(n)&&(l=!0),this.statesByElement.has(n)&&(l=!0),this._fetchNamespace(r).elementContainsData(n)||l}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,n,l,d,h){let _=[];if(n){const D=this.playersByQueriedElement.get(r);D&&(_=D)}else{const D=this.playersByElement.get(r);if(D){const S=!h||h==Ea;D.forEach(R=>{R.queued||!S&&R.triggerName!=d||_.push(R)})}}return(l||d)&&(_=_.filter(D=>!(l&&l!=D.namespaceId||d&&d!=D.triggerName))),_}_beforeAnimationBuild(r,n,l){const h=n.element,_=n.isRemovalTransition?void 0:r,D=n.isRemovalTransition?void 0:n.triggerName;for(const S of n.timelines){const R=S.element,$=R!==h,Y=Nn(l,R,[]);this._getPreviousPlayers(R,$,_,D,n.toState).forEach(he=>{const ce=he.getRealPlayer();ce.beforeDestroy&&ce.beforeDestroy(),he.destroy(),Y.push(he)})}yi(h,n.fromStyles)}_buildAnimation(r,n,l,d,h,_){const D=n.triggerName,S=n.element,R=[],$=new Set,Y=new Set,_e=n.timelines.map(ce=>{const Ee=ce.element;$.add(Ee);const le=Ee[bn];if(le&&le.removedBeforeQueried)return new la(ce.duration,ce.delay);const re=Ee!==S,se=function _n(i){const r=[];return ls(i,r),r}((l.get(Ee)||zf).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===Ee),te=h.get(Ee),ge=_.get(Ee),we=fc(0,this._normalizer,0,ce.keyframes,te,ge),Be=this._buildPlayer(ce,we,se);if(ce.subTimeline&&d&&Y.add(Ee),re){const ze=new Ca(r,D,Ee);ze.setRealPlayer(Be),R.push(ze)}return Be});R.forEach(ce=>{Nn(this.playersByQueriedElement,ce.element,[]).push(ce),ce.onDone(()=>function RE(i,r,n){let l=i.get(r);if(l){if(l.length){const d=l.indexOf(n);l.splice(d,1)}0==l.length&&i.delete(r)}return l}(this.playersByQueriedElement,ce.element,ce))}),$.forEach(ce=>Un(ce,_c));const he=gi(_e);return he.onDestroy(()=>{$.forEach(ce=>as(ce,_c)),Sr(S,n.toStyles)}),Y.forEach(ce=>{Nn(d,ce,[]).push(he)}),he}_buildPlayer(r,n,l){return n.length>0?this.driver.animate(r.element,n,r.duration,r.delay,r.easing,l):new la(r.duration,r.delay)}}class Ca{constructor(r,n,l){this.namespaceId=r,this.triggerName=n,this.element=l,this._player=new la,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((n,l)=>{n.forEach(d=>Ff(r,l,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const n=this._player;n.triggerCallback&&r.onStart(()=>n.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,n){Nn(this._queuedCallbacks,r,[]).push(n)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const n=this._player;n.triggerCallback&&n.triggerCallback(r)}}function Mc(i){return i&&1===i.nodeType}function M_(i,r){const n=i.style.display;return i.style.display=r??"none",n}function Xf(i,r,n,l,d){const h=[];n.forEach(S=>h.push(M_(S)));const _=[];l.forEach((S,R)=>{const $=new Map;S.forEach(Y=>{const _e=r.computeStyle(R,Y,d);$.set(Y,_e),(!_e||0==_e.length)&&(R[bn]=qf,_.push(R))}),i.set(R,$)});let D=0;return n.forEach(S=>M_(S,h[D++])),_}function eh(i,r){const n=new Map;if(i.forEach(D=>n.set(D,[])),0==r.length)return n;const d=new Set(r),h=new Map;function _(D){if(!D)return 1;let S=h.get(D);if(S)return S;const R=D.parentNode;return S=n.has(R)?R:d.has(R)?1:_(R),h.set(D,S),S}return r.forEach(D=>{const S=_(D);1!==S&&n.get(S).push(D)}),n}function Un(i,r){i.classList?.add(r)}function as(i,r){i.classList?.remove(r)}function VE(i,r,n){gi(n).onDone(()=>i.processLeaveNode(r))}function ls(i,r){for(let n=0;n<i.length;n++){const l=i[n];l instanceof ca?ls(l.players,r):r.push(l)}}function T_(i,r,n){const l=n.get(i);if(!l)return!1;let d=r.get(i);return d?l.forEach(h=>d.add(h)):r.set(i,l),n.delete(i),!0}class th{constructor(r,n,l){this.bodyNode=r,this._driver=n,this._normalizer=l,this._triggerCache={},this.onRemovalComplete=(d,h)=>{},this._transitionEngine=new S_(r,n,l),this._timelineEngine=new A_(r,n,l),this._transitionEngine.onRemovalComplete=(d,h)=>this.onRemovalComplete(d,h)}registerTrigger(r,n,l,d,h){const _=r+"-"+d;let D=this._triggerCache[_];if(!D){const S=[],$=jf(this._driver,h,S,[]);if(S.length)throw function fa(i,r){return new o.vHH(3404,!1)}();D=function Ac(i,r,n){return new bc(i,r,n)}(d,$,this._normalizer),this._triggerCache[_]=D}this._transitionEngine.registerTrigger(n,d,D)}register(r,n){this._transitionEngine.register(r,n)}destroy(r,n){this._transitionEngine.destroy(r,n)}onInsert(r,n,l,d){this._transitionEngine.insertNode(r,n,l,d)}onRemove(r,n,l,d){this._transitionEngine.removeNode(r,n,d||!1,l)}disableAnimations(r,n){this._transitionEngine.markElementAsDisabled(r,n)}process(r,n,l,d){if("@"==l.charAt(0)){const[h,_]=Qm(l);this._timelineEngine.command(h,n,_,d)}else this._transitionEngine.trigger(r,n,l,d)}listen(r,n,l,d,h){if("@"==l.charAt(0)){const[_,D]=Qm(l);return this._timelineEngine.listen(_,n,D,h)}return this._transitionEngine.listen(r,n,l,d,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let I_=(()=>{class i{constructor(n,l,d){this._element=n,this._startStyles=l,this._endStyles=d,this._state=0;let h=i.initialStylesByElement.get(n);h||i.initialStylesByElement.set(n,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(yi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yi(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Tc(i){let r=null;return i.forEach((n,l)=>{(function wa(i){return"display"===i||"position"===i})(l)&&(r=r||new Map,r.set(l,n))}),r}class P_{constructor(r,n,l,d){this.element=r,this.keyframes=n,this.options=l,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const n=[];return r.forEach(l=>{n.push(Object.fromEntries(l))}),n}_triggerWebAnimation(r,n,l){return r.animate(this._convertKeyframesToObject(n),l)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((l,d)=>{"offset"!==d&&r.set(d,this._finished?l:vc(this.element,d))}),this.currentSnapshot=r}triggerCallback(r){const n="start"===r?this._onStartFns:this._onDoneFns;n.forEach(l=>l()),n.length=0}}class nh{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,n){return!1}containsElement(r,n){return e_(r,n)}getParentElement(r){return mc(r)}query(r,n,l){return Nf(r,n,l)}computeStyle(r,n,l){return window.getComputedStyle(r)[n]}animate(r,n,l,d,h,_=[]){const S={duration:l,delay:d,fill:0==d?"both":"forwards"};h&&(S.easing=h);const R=new Map,$=_.filter(he=>he instanceof P_);(function _E(i,r){return 0===i||0===r})(l,d)&&$.forEach(he=>{he.currentSnapshot.forEach((ce,Ee)=>R.set(Ee,ce))});let Y=function Qw(i){return i.length?i[0]instanceof Map?i:i.map(r=>kf(r)):[]}(n).map(he=>ar(he));Y=function l_(i,r,n){if(n.size&&r.length){let l=r[0],d=[];if(n.forEach((h,_)=>{l.has(_)||d.push(_),l.set(_,h)}),d.length)for(let h=1;h<r.length;h++){let _=r[h];d.forEach(D=>_.set(D,vc(i,D)))}}return r}(r,Y,R);const _e=function iA(i,r){let n=null,l=null;return Array.isArray(r)&&r.length?(n=Tc(r[0]),r.length>1&&(l=Tc(r[r.length-1]))):r instanceof Map&&(n=Tc(r)),n||l?new I_(i,n,l):null}(r,Y);return new P_(r,Y,S,_e)}}let UE=(()=>{class i extends aa{constructor(n,l){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(l.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(n){const l=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(n)?jm(n):n;return O_(this._renderer,null,l,"register",[d]),new F_(l,this._renderer)}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(o.FYo),o.LFG(F))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class F_ extends class ac{}{constructor(r,n){super(),this._id=r,this._renderer=n}create(r,n){return new HE(this._id,r,n||{},this._renderer)}}class HE{constructor(r,n,l,d){this.id=r,this.element=n,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",l)}_listen(r,n){return this._renderer.listen(this.element,`@@${this.id}:${r}`,n)}_command(r,...n){return O_(this._renderer,this.element,this.id,r,n)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function O_(i,r,n,l,d){return i.setProperty(r,`@@${n}:${l}`,d)}const N_="@.disabled";let rh=(()=>{class i{constructor(n,l,d){this.delegate=n,this.engine=l,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),l.onRemovalComplete=(h,_)=>{const D=_?.parentNode(h);D&&_.removeChild(D,h)}}createRenderer(n,l){const h=this.delegate.createRenderer(n,l);if(!(n&&l&&l.data&&l.data.animation)){let $=this._rendererCache.get(h);return $||($=new ih("",h,this.engine),this._rendererCache.set(h,$)),$}const _=l.id,D=l.id+"-"+this._currentId;this._currentId++,this.engine.register(D,n);const S=$=>{Array.isArray($)?$.forEach(S):this.engine.registerTrigger(_,D,n,$.name,$)};return l.data.animation.forEach(S),new x_(this,D,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,l,d){n>=0&&n<this._microtaskId?this._zone.run(()=>l(d)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[_,D]=h;_(D)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([l,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(o.FYo),o.LFG(th),o.LFG(o.R0b))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})();class ih{constructor(r,n,l){this.namespaceId=r,this.delegate=n,this.engine=l,this.destroyNode=this.delegate.destroyNode?d=>n.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,n){return this.delegate.createElement(r,n)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,n){this.delegate.appendChild(r,n),this.engine.onInsert(this.namespaceId,n,r,!1)}insertBefore(r,n,l,d=!0){this.delegate.insertBefore(r,n,l),this.engine.onInsert(this.namespaceId,n,r,d)}removeChild(r,n,l){this.engine.onRemove(this.namespaceId,n,this.delegate,l)}selectRootElement(r,n){return this.delegate.selectRootElement(r,n)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,n,l,d){this.delegate.setAttribute(r,n,l,d)}removeAttribute(r,n,l){this.delegate.removeAttribute(r,n,l)}addClass(r,n){this.delegate.addClass(r,n)}removeClass(r,n){this.delegate.removeClass(r,n)}setStyle(r,n,l,d){this.delegate.setStyle(r,n,l,d)}removeStyle(r,n,l){this.delegate.removeStyle(r,n,l)}setProperty(r,n,l){"@"==n.charAt(0)&&n==N_?this.disableAnimations(r,!!l):this.delegate.setProperty(r,n,l)}setValue(r,n){this.delegate.setValue(r,n)}listen(r,n,l){return this.delegate.listen(r,n,l)}disableAnimations(r,n){this.engine.disableAnimations(r,n)}}class x_ extends ih{constructor(r,n,l,d){super(n,l,d),this.factory=r,this.namespaceId=n}setProperty(r,n,l){"@"==n.charAt(0)?"."==n.charAt(1)&&n==N_?this.disableAnimations(r,l=void 0===l||!!l):this.engine.process(this.namespaceId,r,n.slice(1),l):this.delegate.setProperty(r,n,l)}listen(r,n,l){if("@"==n.charAt(0)){const d=function Ic(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(r);let h=n.slice(1),_="";return"@"!=h.charAt(0)&&([h,_]=function sh(i){const r=i.indexOf(".");return[i.substring(0,r),i.slice(r+1)]}(h)),this.engine.listen(this.namespaceId,d,h,_,D=>{this.factory.scheduleListenerCallback(D._data||-1,l,D)})}return this.delegate.listen(r,n,l)}}const oh=[{provide:aa,useClass:UE},{provide:os,useFactory:function R_(){return new Mr}},{provide:th,useClass:(()=>{class i extends th{constructor(n,l,d,h){super(n.body,l,d)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(F),o.LFG(xf),o.LFG(os),o.LFG(o.z2F))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})()},{provide:o.FYo,useFactory:function jE(i,r,n){return new rh(i,r,n)},deps:[St,th,o.R0b]}],cs=[{provide:xf,useFactory:()=>new nh},{provide:o.QbO,useValue:"BrowserAnimations"},...oh],$E=[{provide:xf,useClass:t_},{provide:o.QbO,useValue:"NoopAnimations"},...oh];let L_=(()=>{class i{static withConfig(n){return{ngModule:i,providers:n.disableAnimations?$E:cs}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:cs,imports:[su]}),i})(),oA=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i,bootstrap:[LD]}),i.\u0275inj=o.cJS({imports:[su,Jv,y.Aw.forRoot({},{metaReducers:[],runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),Vr.forRoot([]),[],Fd,L_]}),i})();(0,o.G48)(),ru().bootstrapModule(oA).catch(i=>console.error(i))},9763:L=>{L.exports=P=>{if(!Array.isArray(P))throw new TypeError("Expected an array, got "+typeof P);for(let E=(P=[...P]).length-1;E>0;E--){const o=Math.floor(Math.random()*(E+1));[P[E],P[o]]=[P[o],P[E]]}return P}},9312:(L,P,E)=>{E.d(P,{P:()=>N});var o=E(8896),V=E(1086),W=E(1737);class N{constructor(F,A,M){this.kind=F,this.value=A,this.error=M,this.hasValue="N"===F}observe(F){switch(this.kind){case"N":return F.next&&F.next(this.value);case"E":return F.error&&F.error(this.error);case"C":return F.complete&&F.complete()}}do(F,A,M){switch(this.kind){case"N":return F&&F(this.value);case"E":return A&&A(this.error);case"C":return M&&M()}}accept(F,A,M){return F&&"function"==typeof F.next?this.observe(F):this.do(F,A,M)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return(0,W._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(F){return typeof F<"u"?new N("N",F):N.undefinedValueNotification}static createError(F){return new N("E",void 0,F)}static createComplete(){return N.completeNotification}}N.completeNotification=new N("C"),N.undefinedValueNotification=new N("N",void 0)},2916:(L,P,E)=>{E.d(P,{y:()=>B});var o=E(3489),W=E(7668),K=E(3292),T=E(3821),F=E(5379);var b=E(2830);let B=(()=>{class j{constructor(G){this._isScalar=!1,G&&(this._subscribe=G)}lift(G){const X=new j;return X.source=this,X.operator=G,X}subscribe(G,X,q){const{operator:Z}=this,ie=function N(j,me,G){if(j){if(j instanceof o.L)return j;if(j[W.b])return j[W.b]()}return j||me||G?new o.L(j,me,G):new o.L(K.c)}(G,X,q);if(ie.add(Z?Z.call(ie,this.source):this.source||b.v.useDeprecatedSynchronousErrorHandling&&!ie.syncErrorThrowable?this._subscribe(ie):this._trySubscribe(ie)),b.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable&&(ie.syncErrorThrowable=!1,ie.syncErrorThrown))throw ie.syncErrorValue;return ie}_trySubscribe(G){try{return this._subscribe(G)}catch(X){b.v.useDeprecatedSynchronousErrorHandling&&(G.syncErrorThrown=!0,G.syncErrorValue=X),function V(j){for(;j;){const{closed:me,destination:G,isStopped:X}=j;if(me||X)return!1;j=G&&G instanceof o.L?G:null}return!0}(G)?G.error(X):console.warn(X)}}forEach(G,X){return new(X=O(X))((q,Z)=>{let ie;ie=this.subscribe(ve=>{try{G(ve)}catch(ke){Z(ke),ie&&ie.unsubscribe()}},Z,q)})}_subscribe(G){const{source:X}=this;return X&&X.subscribe(G)}[T.L](){return this}pipe(...G){return 0===G.length?this:function M(j){return 0===j.length?F.y:1===j.length?j[0]:function(G){return j.reduce((X,q)=>q(X),G)}}(G)(this)}toPromise(G){return new(G=O(G))((X,q)=>{let Z;this.subscribe(ie=>Z=ie,ie=>q(ie),()=>X(Z))})}}return j.create=me=>new j(me),j})();function O(j){if(j||(j=b.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},3292:(L,P,E)=>{E.d(P,{c:()=>W});var o=E(2830),V=E(2782);const W={closed:!0,next(K){},error(K){if(o.v.useDeprecatedSynchronousErrorHandling)throw K;(0,V.z)(K)},complete(){}}},826:(L,P,E)=>{E.d(P,{L:()=>V});var o=E(3489);class V extends o.L{notifyNext(K,N,T,F,A){this.destination.next(N)}notifyError(K,N){this.destination.error(K)}notifyComplete(K){this.destination.complete()}}},839:(L,P,E)=>{E.d(P,{t:()=>F});var o=E(8929),V=E(341),W=E(2654),K=E(7770),N=E(5279),T=E(5283);class F extends o.xQ{constructor(b=Number.POSITIVE_INFINITY,B=Number.POSITIVE_INFINITY,O){super(),this.scheduler=O,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=b<1?1:b,this._windowTime=B<1?1:B,B===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(b){if(!this.isStopped){const B=this._events;B.push(b),B.length>this._bufferSize&&B.shift()}super.next(b)}nextTimeWindow(b){this.isStopped||(this._events.push(new A(this._getNow(),b)),this._trimBufferThenGetEvents()),super.next(b)}_subscribe(b){const B=this._infiniteTimeWindow,O=B?this._events:this._trimBufferThenGetEvents(),j=this.scheduler,me=O.length;let G;if(this.closed)throw new N.N;if(this.isStopped||this.hasError?G=W.w.EMPTY:(this.observers.push(b),G=new T.W(this,b)),j&&b.add(b=new K.ht(b,j)),B)for(let X=0;X<me&&!b.closed;X++)b.next(O[X]);else for(let X=0;X<me&&!b.closed;X++)b.next(O[X].value);return this.hasError?b.error(this.thrownError):this.isStopped&&b.complete(),G}_getNow(){return(this.scheduler||V.c).now()}_trimBufferThenGetEvents(){const b=this._getNow(),B=this._bufferSize,O=this._windowTime,j=this._events,me=j.length;let G=0;for(;G<me&&!(b-j[G].time<O);)G++;return me>B&&(G=Math.max(G,me-B)),G>0&&j.splice(0,G),j}}class A{constructor(b,B){this.time=b,this.value=B}}},8929:(L,P,E)=>{E.d(P,{Yc:()=>F,xQ:()=>A});var o=E(2916),V=E(3489),W=E(2654),K=E(5279),N=E(5283),T=E(7668);class F extends V.L{constructor(B){super(B),this.destination=B}}let A=(()=>{class b extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[T.b](){return new F(this)}lift(O){const j=new M(this,this);return j.operator=O,j}next(O){if(this.closed)throw new K.N;if(!this.isStopped){const{observers:j}=this,me=j.length,G=j.slice();for(let X=0;X<me;X++)G[X].next(O)}}error(O){if(this.closed)throw new K.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:j}=this,me=j.length,G=j.slice();for(let X=0;X<me;X++)G[X].error(O);this.observers.length=0}complete(){if(this.closed)throw new K.N;this.isStopped=!0;const{observers:O}=this,j=O.length,me=O.slice();for(let G=0;G<j;G++)me[G].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new K.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new K.N;return this.hasError?(O.error(this.thrownError),W.w.EMPTY):this.isStopped?(O.complete(),W.w.EMPTY):(this.observers.push(O),new N.W(this,O))}asObservable(){const O=new o.y;return O.source=this,O}}return b.create=(B,O)=>new M(B,O),b})();class M extends A{constructor(B,O){super(),this.destination=B,this.source=O}next(B){const{destination:O}=this;O&&O.next&&O.next(B)}error(B){const{destination:O}=this;O&&O.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:O}=this;return O?this.source.subscribe(B):W.w.EMPTY}}},5283:(L,P,E)=>{E.d(P,{W:()=>V});var o=E(2654);class V extends o.w{constructor(K,N){super(),this.subject=K,this.subscriber=N,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const K=this.subject,N=K.observers;if(this.subject=null,!N||0===N.length||K.isStopped||K.closed)return;const T=N.indexOf(this.subscriber);-1!==T&&N.splice(T,1)}}},3489:(L,P,E)=>{E.d(P,{L:()=>F});var o=E(7043),V=E(3292),W=E(2654),K=E(7668),N=E(2830),T=E(2782);class F extends W.w{constructor(b,B,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=V.c;break;case 1:if(!b){this.destination=V.c;break}if("object"==typeof b){b instanceof F?(this.syncErrorThrowable=b.syncErrorThrowable,this.destination=b,b.add(this)):(this.syncErrorThrowable=!0,this.destination=new A(this,b));break}default:this.syncErrorThrowable=!0,this.destination=new A(this,b,B,O)}}[K.b](){return this}static create(b,B,O){const j=new F(b,B,O);return j.syncErrorThrowable=!1,j}next(b){this.isStopped||this._next(b)}error(b){this.isStopped||(this.isStopped=!0,this._error(b))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(b){this.destination.next(b)}_error(b){this.destination.error(b),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:b}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=b,this}}class A extends F{constructor(b,B,O,j){super(),this._parentSubscriber=b;let me,G=this;(0,o.m)(B)?me=B:B&&(me=B.next,O=B.error,j=B.complete,B!==V.c&&(G=Object.create(B),(0,o.m)(G.unsubscribe)&&this.add(G.unsubscribe.bind(G)),G.unsubscribe=this.unsubscribe.bind(this))),this._context=G,this._next=me,this._error=O,this._complete=j}next(b){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;N.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,b)&&this.unsubscribe():this.__tryOrUnsub(this._next,b)}}error(b){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:O}=N.v;if(this._error)O&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,b),this.unsubscribe()):(this.__tryOrUnsub(this._error,b),this.unsubscribe());else if(B.syncErrorThrowable)O?(B.syncErrorValue=b,B.syncErrorThrown=!0):(0,T.z)(b),this.unsubscribe();else{if(this.unsubscribe(),O)throw b;(0,T.z)(b)}}}complete(){if(!this.isStopped){const{_parentSubscriber:b}=this;if(this._complete){const B=()=>this._complete.call(this._context);N.v.useDeprecatedSynchronousErrorHandling&&b.syncErrorThrowable?(this.__tryOrSetError(b,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(b,B){try{b.call(this._context,B)}catch(O){if(this.unsubscribe(),N.v.useDeprecatedSynchronousErrorHandling)throw O;(0,T.z)(O)}}__tryOrSetError(b,B,O){if(!N.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,O)}catch(j){return N.v.useDeprecatedSynchronousErrorHandling?(b.syncErrorValue=j,b.syncErrorThrown=!0,!0):((0,T.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:b}=this;this._context=null,this._parentSubscriber=null,b.unsubscribe()}}},2654:(L,P,E)=>{E.d(P,{w:()=>T});var o=E(6688),V=E(7830),W=E(7043);const N=(()=>{function A(M){return Error.call(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((b,B)=>`${B+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M,this}return A.prototype=Object.create(Error.prototype),A})();class T{constructor(M){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,M&&(this._ctorUnsubscribe=!0,this._unsubscribe=M)}unsubscribe(){let M;if(this.closed)return;let{_parentOrParents:b,_ctorUnsubscribe:B,_unsubscribe:O,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,b instanceof T)b.remove(this);else if(null!==b)for(let me=0;me<b.length;++me)b[me].remove(this);if((0,W.m)(O)){B&&(this._unsubscribe=void 0);try{O.call(this)}catch(me){M=me instanceof N?F(me.errors):[me]}}if((0,o.k)(j)){let me=-1,G=j.length;for(;++me<G;){const X=j[me];if((0,V.K)(X))try{X.unsubscribe()}catch(q){M=M||[],q instanceof N?M=M.concat(F(q.errors)):M.push(q)}}}if(M)throw new N(M)}add(M){let b=M;if(!M)return T.EMPTY;switch(typeof M){case"function":b=new T(M);case"object":if(b===this||b.closed||"function"!=typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;if(!(b instanceof T)){const j=b;b=new T,b._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+M+" added to Subscription.")}let{_parentOrParents:B}=b;if(null===B)b._parentOrParents=this;else if(B instanceof T){if(B===this)return b;b._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return b;B.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[b]:O.push(b),b}remove(M){const b=this._subscriptions;if(b){const B=b.indexOf(M);-1!==B&&b.splice(B,1)}}}var A;function F(A){return A.reduce((M,b)=>M.concat(b instanceof N?b.errors:b),[])}T.EMPTY=((A=new T).closed=!0,A)},2830:(L,P,E)=>{E.d(P,{v:()=>V});let o=!1;const V={Promise:void 0,set useDeprecatedSynchronousErrorHandling(W){if(W){const K=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+K.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=W},get useDeprecatedSynchronousErrorHandling(){return o}}},1177:(L,P,E)=>{E.d(P,{Ds:()=>T,IY:()=>K,ft:()=>A});var o=E(3489),V=E(2916),W=E(9249);class K extends o.L{constructor(b){super(),this.parent=b}_next(b){this.parent.notifyNext(b)}_error(b){this.parent.notifyError(b),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class T extends o.L{notifyNext(b){this.destination.next(b)}notifyError(b){this.destination.error(b)}notifyComplete(){this.destination.complete()}}function A(M,b){if(b.closed)return;if(M instanceof V.y)return M.subscribe(b);let B;try{B=(0,W.s)(M)(b)}catch(O){b.error(O)}return B}},8896:(L,P,E)=>{E.d(P,{E:()=>V,c:()=>W});var o=E(2916);const V=new o.y(N=>N.complete());function W(N){return N?function K(N){return new o.y(T=>N.schedule(()=>T.complete()))}(N):V}},5254:(L,P,E)=>{E.d(P,{D:()=>G});var o=E(2916),V=E(9249),W=E(2654),K=E(3821),F=E(6454),A=E(5430),B=E(8955),O=E(8515);function G(X,q){return q?function me(X,q){if(null!=X){if(function b(X){return X&&"function"==typeof X[K.L]}(X))return function N(X,q){return new o.y(Z=>{const ie=new W.w;return ie.add(q.schedule(()=>{const ve=X[K.L]();ie.add(ve.subscribe({next(ke){ie.add(q.schedule(()=>Z.next(ke)))},error(ke){ie.add(q.schedule(()=>Z.error(ke)))},complete(){ie.add(q.schedule(()=>Z.complete()))}}))})),ie})}(X,q);if((0,B.t)(X))return function T(X,q){return new o.y(Z=>{const ie=new W.w;return ie.add(q.schedule(()=>X.then(ve=>{ie.add(q.schedule(()=>{Z.next(ve),ie.add(q.schedule(()=>Z.complete()))}))},ve=>{ie.add(q.schedule(()=>Z.error(ve)))}))),ie})}(X,q);if((0,O.z)(X))return(0,F.r)(X,q);if(function j(X){return X&&"function"==typeof X[A.hZ]}(X)||"string"==typeof X)return function M(X,q){if(!X)throw new Error("Iterable cannot be null");return new o.y(Z=>{const ie=new W.w;let ve;return ie.add(()=>{ve&&"function"==typeof ve.return&&ve.return()}),ie.add(q.schedule(()=>{ve=X[A.hZ](),ie.add(q.schedule(function(){if(Z.closed)return;let ke,Ge;try{const lt=ve.next();ke=lt.value,Ge=lt.done}catch(lt){return void Z.error(lt)}Ge?Z.complete():(Z.next(ke),this.schedule())}))})),ie})}(X,q)}throw new TypeError((null!==X&&typeof X||X)+" is not observable")}(X,q):X instanceof o.y?X:new o.y((0,V.s)(X))}},3009:(L,P,E)=>{E.d(P,{n:()=>K});var o=E(2916),V=E(3650),W=E(6454);function K(N,T){return T?(0,W.r)(N,T):new o.y((0,V.V)(N))}},7138:(L,P,E)=>{E.d(P,{T:()=>F});var o=E(2916),V=E(2866),W=E(1709),K=E(5379),T=E(3009);function F(...A){let M=Number.POSITIVE_INFINITY,b=null,B=A[A.length-1];return(0,V.K)(B)?(b=A.pop(),A.length>1&&"number"==typeof A[A.length-1]&&(M=A.pop())):"number"==typeof B&&(M=A.pop()),null===b&&1===A.length&&A[0]instanceof o.y?A[0]:function N(A=Number.POSITIVE_INFINITY){return(0,W.zg)(K.y,A)}(M)((0,T.n)(A,b))}},1086:(L,P,E)=>{E.d(P,{of:()=>K});var o=E(2866),V=E(3009),W=E(6454);function K(...N){let T=N[N.length-1];return(0,o.K)(T)?(N.pop(),(0,W.r)(N,T)):(0,V.n)(N)}},1737:(L,P,E)=>{E.d(P,{_:()=>V});var o=E(2916);function V(K,N){return new o.y(N?T=>N.schedule(W,0,{error:K,subscriber:T}):T=>T.error(K))}function W({error:K,subscriber:N}){N.error(K)}},7221:(L,P,E)=>{E.d(P,{K:()=>V});var o=E(1177);function V(N){return function(F){const A=new W(N),M=F.lift(A);return A.caught=M}}class W{constructor(T){this.selector=T}call(T,F){return F.subscribe(new K(T,this.selector,this.caught))}}class K extends o.Ds{constructor(T,F,A){super(T),this.selector=F,this.caught=A}error(T){if(!this.isStopped){let F;try{F=this.selector(T,this.caught)}catch(b){return void super.error(b)}this._unsubscribeAndRecycle();const A=new o.IY(this);this.add(A);const M=(0,o.ft)(F,A);M!==A&&this.add(M)}}}},1406:(L,P,E)=>{E.d(P,{b:()=>V});var o=E(1709);function V(W,K){return(0,o.zg)(W,K,1)}},13:(L,P,E)=>{E.d(P,{b:()=>W});var o=E(3489),V=E(353);function W(F,A=V.P){return M=>M.lift(new K(F,A))}class K{constructor(A,M){this.dueTime=A,this.scheduler=M}call(A,M){return M.subscribe(new N(A,this.dueTime,this.scheduler))}}class N extends o.L{constructor(A,M,b){super(A),this.dueTime=M,this.scheduler=b,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(A){this.clearDebounce(),this.lastValue=A,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(T,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:A}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(A)}}clearDebounce(){const A=this.debouncedSubscription;null!==A&&(this.remove(A),A.unsubscribe(),this.debouncedSubscription=null)}}function T(F){F.debouncedNext()}},2198:(L,P,E)=>{E.d(P,{h:()=>V});var o=E(3489);function V(N,T){return function(A){return A.lift(new W(N,T))}}class W{constructor(T,F){this.predicate=T,this.thisArg=F}call(T,F){return F.subscribe(new K(T,this.predicate,this.thisArg))}}class K extends o.L{constructor(T,F,A){super(T),this.predicate=F,this.thisArg=A,this.count=0}_next(T){let F;try{F=this.predicate.call(this.thisArg,T,this.count++)}catch(A){return void this.destination.error(A)}F&&this.destination.next(T)}}},4850:(L,P,E)=>{E.d(P,{U:()=>V});var o=E(3489);function V(N,T){return function(A){if("function"!=typeof N)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return A.lift(new W(N,T))}}class W{constructor(T,F){this.project=T,this.thisArg=F}call(T,F){return F.subscribe(new K(T,this.project,this.thisArg))}}class K extends o.L{constructor(T,F,A){super(T),this.project=F,this.count=0,this.thisArg=A||this}_next(T){let F;try{F=this.project.call(this.thisArg,T,this.count++)}catch(A){return void this.destination.error(A)}this.destination.next(F)}}},1709:(L,P,E)=>{E.d(P,{zg:()=>K});var o=E(4850),V=E(5254),W=E(1177);function K(A,M,b=Number.POSITIVE_INFINITY){return"function"==typeof M?B=>B.pipe(K((O,j)=>(0,V.D)(A(O,j)).pipe((0,o.U)((me,G)=>M(O,me,j,G))),b)):("number"==typeof M&&(b=M),B=>B.lift(new N(A,b)))}class N{constructor(M,b=Number.POSITIVE_INFINITY){this.project=M,this.concurrent=b}call(M,b){return b.subscribe(new T(M,this.project,this.concurrent))}}class T extends W.Ds{constructor(M,b,B=Number.POSITIVE_INFINITY){super(M),this.project=b,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(M){this.active<this.concurrent?this._tryNext(M):this.buffer.push(M)}_tryNext(M){let b;const B=this.index++;try{b=this.project(M,B)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(b)}_innerSub(M){const b=new W.IY(this),B=this.destination;B.add(b);const O=(0,W.ft)(M,b);O!==b&&B.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(M){this.destination.next(M)}notifyComplete(){const M=this.buffer;this.active--,M.length>0?this._next(M.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(L,P,E)=>{E.d(P,{QV:()=>W,ht:()=>N});var o=E(3489),V=E(9312);function W(F,A=0){return function(b){return b.lift(new K(F,A))}}class K{constructor(A,M=0){this.scheduler=A,this.delay=M}call(A,M){return M.subscribe(new N(A,this.scheduler,this.delay))}}class N extends o.L{constructor(A,M,b=0){super(A),this.scheduler=M,this.delay=b}static dispatch(A){const{notification:M,destination:b}=A;M.observe(b),this.unsubscribe()}scheduleMessage(A){this.destination.add(this.scheduler.schedule(N.dispatch,this.delay,new T(A,this.destination)))}_next(A){this.scheduleMessage(V.P.createNext(A))}_error(A){this.scheduleMessage(V.P.createError(A)),this.unsubscribe()}_complete(){this.scheduleMessage(V.P.createComplete()),this.unsubscribe()}}class T{constructor(A,M){this.notification=A,this.destination=M}}},2014:(L,P,E)=>{E.d(P,{R:()=>V});var o=E(3489);function V(N,T){let F=!1;return arguments.length>=2&&(F=!0),function(M){return M.lift(new W(N,T,F))}}class W{constructor(T,F,A=!1){this.accumulator=T,this.seed=F,this.hasSeed=A}call(T,F){return F.subscribe(new K(T,this.accumulator,this.seed,this.hasSeed))}}class K extends o.L{constructor(T,F,A,M){super(T),this.accumulator=F,this._seed=A,this.hasSeed=M,this.index=0}get seed(){return this._seed}set seed(T){this.hasSeed=!0,this._seed=T}_next(T){if(this.hasSeed)return this._tryNext(T);this.seed=T,this.destination.next(T)}_tryNext(T){const F=this.index++;let A;try{A=this.accumulator(this.seed,T,F)}catch(M){this.destination.error(M)}this.seed=A,this.destination.next(A)}}},6606:(L,P,E)=>{E.d(P,{B:()=>X});var o=E(8929),V=E(2916),W=E(2654),K=E(3489);function N(){return function(Z){return Z.lift(new T(Z))}}class T{constructor(Z){this.connectable=Z}call(Z,ie){const{connectable:ve}=this;ve._refCount++;const ke=new F(Z,ve),Ge=ie.subscribe(ke);return ke.closed||(ke.connection=ve.connect()),Ge}}class F extends K.L{constructor(Z,ie){super(Z),this.connectable=ie}_unsubscribe(){const{connectable:Z}=this;if(!Z)return void(this.connection=null);this.connectable=null;const ie=Z._refCount;if(ie<=0)return void(this.connection=null);if(Z._refCount=ie-1,ie>1)return void(this.connection=null);const{connection:ve}=this,ke=Z._connection;this.connection=null,ke&&(!ve||ke===ve)&&ke.unsubscribe()}}class A extends V.y{constructor(Z,ie){super(),this.source=Z,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Z=this._connection;return Z||(this._isComplete=!1,Z=this._connection=new W.w,Z.add(this.source.subscribe(new b(this.getSubject(),this))),Z.closed&&(this._connection=null,Z=W.w.EMPTY)),Z}refCount(){return N()(this)}}const M=(()=>{const q=A.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:q._subscribe},_isComplete:{value:q._isComplete,writable:!0},getSubject:{value:q.getSubject},connect:{value:q.connect},refCount:{value:q.refCount}}})();class b extends o.Yc{constructor(Z,ie){super(Z),this.connectable=ie}_error(Z){this._unsubscribe(),super._error(Z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Z=this.connectable;if(Z){this.connectable=null;const ie=Z._connection;Z._refCount=0,Z._subject=null,Z._connection=null,ie&&ie.unsubscribe()}}}class me{constructor(Z,ie){this.subjectFactory=Z,this.selector=ie}call(Z,ie){const{selector:ve}=this,ke=this.subjectFactory(),Ge=ve(ke).subscribe(Z);return Ge.add(ie.subscribe(ke)),Ge}}function G(){return new o.xQ}function X(){return q=>N()(function j(q,Z){return function(ve){let ke;if(ke="function"==typeof q?q:function(){return q},"function"==typeof Z)return ve.lift(new me(ke,Z));const Ge=Object.create(ve,M);return Ge.source=ve,Ge.subjectFactory=ke,Ge}}(G)(q))}},1307:(L,P,E)=>{E.d(P,{T:()=>V});var o=E(3489);function V(N){return T=>T.lift(new W(N))}class W{constructor(T){this.total=T}call(T,F){return F.subscribe(new K(T,this.total))}}class K extends o.L{constructor(T,F){super(T),this.total=F,this.count=0}_next(T){++this.count>this.total&&this.destination.next(T)}}},7545:(L,P,E)=>{E.d(P,{w:()=>K});var o=E(4850),V=E(5254),W=E(1177);function K(F,A){return"function"==typeof A?M=>M.pipe(K((b,B)=>(0,V.D)(F(b,B)).pipe((0,o.U)((O,j)=>A(b,O,B,j))))):M=>M.lift(new N(F))}class N{constructor(A){this.project=A}call(A,M){return M.subscribe(new T(A,this.project))}}class T extends W.Ds{constructor(A,M){super(A),this.project=M,this.index=0}_next(A){let M;const b=this.index++;try{M=this.project(A,b)}catch(B){return void this.destination.error(B)}this._innerSub(M)}_innerSub(A){const M=this.innerSubscription;M&&M.unsubscribe();const b=new W.IY(this),B=this.destination;B.add(b),this.innerSubscription=(0,W.ft)(A,b),this.innerSubscription!==b&&B.add(this.innerSubscription)}_complete(){const{innerSubscription:A}=this;(!A||A.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(A){this.destination.next(A)}}},5632:(L,P,E)=>{E.d(P,{q:()=>N});var o=E(3489);const W=(()=>{function A(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return A.prototype=Object.create(Error.prototype),A})();var K=E(8896);function N(A){return M=>0===A?(0,K.c)():M.lift(new T(A))}class T{constructor(M){if(this.total=M,this.total<0)throw new W}call(M,b){return b.subscribe(new F(M,this.total))}}class F extends o.L{constructor(M,b){super(M),this.total=b,this.count=0}_next(M){const b=this.total,B=++this.count;B<=b&&(this.destination.next(M),B===b&&(this.destination.complete(),this.unsubscribe()))}}},7625:(L,P,E)=>{E.d(P,{R:()=>V});var o=E(1177);function V(N){return T=>T.lift(new W(N))}class W{constructor(T){this.notifier=T}call(T,F){const A=new K(T),M=(0,o.ft)(this.notifier,new o.IY(A));return M&&!A.seenValue?(A.add(M),F.subscribe(A)):A}}class K extends o.Ds{constructor(T){super(T),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},2216:(L,P,E)=>{E.d(P,{V:()=>b});var o=E(353);const W=(()=>{function B(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return B.prototype=Object.create(Error.prototype),B})();var N=E(1177);class F{constructor(O,j,me,G){this.waitFor=O,this.absoluteTimeout=j,this.withObservable=me,this.scheduler=G}call(O,j){return j.subscribe(new A(O,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class A extends N.Ds{constructor(O,j,me,G,X){super(O),this.absoluteTimeout=j,this.waitFor=me,this.withObservable=G,this.scheduler=X,this.scheduleTimeout()}static dispatchTimeout(O){const{withObservable:j}=O;O._unsubscribeAndRecycle(),O.add((0,N.ft)(j,new N.IY(O)))}scheduleTimeout(){const{action:O}=this;O?this.action=O.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(A.dispatchTimeout,this.waitFor,this))}_next(O){this.absoluteTimeout||this.scheduleTimeout(),super._next(O)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var M=E(1737);function b(B,O=o.P){return function T(B,O,j=o.P){return me=>{let G=function K(B){return B instanceof Date&&!isNaN(+B)}(B),X=G?+B-j.now():Math.abs(B);return me.lift(new F(X,G,O,j))}}(B,(0,M._)(new W),O)}},7168:(L,P,E)=>{E.d(P,{M:()=>W});var o=E(826),V=E(448);function W(...T){return F=>{let A;return"function"==typeof T[T.length-1]&&(A=T.pop()),F.lift(new K(T,A))}}class K{constructor(F,A){this.observables=F,this.project=A}call(F,A){return A.subscribe(new N(F,this.observables,this.project))}}class N extends o.L{constructor(F,A,M){super(F),this.observables=A,this.project=M,this.toRespond=[];const b=A.length;this.values=new Array(b);for(let B=0;B<b;B++)this.toRespond.push(B);for(let B=0;B<b;B++)this.add((0,V.D)(this,A[B],void 0,B))}notifyNext(F,A,M){this.values[M]=A;const b=this.toRespond;if(b.length>0){const B=b.indexOf(M);-1!==B&&b.splice(B,1)}}notifyComplete(){}_next(F){if(0===this.toRespond.length){const A=[F,...this.values];this.project?this._tryProject(A):this.destination.next(A)}}_tryProject(F){let A;try{A=this.project.apply(this,F)}catch(M){return void this.destination.error(M)}this.destination.next(A)}}},6454:(L,P,E)=>{E.d(P,{r:()=>W});var o=E(2916),V=E(2654);function W(K,N){return new o.y(T=>{const F=new V.w;let A=0;return F.add(N.schedule(function(){A!==K.length?(T.next(K[A++]),T.closed||F.add(this.schedule())):T.complete()})),F})}},6686:(L,P,E)=>{E.d(P,{o:()=>W});var o=E(2654);class V extends o.w{constructor(N,T){super()}schedule(N,T=0){return this}}class W extends V{constructor(N,T){super(N,T),this.scheduler=N,this.work=T,this.pending=!1}schedule(N,T=0){if(this.closed)return this;this.state=N;const F=this.id,A=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(A,F,T)),this.pending=!0,this.delay=T,this.id=this.id||this.requestAsyncId(A,this.id,T),this}requestAsyncId(N,T,F=0){return setInterval(N.flush.bind(N,this),F)}recycleAsyncId(N,T,F=0){if(null!==F&&this.delay===F&&!1===this.pending)return T;clearInterval(T)}execute(N,T){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(N,T);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,T){let A,F=!1;try{this.work(N)}catch(M){F=!0,A=!!M&&M||new Error(M)}if(F)return this.unsubscribe(),A}_unsubscribe(){const N=this.id,T=this.scheduler,F=T.actions,A=F.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==A&&F.splice(A,1),null!=N&&(this.id=this.recycleAsyncId(T,N,null)),this.delay=null}}},2268:(L,P,E)=>{E.d(P,{v:()=>V});let o=(()=>{class W{constructor(N,T=W.now){this.SchedulerAction=N,this.now=T}schedule(N,T=0,F){return new this.SchedulerAction(this,N).schedule(F,T)}}return W.now=()=>Date.now(),W})();class V extends o{constructor(K,N=o.now){super(K,()=>V.delegate&&V.delegate!==this?V.delegate.now():N()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(K,N=0,T){return V.delegate&&V.delegate!==this?V.delegate.schedule(K,N,T):super.schedule(K,N,T)}flush(K){const{actions:N}=this;if(this.active)return void N.push(K);let T;this.active=!0;do{if(T=K.execute(K.state,K.delay))break}while(K=N.shift());if(this.active=!1,T){for(;K=N.shift();)K.unsubscribe();throw T}}}},353:(L,P,E)=>{E.d(P,{P:()=>K});var o=E(6686);const K=new(E(2268).v)(o.o)},341:(L,P,E)=>{E.d(P,{c:()=>T,N:()=>N});var o=E(6686),W=E(2268);const N=new class K extends W.v{}(class V extends o.o{constructor(A,M){super(A,M),this.scheduler=A,this.work=M}schedule(A,M=0){return M>0?super.schedule(A,M):(this.delay=M,this.state=A,this.scheduler.flush(this),this)}execute(A,M){return M>0||this.closed?super.execute(A,M):this._execute(A,M)}requestAsyncId(A,M,b=0){return null!==b&&b>0||null===b&&this.delay>0?super.requestAsyncId(A,M,b):A.flush(this)}}),T=N},5430:(L,P,E)=>{E.d(P,{hZ:()=>V});const V=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(L,P,E)=>{E.d(P,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(L,P,E)=>{E.d(P,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(L,P,E)=>{E.d(P,{N:()=>V});const V=(()=>{function W(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return W.prototype=Object.create(Error.prototype),W})()},2782:(L,P,E)=>{function o(V){setTimeout(()=>{throw V},0)}E.d(P,{z:()=>o})},5379:(L,P,E)=>{function o(V){return V}E.d(P,{y:()=>o})},6688:(L,P,E)=>{E.d(P,{k:()=>o});const o=Array.isArray||(V=>V&&"number"==typeof V.length)},8515:(L,P,E)=>{E.d(P,{z:()=>o});const o=V=>V&&"number"==typeof V.length&&"function"!=typeof V},7043:(L,P,E)=>{function o(V){return"function"==typeof V}E.d(P,{m:()=>o})},7830:(L,P,E)=>{function o(V){return null!==V&&"object"==typeof V}E.d(P,{K:()=>o})},8955:(L,P,E)=>{function o(V){return!!V&&"function"!=typeof V.subscribe&&"function"==typeof V.then}E.d(P,{t:()=>o})},2866:(L,P,E)=>{function o(V){return V&&"function"==typeof V.schedule}E.d(P,{K:()=>o})},9249:(L,P,E)=>{E.d(P,{s:()=>B});var o=E(3650),V=E(2782),K=E(5430),T=E(3821),A=E(8515),M=E(8955),b=E(7830);const B=O=>{if(O&&"function"==typeof O[T.L])return(O=>j=>{const me=O[T.L]();if("function"!=typeof me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return me.subscribe(j)})(O);if((0,A.z)(O))return(0,o.V)(O);if((0,M.t)(O))return(O=>j=>(O.then(me=>{j.closed||(j.next(me),j.complete())},me=>j.error(me)).then(null,V.z),j))(O);if(O&&"function"==typeof O[K.hZ])return(O=>j=>{const me=O[K.hZ]();for(;;){let G;try{G=me.next()}catch(X){return j.error(X),j}if(G.done){j.complete();break}if(j.next(G.value),j.closed)break}return"function"==typeof me.return&&j.add(()=>{me.return&&me.return()}),j})(O);{const me=`You provided ${(0,b.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(me)}}},3650:(L,P,E)=>{E.d(P,{V:()=>o});const o=V=>W=>{for(let K=0,N=V.length;K<N&&!W.closed;K++)W.next(V[K]);W.complete()}},448:(L,P,E)=>{E.d(P,{D:()=>N});var o=E(3489);class V extends o.L{constructor(F,A,M){super(),this.parent=F,this.outerValue=A,this.outerIndex=M,this.index=0}_next(F){this.parent.notifyNext(this.outerValue,F,this.outerIndex,this.index++,this)}_error(F){this.parent.notifyError(F,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var W=E(9249),K=E(2916);function N(T,F,A,M,b=new V(T,A,M)){if(!b.closed)return F instanceof K.y?F.subscribe(b):(0,W.s)(F)(b)}},4650:(L,P,E)=>{E.d(P,{$8M:()=>Du,AFp:()=>Te,ALo:()=>y_,AaK:()=>A,AsE:()=>Af,CHM:()=>Qc,CZH:()=>Ce,CqO:()=>tc,D6c:()=>w0,EJc:()=>Fc,EpF:()=>hf,F4k:()=>Yv,FYo:()=>ma,FiY:()=>Ft,G48:()=>s0,GfV:()=>l_,Gpc:()=>B,JOm:()=>Jn,KtG:()=>ty,LFG:()=>Pt,Lbi:()=>Ei,NdJ:()=>gf,OlP:()=>st,Oqu:()=>wf,PiD:()=>Io,Q6J:()=>na,QGY:()=>pf,QbO:()=>KE,Qsj:()=>gE,R0b:()=>lr,RDi:()=>MC,Rgc:()=>co,SBq:()=>rs,TTD:()=>Ra,TgZ:()=>ra,WLB:()=>h_,X6Q:()=>r0,Xpm:()=>Yr,Y36:()=>Gs,YNc:()=>nm,Yjl:()=>Oa,Yz7:()=>At,ZZ4:()=>iC,_Bn:()=>i_,_UZ:()=>ec,_c5:()=>E0,_uU:()=>wm,aQg:()=>sC,cJS:()=>cr,cg1:()=>Mf,dDg:()=>zA,dqk:()=>pe,eFA:()=>pA,ekj:()=>Ef,eoX:()=>dA,g9A:()=>Sn,h0i:()=>_i,hGG:()=>C0,hM9:()=>DE,hij:()=>oc,ifc:()=>tt,ip1:()=>De,kL8:()=>Um,lG2:()=>_o,lcZ:()=>va,lri:()=>cA,n5z:()=>jt,oAB:()=>Fr,oxw:()=>om,qLn:()=>Fn,qOj:()=>zg,qZA:()=>Xl,rWj:()=>uA,sBO:()=>o0,sIi:()=>Qi,s_b:()=>bc,soG:()=>vn,tBr:()=>il,tp0:()=>Po,uIk:()=>rf,vHH:()=>G,vpe:()=>Mr,wAp:()=>Se,xp6:()=>Us,z2F:()=>B_,zSh:()=>Vn,zs3:()=>pn});var o=E(8929),V=E(2654),W=E(2916),K=E(7138),N=E(6606);function T(e){for(let t in e)if(e[t]===T)return t;throw Error("Could not find renamed property on target object.")}function F(e,t){for(const s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=t[s])}function A(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(A).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const s=t.indexOf("\n");return-1===s?t:t.substring(0,s)}function M(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const b=T({__forward_ref__:T});function B(e){return e.__forward_ref__=B,e.toString=function(){return A(this())},e}function O(e){return j(e)?e():e}function j(e){return"function"==typeof e&&e.hasOwnProperty(b)&&e.__forward_ref__===B}class G extends Error{constructor(t,s){super(function X(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,s)),this.code=t}}function q(e){return"string"==typeof e?e:null==e?"":String(e)}function Ge(e,t){throw new G(-201,!1)}function Jt(e,t){null==e&&function We(e,t,s,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${s} ${a} ${t} <=Actual]`))}(t,e,null,"!=")}function At(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function cr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Gt(e){return Ci(e,wi)||Ci(e,Ai)}function Ci(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ia(e){return e&&(e.hasOwnProperty(Ir)||e.hasOwnProperty(po))?e[Ir]:null}const wi=T({\u0275prov:T}),Ir=T({\u0275inj:T}),Ai=T({ngInjectableDef:T}),po=T({ngInjectorDef:T});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let hs;function Dn(e){const t=hs;return hs=e,t}function bi(e,t,s){const a=Gt(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Pe.Optional?null:void 0!==t?t:void Ge(A(e))}function jn(e){return{toString:e}.toString()}var Xt=(()=>((Xt=Xt||{})[Xt.OnPush=0]="OnPush",Xt[Xt.Default=1]="Default",Xt))(),tt=(()=>{return(e=tt||(tt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",tt;var e})();const pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$n={},Re=[],Pr=T({\u0275cmp:T}),en=T({\u0275dir:T}),Si=T({\u0275pipe:T}),pt=T({\u0275mod:T}),Rn=T({\u0275fac:T}),qe=T({__NG_ELEMENT_ID__:T});let kc=0;function Yr(e){return jn(()=>{const s=!0===e.standalone,a={},c={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Xt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Re,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||tt.Emulated,id:"c"+kc++,styles:e.styles||Re,_:null,setInput:null,schemas:e.schemas||null,tView:null},u=e.dependencies,f=e.features;return c.inputs=ms(e.inputs,a),c.outputs=ms(e.outputs),f&&f.forEach(p=>p(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(qr).filter(Fa):null,c.pipeDefs=u?()=>("function"==typeof u?u():u).map(Wt).filter(Fa):null,c})}function qr(e){return nt(e)||kt(e)}function Fa(e){return null!==e}const mo={};function Fr(e){return jn(()=>{const t={type:e.type,bootstrap:e.bootstrap||Re,declarations:e.declarations||Re,imports:e.imports||Re,exports:e.exports||Re,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(mo[e.id]=e.type),t})}function ms(e,t){if(null==e)return $n;const s={};for(const a in e)if(e.hasOwnProperty(a)){let c=e[a],u=c;Array.isArray(c)&&(u=c[1],c=c[0]),s[c]=a,t&&(t[c]=u)}return s}const _o=Yr;function Oa(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function nt(e){return e[Pr]||null}function kt(e){return e[en]||null}function Wt(e){return e[Si]||null}function Kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Mn(e){return Array.isArray(e)&&!0===e[1]}function w(e){return 0!=(8&e.flags)}function U(e){return 2==(2&e.flags)}function x(e){return 1==(1&e.flags)}function H(e){return null!==e.template}function ee(e){return 0!=(256&e[2])}function Ii(e,t){return e.hasOwnProperty(Rn)?e[Rn]:null}class dh{constructor(t,s,a){this.previousValue=t,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ra(){return fh}function fh(e){return e.type.prototype.ngOnChanges&&(e.setInput=Z_),W_}function W_(){const e=ka(this),t=e?.current;if(t){const s=e.previous;if(s===$n)e.previous=t;else for(let a in t)s[a]=t[a];e.current=null,this.ngOnChanges(t)}}function Z_(e,t,s,a){const c=ka(e)||function K_(e,t){return e[La]=t}(e,{previous:$n,current:null}),u=c.current||(c.current={}),f=c.previous,p=this.declaredInputs[s],g=f[p];u[p]=new dh(g&&g.currentValue,t,f===$n),e[a]=t}Ra.ngInherit=!0;const La="__ngSimpleChanges__";function ka(e){return e[La]||null}let gh;function MC(e){gh=e}function Tt(e){return!!e.listen}const q_={createRenderer:(e,t)=>{throw new Error("Renderer3 disabled")}};function Rt(e){for(;Array.isArray(e);)e=e[0];return e}function Ba(e,t){return Rt(t[e])}function an(e,t){return Rt(t[e.index])}function Ua(e,t){return e.data[t]}function Pn(e,t){const s=t[e];return Kt(s)?s:s[0]}function Kc(e){return 64==(64&e[2])}function Zn(e,t){return null==t?null:e[t]}function zc(e){e[18]=0}function ja(e,t){e[5]+=t;let s=e,a=e[3];for(;null!==a&&(1===t&&1===s[5]||-1===t&&0===s[5]);)a[5]+=t,s=a,a=a[3]}const Fe={lFrame:oy(null),bindingsEnabled:!0};function Eh(){return Fe.bindingsEnabled}function Q(){return Fe.lFrame.lView}function He(){return Fe.lFrame.tView}function Qc(e){return Fe.lFrame.contextLView=e,e[8]}function ty(e){return Fe.lFrame.contextLView=null,e}function St(){let e=$a();for(;null!==e&&64===e.type;)e=e.parent;return e}function $a(){return Fe.lFrame.currentTNode}function Kn(e,t){const s=Fe.lFrame;s.currentTNode=e,s.isParent=t}function Ga(){return Fe.lFrame.isParent}function ln(){const e=Fe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Es(){return Fe.lFrame.bindingIndex++}function Rr(e){const t=Fe.lFrame,s=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,s}function IC(e,t){const s=Fe.lFrame;s.bindingIndex=s.bindingRootIndex=e,eu(t)}function eu(e){Fe.lFrame.currentDirectiveIndex=e}function ru(e){Fe.lFrame.currentQueryIndex=e}function wh(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function iu(e,t,s){if(s&Pe.SkipSelf){let c=t,u=e;for(;!(c=c.parent,null!==c||s&Pe.Host||(c=wh(u),null===c||(u=u[15],10&c.type))););if(null===c)return!1;t=c,e=u}const a=Fe.lFrame=su();return a.currentTNode=t,a.lView=e,!0}function Do(e){const t=su(),s=e[1];Fe.lFrame=t,t.currentTNode=s.firstChild,t.lView=e,t.tView=s,t.contextLView=e,t.bindingIndex=s.bindingStartIndex,t.inI18n=!1}function su(){const e=Fe.lFrame,t=null===e?null:e.child;return null===t?oy(e):t}function oy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ah(){const e=Fe.lFrame;return Fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ay=Ah;function ou(){const e=Ah();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cn(){return Fe.lFrame.selectedIndex}function Pi(e){Fe.lFrame.selectedIndex=e}function It(){const e=Fe.lFrame;return Ua(e.tView,e.selectedIndex)}function lu(e,t){for(let s=t.directiveStart,a=t.directiveEnd;s<a;s++){const u=e.data[s].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:p,ngAfterViewInit:g,ngAfterViewChecked:m,ngOnDestroy:v}=u;f&&(e.contentHooks||(e.contentHooks=[])).push(-s,f),p&&((e.contentHooks||(e.contentHooks=[])).push(s,p),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(s,p)),g&&(e.viewHooks||(e.viewHooks=[])).push(-s,g),m&&((e.viewHooks||(e.viewHooks=[])).push(s,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(s,m)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(s,v)}}function cu(e,t,s){fy(e,t,3,s)}function uu(e,t,s,a){(3&e[2])===s&&fy(e,t,s,a)}function du(e,t){let s=e[2];(3&s)===t&&(s&=2047,s+=1,e[2]=s)}function fy(e,t,s,a){const u=a??-1,f=t.length-1;let p=0;for(let g=void 0!==a?65535&e[18]:0;g<f;g++)if("number"==typeof t[g+1]){if(p=t[g],null!=a&&p>=a)break}else t[g]<0&&(e[18]+=65536),(p<u||-1==u)&&(hy(e,s,t,g),e[18]=(4294901760&e[18])+g+2),g++}function hy(e,t,s,a){const c=s[a]<0,u=s[a+1],p=e[c?-s[a]:s[a]];if(c){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(p)}finally{}}}else try{u.call(p)}finally{}}class Za{constructor(t,s,a){this.factory=t,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function fu(e,t,s){const a=Tt(e);let c=0;for(;c<s.length;){const u=s[c];if("number"==typeof u){if(0!==u)break;c++;const f=s[c++],p=s[c++],g=s[c++];a?e.setAttribute(t,p,g,f):t.setAttributeNS(f,p,g)}else{const f=u,p=s[++c];hu(f)?a&&e.setProperty(t,f,p):a?e.setAttribute(t,f,p):t.setAttribute(f,p),c++}}return c}function gy(e){return 3===e||4===e||6===e}function hu(e){return 64===e.charCodeAt(0)}function pu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let s=-1;for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?s=c:0===s||y(e,s,c,null,-1===s||2===s?t[++a]:null)}}return e}function y(e,t,s,a,c){let u=0,f=e.length;if(-1===t)f=-1;else for(;u<e.length;){const p=e[u++];if("number"==typeof p){if(p===t){f=-1;break}if(p>t){f=u-1;break}}}for(;u<e.length;){const p=e[u];if("number"==typeof p)break;if(p===s){if(null===a)return void(null!==c&&(e[u+1]=c));if(a===e[u+1])return void(e[u+2]=c)}u++,null!==a&&u++,null!==c&&u++}-1!==f&&(e.splice(f,0,t),u=f+1),e.splice(u++,0,s),null!==a&&e.splice(u++,0,a),null!==c&&e.splice(u++,0,c)}function gu(e){return-1!==e}function Lr(e){return 32767&e}function pr(e,t){let s=function mu(e){return e>>16}(e),a=t;for(;s>0;)a=a[15],s--;return a}let _u=!0;function za(e){const t=_u;return _u=e,t}let my=0;const gr={};function zn(e,t){const s=qa(e,t);if(-1!==s)return s;const a=t[1];a.firstCreatePass&&(e.injectorIndex=t.length,Cn(a.data,e),Cn(t,null),Cn(a.blueprint,null));const c=Cs(e,t),u=e.injectorIndex;if(gu(c)){const f=Lr(c),p=pr(c,t),g=p[1].data;for(let m=0;m<8;m++)t[u+m]=p[f+m]|g[f+m]}return t[u+8]=c,u}function Cn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function qa(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Cs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,a=null,c=t;for(;null!==c;){if(a=Ze(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Qa(e,t,s){!function ae(e,t,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(qe)&&(a=s[qe]),null==a&&(a=s[qe]=my++);const c=255&a;t.data[e+(c>>5)]|=1<<c}(e,t,s)}function Ih(e,t,s){if(s&Pe.Optional)return e;Ge()}function yu(e,t,s,a){if(s&Pe.Optional&&void 0===a&&(a=null),0==(s&(Pe.Self|Pe.Host))){const c=e[9],u=Dn(void 0);try{return c?c.get(t,a,s&Pe.Optional):bi(t,a,s&Pe.Optional)}finally{Dn(u)}}return Ih(a,0,s)}function Ph(e,t,s,a=Pe.Default,c){if(null!==e){if(1024&t[2]){const f=function Xa(e,t,s,a,c){let u=e,f=t;for(;null!==u&&null!==f&&1024&f[2]&&!(256&f[2]);){const p=Eo(u,f,s,a|Pe.Self,gr);if(p!==gr)return p;let g=u.parent;if(!g){const m=f[21];if(m){const v=m.get(s,gr,a);if(v!==gr)return v}g=Ze(f),f=f[15]}u=g}return c}(e,t,s,a,gr);if(f!==gr)return f}const u=Eo(e,t,s,a,gr);if(u!==gr)return u}return yu(t,s,a,c)}function Eo(e,t,s,a,c){const u=function yy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qe)?e[qe]:void 0;return"number"==typeof t?t>=0?255&t:vy:t}(s);if("function"==typeof u){if(!iu(t,e,a))return a&Pe.Host?Ih(c,0,a):yu(t,s,a,c);try{const f=u(a);if(null!=f||a&Pe.Optional)return f;Ge()}finally{ay()}}else if("number"==typeof u){let f=null,p=qa(e,t),g=-1,m=a&Pe.Host?t[16][6]:null;for((-1===p||a&Pe.SkipSelf)&&(g=-1===p?Cs(e,t):t[p+8],-1!==g&&Oh(a,!1)?(f=t[1],p=Lr(g),t=pr(g,t)):p=-1);-1!==p;){const v=t[1];if(Fh(u,p,v.data)){const C=vu(p,t,s,f,a,m);if(C!==gr)return C}g=t[p+8],-1!==g&&Oh(a,t[1].data[p+8]===m)&&Fh(u,p,t)?(f=v,p=Lr(g),t=pr(g,t)):p=-1}}return c}function vu(e,t,s,a,c,u){const f=t[1],p=f.data[e+8],v=function ws(e,t,s,a,c){const u=e.providerIndexes,f=t.data,p=1048575&u,g=e.directiveStart,v=u>>20,I=c?p+v:e.directiveEnd;for(let k=a?p:p+v;k<I;k++){const z=f[k];if(k<g&&s===z||k>=g&&z.type===s)return k}if(c){const k=f[g];if(k&&H(k)&&k.type===s)return g}return null}(p,f,s,null==a?U(p)&&_u:a!=f&&0!=(3&p.type),c&Pe.Host&&u===p);return null!==v?As(t,f,v,p):gr}function As(e,t,s,a){let c=e[s];const u=t.data;if(function PC(e){return e instanceof Za}(c)){const f=c;f.resolving&&function ie(e,t){const s=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new G(-200,`Circular dependency in DI detected for ${e}${s}`)}(function Z(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():q(e)}(u[s]));const p=za(f.canSeeViewProviders);f.resolving=!0;const g=f.injectImpl?Dn(f.injectImpl):null;iu(e,a,Pe.Default);try{c=e[s]=f.factory(void 0,u,e,a),t.firstCreatePass&&s>=a.directiveStart&&function Sh(e,t,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:u}=t.type.prototype;if(a){const f=fh(t);(s.preOrderHooks||(s.preOrderHooks=[])).push(e,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(e,f)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-e,c),u&&((s.preOrderHooks||(s.preOrderHooks=[])).push(e,u),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(e,u))}(s,u[s],t)}finally{null!==g&&Dn(g),za(p),f.resolving=!1,ay()}}return c}function Fh(e,t,s){return!!(s[t+(e>>5)]&1<<e)}function Oh(e,t){return!(e&Pe.Self||e&Pe.Host&&t)}class bs{constructor(t,s){this._tNode=t,this._lView=s}get(t,s,a){return Ph(this._tNode,this._lView,t,a,s)}}function vy(){return new bs(St(),Q())}function jt(e){return jn(()=>{const t=e.prototype.constructor,s=t[Rn]||Ja(t),a=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==a;){const u=c[Rn]||Ja(c);if(u&&u!==s)return u;c=Object.getPrototypeOf(c)}return u=>new u})}function Ja(e){return j(e)?()=>{const t=Ja(O(e));return t&&t()}:Ii(e)}function Ze(e){const t=e[1],s=t.type;return 2===s?t.declTNode:1===s?e[6]:null}function Du(e){return function _y(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const s=e.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const u=s[c];if(gy(u))break;if(0===u)c+=2;else if("number"==typeof u)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(u===t)return s[c+1];c+=2}}}return null}(St(),e)}const kr="__parameters__";function Ss(e,t,s){return jn(()=>{const a=function el(e){return function(...s){if(e){const a=e(...s);for(const c in a)this[c]=a[c]}}}(t);function c(...u){if(this instanceof c)return a.apply(this,u),this;const f=new c(...u);return p.annotation=f,p;function p(g,m,v){const C=g.hasOwnProperty(kr)?g[kr]:Object.defineProperty(g,kr,{value:[]})[kr];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(f),g}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}class st{constructor(t,s){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=At({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mr(e,t){e.forEach(s=>Array.isArray(s)?mr(s,t):t(s))}function bo(e,t,s){t>=e.length?e.push(s):e.splice(t,0,s)}function Ms(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function dn(e,t,s){let a=So(e,t);return a>=0?e[1|a]=s:(a=~a,function Rh(e,t,s,a){let c=e.length;if(c==t)e.push(s,a);else if(1===c)e.push(a,e[0]),e[0]=s;else{for(c--,e.push(e[c-1],e[c]);c>t;)e[c]=e[c-2],c--;e[t]=s,e[t+1]=a}}(e,a,t,s)),a}function tl(e,t){const s=So(e,t);if(s>=0)return e[1|s]}function So(e,t){return function Vh(e,t,s){let a=0,c=e.length>>s;for(;c!==a;){const u=a+(c-a>>1),f=e[u<<s];if(t===f)return u<<s;f>t?c=u:a=u+1}return~(c<<s)}(e,t,1)}const Yn={},Uh="__NG_DI_FLAG__",Au="ngTempTokenPath",ZC=/\n/gm,Is="__source";let Br;function nl(e){const t=Br;return Br=e,t}function KC(e,t=Pe.Default){if(void 0===Br)throw new G(-203,!1);return null===Br?bi(e,void 0,t):Br.get(e,t&Pe.Optional?null:void 0,t)}function Pt(e,t=Pe.Default){return(function sn(){return hs}()||KC)(O(e),t)}function Ps(e){const t=[];for(let s=0;s<e.length;s++){const a=O(e[s]);if(Array.isArray(a)){if(0===a.length)throw new G(900,!1);let c,u=Pe.Default;for(let f=0;f<a.length;f++){const p=a[f],g=by(p);"number"==typeof g?-1===g?c=p.token:u|=g:c=p}t.push(Pt(c,u))}else t.push(Pt(a))}return t}function To(e,t){return e[Uh]=t,e.prototype[Uh]=t,e}function by(e){return e[Uh]}const il=To(Ss("Inject",e=>({token:e})),-1),Ft=To(Ss("Optional"),8),Io=To(Ss("Self"),2),Po=To(Ss("SkipSelf"),4);function Qn(e){return e.ngOriginalError}class Fn{constructor(){this._console=console}handleError(t){const s=this._findOriginalError(t);this._console.error("ERROR",t),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(t){let s=t&&Qn(t);for(;s&&Qn(s);)s=Qn(s);return s||null}}const Vi=new Map;let Bi=0;const nn="__ngContext__";function Mt(e,t){Kt(t)?(e[nn]=t[20],function pp(e){Vi.set(e[20],e)}(t)):e[nn]=t}function vr(e){const t=e[nn];return"number"==typeof t?function gp(e){return Vi.get(e)||null}(t):t||null}function mp(e){const t=vr(e);return t?Kt(t)?t:t.lView:null}const jy=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(pe))();var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();function vl(e,t){return undefined(e,t)}function Vs(e){const t=e[3];return Mn(t)?t[3]:t}function Gu(e){return wp(e[13])}function Wu(e){return wp(e[4])}function wp(e){for(;null!==e&&!Mn(e);)e=e[4];return e}function Ui(e,t,s,a,c){if(null!=a){let u,f=!1;Mn(a)?u=a:Kt(a)&&(f=!0,a=a[0]);const p=Rt(a);0===e&&null!==s?null==c?Xu(t,s,p):si(t,s,p,c||null,!0):1===e&&null!==s?si(t,s,p,c||null,!0):2===e?function Pp(e,t,s){const a=El(e,t);a&&function Tp(e,t,s,a){Tt(e)?e.removeChild(t,s,a):t.removeChild(s)}(e,a,t,s)}(t,p,f):3===e&&t.destroyNode(p),null!=u&&function ev(e,t,s,a,c){const u=s[7];u!==Rt(s)&&Ui(t,e,a,u,c);for(let p=10;p<s.length;p++){const g=s[p];Bo(g[1],g,e,t,a,u)}}(t,e,u,s,c)}}function Dl(e,t,s){if(Tt(e))return e.createElement(t,s);{const a=null!==s?function SC(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?e.createElement(t):e.createElementNS(a,t)}}function Sp(e,t){const s=e[9],a=s.indexOf(t),c=t[3];512&t[2]&&(t[2]&=-513,ja(c,-1)),s.splice(a,1)}function zu(e,t){if(e.length<=10)return;const s=10+t,a=e[s];if(a){const c=a[17];null!==c&&c!==e&&Sp(c,a),t>0&&(e[s-1][4]=a[4]);const u=Ms(e,10+t);!function Ky(e,t){Bo(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(a[1],a);const f=u[19];null!==f&&f.detachView(u[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Mp(e,t){if(!(128&t[2])){const s=t[11];Tt(s)&&s.destroyNode&&Bo(e,t,s,3,null,null),function Ku(e){let t=e[13];if(!t)return ko(e[1],e);for(;t;){let s=null;if(Kt(t))s=t[13];else{const a=t[10];a&&(s=a)}if(!s){for(;t&&!t[4]&&t!==e;)Kt(t)&&ko(t[1],t),t=t[3];null===t&&(t=e),Kt(t)&&ko(t[1],t),s=t&&t[4]}t=s}}(t)}}function ko(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function qu(e,t){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let a=0;a<s.length;a+=2){const c=t[s[a]];if(!(c instanceof Za)){const u=s[a+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){const p=c[u[f]],g=u[f+1];try{g.call(p)}finally{}}else try{u.call(c)}finally{}}}}(e,t),function Yu(e,t){const s=e.cleanup,a=t[7];let c=-1;if(null!==s)for(let u=0;u<s.length-1;u+=2)if("string"==typeof s[u]){const f=s[u+1],p="function"==typeof f?f(t):Rt(t[f]),g=a[c=s[u+2]],m=s[u+3];"boolean"==typeof m?p.removeEventListener(s[u],g,m):m>=0?a[c=m]():a[c=-m].unsubscribe(),u+=2}else{const f=a[c=s[u+1]];s[u].call(f)}if(null!==a){for(let u=c+1;u<a.length;u++)a[u]();t[7]=null}}(e,t),1===t[1].type&&Tt(t[11])&&t[11].destroy();const s=t[17];if(null!==s&&Mn(t[3])){s!==t[3]&&Sp(s,t);const a=t[19];null!==a&&a.detachView(e)}!function Hr(e){Vi.delete(e[20])}(t)}}function Qu(e,t,s){return function Ju(e,t,s){let a=t;for(;null!==a&&40&a.type;)a=(t=a).parent;if(null===a)return s[0];if(2&a.flags){const c=e.data[a.directiveStart].encapsulation;if(c===tt.None||c===tt.Emulated)return null}return an(a,s)}(e,t.parent,s)}function si(e,t,s,a,c){Tt(e)?e.insertBefore(t,s,a,c):(td(t)?t.content:t).insertBefore(s,a,c)}function Xu(e,t,s){Tt(e)?e.appendChild(t,s):(td(t)?t.content:t).appendChild(s)}function ed(e,t,s,a,c){null!==a?si(e,t,s,a,c):Xu(e,t,s)}function td(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}function El(e,t){return Tt(e)?e.parentNode(t):t.parentNode}let nd=function Jy(e,t,s){return 40&e.type?an(e,s):null};function Yt(e,t,s,a){const c=Qu(e,a,t),u=t[11],p=function Qy(e,t,s){return nd(e,t,s)}(a.parent||t[6],a,t);if(null!=c)if(Array.isArray(s))for(let g=0;g<s.length;g++)ed(u,c,s[g],p,!1);else ed(u,c,s,p,!1)}function Hi(e,t){if(null!==t){const s=t.type;if(3&s)return an(t,e);if(4&s)return Vo(-1,e[t.index]);if(8&s){const a=t.child;if(null!==a)return Hi(e,a);{const c=e[t.index];return Mn(c)?Vo(-1,c):Rt(c)}}if(32&s)return vl(t,e)()||Rt(e[t.index]);{const a=Ip(e,t);return null!==a?Array.isArray(a)?a[0]:Hi(Vs(e[16]),a):Hi(e,t.next)}}return null}function Ip(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Vo(e,t){const s=10+e+1;if(s<t.length){const a=t[s],c=a[1].firstChild;if(null!==c)return Hi(a,c)}return t[7]}function Cl(e,t,s,a,c,u,f){for(;null!=s;){const p=a[s.index],g=s.type;if(f&&0===t&&(p&&Mt(Rt(p),a),s.flags|=4),64!=(64&s.flags))if(8&g)Cl(e,t,s.child,a,c,u,!1),Ui(t,e,c,p,u);else if(32&g){const m=vl(s,a);let v;for(;v=m();)Ui(t,e,c,v,u);Ui(t,e,c,p,u)}else 16&g?ji(e,t,a,s,c,u):Ui(t,e,c,p,u);s=f?s.projectionNext:s.next}}function Bo(e,t,s,a,c,u){Cl(s,a,e.firstChild,t,c,u,!1)}function ji(e,t,s,a,c,u){const f=s[16],g=f[6].projection[a.projection];if(Array.isArray(g))for(let m=0;m<g.length;m++)Ui(t,e,c,g[m],u);else Cl(e,t,g,f[3],c,u,!0)}function Bs(e,t,s){Tt(e)?e.setAttribute(t,"style",s):t.style.cssText=s}function rd(e,t,s){Tt(e)?""===s?e.removeAttribute(t,"class"):e.setAttribute(t,"class",s):t.className=s}function Op(e,t,s){let a=e.length;for(;;){const c=e.indexOf(t,s);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const u=t.length;if(c+u===a||e.charCodeAt(c+u)<=32)return c}s=c+1}}const nv="ng-template";function rv(e,t,s){let a=0;for(;a<e.length;){let c=e[a++];if(s&&"class"===c){if(c=e[a],-1!==Op(c.toLowerCase(),t,0))return!0}else if(1===c){for(;a<e.length&&"string"==typeof(c=e[a++]);)if(c.toLowerCase()===t)return!0;return!1}}return!1}function Np(e){return 4===e.type&&e.value!==nv}function iv(e,t,s){return t===(4!==e.type||s?e.value:nv)}function sv(e,t,s){let a=4;const c=e.attrs||[],u=function Rp(e){for(let t=0;t<e.length;t++)if(gy(e[t]))return t;return e.length}(c);let f=!1;for(let p=0;p<t.length;p++){const g=t[p];if("number"!=typeof g){if(!f)if(4&a){if(a=2|1&a,""!==g&&!iv(e,g,s)||""===g&&1===t.length){if(On(a))return!1;f=!0}}else{const m=8&a?g:t[++p];if(8&a&&null!==e.attrs){if(!rv(e.attrs,m,s)){if(On(a))return!1;f=!0}continue}const C=id(8&a?"class":g,c,Np(e),s);if(-1===C){if(On(a))return!1;f=!0;continue}if(""!==m){let I;I=C>u?"":c[C+1].toLowerCase();const k=8&a?I:null;if(k&&-1!==Op(k,m,0)||2&a&&m!==I){if(On(a))return!1;f=!0}}}}else{if(!f&&!On(a)&&!On(g))return!1;if(f&&On(g))continue;f=!1,a=g|1&a}}return On(a)||f}function On(e){return 0==(1&e)}function id(e,t,s,a){if(null===t)return-1;let c=0;if(a||!s){let u=!1;for(;c<t.length;){const f=t[c];if(f===e)return c;if(3===f||6===f)u=!0;else{if(1===f||2===f){let p=t[++c];for(;"string"==typeof p;)p=t[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=u?1:2}return-1}return function Lp(e,t){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const a=e[s];if("number"==typeof a)return-1;if(a===t)return s;s++}return-1}(t,e)}function wl(e,t,s=!1){for(let a=0;a<t.length;a++)if(sv(e,t[a],s))return!0;return!1}function sd(e,t){return e?":not("+t.trim()+")":t}function Vp(e){let t=e[0],s=1,a=2,c="",u=!1;for(;s<e.length;){let f=e[s];if("string"==typeof f)if(2&a){const p=e[++s];c+="["+f+(p.length>0?'="'+p+'"':"")+"]"}else 8&a?c+="."+f:4&a&&(c+=" "+f);else""!==c&&!On(f)&&(t+=sd(u,c),c=""),a=f,u=u||!On(a);s++}return""!==c&&(t+=sd(u,c)),t}const Oe={};function Us(e){Hs(He(),Q(),cn()+e,!1)}function Hs(e,t,s,a){if(!a)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&cu(t,u,s)}else{const u=e.preOrderHooks;null!==u&&uu(t,u,0,s)}Pi(s)}const jp=new st("ENVIRONMENT_INITIALIZER"),$p=new st("INJECTOR_DEF_TYPES");function sw(...e){return{\u0275providers:jo(0,e)}}function jo(e,...t){const s=[],a=new Set;let c;return mr(t,u=>{const f=u;ld(f,s,[],a)&&(c||(c=[]),c.push(f))}),void 0!==c&&Gp(c,s),s}function Gp(e,t){for(let s=0;s<e.length;s++){const{providers:c}=e[s];mr(c,u=>{t.push(u)})}}function ld(e,t,s,a){if(!(e=O(e)))return!1;let c=null,u=Ia(e);const f=!u&&nt(e);if(u||f){if(f&&!f.standalone)return!1;c=e}else{const g=e.ngModule;if(u=Ia(g),!u)return!1;c=g}const p=a.has(c);if(f){if(p)return!1;if(a.add(c),f.dependencies){const g="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const m of g)ld(m,t,s,a)}}else{if(!u)return!1;{if(null!=u.imports&&!p){let m;a.add(c);try{mr(u.imports,v=>{ld(v,t,s,a)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&Gp(m,t)}if(!p){const m=Ii(c)||(()=>new c);t.push({provide:c,useFactory:m,deps:Re},{provide:$p,useValue:c,multi:!0},{provide:jp,useValue:()=>Pt(c),multi:!0})}const g=u.providers;null==g||p||mr(g,v=>{t.push(v)})}}return c!==e&&void 0!==e.providers}const aw=T({provide:String,useValue:T});function $o(e){return null!==e&&"object"==typeof e&&aw in e}function Wr(e){return"function"==typeof e}const Kp=new st("INJECTOR",-1);class zp{get(t,s=Yn){if(s===Yn){const a=new Error(`NullInjectorError: No provider for ${A(t)}!`);throw a.name="NullInjectorError",a}return s}}const Vn=new st("Set Injector scope."),Go={},uv={};let cd;function ud(){return void 0===cd&&(cd=new zp),cd}class js{}class dd extends js{constructor(t,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sl(t,f=>this.processProvider(f)),this.records.set(Kp,oi(void 0,this)),c.has("environment")&&this.records.set(js,oi(void 0,this));const u=this.records.get(Vn);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get($p.multi,Re,Pe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}get(t,s=Yn,a=Pe.Default){this.assertNotDestroyed();const c=nl(this),u=Dn(void 0);try{if(!(a&Pe.SkipSelf)){let p=this.records.get(t);if(void 0===p){const g=function pd(e){return"function"==typeof e||"object"==typeof e&&e instanceof st}(t)&&Gt(t);p=g&&this.injectableDefInScope(g)?oi(Al(t),Go):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(a&Pe.Self?ud():this.parent).get(t,s=a&Pe.Optional&&s===Yn?null:s)}catch(f){if("NullInjectorError"===f.name){if((f[Au]=f[Au]||[]).unshift(A(t)),c)throw f;return function Sy(e,t,s,a){const c=e[Au];throw t[Is]&&c.unshift(t[Is]),e.message=function My(e,t,s,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=A(t);if(Array.isArray(t))c=t.map(A).join(" -> ");else if("object"==typeof t){let u=[];for(let f in t)if(t.hasOwnProperty(f)){let p=t[f];u.push(f+":"+("string"==typeof p?JSON.stringify(p):A(p)))}c=`{${u.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${e.replace(ZC,"\n  ")}`}("\n"+e.message,c,s,a),e.ngTokenPath=c,e[Au]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{Dn(u),nl(c)}}resolveInjectorInitializers(){const t=nl(this),s=Dn(void 0);try{const a=this.get(jp.multi,Re,Pe.Self);for(const c of a)c()}finally{nl(t),Dn(s)}}toString(){const t=[],s=this.records;for(const a of s.keys())t.push(A(a));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(t){let s=Wr(t=O(t))?t:O(t&&t.provide);const a=function qp(e){return $o(e)?oi(void 0,e.useValue):oi(bl(e),Go)}(t);if(Wr(t)||!0!==t.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=oi(void 0,Go,!0),c.factory=()=>Ps(c.multi),this.records.set(s,c)),s=t,c.multi.push(t)}this.records.set(s,a)}hydrate(t,s){return s.value===Go&&(s.value=uv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function hd(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(t){if(!t.providedIn)return!1;const s=O(t.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Al(e){const t=Gt(e),s=null!==t?t.factory:Ii(e);if(null!==s)return s;if(e instanceof st)throw new G(204,!1);if(e instanceof Function)return function Yp(e){const t=e.length;if(t>0)throw function Ts(e,t){const s=[];for(let a=0;a<e;a++)s.push(t);return s}(t,"?"),new G(204,!1);const s=function ho(e){const t=e&&(e[wi]||e[Ai]);if(t){const s=function Lc(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),t}return null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new G(204,!1)}function bl(e,t,s){let a;if(Wr(e)){const c=O(e);return Ii(c)||Al(c)}if($o(e))a=()=>O(e.useValue);else if(function Zp(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Ps(e.deps||[]));else if(function Wp(e){return!(!e||!e.useExisting)}(e))a=()=>Pt(O(e.useExisting));else{const c=O(e&&(e.useClass||e.provide));if(!function fd(e){return!!e.deps}(e))return Ii(c)||Al(c);a=()=>new c(...Ps(e.deps))}return a}function oi(e,t,s=!1){return{factory:e,value:t,multi:s?[]:void 0}}function hn(e){return!!e.\u0275providers}function Sl(e,t){for(const s of e)Array.isArray(s)?Sl(s,t):hn(s)?Sl(s.\u0275providers,t):t(s)}function gd(e,t=null,s=null,a){const c=Qp(e,t,s,a);return c.resolveInjectorInitializers(),c}function Qp(e,t=null,s=null,a,c=new Set){const u=[s||Re,sw(e)];return a=a||("object"==typeof e?void 0:A(e)),new dd(u,t||ud(),a||null,c)}let pn=(()=>{class e{static create(s,a){if(Array.isArray(s))return gd({name:""},a,s,"");{const c=s.name??"";return gd({name:c},s.parent,s.providers,c)}}}return e.THROW_IF_NOT_FOUND=Yn,e.NULL=new zp,e.\u0275prov=At({token:e,providedIn:"any",factory:()=>Pt(Kp)}),e.__NG_ELEMENT_ID__=-1,e})();function Gs(e,t=Pe.Default){const s=Q();return null===s?Pt(e,t):Ph(St(),s,O(e),t)}function ai(e,t){return e<<17|t<<2}function er(e){return e>>17&32767}function ug(e){return 2|e}function Zr(e){return(131068&e)>>2}function bd(e,t){return-131069&e|t<<2}function Sd(e){return 1|e}function _g(e,t){const s=e.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],u=s[a+1];if(-1!==u){const f=e.data[u];ru(c),f.contentQueries(2,t[u],u)}}}function wn(e,t,s,a,c,u,f,p,g,m,v){const C=t.blueprint.slice();return C[0]=c,C[2]=76|a,(null!==v||e&&1024&e[2])&&(C[2]|=1024),zc(C),C[3]=C[15]=e,C[8]=s,C[10]=f||e&&e[10],C[11]=p||e&&e[11],C[12]=g||e&&e[12]||null,C[9]=m||e&&e[9]||null,C[6]=u,C[20]=function ut(){return Bi++}(),C[21]=v,C[16]=2==t.type?e[16]:C,C}function Ws(e,t,s,a,c){let u=e.data[t];if(null===u)u=function Rd(e,t,s,a,c){const u=$a(),f=Ga(),g=e.data[t]=function fi(e,t,s,a,c,u){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?u:u&&u.parent,s,t,a,c);return null===e.firstChild&&(e.firstChild=g),null!==u&&(f?null==u.child&&null!==g.parent&&(u.child=g):null===u.next&&(u.next=g)),g}(e,t,s,a,c),function Xc(){return Fe.lFrame.inI18n}()&&(u.flags|=64);else if(64&u.type){u.type=s,u.value=a,u.attrs=c;const f=function vo(){const e=Fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===f?-1:f.injectorIndex}return Kn(u,!0),u}function Dr(e,t,s,a){if(0===s)return-1;const c=t.length;for(let u=0;u<s;u++)t.push(a),e.blueprint.push(a),e.data.push(null);return c}function Qo(e,t,s){Do(t);try{const a=e.viewQuery;null!==a&&Bg(1,a,s);const c=e.template;null!==c&&tr(e,t,c,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_g(e,t),e.staticViewQueries&&Bg(2,e.viewQuery,s);const u=e.components;null!==u&&function yg(e,t){for(let s=0;s<t.length;s++)Lg(e,t[s])}(t,u)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[2]&=-5,ou()}}function Wi(e,t,s,a){const c=t[2];if(128!=(128&c)){Do(t);try{zc(t),function Ch(e){return Fe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&tr(e,t,s,2,a);const f=3==(3&c);if(f){const m=e.preOrderCheckHooks;null!==m&&cu(t,m,null)}else{const m=e.preOrderHooks;null!==m&&uu(t,m,0,null),du(t,0)}if(function Rg(e){for(let t=Gu(e);null!==t;t=Wu(t)){if(!t[2])continue;const s=t[9];for(let a=0;a<s.length;a++){const c=s[a],u=c[3];0==(512&c[2])&&ja(u,1),c[2]|=512}}}(t),function xg(e){for(let t=Gu(e);null!==t;t=Wu(t))for(let s=10;s<t.length;s++){const a=t[s],c=a[1];Kc(a)&&Wi(c,a,c.template,a[8])}}(t),null!==e.contentQueries&&_g(e,t),f){const m=e.contentCheckHooks;null!==m&&cu(t,m)}else{const m=e.contentHooks;null!==m&&uu(t,m,1),du(t,1)}!function Pv(e,t){const s=e.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Pi(~c);else{const u=c,f=s[++a],p=s[++a];IC(f,u),p(2,t[u])}}}finally{Pi(-1)}}(e,t);const p=e.components;null!==p&&function Fv(e,t){for(let s=0;s<t.length;s++)gn(e,t[s])}(t,p);const g=e.viewQuery;if(null!==g&&Bg(2,g,a),f){const m=e.viewCheckHooks;null!==m&&cu(t,m)}else{const m=e.viewHooks;null!==m&&uu(t,m,2),du(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ja(t[3],-1))}finally{ou()}}}function Zi(e,t,s,a){const c=t[10],f=function _h(e){return 4==(4&e[2])}(t);try{!f&&c.begin&&c.begin(),f&&Qo(e,t,a),Wi(e,t,s,a)}finally{!f&&c.end&&c.end()}}function tr(e,t,s,a,c){const u=cn(),f=2&a;try{Pi(-1),f&&t.length>22&&Hs(e,t,22,!1),s(a,c)}finally{Pi(u)}}function Ll(e,t,s){!Eh()||(function Mg(e,t,s,a){const c=s.directiveStart,u=s.directiveEnd;e.firstCreatePass||zn(s,t),Mt(a,t);const f=s.initialInputs;for(let p=c;p<u;p++){const g=e.data[p],m=H(g);m&&Hd(t,s,g);const v=As(t,e,p,s);Mt(v,t),null!==f&&Ng(0,p-c,v,g,0,f),m&&(Pn(s.index,t)[8]=v)}}(e,t,s,an(s,t)),128==(128&s.flags)&&function Tg(e,t,s){const a=s.directiveStart,c=s.directiveEnd,u=s.index,f=function sy(){return Fe.lFrame.currentDirectiveIndex}();try{Pi(u);for(let p=a;p<c;p++){const g=e.data[p],m=t[p];eu(p),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&Bd(g,m)}}finally{Pi(-1),eu(f)}}(e,t,s))}function Ld(e,t,s=an){const a=t.localNames;if(null!==a){let c=t.index+1;for(let u=0;u<a.length;u+=2){const f=a[u+1],p=-1===f?s(t,e):e[f];e[c++]=p}}}function Dg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=kl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function kl(e,t,s,a,c,u,f,p,g,m){const v=22+a,C=v+c,I=function Vl(e,t){const s=[];for(let a=0;a<t;a++)s.push(a<e?null:Oe);return s}(v,C),k="function"==typeof m?m():m;return I[1]={type:e,blueprint:I,template:s,queries:null,viewQuery:p,declTNode:t,data:I.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:g,consts:k,incompleteFirstPass:!1}}function Cg(e,t,s){for(let a in e)if(e.hasOwnProperty(a)){const c=e[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(t,c):s[a]=[t,c]}return s}function Bl(e,t,s,a){let c=!1;if(Eh()){const u=function Ig(e,t,s){const a=e.directiveRegistry;let c=null;if(a)for(let u=0;u<a.length;u++){const f=a[u];wl(s,f.selectors,!1)&&(c||(c=[]),Qa(zn(s,t),e,f.type),H(f)?(Pg(e,s),c.unshift(f)):c.push(f))}return c}(e,t,s),f=null===a?null:{"":-1};if(null!==u){c=!0,Hl(s,e.data.length,u.length);for(let v=0;v<u.length;v++){const C=u[v];C.providersResolver&&C.providersResolver(C)}let p=!1,g=!1,m=Dr(e,t,u.length,null);for(let v=0;v<u.length;v++){const C=u[v];s.mergedAttrs=pu(s.mergedAttrs,C.hostAttrs),Ud(e,s,t,m,C),Og(m,C,f),null!==C.contentQueries&&(s.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(s.flags|=128);const I=C.type.prototype;!p&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(s.index),p=!0),!g&&(I.ngOnChanges||I.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(s.index),g=!0),m++}!function ww(e,t){const a=t.directiveEnd,c=e.data,u=t.attrs,f=[];let p=null,g=null;for(let m=t.directiveStart;m<a;m++){const v=c[m],C=v.inputs,I=null===u||Np(t)?null:jd(C,u);f.push(I),p=Cg(C,m,p),g=Cg(v.outputs,m,g)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=16),p.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=f,t.inputs=p,t.outputs=g}(e,s)}f&&function Fg(e,t,s){if(t){const a=e.localNames=[];for(let c=0;c<t.length;c+=2){const u=s[t[c+1]];if(null==u)throw new G(-301,!1);a.push(t[c],u)}}}(s,a,f)}return s.mergedAttrs=pu(s.mergedAttrs,s.attrs),c}function Vd(e,t,s,a,c,u){const f=u.hostBindings;if(f){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const g=~t.index;(function Ul(e){let t=e.length;for(;t>0;){const s=e[--t];if("number"==typeof s&&s<0)return s}return 0})(p)!=g&&p.push(g),p.push(a,c,f)}}function Bd(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Pg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Og(e,t,s){if(s){if(t.exportAs)for(let a=0;a<t.exportAs.length;a++)s[t.exportAs[a]]=e;H(t)&&(s[""]=e)}}function Hl(e,t,s){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+s,e.providerIndexes=t}function Ud(e,t,s,a,c){e.data[a]=c;const u=c.factory||(c.factory=Ii(c.type)),f=new Za(u,H(c),Gs);e.blueprint[a]=f,s[a]=f,Vd(e,t,0,a,Dr(e,s,c.hostVars,Oe),c)}function Hd(e,t,s){const a=an(t,e),c=Dg(s),u=e[10],f=Wd(e,wn(e,c,null,s.onPush?32:16,a,t,u,u.createRenderer(a,s),null,null,null));e[t.index]=f}function nr(e,t,s,a,c,u){const f=an(e,t);!function jl(e,t,s,a,c,u,f){if(null==u)Tt(e)?e.removeAttribute(t,c,s):t.removeAttribute(c);else{const p=null==f?q(u):f(u,a||"",c);Tt(e)?e.setAttribute(t,c,p,s):s?t.setAttributeNS(s,c,p):t.setAttribute(c,p)}}(t[11],f,u,e.value,s,a,c)}function Ng(e,t,s,a,c,u){const f=u[t];if(null!==f){const p=a.setInput;for(let g=0;g<f.length;){const m=f[g++],v=f[g++],C=f[g++];null!==p?a.setInput(s,C,m,v):s[v]=C}}}function jd(e,t){let s=null,a=0;for(;a<t.length;){const c=t[a];if(0!==c)if(5!==c){if("number"==typeof c)break;e.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,e[c],t[a+1])),a+=2}else a+=2;else a+=4}return s}function Gd(e,t,s,a){return new Array(e,!0,!1,t,null,0,a,s,null,null)}function gn(e,t){const s=Pn(t,e);if(Kc(s)){const a=s[1];48&s[2]?Wi(a,s,a.template,s[8]):s[5]>0&&Er(s)}}function Er(e){for(let a=Gu(e);null!==a;a=Wu(a))for(let c=10;c<a.length;c++){const u=a[c];if(512&u[2]){const f=u[1];Wi(f,u,f.template,u[8])}else u[5]>0&&Er(u)}const s=e[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Pn(s[a],e);Kc(c)&&c[5]>0&&Er(c)}}function Lg(e,t){const s=Pn(t,e),a=s[1];(function Aw(e,t){for(let s=t.length;s<e.blueprint.length;s++)t.push(e.blueprint[s])})(a,s),Qo(a,s,s[8])}function Wd(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function $l(e){for(;e;){e[2]|=32;const t=Vs(e);if(ee(e)&&!t)return e;e=t}return null}function kg(e){!function Jo(e){for(let t=0;t<e.components.length;t++){const s=e.components[t],a=mp(s);if(null!==a){const c=a[1];Zi(c,a,c.template,s)}}}(e[8])}function Bg(e,t,s){ru(0),t(e,s)}const Sw=(()=>Promise.resolve(null))();function xv(e){return e[7]||(e[7]=[])}function Rv(e){return e.cleanup||(e.cleanup=[])}function kv(e,t){const s=e[9],a=s?s.get(Fn,null):null;a&&a.handleError(t)}function Ug(e,t,s,a,c){for(let u=0;u<s.length;){const f=s[u++],p=s[u++],g=t[f],m=e.data[f];null!==m.setInput?m.setInput(g,c,a,p):g[p]=c}}function Cr(e,t,s){const a=Ba(t,e);!function Ap(e,t,s){Tt(e)?e.setValue(t,s):t.textContent=s}(e[11],a,s)}function Gl(e,t,s){let a=s?e.styles:null,c=s?e.classes:null,u=0;if(null!==t)for(let f=0;f<t.length;f++){const p=t[f];"number"==typeof p?u=p:1==u?c=M(c,p):2==u&&(a=M(a,p+": "+t[++f]+";"))}s?e.styles=a:e.stylesWithoutHost=a,s?e.classes=c:e.classesWithoutHost=c}function Hv(){const e=St();lu(Q()[1],e)}function zg(e){let t=function Kg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const a=[e];for(;t;){let c;if(H(e))c=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new G(903,!1);c=t.\u0275dir}if(c){if(s){a.push(c);const f=e;f.inputs=zl(e.inputs),f.declaredInputs=zl(e.declaredInputs),f.outputs=zl(e.outputs);const p=c.hostBindings;p&&Gv(e,p);const g=c.viewQuery,m=c.contentQueries;if(g&&Pw(e,g),m&&Xd(e,m),F(e.inputs,c.inputs),F(e.declaredInputs,c.declaredInputs),F(e.outputs,c.outputs),H(c)&&c.data.animation){const v=e.data;v.animation=(v.animation||[]).concat(c.data.animation)}}const u=c.features;if(u)for(let f=0;f<u.length;f++){const p=u[f];p&&p.ngInherit&&p(e),p===zg&&(s=!1)}}t=Object.getPrototypeOf(t)}!function $v(e){let t=0,s=null;for(let a=e.length-1;a>=0;a--){const c=e[a];c.hostVars=t+=c.hostVars,c.hostAttrs=pu(c.hostAttrs,s=pu(s,c.hostAttrs))}}(a)}function zl(e){return e===$n?{}:e===Re?[]:e}function Pw(e,t){const s=e.viewQuery;e.viewQuery=s?(a,c)=>{t(a,c),s(a,c)}:t}function Xd(e,t){const s=e.contentQueries;e.contentQueries=s?(a,c,u)=>{t(a,c,u),s(a,c,u)}:t}function Gv(e,t){const s=e.hostBindings;e.hostBindings=s?(a,c)=>{t(a,c),s(a,c)}:t}let tf=null;function qi(){if(!tf){const e=pe.Symbol;if(e&&e.iterator)tf=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<t.length;++s){const a=t[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(tf=a)}}}return tf}function Qi(e){return!!ql(e)&&(Array.isArray(e)||!(e instanceof Map)&&qi()in e)}function ql(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wr(e,t,s){return e[t]=s}function mn(e,t,s){return!Object.is(e[t],s)&&(e[t]=s,!0)}function qs(e,t,s,a){const c=mn(e,t,s);return mn(e,t+1,a)||c}function rf(e,t,s,a){const c=Q();return mn(c,Es(),t)&&(He(),nr(It(),c,e,t,s,a)),rf}function Xi(e,t,s,a,c,u){const p=qs(e,function hr(){return Fe.lFrame.bindingIndex}(),s,c);return Rr(2),p?t+q(s)+a+q(c)+u:Oe}function nm(e,t,s,a,c,u,f,p){const g=Q(),m=He(),v=e+22,C=m.firstCreatePass?function uf(e,t,s,a,c,u,f,p,g){const m=t.consts,v=Ws(t,e,4,f||null,Zn(m,p));Bl(t,s,v,Zn(m,g)),lu(t,v);const C=v.tViews=kl(2,v,a,c,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),C.queries=t.queries.embeddedTView(v)),v}(v,m,g,t,s,a,c,u,f):m.data[v];Kn(C,!1);const I=g[11].createComment("");Yt(m,g,I,C),Mt(I,g),Wd(g,g[v]=Gd(I,g,I,C)),x(C)&&Ll(m,g,C),null!=f&&Ld(g,C,p)}function na(e,t,s){const a=Q();return mn(a,Es(),t)&&function An(e,t,s,a,c,u,f,p){const g=an(t,s);let v,m=t.inputs;!p&&null!=m&&(v=m[a])?(Ug(e,s,v,a,c),U(t)&&function Ag(e,t){const s=Pn(t,e);16&s[2]||(s[2]|=32)}(s,t.index)):3&t.type&&(a=function wg(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),c=null!=f?f(c,t.value||"",a):c,Tt(u)?u.setProperty(g,a,c):hu(a)||(g.setProperty?g.setProperty(a,c):g[a]=c))}(He(),It(),a,e,t,a[11],s,!1),na}function Jl(e,t,s,a,c){const f=c?"class":"style";Ug(e,s,t.inputs[f],f,a)}function ra(e,t,s,a){const c=Q(),u=He(),f=22+e,p=c[11],g=c[f]=Dl(p,t,function au(){return Fe.lFrame.currentNamespace}()),m=u.firstCreatePass?function Kv(e,t,s,a,c,u,f){const p=t.consts,m=Ws(t,e,2,c,Zn(p,u));return Bl(t,s,m,Zn(p,f)),null!==m.attrs&&Gl(m,m.attrs,!1),null!==m.mergedAttrs&&Gl(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(f,u,c,0,t,s,a):u.data[f];Kn(m,!0);const v=m.mergedAttrs;null!==v&&fu(p,g,v);const C=m.classes;null!==C&&rd(p,g,C);const I=m.styles;return null!==I&&Bs(p,g,I),64!=(64&m.flags)&&Yt(u,c,g,m),0===function qc(){return Fe.lFrame.elementDepthCount}()&&Mt(g,c),function vh(){Fe.lFrame.elementDepthCount++}(),x(m)&&(Ll(u,c,m),function vg(e,t,s){if(w(t)){const c=t.directiveEnd;for(let u=t.directiveStart;u<c;u++){const f=e.data[u];f.contentQueries&&f.contentQueries(1,s[u],u)}}}(u,m,c)),null!==a&&Ld(c,m),ra}function Xl(){let e=St();Ga()?function Jc(){Fe.lFrame.isParent=!1}():(e=e.parent,Kn(e,!1));const t=e;!function Dh(){Fe.lFrame.elementDepthCount--}();const s=He();return s.firstCreatePass&&(lu(s,e),w(e)&&s.queries.elementEnd(e)),null!=t.classesWithoutHost&&function FC(e){return 0!=(16&e.flags)}(t)&&Jl(s,t,Q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function OC(e){return 0!=(32&e.flags)}(t)&&Jl(s,t,Q(),t.stylesWithoutHost,!1),Xl}function ec(e,t,s,a){return ra(e,t,s,a),Xl(),ec}function hf(){return Q()}function pf(e){return!!e&&"function"==typeof e.then}function Yv(e){return!!e&&"function"==typeof e.subscribe}const tc=Yv;function gf(e,t,s,a){const c=Q(),u=He(),f=St();return function pi(e,t,s,a,c,u,f,p){const g=x(a),v=e.firstCreatePass&&Rv(e),C=t[8],I=xv(t);let k=!0;if(3&a.type||p){const fe=an(a,t),ye=p?p(fe):fe,Ie=I.length,J=p?Ae=>p(Rt(Ae[a.index])):a.index;if(Tt(s)){let Ae=null;if(!p&&g&&(Ae=function im(e,t,s,a){const c=e.cleanup;if(null!=c)for(let u=0;u<c.length-1;u+=2){const f=c[u];if(f===s&&c[u+1]===a){const p=t[7],g=c[u+2];return p.length>g?p[g]:null}"string"==typeof f&&(u+=2)}return null}(e,t,c,a.index)),null!==Ae)(Ae.__ngLastListenerFn__||Ae).__ngNextListenerFn__=u,Ae.__ngLastListenerFn__=u,k=!1;else{u=nc(a,t,C,u,!1);const Je=s.listen(ye,c,u);I.push(u,Je),v&&v.push(c,J,Ie,Ie+1)}}else u=nc(a,t,C,u,!0),ye.addEventListener(c,u,f),I.push(u),v&&v.push(c,J,Ie,f)}else u=nc(a,t,C,u,!1);const z=a.outputs;let ne;if(k&&null!==z&&(ne=z[c])){const fe=ne.length;if(fe)for(let ye=0;ye<fe;ye+=2){const wt=t[ne[ye]][ne[ye+1]].subscribe(u),Sa=I.length;I.push(u,wt),v&&v.push(c,a.index,Sa,-(Sa+1))}}}(u,c,c[11],f,e,t,!!s,a),gf}function sm(e,t,s,a){try{return!1!==s(a)}catch(c){return kv(e,c),!1}}function nc(e,t,s,a,c){return function u(f){if(f===Function)return a;$l(2&e.flags?Pn(e.index,t):t);let g=sm(t,0,a,f),m=u.__ngNextListenerFn__;for(;m;)g=sm(t,0,m,f)&&g,m=m.__ngNextListenerFn__;return c&&!1===g&&(f.preventDefault(),f.returnValue=!1),g}}function om(e=1){return function ly(e){return(Fe.lFrame.contextLView=function cy(e,t){for(;e>0;)t=t[15],e--;return t}(e,Fe.lFrame.contextLView))[8]}(e)}function fm(e,t,s,a,c){const u=e[s+1],f=null===t;let p=a?er(u):Zr(u),g=!1;for(;0!==p&&(!1===g||f);){const v=e[p+1];Jv(e[p],t)&&(g=!0,e[p+1]=a?Sd(v):ug(v)),p=a?er(v):Zr(v)}g&&(e[s+1]=a?ug(u):Sd(u))}function Jv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&So(e,t)>=0}function Ef(e,t){return function sr(e,t,s,a){const c=Q(),u=He(),f=Rr(2);u.firstUpdatePass&&function ym(e,t,s,a){const c=e.data;if(null===c[s+1]){const u=c[cn()],f=function _m(e,t){return t>=e.expandoStartIndex}(e,s);(function Cm(e,t){return 0!=(e.flags&(t?16:32))})(u,a)&&null===t&&!f&&(t=!1),t=function aD(e,t,s,a){const c=function tu(e){const t=Fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=a?t.residualClasses:t.residualStyles;if(null===c)0===(a?t.classBindings:t.styleBindings)&&(s=oa(s=Cf(null,e,t,s,a),t.attrs,a),u=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==c)if(s=Cf(c,e,t,s,a),null===u){let g=function lD(e,t,s){const a=s?t.classBindings:t.styleBindings;if(0!==Zr(a))return e[er(a)]}(e,t,a);void 0!==g&&Array.isArray(g)&&(g=Cf(null,e,t,g[1],a),g=oa(g,t.attrs,a),function cD(e,t,s,a){e[er(s?t.classBindings:t.styleBindings)]=a}(e,t,a,g))}else u=function uD(e,t,s){let a;const c=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<c;u++)a=oa(a,e[u].hostAttrs,s);return oa(a,t.attrs,s)}(e,t,a)}return void 0!==u&&(a?t.residualClasses=u:t.residualStyles=u),s}(c,u,t,a),function Ow(e,t,s,a,c,u){let f=u?t.classBindings:t.styleBindings,p=er(f),g=Zr(f);e[a]=s;let v,m=!1;if(Array.isArray(s)){const C=s;v=C[1],(null===v||So(C,v)>0)&&(m=!0)}else v=s;if(c)if(0!==g){const I=er(e[p+1]);e[a+1]=ai(I,p),0!==I&&(e[I+1]=bd(e[I+1],a)),e[p+1]=function wv(e,t){return 131071&e|t<<17}(e[p+1],a)}else e[a+1]=ai(p,0),0!==p&&(e[p+1]=bd(e[p+1],a)),p=a;else e[a+1]=ai(g,0),0===p?p=a:e[g+1]=bd(e[g+1],a),g=a;m&&(e[a+1]=ug(e[a+1])),fm(e,v,a,!0),fm(e,v,a,!1),function Nw(e,t,s,a,c){const u=c?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&So(u,t)>=0&&(s[a+1]=Sd(s[a+1]))}(t,v,e,a,u),f=ai(p,g),u?t.classBindings=f:t.styleBindings=f}(c,u,t,s,f,a)}}(u,e,f,a),t!==Oe&&mn(c,f,t)&&function Dm(e,t,s,a,c,u,f,p){if(!(3&t.type))return;const g=e.data,m=g[p+1];sc(function dg(e){return 1==(1&e)}(m)?Em(g,t,s,c,Zr(m),f):void 0)||(sc(u)||function cg(e){return 2==(2&e)}(m)&&(u=Em(g,null,s,c,p,f)),function tv(e,t,s,a,c){const u=Tt(e);if(t)c?u?e.addClass(s,a):s.classList.add(a):u?e.removeClass(s,a):s.classList.remove(a);else{let f=-1===a.indexOf("-")?void 0:Jn.DashCase;if(null==c)u?e.removeStyle(s,a,f):s.style.removeProperty(a);else{const p="string"==typeof c&&c.endsWith("!important");p&&(c=c.slice(0,-10),f|=Jn.Important),u?e.setStyle(s,a,c,f):s.style.setProperty(a,c,p?"important":"")}}}(a,f,Ba(cn(),s),c,u))}(u,u.data[cn()],c,c[11],e,c[f+1]=function hD(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=A(function xi(e){return e instanceof class ep{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,s),a,f)}(e,t,null,!0),Ef}function Cf(e,t,s,a,c){let u=null;const f=s.directiveEnd;let p=s.directiveStylingLast;for(-1===p?p=s.directiveStart:p++;p<f&&(u=t[p],a=oa(a,u.hostAttrs,c),u!==e);)p++;return null!==e&&(s.directiveStylingLast=p),a}function oa(e,t,s){const a=s?1:2;let c=-1;if(null!==t)for(let u=0;u<t.length;u++){const f=t[u];"number"==typeof f?c=f:c===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dn(e,f,!!s||t[++u]))}return void 0===e?null:e}function Em(e,t,s,a,c,u){const f=null===t;let p;for(;c>0;){const g=e[c],m=Array.isArray(g),v=m?g[1]:g,C=null===v;let I=s[c+1];I===Oe&&(I=C?Re:void 0);let k=C?tl(I,a):v===a?I:void 0;if(m&&!sc(k)&&(k=tl(g,a)),sc(k)&&(p=k,f))return p;const z=e[c+1];c=f?er(z):Zr(z)}if(null!==t){let g=u?t.residualClasses:t.residualStyles;null!=g&&(p=tl(g,a))}return p}function sc(e){return void 0!==e}function wm(e,t=""){const s=Q(),a=He(),c=e+22,u=a.firstCreatePass?Ws(a,c,1,t,null):a.data[c],f=s[c]=function Zu(e,t){return Tt(e)?e.createText(t):e.createTextNode(t)}(s[11],t);Yt(a,s,f,u),Kn(u,!1)}function wf(e){return oc("",e,""),wf}function oc(e,t,s){const a=Q(),c=function Qs(e,t,s,a){return mn(e,Es(),s)?t+q(s)+a:Oe}(a,e,t,s);return c!==Oe&&Cr(a,cn(),c),oc}function Af(e,t,s,a,c){const u=Q(),f=Xi(u,e,t,s,a,c);return f!==Oe&&Cr(u,cn(),f),Af}const ts=void 0;var ND=["en",[["a","p"],["AM","PM"],ts],[["AM","PM"],ts,ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ts,"{1} 'at' {0}",ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OD(e){const s=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let to={};function Mf(e){const t=function xD(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=Hm(t);if(s)return s;const a=t.split("-")[0];if(s=Hm(a),s)return s;if("en"===a)return ND;throw new G(701,!1)}function Um(e){return Mf(e)[Se.PluralCase]}function Hm(e){return e in to||(to[e]=pe.ng&&pe.ng.common&&pe.ng.common.locales&&pe.ng.common.locales[e]),to[e]}var Se=(()=>((Se=Se||{})[Se.LocaleId=0]="LocaleId",Se[Se.DayPeriodsFormat=1]="DayPeriodsFormat",Se[Se.DayPeriodsStandalone=2]="DayPeriodsStandalone",Se[Se.DaysFormat=3]="DaysFormat",Se[Se.DaysStandalone=4]="DaysStandalone",Se[Se.MonthsFormat=5]="MonthsFormat",Se[Se.MonthsStandalone=6]="MonthsStandalone",Se[Se.Eras=7]="Eras",Se[Se.FirstDayOfWeek=8]="FirstDayOfWeek",Se[Se.WeekendRange=9]="WeekendRange",Se[Se.DateFormat=10]="DateFormat",Se[Se.TimeFormat=11]="TimeFormat",Se[Se.DateTimeFormat=12]="DateTimeFormat",Se[Se.NumberSymbols=13]="NumberSymbols",Se[Se.NumberFormats=14]="NumberFormats",Se[Se.CurrencyCode=15]="CurrencyCode",Se[Se.CurrencySymbol=16]="CurrencySymbol",Se[Se.CurrencyName=17]="CurrencyName",Se[Se.Currencies=18]="Currencies",Se[Se.Directionality=19]="Directionality",Se[Se.PluralCase=20]="PluralCase",Se[Se.ExtraData=21]="ExtraData",Se))();const no="en-US";let kD=no;function io(e,t,s,a,c){if(e=O(e),Array.isArray(e))for(let u=0;u<e.length;u++)io(e[u],t,s,a,c);else{const u=He(),f=Q();let p=Wr(e)?e:O(e.provide),g=bl(e);const m=St(),v=1048575&m.providerIndexes,C=m.directiveStart,I=m.providerIndexes>>20;if(Wr(e)||!e.multi){const k=new Za(g,c,Gs),z=_c(p,t,c?v:v+I,C);-1===z?(Qa(zn(m,f),u,p),so(u,e,t.length),t.push(p),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),s.push(k),f.push(k)):(s[z]=k,f[z]=k)}else{const k=_c(p,t,v+I,C),z=_c(p,t,v,v+I),ne=k>=0&&s[k],fe=z>=0&&s[z];if(c&&!fe||!c&&!ne){Qa(zn(m,f),u,p);const ye=function yc(e,t,s,a,c){const u=new Za(e,s,Gs);return u.multi=[],u.index=t,u.componentProviders=0,oo(u,c,a&&!s),u}(c?mi:Lf,s.length,c,a,g);!c&&fe&&(s[z].providerFactory=ye),so(u,e,t.length,0),t.push(p),m.directiveStart++,m.directiveEnd++,c&&(m.providerIndexes+=1048576),s.push(ye),f.push(ye)}else so(u,e,k>-1?k:z,oo(s[c?z:k],g,!c&&a));!c&&a&&fe&&s[z].componentProviders++}}}function so(e,t,s,a){const c=Wr(t),u=function cv(e){return!!e.useClass}(t);if(c||u){const g=(u?O(t.useClass):t).prototype.ngOnDestroy;if(g){const m=e.destroyHooks||(e.destroyHooks=[]);if(!c&&t.multi){const v=m.indexOf(s);-1===v?m.push(s,[a,g]):m[v+1].push(a,g)}else m.push(s,g)}}}function oo(e,t,s){return s&&e.componentProviders++,e.multi.push(t)-1}function _c(e,t,s,a){for(let c=s;c<a;c++)if(t[c]===e)return c;return-1}function Lf(e,t,s,a){return ha(this.multi,[])}function mi(e,t,s,a){const c=this.multi;let u;if(this.providerFactory){const f=this.providerFactory.componentProviders,p=As(s,s[1],this.providerFactory.index,a);u=p.slice(0,f),ha(c,u);for(let g=f;g<p.length;g++)u.push(p[g])}else u=[],ha(c,u);return u}function ha(e,t){for(let s=0;s<e.length;s++)t.push((0,e[s])());return t}function i_(e,t=[]){return s=>{s.providersResolver=(a,c)=>function Rf(e,t,s){const a=He();if(a.firstCreatePass){const c=H(e);io(s,a.data,a.blueprint,c,!0),io(t,a.data,a.blueprint,c,!1)}}(a,c?c(e):e,t)}}class s_{resolveComponentFactory(t){throw function pa(e){const t=Error(`No component factory found for ${A(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ar=(()=>{class e{}return e.NULL=new s_,e})();class _i{}class yi{}function ga(){return ao(St(),Q())}function ao(e,t){return new rs(an(e,t))}let rs=(()=>{class e{constructor(s){this.nativeElement=s}}return e.__NG_ELEMENT_ID__=ga,e})();class ma{}let gE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function mE(){const e=Q(),s=Pn(St().index,e);return function Bf(e){return e[11]}(Kt(s)?s:e)}(),e})(),_E=(()=>{class e{}return e.\u0275prov=At({token:e,providedIn:"root",factory:()=>null}),e})();class l_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xn=new l_("14.0.4"),vc={};function is(e,t,s,a,c=!1){for(;null!==s;){const u=t[s.index];if(null!==u&&a.push(Rt(u)),Mn(u))for(let p=10;p<u.length;p++){const g=u[p],m=g[1].firstChild;null!==m&&is(g[1],g,m,a)}const f=s.type;if(8&f)is(e,t,s.child,a);else if(32&f){const p=vl(s,t);let g;for(;g=p();)a.push(g)}else if(16&f){const p=Ip(t,s);if(Array.isArray(p))a.push(...p);else{const g=Vs(t[16]);is(g[1],g,p,a,!0)}}s=c?s.projectionNext:s.next}return a}class vi{constructor(t,s){this._lView=t,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,s=t[1];return is(s,t,s.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Mn(t)){const s=t[8],a=s?s.indexOf(this):-1;a>-1&&(zu(t,a),Ms(s,a))}this._attachedToViewContainer=!1}Mp(this._lView[1],this._lView)}onDestroy(t){!function qt(e,t,s,a){const c=xv(t);null===s?c.push(a):(c.push(s),e.firstCreatePass&&Rv(e).push(a,c.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){$l(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Zs(e,t,s){const a=t[10];a.begin&&a.begin();try{Wi(e,t,e.template,s)}catch(c){throw kv(t,c),c}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zy(e,t){Bo(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=t}}class yE extends vi{constructor(t){super(t),this._view=t}detectChanges(){kg(this._view)}checkNoChanges(){}get context(){return null}}class Uf extends ar{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const s=nt(t);return new u_(s,this.ngModule)}}function c_(e){const t=[];for(let s in e)e.hasOwnProperty(s)&&t.push({propName:e[s],templateName:s});return t}class Xw{constructor(t,s){this.injector=t,this.parentInjector=s}get(t,s,a){const c=this.injector.get(t,vc,a);return c!==vc||s===vc?c:this.parentInjector.get(t,s,a)}}class u_ extends yi{constructor(t,s){super(),this.componentDef=t,this.ngModule=s,this.componentType=t.type,this.selector=function ov(e){return e.map(Vp).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return c_(this.componentDef.inputs)}get outputs(){return c_(this.componentDef.outputs)}create(t,s,a,c){let u=(c=c||this.ngModule)instanceof js?c:c?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const f=u?new Xw(t,u):t,p=f.get(ma,q_),g=f.get(_E,null),m=p.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=a?function kd(e,t,s){if(Tt(e))return e.selectRootElement(t,s===tt.ShadowDom);let a="string"==typeof t?e.querySelector(t):t;return a.textContent="",a}(m,a,this.componentDef.encapsulation):Dl(p.createRenderer(null,this.componentDef),v,function Jw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),I=this.componentDef.onPush?288:272,k=function Jd(e,t){return{components:[],scheduler:e||jy,clean:Sw,playerHandler:t||null,flags:0}}(),z=kl(0,null,null,1,0,null,null,null,null,null),ne=wn(null,z,k,I,null,null,p,m,g,f,null);let fe,ye;Do(ne);try{const Ie=function Wg(e,t,s,a,c,u){const f=s[1];s[22]=e;const g=Ws(f,22,2,"#host",null),m=g.mergedAttrs=t.hostAttrs;null!==m&&(Gl(g,m,!0),null!==e&&(fu(c,e,m),null!==g.classes&&rd(c,e,g.classes),null!==g.styles&&Bs(c,e,g.styles)));const v=a.createRenderer(e,t),C=wn(s,Dg(t),null,t.onPush?32:16,s[22],g,a,v,u||null,null,null);return f.firstCreatePass&&(Qa(zn(g,s),f,t.type),Pg(f,g),Hl(g,s.length,1)),Wd(s,C),s[22]=C}(C,this.componentDef,ne,p,m);if(C)if(a)fu(m,C,["ng-version",xn.full]);else{const{attrs:J,classes:Ae}=function Bp(e){const t=[],s=[];let a=1,c=2;for(;a<e.length;){let u=e[a];if("string"==typeof u)2===c?""!==u&&t.push(u,e[++a]):8===c&&s.push(u);else{if(!On(c))break;c=u}a++}return{attrs:t,classes:s}}(this.componentDef.selectors[0]);J&&fu(m,C,J),Ae&&Ae.length>0&&rd(m,C,Ae.join(" "))}if(ye=Ua(z,22),void 0!==s){const J=ye.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const Je=s[Ae];J.push(null!=Je?Array.from(Je):null)}}fe=function Zg(e,t,s,a,c){const u=s[1],f=function Sg(e,t,s){const a=St();e.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Ud(e,a,t,Dr(e,t,1,null),s));const c=As(t,e,a.directiveStart,a);Mt(c,t);const u=an(a,t);return u&&Mt(u,t),c}(u,s,t);if(a.components.push(f),e[8]=f,null!==c)for(const g of c)g(f,t);if(t.contentQueries){const g=St();t.contentQueries(1,f,g.directiveStart)}const p=St();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Pi(p.index),Vd(s[1],p,0,p.directiveStart,p.directiveEnd,t),Bd(t,f)),f}(Ie,this.componentDef,ne,k,[Hv]),Qo(z,ne,null)}finally{ou()}return new vE(this.componentType,fe,ao(ye,ne),ne,ye)}}class vE extends class Sr{}{constructor(t,s,a,c,u){super(),this.location=a,this._rootLView=c,this._tNode=u,this.instance=s,this.hostView=this.changeDetectorRef=new yE(c),this.componentType=t}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function DE(e,t){return new _a(e,t??null)}class _a extends _i{constructor(t,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Uf(this);const a=function En(e,t){const s=e[pt]||null;if(!s&&!0===t)throw new Error(`Type ${A(e)} does not have '\u0275mod' property.`);return s}(t);this._bootstrapComponents=function Gr(e){return e instanceof Function?e():e}(a.bootstrap),this._r3Injector=Qp(t,s,[{provide:_i,useValue:this},{provide:ar,useValue:this.componentFactoryResolver}],A(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(t)}get(t,s=pn.THROW_IF_NOT_FOUND,a=Pe.Default){return t===pn||t===_i||t===Kp?this:this._r3Injector.get(t,s,a)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lo extends class o_{}{constructor(t){super(),this.moduleType=t}create(t){return new _a(this.moduleType,t)}}function h_(e,t,s,a,c){return function g_(e,t,s,a,c,u,f){const p=t+s;return qs(e,p,c,u)?wr(e,p+2,f?a.call(f,c,u):a(c,u)):ya(e,p+2)}(Q(),ln(),e,t,s,a,c)}function ya(e,t){const s=e[t];return s===Oe?void 0:s}function y_(e,t){const s=He();let a;const c=e+22;s.firstCreatePass?(a=function wc(e,t){if(t)for(let s=t.length-1;s>=0;s--){const a=t[s];if(e===a.name)return a}}(t,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const u=a.factory||(a.factory=Ii(a.type)),f=Dn(Gs);try{const p=za(!1),g=u();return za(p),function df(e,t,s,a){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),t[s]=a}(s,Q(),c,g),g}finally{Dn(f)}}function va(e,t,s){const a=e+22,c=Q(),u=function Ds(e,t){return e[t]}(c,a);return function os(e,t){return e[1].data[t].pure}(c,a)?function p_(e,t,s,a,c,u){const f=t+s;return mn(e,f,c)?wr(e,f+1,u?a.call(u,c):a(c)):ya(e,f+1)}(c,ln(),t,u.transform,s,u):u.transform(s)}function Wf(e){return t=>{setTimeout(e,void 0,t)}}const Mr=class nA extends o.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,s,a){let c=t,u=s||(()=>null),f=a;if(t&&"object"==typeof t){const g=t;c=g.next?.bind(g),u=g.error?.bind(g),f=g.complete?.bind(g)}this.__isAsync&&(u=Wf(u),c&&(c=Wf(c)),f&&(f=Wf(f)));const p=super.subscribe({next:c,error:u,complete:f});return t instanceof V.w&&t.add(p),p}};let co=(()=>{class e{}return e.__NG_ELEMENT_ID__=FE,e})();const IE=co,PE=class extends IE{constructor(t,s,a){super(),this._declarationLView=t,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(t,s){const a=this._declarationTContainer.tViews,c=wn(this._declarationLView,a,t,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),Qo(a,c,t),new vi(c)}};function FE(){return function Ac(e,t){return 4&e.type?new PE(t,e,ao(e,t)):null}(St(),Q())}let bc=(()=>{class e{}return e.__NG_ELEMENT_ID__=OE,e})();function OE(){return function b_(e,t){let s;const a=t[e.index];if(Mn(a))s=a;else{let c;if(8&e.type)c=Rt(a);else{const u=t[11];c=u.createComment("");const f=an(e,t);si(u,El(u,f),c,function nw(e,t){return Tt(e)?e.nextSibling(t):t.nextSibling}(u,f),!1)}t[e.index]=s=Gd(a,t,c,e),Wd(t,s)}return new w_(s,e,t)}(St(),Q())}const C_=bc,w_=class extends C_{constructor(t,s,a){super(),this._lContainer=t,this._hostTNode=s,this._hostLView=a}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cs(this._hostTNode,this._hostLView);if(gu(t)){const s=pr(t,this._hostLView),a=Lr(t);return new bs(s[1].data[a+8],s)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const s=A_(this._lContainer);return null!==s&&s[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,s,a){let c,u;"number"==typeof a?c=a:null!=a&&(c=a.index,u=a.injector);const f=t.createEmbeddedView(s||{},u);return this.insert(f,c),f}createComponent(t,s,a,c,u){const f=t&&!function Ao(e){return"function"==typeof e}(t);let p;if(f)p=s;else{const C=s||{};p=C.index,a=C.injector,c=C.projectableNodes,u=C.environmentInjector||C.ngModuleRef}const g=f?t:new u_(nt(t)),m=a||this.parentInjector;if(!u&&null==g.ngModule){const I=(f?m:this.parentInjector).get(js,null);I&&(u=I)}const v=g.create(m,c,void 0,u);return this.insert(v.hostView,p),v}insert(t,s){const a=t._lView,c=a[1];if(function Ha(e){return Mn(e[3])}(a)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=a[3],I=new w_(C,C[6],C[3]);I.detach(I.indexOf(t))}}const u=this._adjustIndex(s),f=this._lContainer;!function Yy(e,t,s,a){const c=10+a,u=s.length;a>0&&(s[c-1][4]=t),a<u-10?(t[4]=s[c],bo(s,10+a,t)):(s.push(t),t[4]=null),t[3]=s;const f=t[17];null!==f&&s!==f&&function qy(e,t){const s=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===s?e[9]=[t]:s.push(t)}(f,t);const p=t[19];null!==p&&p.insertView(e),t[2]|=64}(c,a,f,u);const p=Vo(u,f),g=a[11],m=El(g,f[7]);return null!==m&&function bp(e,t,s,a,c,u){a[0]=c,a[6]=t,Bo(e,a,s,1,c,u)}(c,f[6],g,a,m,p),t.attachToViewContainerRef(),bo(Sc(f),u,t),t}move(t,s){return this.insert(t,s)}indexOf(t){const s=A_(this._lContainer);return null!==s?s.indexOf(t):-1}remove(t){const s=this._adjustIndex(t,-1),a=zu(this._lContainer,s);a&&(Ms(Sc(this._lContainer),s),Mp(a[1],a))}detach(t){const s=this._adjustIndex(t,-1),a=zu(this._lContainer,s);return a&&null!=Ms(Sc(this._lContainer),s)?new vi(a):null}_adjustIndex(t,s=0){return t??this.length+s}};function A_(e){return e[8]}function Sc(e){return e[8]||(e[8]=[])}function Aa(...e){}const De=new st("Application Initializer");let Ce=(()=>{class e{constructor(s){this.appInits=s,this.resolve=Aa,this.reject=Aa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const u=this.appInits[c]();if(pf(u))s.push(u);else if(tc(u)){const f=new Promise((p,g)=>{u.subscribe({complete:p,error:g})});s.push(f)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return e.\u0275fac=function(s){return new(s||e)(Pt(De,8))},e.\u0275prov=At({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Te=new st("AppId",{providedIn:"root",factory:function Ye(){return`${Hn()}${Hn()}${Hn()}`}});function Hn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sn=new st("Platform Initializer"),Ei=new st("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ct=new st("appBootstrapListener"),KE=new st("AnimationModuleType"),vn=new st("LocaleId",{providedIn:"root",factory:()=>function zC(e,t=Pe.Default){return Pt(e,t)}(vn,Pe.Optional|Pe.SkipSelf)||function us(){return typeof $localize<"u"&&$localize.locale||no}()}),Fc=new st("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),jA=(()=>Promise.resolve(0))();function zE(e){typeof Zone>"u"?jA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class lr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mr(!1),this.onMicrotaskEmpty=new Mr(!1),this.onStable=new Mr(!1),this.onError=new Mr(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function $A(){let e=pe.requestAnimationFrame,t=pe.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ZA(e){const t=()=>{!function WA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,qE(e),e.isCheckStableRunning=!0,YE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),qE(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,u,f,p)=>{try{return aA(e),s.invokeTask(c,u,f,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),lA(e)}},onInvoke:(s,a,c,u,f,p,g)=>{try{return aA(e),s.invoke(c,u,f,p,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),lA(e)}},onHasTask:(s,a,c,u)=>{s.hasTask(c,u),a===c&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,qE(e),YE(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(s,a,c,u)=>(s.handleError(c,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lr.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(lr.isInAngularZone())throw new G(909,!1)}run(t,s,a){return this._inner.run(t,s,a)}runTask(t,s,a,c){const u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+c,t,GA,Aa,Aa);try{return u.runTask(f,s,a)}finally{u.cancelTask(f)}}runGuarded(t,s,a){return this._inner.runGuarded(t,s,a)}runOutsideAngular(t){return this._outer.run(t)}}const GA={};function YE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function aA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lA(e){e._nesting--,YE(e)}class KA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mr,this.onMicrotaskEmpty=new Mr,this.onStable=new Mr,this.onError=new Mr}run(t,s,a){return t.apply(s,a)}runGuarded(t,s,a){return t.apply(s,a)}runOutsideAngular(t){return t()}runTask(t,s,a,c){return t.apply(s,a)}}const cA=new st(""),uA=new st("");let QE,zA=(()=>{class e{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,QE||(function YA(e){QE=e}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lr.assertNotInAngularZone(),zE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zE(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let u=-1;a&&a>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==u),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:u,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return e.\u0275fac=function(s){return new(s||e)(Pt(lr),Pt(dA),Pt(uA))},e.\u0275prov=At({token:e,factory:e.\u0275fac}),e})(),dA=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return QE?.findTestabilityInTree(this,s,a)??null}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=At({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),fo=null;const fA=new st("AllowMultipleToken"),JE=new st("PlatformDestroyListeners");function pA(e,t,s=[]){const a=`Platform: ${t}`,c=new st(a);return(u=[])=>{let f=XE();if(!f||f.injector.get(fA,!1)){const p=[...s,...u,{provide:c,useValue:!0}];e?e(p):function JA(e){if(fo&&!fo.get(fA,!1))throw new G(400,!1);fo=e;const t=e.get(mA);(function hA(e){const t=e.get(Sn,null);t&&t.forEach(s=>s())})(e)}(function gA(e=[],t){return pn.create({name:t,providers:[{provide:Vn,useValue:"platform"},{provide:JE,useValue:new Set([()=>fo=null])},...e]})}(p,a))}return function e0(e){const t=XE();if(!t)throw new G(401,!1);return t}()}}function XE(){return fo?.get(mA)??null}let mA=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function t0(e,t){let s;return s="noop"===e?new KA:("zone.js"===e?void 0:e)||new lr(t),s}(a?.ngZone,function _A(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(a)),u=[{provide:lr,useValue:c}];return c.run(()=>{const f=pn.create({providers:u,parent:this.injector,name:s.moduleType.name}),p=s.create(f),g=p.injector.get(Fn,null);if(!g)throw new G(402,!1);return c.runOutsideAngular(()=>{const m=c.onError.subscribe({next:v=>{g.handleError(v)}});p.onDestroy(()=>{U_(this._modules,p),m.unsubscribe()})}),function yA(e,t,s){try{const a=s();return pf(a)?a.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):a}catch(a){throw t.runOutsideAngular(()=>e.handleError(a)),a}}(g,c,()=>{const m=p.injector.get(Ce);return m.runInitializers(),m.donePromise.then(()=>(function VD(e){Jt(e,"Expected localeId to be defined"),"string"==typeof e&&(kD=e.toLowerCase().replace(/_/g,"-"))}(p.injector.get(vn,no)||no),this._moduleDoBootstrap(p),p))})})}bootstrapModule(s,a=[]){const c=vA({},a);return function qA(e,t,s){const a=new lo(s);return Promise.resolve(a)}(0,0,s).then(u=>this.bootstrapModuleFactory(u,c))}_moduleDoBootstrap(s){const a=s.injector.get(B_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new G(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(JE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(s){return new(s||e)(Pt(pn))},e.\u0275prov=At({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function vA(e,t){return Array.isArray(t)?t.reduce(vA,e):{...e,...t}}let B_=(()=>{class e{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new W.y(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),f=new W.y(p=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{lr.assertNotInAngularZone(),zE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{lr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{g.unsubscribe(),m.unsubscribe()}});this.isStable=(0,K.T)(u,f.pipe((0,N.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof yi;if(!this._injector.get(Ce).done)throw!c&&function Di(e){const t=nt(e)||kt(e)||Wt(e);return null!==t&&t.standalone}(s),new G(405,false);let f;f=c?s:this._injector.get(ar).resolveComponentFactory(s),this.componentTypes.push(f.componentType);const p=function QA(e){return e.isBoundToModule}(f)?void 0:this._injector.get(_i),m=f.create(pn.NULL,[],a||f.selector,p),v=m.location.nativeElement,C=m.injector.get(cA,null);return C?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),U_(this.components,m),C?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new G(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;U_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Ct,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>U_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new G(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(s){return new(s||e)(Pt(lr),Pt(pn),Pt(Fn))},e.\u0275prov=At({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function U_(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}let EA=!0,CA=!1;function r0(){return CA=!0,EA}function s0(){if(CA)throw new Error("Cannot enable prod mode after platform setup.");EA=!1}let o0=(()=>{class e{}return e.__NG_ELEMENT_ID__=a0,e})();function a0(e){return function l0(e,t,s){if(U(e)&&!s){const a=Pn(e.index,t);return new vi(a,a)}return 47&e.type?new vi(t[16],t):null}(St(),Q(),16==(16&e))}class SA{constructor(){}supports(t){return Qi(t)}create(t){return new p0(t)}}const h0=(e,t)=>t;class p0{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||h0}forEachItem(t){let s;for(s=this._itHead;null!==s;s=s._next)t(s)}forEachOperation(t){let s=this._itHead,a=this._removalsHead,c=0,u=null;for(;s||a;){const f=!a||s&&s.currentIndex<TA(a,c,u)?s:a,p=TA(f,c,u),g=f.currentIndex;if(f===a)c--,a=a._nextRemoved;else if(s=s._next,null==f.previousIndex)c++;else{u||(u=[]);const m=p-c,v=g-c;if(m!=v){for(let I=0;I<m;I++){const k=I<u.length?u[I]:u[I]=0,z=k+I;v<=z&&z<m&&(u[I]=k+1)}u[f.previousIndex]=v-m}}p!==g&&t(f,p,g)}}forEachPreviousItem(t){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachMovedItem(t){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}forEachIdentityChange(t){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)t(s)}diff(t){if(null==t&&(t=[]),!Qi(t))throw new G(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let c,u,f,s=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)u=t[p],f=this._trackByFn(p,u),null!==s&&Object.is(s.trackById,f)?(a&&(s=this._verifyReinsertion(s,u,f,p)),Object.is(s.item,u)||this._addIdentityChange(s,u)):(s=this._mismatch(s,u,f,p),a=!0),s=s._next}else c=0,function Qg(e,t){if(Array.isArray(e))for(let s=0;s<e.length;s++)t(e[s]);else{const s=e[qi()]();let a;for(;!(a=s.next()).done;)t(a.value)}}(t,p=>{f=this._trackByFn(c,p),null!==s&&Object.is(s.trackById,f)?(a&&(s=this._verifyReinsertion(s,p,f,c)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,f,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,s,a,c){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._reinsertAfter(t,u,c)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._moveAfter(t,u,c)):t=this._addAfter(new g0(s,a),u,c),t}_verifyReinsertion(t,s,a,c){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==u?t=this._reinsertAfter(u,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;null!==t;){const s=t._next;this._addToRemovals(this._unlink(t)),t=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const c=t._prevRemoved,u=t._nextRemoved;return null===c?this._removalsHead=u:c._nextRemoved=u,null===u?this._removalsTail=c:u._prevRemoved=c,this._insertAfter(t,s,a),this._addToMoves(t,a),t}_moveAfter(t,s,a){return this._unlink(t),this._insertAfter(t,s,a),this._addToMoves(t,a),t}_addAfter(t,s,a){return this._insertAfter(t,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,s,a){const c=null===s?this._itHead:s._next;return t._next=c,t._prev=s,null===c?this._itTail=t:c._prev=t,null===s?this._itHead=t:s._next=t,null===this._linkedRecords&&(this._linkedRecords=new MA),this._linkedRecords.put(t),t.currentIndex=a,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const s=t._prev,a=t._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,t}_addToMoves(t,s){return t.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,s){return t.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class g0{constructor(t,s){this.item=t,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m0{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,t))return a;return null}remove(t){const s=t._prevDup,a=t._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class MA{constructor(){this.map=new Map}put(t){const s=t.trackById;let a=this.map.get(s);a||(a=new m0,this.map.set(s,a)),a.add(t)}get(t,s){const c=this.map.get(t);return c?c.get(t,s):null}remove(t){const s=t.trackById;return this.map.get(s).remove(t)&&this.map.delete(s),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TA(e,t,s){const a=e.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+t+c}class IA{constructor(){}supports(t){return t instanceof Map||ql(t)}create(){return new _0}}class _0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let s;for(s=this._mapHead;null!==s;s=s._next)t(s)}forEachPreviousItem(t){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)t(s)}forEachChangedItem(t){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}diff(t){if(t){if(!(t instanceof Map||ql(t)))throw new G(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(t,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const u=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,u)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,s){if(t){const a=t._prev;return s._next=t,s._prev=a,t._prev=s,a&&(a._next=s),t===this._mapHead&&(this._mapHead=s),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(t,s){if(this._records.has(t)){const c=this._records.get(t);this._maybeAddToChanges(c,s);const u=c._prev,f=c._next;return u&&(u._next=f),f&&(f._prev=u),c._next=null,c._prev=null,c}const a=new y0(t);return this._records.set(t,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,s){Object.is(s,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=s,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,s){t instanceof Map?t.forEach(s):Object.keys(t).forEach(a=>s(t[a],a))}}class y0{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PA(){return new iC([new SA])}let iC=(()=>{class e{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||PA()),deps:[[e,new Po,new Ft]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new G(901,!1)}}return e.\u0275prov=At({token:e,providedIn:"root",factory:PA}),e})();function FA(){return new sC([new IA])}let sC=(()=>{class e{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||FA()),deps:[[e,new Po,new Ft]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new G(901,!1)}}return e.\u0275prov=At({token:e,providedIn:"root",factory:FA}),e})();const E0=pA(null,"core",[]);let C0=(()=>{class e{constructor(s){}}return e.\u0275fac=function(s){return new(s||e)(Pt(B_))},e.\u0275mod=Fr({type:e}),e.\u0275inj=cr({}),e})();function w0(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2879),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8896),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2916),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1086),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(7138),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(341),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(839),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6606),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1406),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2216),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7221),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5632),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7625),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1307),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7770),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7168),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2014);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(L){const P={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},E="function"==typeof L?L():L,W=Object.assign({},P,{features:E.features||!!E.logOnly&&{pause:!0,export:!0,test:!0}||P.features},E);if(W.maxAge&&W.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${W.maxAge}`);return W}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(P,E){if(this.action=P,this.timestamp=E,this.type=PERFORM_ACTION,typeof P.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(P){this.timestamp=P,this.type=RESET}}class Rollback{constructor(P){this.timestamp=P,this.type=ROLLBACK}}class Commit{constructor(P){this.timestamp=P,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(P){this.id=P,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(P,E,o=!0){this.start=P,this.end=E,this.active=o,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(P){this.index=P,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(P){this.actionId=P,this.type=JUMP_TO_ACTION}}class ImportState{constructor(P){this.nextLiftedState=P,this.type=IMPORT_STATE}}class LockChanges{constructor(P){this.status=P,this.type=LOCK_CHANGES}}class PauseRecording{constructor(P){this.status=P,this.type=PAUSE_RECORDING}}function difference(L,P){return L.filter(E=>P.indexOf(E)<0)}function unliftState(L){const{computedStates:P,currentStateIndex:E}=L;if(E>=P.length){const{state:V}=P[P.length-1];return V}const{state:o}=P[E];return o}function unliftAction(L){return L.actionsById[L.nextActionId-1]}function liftAction(L){return new PerformAction(L,+Date.now())}function sanitizeActions(L,P){return Object.keys(P).reduce((E,o)=>{const V=Number(o);return E[V]=sanitizeAction(L,P[V],V),E},{})}function sanitizeAction(L,P,E){return{...P,action:L(P.action,E)}}function sanitizeStates(L,P){return P.map((E,o)=>({state:sanitizeState(L,E.state,o),error:E.error}))}function sanitizeState(L,P,E){return L(P,E)}function shouldFilterActions(L){return L.predicate||L.actionsSafelist||L.actionsBlocklist}function filterLiftedState(L,P,E,o){const V=[],W={},K=[];return L.stagedActionIds.forEach((N,T)=>{const F=L.actionsById[N];!F||T&&isActionFiltered(L.computedStates[T],F,P,E,o)||(W[N]=F,V.push(N),K.push(L.computedStates[T]))}),{...L,stagedActionIds:V,actionsById:W,computedStates:K}}function isActionFiltered(L,P,E,o,V){const W=E&&!E(L,P.action),K=o&&!P.action.type.match(o.map(T=>escapeRegExp(T)).join("|")),N=V&&P.action.type.match(V.map(T=>escapeRegExp(T)).join("|"));return W||K||N}function escapeRegExp(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(L,P,E,o,V){if(o)return{state:E,error:"Interrupted by an error up the chain"};let K,W=E;try{W=L(E,P)}catch(N){K=N.toString(),V.handleError(N)}return{state:W,error:K}}function recomputeStates(L,P,E,o,V,W,K,N,T){if(P>=L.length&&L.length===W.length)return L;const F=L.slice(0,P),A=W.length-(T?1:0);for(let M=P;M<A;M++){const b=W[M],B=V[b].action,O=F[M-1],j=O?O.state:o,me=O?O.error:void 0,X=K.indexOf(b)>-1?O:computeNextEntry(E,B,j,me,N);F.push(X)}return T&&F.push(L[L.length-1]),F}function liftInitialState(L,P){return{monitorState:P(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:L,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(L,P,E,o,V={}){return W=>(K,N)=>{let{monitorState:T,actionsById:F,nextActionId:A,stagedActionIds:M,skippedActionIds:b,committedState:B,currentStateIndex:O,computedStates:j,isLocked:me,isPaused:G}=K||P;function X(ie){let ve=ie,ke=M.slice(1,ve+1);for(let Ge=0;Ge<ke.length;Ge++){if(j[Ge+1].error){ve=Ge,ke=M.slice(1,ve+1);break}delete F[ke[Ge]]}b=b.filter(Ge=>-1===ke.indexOf(Ge)),M=[0,...M.slice(ve+1)],B=j[ve].state,j=j.slice(ve),O=O>ve?O-ve:0}function q(){F={0:liftAction(INIT_ACTION)},A=1,M=[0],b=[],B=j[O].state,O=0,j=[]}K||(F=Object.create(F));let Z=0;switch(N.type){case LOCK_CHANGES:me=N.status,Z=1/0;break;case PAUSE_RECORDING:G=N.status,G?(M=[...M,A],F[A]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),A++,Z=M.length-1,j=j.concat(j[j.length-1]),O===M.length-2&&O++,Z=1/0):q();break;case RESET:F={0:liftAction(INIT_ACTION)},A=1,M=[0],b=[],B=L,O=0,j=[];break;case COMMIT:q();break;case ROLLBACK:F={0:liftAction(INIT_ACTION)},A=1,M=[0],b=[],O=0,j=[];break;case TOGGLE_ACTION:{const{id:ie}=N;b=-1===b.indexOf(ie)?[ie,...b]:b.filter(ke=>ke!==ie),Z=M.indexOf(ie);break}case SET_ACTIONS_ACTIVE:{const{start:ie,end:ve,active:ke}=N,Ge=[];for(let lt=ie;lt<ve;lt++)Ge.push(lt);b=ke?difference(b,Ge):[...b,...Ge],Z=M.indexOf(ie);break}case JUMP_TO_STATE:O=N.index,Z=1/0;break;case JUMP_TO_ACTION:{const ie=M.indexOf(N.actionId);-1!==ie&&(O=ie),Z=1/0;break}case SWEEP:M=difference(M,b),b=[],O=Math.min(O,M.length-1);break;case PERFORM_ACTION:{if(me)return K||P;if(G||K&&isActionFiltered(K.computedStates[O],N,V.predicate,V.actionsSafelist,V.actionsBlocklist)){const ve=j[j.length-1];j=[...j.slice(0,-1),computeNextEntry(W,N.action,ve.state,ve.error,E)],Z=1/0;break}V.maxAge&&M.length===V.maxAge&&X(1),O===M.length-1&&O++;const ie=A++;F[ie]=N,M=[...M,ie],Z=M.length-1;break}case IMPORT_STATE:({monitorState:T,actionsById:F,nextActionId:A,stagedActionIds:M,skippedActionIds:b,committedState:B,currentStateIndex:O,computedStates:j,isLocked:me,isPaused:G}=N.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Z=0,V.maxAge&&M.length>V.maxAge&&(j=recomputeStates(j,Z,W,B,F,M,b,E,G),X(M.length-V.maxAge),Z=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(j.filter(ve=>ve.error).length>0)Z=0,V.maxAge&&M.length>V.maxAge&&(j=recomputeStates(j,Z,W,B,F,M,b,E,G),X(M.length-V.maxAge),Z=1/0);else{if(!G&&!me){O===M.length-1&&O++;const ve=A++;F[ve]=new PerformAction(N,+Date.now()),M=[...M,ve],Z=M.length-1,j=recomputeStates(j,Z,W,B,F,M,b,E,G)}j=j.map(ve=>({...ve,state:W(ve.state,RECOMPUTE_ACTION)})),O=M.length-1,V.maxAge&&M.length>V.maxAge&&X(M.length-V.maxAge),Z=1/0}break;default:Z=1/0}return j=recomputeStates(j,Z,W,B,F,M,b,E,G),T=o(T,N),{monitorState:T,actionsById:F,nextActionId:A,stagedActionIds:M,skippedActionIds:b,committedState:B,currentStateIndex:O,computedStates:j,isLocked:me,isPaused:G}}}let DevtoolsDispatcher=(()=>{class L extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return L.\u0275fac=function(){let P;return function(o){return(P||(P=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(L)))(o||L)}}(),L.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:L,factory:L.\u0275fac}),L})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(L,P,E){this.config=P,this.dispatcher=E,this.devtoolsExtension=L,this.createActionStreams()}notify(L,P){if(this.devtoolsExtension)if(L.type===PERFORM_ACTION){if(P.isLocked||P.isPaused)return;const E=unliftState(P);if(shouldFilterActions(this.config)&&isActionFiltered(E,L,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,E,P.currentStateIndex):E,V=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,L,P.nextActionId):L;this.sendToReduxDevtools(()=>this.extensionConnection.send(V,o))}else{const E={...P,stagedActionIds:P.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,P.actionsById):P.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,P.computedStates):P.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,E,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(L=>{const P=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=P,P.init(),P.subscribe(E=>L.next(E)),P.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const L=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),P=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.START)),E=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.STOP)),o=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(N=>this.unwrapAction(N.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(N=>N.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>N),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(N)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(N))),W=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(N=>N.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(N=>this.unwrapAction(N.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),K=o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E));this.start$=P.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>W)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>K))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(L){const P={name:L.name,features:L.features,serialize:L.serialize,autoPause:L.autoPause??!1};return!1!==L.maxAge&&(P.maxAge=L.maxAge),P}sendToReduxDevtools(L){try{L()}catch(P){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",P)}}}return DevtoolsExtension.\u0275fac=function L(P){return new(P||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class L{constructor(E,o,V,W,K,N,T,F){const A=liftInitialState(T,F.monitor),M=liftReducerWith(T,A,N,F.monitor,F),b=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(o.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),W.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),E,W.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),B=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(M)),O=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),j=b.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(B),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:q},[Z,ie])=>{let ve=ie(q,Z);return Z.type!==PERFORM_ACTION&&shouldFilterActions(F)&&(ve=filterLiftedState(ve,F.predicate,F.actionsSafelist,F.actionsBlocklist)),W.notify(Z,ve),{state:ve,action:Z}},{state:A,action:null})).subscribe(({state:q,action:Z})=>{O.next(q),Z.type===PERFORM_ACTION&&K.next(Z.action)}),me=W.start$.subscribe(()=>{this.refresh()}),G=O.asObservable(),X=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=me,this.stateSubscription=j,this.dispatcher=E,this.liftedState=G,this.state=X}dispatch(E){this.dispatcher.next(E)}next(E){this.dispatcher.next(E)}error(E){}complete(){}performAction(E){this.dispatch(new PerformAction(E,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(E){this.dispatch(new ToggleAction(E))}jumpToAction(E){this.dispatch(new JumpToAction(E))}jumpToState(E){this.dispatch(new JumpToState(E))}importState(E){this.dispatch(new ImportState(E))}lockChanges(E){this.dispatch(new LockChanges(E))}pauseRecording(E){this.dispatch(new PauseRecording(E))}}return L.\u0275fac=function(E){return new(E||L)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},L.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:L,factory:L.\u0275fac}),L})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(L,P){return Boolean(L)||P.monitor!==noMonitor}function createReduxDevtoolsExtension(){const L="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[L]<"u"?window[L]:null}function createStateObservable(L){return L.state}let StoreDevtoolsModule=(()=>{class L{static instrument(E={}){return{ngModule:L,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:E},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return L.\u0275fac=function(E){return new(E||L)},L.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:L}),L.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),L})()},2879:(L,P,E)=>{E.d(P,{UO:()=>it,qg:()=>yt,Y6:()=>Ma,mK:()=>Pa,n$:()=>bi,Y$:()=>go,FR:()=>pe,yh:()=>Re,CK:()=>xa,Aw:()=>_s,cr:()=>yo,wb:()=>jn,qC:()=>hs,PH:()=>ie,ZF:()=>Nt,Lq:()=>Mn,P1:()=>de,on:()=>Kt,Ky:()=>ve,Ys:()=>en});var o=E(4650),V=E(8929),W=E(5279);class K extends V.xQ{constructor(U){super(),this._value=U}get value(){return this.getValue()}_subscribe(U){const x=super._subscribe(U);return x&&!x.closed&&U.next(this._value),x}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new W.N;return this._value}next(U){super.next(this._value=U)}}var N=E(2916),T=E(341),F=E(4850),b=E(3489);class O{constructor(U,x){this.compare=U,this.keySelector=x}call(U,x){return x.subscribe(new j(U,this.compare,this.keySelector))}}class j extends b.L{constructor(U,x,H){super(U),this.keySelector=H,this.hasKey=!1,"function"==typeof x&&(this.compare=x)}compare(U,x){return U===x}_next(U){let x;try{const{keySelector:ee}=this;x=ee?ee(U):U}catch(ee){return this.destination.error(ee)}let H=!1;if(this.hasKey)try{const{compare:ee}=this;H=ee(this.key,x)}catch(ee){return this.destination.error(ee)}else this.hasKey=!0;H||(this.key=x,this.destination.next(U))}}var me=E(7770),G=E(7168),X=E(2014);const q={};function ie(w,U){if(q[w]=(q[w]||0)+1,"function"==typeof U)return Ge(w,(...H)=>({...U(...H),type:w}));switch(U?U._as:"empty"){case"empty":return Ge(w,()=>({type:w}));case"props":return Ge(w,H=>({...H,type:w}));default:throw new Error("Unexpected config.")}}function ve(){return{_as:"props",_p:void 0}}function Ge(w,U){return Object.defineProperty(U,"type",{value:w,writable:!1})}const yt="@ngrx/store/init";let it=(()=>{class w extends K{constructor(){super({type:yt})}next(x){if("function"==typeof x)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof x>"u")throw new TypeError("Actions must be objects");if(typeof x.type>"u")throw new TypeError("Actions must have a type property");super.next(x)}complete(){}ngOnDestroy(){super.complete()}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const Ue=[it],dt=new o.OlP("@ngrx/store Internal Root Guard"),be=new o.OlP("@ngrx/store Internal Initial State"),Ma=new o.OlP("@ngrx/store Initial State"),Ta=new o.OlP("@ngrx/store Reducer Factory"),Nc=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),Jt=new o.OlP("@ngrx/store Initial Reducers"),We=new o.OlP("@ngrx/store Internal Initial Reducers"),xc=new o.OlP("@ngrx/store Store Features"),ah=new o.OlP("@ngrx/store Internal Store Reducers"),Rc=new o.OlP("@ngrx/store Internal Feature Reducers"),At=new o.OlP("@ngrx/store Internal Feature Configs"),fs=new o.OlP("@ngrx/store Internal Store Features"),cr=new o.OlP("@ngrx/store Internal Feature Reducers Token"),Gt=new o.OlP("@ngrx/store Feature Reducers"),Ci=new o.OlP("@ngrx/store User Provided Meta Reducers"),ho=new o.OlP("@ngrx/store Meta Reducers"),Lc=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),Ia=new o.OlP("@ngrx/store User Runtime Checks Config"),wi=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),Ir=new o.OlP("@ngrx/store Internal Runtime Checks"),Ai=new o.OlP("@ngrx/store Check if Action types are unique");function po(w,U={}){const x=Object.keys(w),H={};for(let ue=0;ue<x.length;ue++){const je=x[ue];"function"==typeof w[je]&&(H[je]=w[je])}const ee=Object.keys(H);return function(je,Bt){je=void 0===je?U:je;let vt=!1;const Tn={};for(let ft=0;ft<ee.length;ft++){const bt=ee[ft],Uc=je[bt],Hc=(0,H[bt])(Uc,Bt);Tn[bt]=Hc,vt=vt||Hc!==Uc}return vt?Tn:je}}function hs(...w){return function(U){if(0===w.length)return U;const x=w[w.length-1];return w.slice(0,-1).reduceRight((ee,ue)=>ue(ee),x(U))}}function sn(w,U){return Array.isArray(U)&&U.length>0&&(w=hs.apply(null,[...U,w])),(x,H)=>{const ee=w(x);return(ue,je)=>ee(ue=void 0===ue?H:ue,je)}}class bi extends N.y{}class Pa extends it{}const jn="@ngrx/store/update-reducers";let Xt=(()=>{class w extends K{constructor(x,H,ee,ue){super(ue(ee,H)),this.dispatcher=x,this.initialState=H,this.reducers=ee,this.reducerFactory=ue}get currentReducers(){return this.reducers}addFeature(x){this.addFeatures([x])}addFeatures(x){const H=x.reduce((ee,{reducers:ue,reducerFactory:je,metaReducers:Bt,initialState:vt,key:Tn})=>{const ft="function"==typeof ue?function Dn(w){const U=Array.isArray(w)&&w.length>0?hs(...w):x=>x;return(x,H)=>(x=U(x),(ee,ue)=>x(ee=void 0===ee?H:ee,ue))}(Bt)(ue,vt):sn(je,Bt)(ue,vt);return ee[Tn]=ft,ee},{});this.addReducers(H)}removeFeature(x){this.removeFeatures([x])}removeFeatures(x){this.removeReducers(x.map(H=>H.key))}addReducer(x,H){this.addReducers({[x]:H})}addReducers(x){this.reducers={...this.reducers,...x},this.updateReducers(Object.keys(x))}removeReducer(x){this.removeReducers([x])}removeReducers(x){x.forEach(H=>{this.reducers=function Pe(w,U){return Object.keys(w).filter(x=>x!==U).reduce((x,H)=>Object.assign(x,{[H]:w[H]}),{})}(this.reducers,H)}),this.updateReducers(x)}updateReducers(x){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:jn,features:x})}ngOnDestroy(){this.complete()}}return w.\u0275fac=function(x){return new(x||w)(o.LFG(Pa),o.LFG(Ma),o.LFG(Jt),o.LFG(Ta))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const ps=[Xt,{provide:bi,useExisting:Xt},{provide:Pa,useExisting:it}];let go=(()=>{class w extends V.xQ{ngOnDestroy(){this.complete()}}return w.\u0275fac=function(){let U;return function(H){return(U||(U=o.n5z(w)))(H||w)}}(),w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const tt=[go];class pe extends N.y{}let Ve=(()=>{class w extends K{constructor(x,H,ee,ue){super(ue);const Tn=x.pipe((0,me.QV)(T.N)).pipe((0,G.M)(H)).pipe((0,X.R)(lh,{state:ue}));this.stateSubscription=Tn.subscribe(({state:ft,action:bt})=>{this.next(ft),ee.next(bt)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return w.INIT=yt,w.\u0275fac=function(x){return new(x||w)(o.LFG(it),o.LFG(bi),o.LFG(go),o.LFG(Ma))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();function lh(w={state:void 0},[U,x]){const{state:H}=w;return{state:x(H,U),action:U}}const $n=[Ve,{provide:pe,useExisting:Ve}];let Re=(()=>{class w extends N.y{constructor(x,H,ee){super(),this.actionsObserver=H,this.reducerManager=ee,this.source=x}select(x,...H){return en.call(null,x,...H)(this)}lift(x){const H=new w(this,this.actionsObserver,this.reducerManager);return H.operator=x,H}dispatch(x){this.actionsObserver.next(x)}next(x){this.actionsObserver.next(x)}error(x){this.actionsObserver.error(x)}complete(){this.actionsObserver.complete()}addReducer(x,H){this.reducerManager.addReducer(x,H)}removeReducer(x){this.reducerManager.removeReducer(x)}}return w.\u0275fac=function(x){return new(x||w)(o.LFG(pe),o.LFG(it),o.LFG(Xt))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const Pr=[Re];function en(w,U,...x){return function(ee){let ue;if("string"==typeof w){const je=[U,...x].filter(Boolean);ue=ee.pipe(function A(...w){const U=w.length;if(0===U)throw new Error("list of properties cannot be empty.");return x=>(0,F.U)(function M(w,U){return H=>{let ee=H;for(let ue=0;ue<U;ue++){const je=ee?.[w[ue]];if(void 0===je)return;ee=je}return ee}}(w,U))(x)}(w,...je))}else{if("function"!=typeof w)throw new TypeError(`Unexpected type '${typeof w}' in select operator, expected 'string' or 'function'`);ue=ee.pipe((0,F.U)(je=>w(je,U)))}return ue.pipe(function B(w,U){return x=>x.lift(new O(w,U))}())}}const Si="https://ngrx.io/guide/store/configuration/runtime-checks";function pt(w){return void 0===w}function Rn(w){return null===w}function qe(w){return Array.isArray(w)}function qr(w){return"object"==typeof w&&null!==w}function Fr(w){return"function"==typeof w}function kt(w,U){return w===U}function Wt(w,U,x){for(let H=0;H<w.length;H++)if(!x(w[H],U[H]))return!0;return!1}function Zt(w,U=kt,x=kt){let ue,H=null,ee=null;return{memoized:function Tn(){if(void 0!==ue)return ue.result;if(!H)return ee=w.apply(null,arguments),H=arguments,ee;if(!Wt(arguments,H,U))return ee;const ft=w.apply(null,arguments);return H=arguments,x(ee,ft)?ee:(ee=ft,ft)},reset:function je(){H=null,ee=null},setResult:function Bt(ft){ue={result:ft}},clearResult:function vt(){ue=void 0}}}function de(...w){return function rt(w,U={stateFn:Ne}){return function(...x){let H=x;if(Array.isArray(H[0])){const[ft,...bt]=H;H=[...ft,...bt]}const ee=H.slice(0,H.length-1),ue=H[H.length-1],je=ee.filter(ft=>ft.release&&"function"==typeof ft.release),Bt=w(function(...ft){return ue.apply(null,ft)}),vt=Zt(function(ft,bt){return U.stateFn.apply(null,[ft,ee,bt,Bt])});return Object.assign(vt.memoized,{release:function Tn(){vt.reset(),Bt.reset(),je.forEach(ft=>ft.release())},projector:Bt.memoized,setResult:vt.setResult,clearResult:vt.clearResult})}}(Zt)(...w)}function Ne(w,U,x,H){if(void 0===x){const ue=U.map(je=>je(w));return H.memoized.apply(null,ue)}const ee=U.map(ue=>ue(w,x));return H.memoized.apply(null,[...ee,x])}function Nt(w){return de(U=>{const x=U[w];return(0,o.X6Q)()&&!(w in U)&&console.warn(`@ngrx/store: The feature name "${w}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${w}', ...) or StoreModule.forFeature('${w}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),x},U=>U)}function Or(w){Object.freeze(w);const U=Fr(w);return Object.getOwnPropertyNames(w).forEach(x=>{if(!x.startsWith("\u0275")&&function ms(w,U){return Object.prototype.hasOwnProperty.call(w,U)}(w,x)&&(!U||"caller"!==x&&"callee"!==x&&"arguments"!==x)){const H=w[x];(qr(H)||Fr(H))&&!Object.isFrozen(H)&&Or(H)}}),w}function xe(w,U=[]){return(pt(w)||Rn(w))&&0===U.length?{path:["root"],value:w}:Object.keys(w).reduce((H,ee)=>{if(H)return H;const ue=w[ee];return function gs(w){return Fr(w)&&w.hasOwnProperty("\u0275cmp")}(ue)?H:!(pt(ue)||Rn(ue)||function Vc(w){return"number"==typeof w}(ue)||function Yr(w){return"boolean"==typeof w}(ue)||function kc(w){return"string"==typeof w}(ue)||qe(ue))&&(function mo(w){if(!function Fa(w){return qr(w)&&!qe(w)}(w))return!1;const U=Object.getPrototypeOf(w);return U===Object.prototype||null===U}(ue)?xe(ue,[...U,ee]):{path:[...U,ee],value:ue})},!1)}function Mi(w,U){if(!1===w)return;const x=w.path.join("."),H=new Error(`Detected unserializable ${U} at "${x}". ${Si}#strict${U}serializability`);throw H.value=w.value,H.unserializablePath=x,H}function Ti(w){return(0,o.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...w}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Nr({strictActionSerializability:w,strictStateSerializability:U}){return x=>w||U?function ur(w,U){return function(x,H){U.action(H)&&Mi(xe(H),"action");const ee=w(x,H);return U.state()&&Mi(xe(ee),"state"),ee}}(x,{action:H=>w&&!xr(H),state:()=>U}):x}function Ht({strictActionImmutability:w,strictStateImmutability:U}){return x=>w||U?function ct(w,U){return function(x,H){const ee=U.action(H)?Or(H):H,ue=w(x,ee);return U.state()?Or(ue):ue}}(x,{action:H=>w&&!xr(H),state:()=>U}):x}function xr(w){return w.type.startsWith("@ngrx")}function dr({strictActionWithinNgZone:w}){return U=>w?function Jr(w,U){return function(x,H){if(U.action(H)&&!o.R0b.isInAngularZone())throw new Error(`Action '${H.type}' running outside NgZone. ${Si}#strictactionwithinngzone`);return w(x,H)}}(U,{action:x=>w&&!xr(x)}):U}function on(w){return[{provide:wi,useValue:w},{provide:Ia,useFactory:Na,deps:[wi]},{provide:Ir,deps:[Ia],useFactory:Ti},{provide:ho,multi:!0,deps:[Ir],useFactory:Ht},{provide:ho,multi:!0,deps:[Ir],useFactory:Nr},{provide:ho,multi:!0,deps:[Ir],useFactory:dr}]}function fr(){return[{provide:Ai,multi:!0,deps:[Ir],useFactory:ot}]}function Na(w){return w}function ot(w){if(!w.strictActionTypeUniqueness)return;const U=Object.entries(q).filter(([,x])=>x>1).map(([x])=>x);if(U.length)throw new Error(`Action types are registered more than once, ${U.map(x=>`"${x}"`).join(", ")}. ${Si}#strictactiontypeuniqueness`)}let yo=(()=>{class w{constructor(x,H,ee,ue,je,Bt){}}return w.\u0275fac=function(x){return new(x||w)(o.LFG(it),o.LFG(bi),o.LFG(go),o.LFG(Re),o.LFG(dt,8),o.LFG(Ai,8))},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})(),xa=(()=>{class w{constructor(x,H,ee,ue,je){this.features=x,this.featureReducers=H,this.reducerManager=ee;const Bt=x.map((vt,Tn)=>{const bt=H.shift()[Tn];return{...vt,reducers:bt,initialState:Wn(vt.initialState)}});ee.addFeatures(Bt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return w.\u0275fac=function(x){return new(x||w)(o.LFG(fs),o.LFG(Gt),o.LFG(Xt),o.LFG(yo),o.LFG(Ai,8))},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})(),_s=(()=>{class w{static forRoot(x,H={}){return{ngModule:yo,providers:[{provide:dt,useFactory:Bc,deps:[[Re,new o.FiY,new o.tp0]]},{provide:be,useValue:H.initialState},{provide:Ma,useFactory:Wn,deps:[be]},{provide:We,useValue:x},{provide:ah,useExisting:x instanceof o.OlP?x:We},{provide:Jt,deps:[o.zs3,We,[new o.tBr(ah)]],useFactory:ys},{provide:Ci,useValue:H.metaReducers?H.metaReducers:[]},{provide:Lc,deps:[ho,Ci],useFactory:Vt},{provide:Nc,useValue:H.reducerFactory?H.reducerFactory:po},{provide:Ta,deps:[Nc,Lc],useFactory:sn},Ue,ps,tt,$n,Pr,on(H.runtimeChecks),fr()]}}static forFeature(x,H,ee={}){return{ngModule:xa,providers:[{provide:At,multi:!0,useValue:x instanceof Object?{}:ee},{provide:xc,multi:!0,useValue:{key:x instanceof Object?x.name:x,reducerFactory:ee instanceof o.OlP||!ee.reducerFactory?po:ee.reducerFactory,metaReducers:ee instanceof o.OlP||!ee.metaReducers?[]:ee.metaReducers,initialState:ee instanceof o.OlP||!ee.initialState?void 0:ee.initialState}},{provide:fs,deps:[o.zs3,At,xc],useFactory:Xr},{provide:Rc,multi:!0,useValue:x instanceof Object?x.reducer:H},{provide:cr,multi:!0,useExisting:H instanceof o.OlP?H:Rc},{provide:Gt,multi:!0,deps:[o.zs3,Rc,[new o.tBr(cr)]],useFactory:vs},fr()]}}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})();function ys(w,U){return U instanceof o.OlP?w.get(U):U}function Xr(w,U,x){return x.map((H,ee)=>{if(U[ee]instanceof o.OlP){const ue=w.get(U[ee]);return{key:H.key,reducerFactory:ue.reducerFactory?ue.reducerFactory:po,metaReducers:ue.metaReducers?ue.metaReducers:[],initialState:ue.initialState}}return H})}function vs(w,U){return U.map(H=>H instanceof o.OlP?w.get(H):H)}function Wn(w){return"function"==typeof w?w():w}function Vt(w,U){return w.concat(U)}function Bc(w){if(w)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Kt(...w){return{reducer:w.pop(),types:w.map(H=>H.type)}}function Mn(w,...U){const x=new Map;for(const H of U)for(const ee of H.types){const ue=x.get(ee);x.set(ee,ue?(Bt,vt)=>H.reducer(ue(Bt,vt),vt):H.reducer)}return function(H=w,ee){const ue=x.get(ee.type);return ue?ue(H,ee):H}}}},L=>{L(L.s=9715)}]);