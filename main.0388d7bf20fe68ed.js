"use strict";var Ub=Object.defineProperty,jb=Object.defineProperties,Hb=Object.getOwnPropertyDescriptors,BA=Object.getOwnPropertySymbols,$b=Object.prototype.hasOwnProperty,Gb=Object.prototype.propertyIsEnumerable,UA=(L,T,E)=>T in L?Ub(L,T,{enumerable:!0,configurable:!0,writable:!0,value:E}):L[T]=E,Be=(L,T)=>{for(var E in T||(T={}))$b.call(T,E)&&UA(L,E,T[E]);if(BA)for(var E of BA(T))Gb.call(T,E)&&UA(L,E,T[E]);return L},hn=(L,T)=>jb(L,Hb(T));(self.webpackChunktaormina_duel=self.webpackChunktaormina_duel||[]).push([[179],{9706:(L,T,E)=>{var o=E(3668);let V=null;function Z(){return V}const O=new o.OlP("DocumentToken");var Ye=(()=>((Ye=Ye||{})[Ye.Zero=0]="Zero",Ye[Ye.One=1]="One",Ye[Ye.Two=2]="Two",Ye[Ye.Few=3]="Few",Ye[Ye.Many=4]="Many",Ye[Ye.Other=5]="Other",Ye))();const Es=o.kL8;class ur{}let Qt=(()=>{class s extends ur{constructor(n){super(),this.locale=n}getPluralCategory(n,a){switch(Es(a||this.locale)(n)){case Ye.Zero:return"zero";case Ye.One:return"one";case Ye.Two:return"two";case Ye.Few:return"few";case Ye.Many:return"many";default:return"other"}}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(o.soG))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();class jl{constructor(r,n,a,d){this.$implicit=r,this.ngForOf=n,this.index=a,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ja=(()=>{class s{constructor(n,a,d){this._viewContainer=n,this._template=a,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(s){return s.name||typeof s}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const a=[];n.forEachOperation((d,h,m)=>{if(null==d.previousIndex){const D=this._viewContainer.createEmbeddedView(this._template,new jl(null,this._ngForOf,-1,-1),null===m?void 0:m),b=new bs(d,D);a.push(b)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const D=this._viewContainer.get(h);this._viewContainer.move(D,m);const b=new bs(d,D);a.push(b)}});for(let d=0;d<a.length;d++)this._perViewChange(a[d].view,a[d].record);for(let d=0,h=this._viewContainer.length;d<h;d++){const m=this._viewContainer.get(d);m.context.index=d,m.context.count=h,m.context.ngForOf=this._ngForOf}n.forEachIdentityChange(d=>{this._viewContainer.get(d.currentIndex).context.$implicit=d.item})}_perViewChange(n,a){n.context.$implicit=a.item}static ngTemplateContextGuard(n,a){return!0}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},s.\u0275dir=o.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class bs{constructor(r,n){this.record=r,this.view=n}}let w=(()=>{class s{constructor(n,a){this._viewContainer=n,this._context=new $,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){N("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){N("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,a){return!0}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.s_b),o.Y36(o.Rgc))},s.\u0275dir=o.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class ${constructor(){this.$implicit=null,this.ngIf=null}}function N(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,o.AaK)(r)}'.`)}class U{constructor(r,n){this._viewContainerRef=r,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let ee=(()=>{class s{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const a=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||a,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),a}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let a=0;a<this._defaultViews.length;a++)this._defaultViews[a].enforceState(n)}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=o.lG2({type:s,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),s})(),re=(()=>{class s{constructor(n,a,d){this.ngSwitch=d,d._addCase(),this._view=new U(n,a)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ee,9))},s.\u0275dir=o.lG2({type:s,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),s})(),je=(()=>{class s{constructor(n,a,d){this._ngEl=n,this._differs=a,this._renderer=d,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,a){const[d,h]=n.split(".");null!=(a=null!=a&&h?`${a}${h}`:a)?this._renderer.setStyle(this._ngEl.nativeElement,d,a):this._renderer.removeStyle(this._ngEl.nativeElement,d)}_applyChanges(n){n.forEachRemovedItem(a=>this._setStyle(a.key,null)),n.forEachAddedItem(a=>this._setStyle(a.key,a.currentValue)),n.forEachChangedItem(a=>this._setStyle(a.key,a.currentValue))}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},s.\u0275dir=o.lG2({type:s,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),s})();class Xa{createSubscription(r,n){return r.subscribe({next:n,error:a=>{throw a}})}dispose(r){r.unsubscribe()}onDestroy(r){r.unsubscribe()}}class xD{createSubscription(r,n){return r.then(n,a=>{throw a})}dispose(r){}onDestroy(r){}}const ND=new xD,RD=new Xa;let g_=(()=>{class s{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,a=>this._updateLatestValue(n,a))}_selectStrategy(n){if((0,o.QGY)(n))return ND;if((0,o.F4k)(n))return RD;throw function(s,r){return Error(`InvalidPipeArgument: '${r}' for pipe '${(0,o.AaK)(s)}'`)}(s,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,a){n===this._obj&&(this._latestValue=a,this._ref.markForCheck())}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.sBO,16))},s.\u0275pipe=o.Yjl({name:"async",type:s,pure:!1}),s})(),ec=(()=>{class s{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=m_}transform(n,a=m_){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const d=this.differ.diff(n),h=a!==this.compareFn;return d&&(this.keyValues=[],d.forEachItem(m=>{this.keyValues.push(function(s,r){return{key:s,value:r}}(m.key,m.currentValue))})),(d||h)&&(this.keyValues.sort(a),this.compareFn=a),this.keyValues}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.aQg,16))},s.\u0275pipe=o.Yjl({name:"keyvalue",type:s,pure:!1}),s})();function m_(s,r){const n=s.key,a=r.key;if(n===a)return 0;if(void 0===n)return 1;if(void 0===a)return-1;if(null===n)return 1;if(null===a)return-1;if("string"==typeof n&&"string"==typeof a)return n<a?-1:1;if("number"==typeof n&&"number"==typeof a)return n-a;if("boolean"==typeof n&&"boolean"==typeof a)return n<a?-1:1;const d=String(n),h=String(a);return d==h?0:d<h?-1:1}let hh=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:[{provide:ur,useClass:Qt}]}),s})();class Zl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Zl,V||(V=s)}onAndCancel(r,n,a){return r.addEventListener(n,a,!1),()=>{r.removeEventListener(n,a,!1)}}dispatchEvent(r,n){r.dispatchEvent(n)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,n){return(n=n||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,n){return"window"===n?window:"document"===n?r:"body"===n?r.body:null}getBaseHref(r){const n=(tc=tc||document.querySelector("base"),tc?tc.getAttribute("href"):null);return null==n?null:function(s){sn=sn||document.createElement("a"),sn.setAttribute("href",s);const r=sn.pathname;return"/"===r.charAt(0)?r:`/${r}`}(n)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const n of s.split(";")){const a=n.indexOf("="),[d,h]=-1==a?[n,""]:[n.slice(0,a),n.slice(a+1)];if(d.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let sn,tc=null;const rc=new o.OlP("TRANSITION_ID"),An=[{provide:o.ip1,useFactory:function(s,r,n){return()=>{n.get(o.CZH).donePromise.then(()=>{const a=Z(),d=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let h=0;h<d.length;h++)a.remove(d[h])})}},deps:[rc,O,o.zs3],multi:!0}];class sc{static init(){(0,o.VLi)(new sc)}addToWindow(r){o.dqk.getAngularTestability=(a,d=!0)=>{const h=r.findTestabilityInTree(a,d);if(null==h)throw new Error("Could not find testability for element.");return h},o.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(a=>{const d=o.dqk.getAllAngularTestabilities();let h=d.length,m=!1;const D=function(b){m=m||b,h--,0==h&&a(m)};d.forEach(function(b){b.whenStable(D)})})}findTestabilityInTree(r,n,a){if(null==n)return null;const d=r.getTestability(n);return null!=d?d:a?Z().isShadowRoot(n)?this.findTestabilityInTree(r,n.host,!0):this.findTestabilityInTree(r,n.parentElement,!0):null}}let Wl=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const ic=new o.OlP("EventManagerPlugins");let Yn=(()=>{class s{constructor(n,a){this._zone=a,this._eventNameToPlugin=new Map,n.forEach(d=>d.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,a,d){return this._findPluginFor(a).addEventListener(n,a,d)}addGlobalEventListener(n,a,d){return this._findPluginFor(a).addGlobalEventListener(n,a,d)}getZone(){return this._zone}_findPluginFor(n){const a=this._eventNameToPlugin.get(n);if(a)return a;const d=this._plugins;for(let h=0;h<d.length;h++){const m=d[h];if(m.supports(n))return this._eventNameToPlugin.set(n,m),m}throw new Error(`No event manager plugin found for event ${n}`)}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(ic),o.LFG(o.R0b))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();class ql{constructor(r){this._doc=r}addGlobalEventListener(r,n,a){const d=Z().getGlobalEventTarget(this._doc,r);if(!d)throw new Error(`Unsupported event target ${d} for event ${n}`);return this.addEventListener(d,n,a)}}let oc=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(n){const a=new Set;n.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),a.add(d))}),this.onStylesAdded(a)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),Me=(()=>{class s extends oc{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,a,d){n.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,d.push(a.appendChild(m))})}addHost(n){const a=[];this._addStylesToHost(this._stylesSet,n,a),this._hostNodes.set(n,a)}removeHost(n){const a=this._hostNodes.get(n);a&&a.forEach(b_),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((a,d)=>{this._addStylesToHost(n,d,a)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(b_))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(O))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();function b_(s){Z().remove(s)}const Kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yl=/%COMP%/g;function wo(s,r,n){for(let a=0;a<r.length;a++){let d=r[a];Array.isArray(d)?wo(s,d,n):(d=d.replace(Yl,s),n.push(d))}return n}function xt(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let ns=(()=>{class s{constructor(n,a,d){this.eventManager=n,this.sharedStylesHost=a,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new Pn(n)}createRenderer(n,a){if(!n||!a)return this.defaultRenderer;switch(a.encapsulation){case o.ifc.Emulated:{let d=this.rendererByCompId.get(a.id);return d||(d=new QD(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,d)),d.applyToHost(n),d}case 1:case o.ifc.ShadowDom:return new M_(this.eventManager,this.sharedStylesHost,n,a);default:if(!this.rendererByCompId.has(a.id)){const d=wo(a.id,a.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(Yn),o.LFG(Me),o.LFG(o.AFp))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();class Pn{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,n){return n?document.createElementNS(Kl[n]||n,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,n){r.appendChild(n)}insertBefore(r,n,a){r&&r.insertBefore(n,a)}removeChild(r,n){r&&r.removeChild(n)}selectRootElement(r,n){let a="string"==typeof r?document.querySelector(r):r;if(!a)throw new Error(`The selector "${r}" did not match any elements`);return n||(a.textContent=""),a}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,n,a,d){if(d){n=d+":"+n;const h=Kl[d];h?r.setAttributeNS(h,n,a):r.setAttribute(n,a)}else r.setAttribute(n,a)}removeAttribute(r,n,a){if(a){const d=Kl[a];d?r.removeAttributeNS(d,n):r.removeAttribute(`${a}:${n}`)}else r.removeAttribute(n)}addClass(r,n){r.classList.add(n)}removeClass(r,n){r.classList.remove(n)}setStyle(r,n,a,d){d&(o.JOm.DashCase|o.JOm.Important)?r.style.setProperty(n,a,d&o.JOm.Important?"important":""):r.style[n]=a}removeStyle(r,n,a){a&o.JOm.DashCase?r.style.removeProperty(n):r.style[n]=""}setProperty(r,n,a){r[n]=a}setValue(r,n){r.nodeValue=n}listen(r,n,a){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,n,xt(a)):this.eventManager.addEventListener(r,n,xt(a))}}class QD extends Pn{constructor(r,n,a,d){super(r),this.component=a;const h=wo(d+"-"+a.id,a.styles,[]);n.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Yl,d+"-"+a.id),this.hostAttr="_nghost-%COMP%".replace(Yl,d+"-"+a.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,n){const a=super.createElement(r,n);return super.setAttribute(a,this.contentAttr,""),a}}class M_ extends Pn{constructor(r,n,a,d){super(r),this.sharedStylesHost=n,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=wo(d.id,d.styles,[]);for(let m=0;m<h.length;m++){const D=document.createElement("style");D.textContent=h[m],this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,n){return super.appendChild(this.nodeOrShadowRoot(r),n)}insertBefore(r,n,a){return super.insertBefore(this.nodeOrShadowRoot(r),n,a)}removeChild(r,n){return super.removeChild(this.nodeOrShadowRoot(r),n)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let cc=(()=>{class s extends ql{constructor(n){super(n)}supports(n){return!0}addEventListener(n,a,d){return n.addEventListener(a,d,!1),()=>this.removeEventListener(n,a,d)}removeEventListener(n,a,d){return n.removeEventListener(a,d)}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(O))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const So=["alt","control","meta","shift"],Tr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hi={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Mr=(()=>{class s extends ql{constructor(n){super(n)}supports(n){return null!=s.parseEventName(n)}addEventListener(n,a,d){const h=s.parseEventName(a),m=s.eventCallback(h.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z().onAndCancel(n,h.domEventName,m))}static parseEventName(n){const a=n.toLowerCase().split("."),d=a.shift();if(0===a.length||"keydown"!==d&&"keyup"!==d)return null;const h=s._normalizeKey(a.pop());let m="";if(So.forEach(b=>{const R=a.indexOf(b);R>-1&&(a.splice(R,1),m+=b+".")}),m+=h,0!=a.length||0===h.length)return null;const D={};return D.domEventName=d,D.fullKey=m,D}static getEventFullKey(n){let a="",d=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Jl.hasOwnProperty(r)&&(r=Jl[r]))}return Tr[r]||r}(n);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),So.forEach(h=>{h!=d&&hi[h](n)&&(a+=h+".")}),a+=d,a}static eventCallback(n,a,d){return h=>{s.getEventFullKey(h)===n&&d.runGuarded(()=>a(h))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(O))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const eu=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Zl.makeCurrent(),sc.init()},multi:!0},{provide:O,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),vh=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:ic,useClass:cc,multi:!0,deps:[O,o.R0b,o.Lbi]},{provide:ic,useClass:Mr,multi:!0,deps:[O]},{provide:ns,useClass:ns,deps:[Yn,Me,o.AFp]},{provide:o.FYo,useExisting:ns},{provide:oc,useExisting:Me},{provide:Me,useClass:Me,deps:[O]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Yn,useClass:Yn,deps:[ic,o.R0b]},{provide:class{},useClass:Wl,deps:[]}];let lc=(()=>{class s{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:s,providers:[{provide:o.AFp,useValue:n.appId},{provide:rc,useExisting:o.AFp},An]}}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(s,12))},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:vh,imports:[hh,o.hGG]}),s})();"undefined"!=typeof window&&window;var y=E(4467),ou=E(3894),pi=E(5548),gi=E(3405),mi=E(4168);class _i{call(r,n){return n.subscribe(new L_(r))}}class L_ extends mi.L{_next(r){}}var ss=E(8085);class hc{call(r,n){return n.subscribe(new cC(r))}}class cC extends mi.L{constructor(r){super(r)}_next(r){this.destination.next(ss.P.createNext(r))}_error(r){const n=this.destination;n.next(ss.P.createError(r)),n.complete()}_complete(){const r=this.destination;r.next(ss.P.createComplete()),r.complete()}}var ae=E(8053),is=E(2047),On=E(8735),Ih=E(1346);function Ts(s,r,n,a){return d=>d.lift(new cu(s,r,n,a))}class cu{constructor(r,n,a,d){this.keySelector=r,this.elementSelector=n,this.durationSelector=a,this.subjectSelector=d}call(r,n){return n.subscribe(new lu(r,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class lu extends mi.L{constructor(r,n,a,d,h){super(r),this.keySelector=n,this.elementSelector=a,this.durationSelector=d,this.subjectSelector=h,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(r){let n;try{n=this.keySelector(r)}catch(a){return void this.error(a)}this._group(r,n)}_group(r,n){let a=this.groups;a||(a=this.groups=new Map);let h,d=a.get(n);if(this.elementSelector)try{h=this.elementSelector(r)}catch(m){this.error(m)}else h=r;if(!d){d=this.subjectSelector?this.subjectSelector():new gi.xQ,a.set(n,d);const m=new To(n,d,this);if(this.destination.next(m),this.durationSelector){let D;try{D=this.durationSelector(new To(n,d))}catch(b){return void this.error(b)}this.add(D.subscribe(new pc(n,d,this)))}}d.closed||d.next(h)}_error(r){const n=this.groups;n&&(n.forEach((a,d)=>{a.error(r)}),n.clear()),this.destination.error(r)}_complete(){const r=this.groups;r&&(r.forEach((n,a)=>{n.complete()}),r.clear()),this.destination.complete()}removeGroup(r){this.groups.delete(r)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class pc extends mi.L{constructor(r,n,a){super(n),this.key=r,this.group=n,this.parent=a}_next(r){this.complete()}_unsubscribe(){const{parent:r,key:n}=this;this.key=this.parent=null,r&&r.removeGroup(n)}}class To extends pi.y{constructor(r,n,a){super(),this.key=r,this.groupSubject=n,this.refCountSubscription=a}_subscribe(r){const n=new Ih.w,{refCountSubscription:a,groupSubject:d}=this;return a&&!a.closed&&n.add(new k_(a)),n.add(d.subscribe(r)),n}}class k_ extends Ih.w{constructor(r){super(),this.parent=r,r.count++}unsubscribe(){const r=this.parent;!r.closed&&!this.closed&&(super.unsubscribe(),r.count-=1,0===r.count&&r.attemptedToUnsubscribe&&r.unsubscribe())}}var Mo=E(4421),gc=E(1915),mc=E(8345);function uu(s,r){return r?n=>n.pipe(uu((a,d)=>(0,gc.D)(s(a,d)).pipe((0,ae.U)((h,m)=>r(a,h,d,m))))):n=>n.lift(new V_(s))}class V_{constructor(r){this.project=r}call(r,n){return n.subscribe(new B_(r,this.project))}}class B_ extends mc.Ds{constructor(r,n){super(r),this.project=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(r){this.hasSubscription||this.tryNext(r)}tryNext(r){let n;const a=this.index++;try{n=this.project(r,a)}catch(d){return void this.destination.error(d)}this.hasSubscription=!0,this._innerSub(n)}_innerSub(r){const n=new mc.IY(this),a=this.destination;a.add(n);const d=(0,mc.ft)(r,n);d!==n&&a.add(d)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(r){this.destination.next(r)}notifyError(r){this.destination.error(r)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class Io{call(r,n){return n.subscribe(new U_(r))}}class U_ extends mi.L{constructor(r){super(r)}_next(r){r.observe(this.destination)}}var jt=E(1887);const du={dispatch:!0,useEffectsErrorHandler:!0},Ir="__@ngrx/effects_create__";function qe(s,r){const n=s(),a=Be(Be({},du),r);return Object.defineProperty(n,Ir,{value:a}),n}function fu(s){return Object.getOwnPropertyNames(s).filter(a=>!(!s[a]||!s[a].hasOwnProperty(Ir))&&s[a][Ir].hasOwnProperty("dispatch")).map(a=>Be({propertyName:a},s[a][Ir]))}function Po(s){return Object.getPrototypeOf(s)}const Pr="__@ngrx/effects__";function yi(s){return(0,y.qC)(Ei,Po)(s)}function Ei(s){return function(s){return s.constructor.hasOwnProperty(Pr)}(s)?s.constructor[Pr]:[]}function Ct(s,r,n){const a=Po(s).constructor.name,d=function(s){return[yi,fu].reduce((n,a)=>n.concat(a(s)),[])}(s).map(({propertyName:h,dispatch:m,useEffectsErrorHandler:D})=>{const b="function"==typeof s[h]?s[h]():s[h],R=D?n(b,r):b;return!1===m?R.pipe(function(r){return r.lift(new _i)}):R.pipe(function(r){return r.lift(new hc)}).pipe((0,ae.U)(K=>({effect:s[h],notification:K,propertyName:h,sourceName:a,sourceInstance:s})))});return(0,ou.T)(...d)}function j_(s,r,n=10){return s.pipe((0,is.K)(a=>(r&&r.handleError(a),n<=1?s:j_(s,r,n-1))))}let os=(()=>{class s extends pi.y{constructor(n){super(),n&&(this.source=n)}lift(n){const a=new s;return a.source=this,a.operator=n,a}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.Y$))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();function Qe(...s){return(0,On.h)(r=>s.some(n=>"string"==typeof n?n===r.type:n.type===r.type))}function H_(s){return mn(s,"ngrxOnInitEffects")}function mn(s,r){return s&&r in s&&"function"==typeof s[r]}const zn=new o.OlP("@ngrx/effects Internal Root Guard"),No=new o.OlP("@ngrx/effects User Provided Effects"),Di=new o.OlP("@ngrx/effects Internal Root Effects"),Ci=new o.OlP("@ngrx/effects Root Effects"),gu=new o.OlP("@ngrx/effects Internal Feature Effects"),Oh=new o.OlP("@ngrx/effects Feature Effects"),Fh=new o.OlP("@ngrx/effects Effects Error Handler");let xh=(()=>{class s extends gi.xQ{constructor(n,a){super(),this.errorHandler=n,this.effectsErrorHandler=a}addEffects(n){this.next(n)}toActions(){return this.pipe(Ts(Po),(0,Mo.zg)(n=>n.pipe(Ts(gC))),(0,Mo.zg)(n=>{const a=n.pipe(uu(h=>function(s,r){return n=>{const a=Ct(n,s,r);return function(s){return mn(s,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(a):a}}(this.errorHandler,this.effectsErrorHandler)(h)),(0,ae.U)(h=>(function(s,r){if("N"===s.notification.kind){const n=s.notification.value;!function(s){return"function"!=typeof s&&s&&s.type&&"string"==typeof s.type}(n)&&r.handleError(new Error(`Effect ${function({propertyName:s,sourceInstance:r,sourceName:n}){const a="function"==typeof r[s];return`"${n}.${String(s)}${a?"()":""}"`}(s)} dispatched an invalid action: ${function(s){try{return JSON.stringify(s)}catch(r){return s}}(n)}`))}}(h,this.errorHandler),h.notification)),(0,On.h)(h=>"N"===h.kind&&null!=h.value),function(r){return r.lift(new Io)}),d=n.pipe((0,jt.q)(1),(0,On.h)(H_),(0,ae.U)(h=>h.ngrxOnInitEffects()));return(0,ou.T)(a,d)}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(o.qLn),o.LFG(Fh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();function gC(s){return function(s){return mn(s,"ngrxOnIdentifyEffects")}(s)?s.ngrxOnIdentifyEffects():""}let an=(()=>{class s{constructor(n,a){this.effectSources=n,this.store=a,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(xh),o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const yc="@ngrx/effects/init";(0,y.PH)(yc);let $_=(()=>{class s{constructor(n,a,d,h,m,D,b){this.sources=n,a.start(),h.forEach(R=>n.addEffects(R)),d.dispatch({type:yc})}addEffects(n){this.sources.addEffects(n)}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(xh),o.LFG(an),o.LFG(y.yh),o.LFG(Ci),o.LFG(y.cr,8),o.LFG(y.CK,8),o.LFG(zn,8))},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({}),s})(),Rh=(()=>{class s{constructor(n,a,d,h){a.forEach(m=>m.forEach(D=>n.addEffects(D)))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG($_),o.LFG(Oh),o.LFG(y.cr,8),o.LFG(y.CK,8))},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({}),s})(),Or=(()=>{class s{static forFeature(n=[]){return{ngModule:Rh,providers:[n,{provide:gu,multi:!0,useValue:n},{provide:No,multi:!0,useValue:[]},{provide:Oh,multi:!0,useFactory:Lh,deps:[o.zs3,gu,No]}]}}static forRoot(n=[]){return{ngModule:$_,providers:[{provide:Fh,useValue:j_},an,xh,os,n,{provide:Di,useValue:[n]},{provide:zn,useFactory:Z_,deps:[[an,new o.FiY,new o.tp0],[Di,new o.PiD]]},{provide:No,multi:!0,useValue:[]},{provide:Ci,useFactory:Lh,deps:[o.zs3,Di,No]}]}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({}),s})();function Lh(s,r,n){const a=[];for(const d of r)a.push(...d);for(const d of n)a.push(...d);return function(s,r){return r.map(n=>s.get(n))}(s,a)}function Z_(s,r){if((1!==r.length||0!==r[0].length)&&s)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var fr=E(2411),Lo=E(9204),Qn=E(6700);function Ms(s){return r=>s.id?r.pipe(ko(),Ts(([a,d])=>s.id(a,d))).pipe((0,Mo.zg)(a=>a.pipe((0,Lo.w)(Ai(s.run,s.onError))))):r.pipe(ko(),(0,Qn.b)(Ai(s.run,s.onError)))}function Ai(s,r){return([n,a])=>{try{return Lt(s(n,a)).pipe((0,is.K)(h=>Lt(r(n,h))))}catch(d){return Lt(r(n,d))}}}function ko(){return s=>s.pipe((0,ae.U)(r=>{const[n,a]=function(s){let r,n;return s instanceof Array?[r,n]=s:r=s,[r,n]}(r);return[n,a]}))}function Lt(s){return function(s){return!!s&&(s instanceof pi.y||"function"==typeof s.lift&&"function"==typeof s.subscribe)}(s)?s:s?(0,fr.of)(s):(0,fr.of)()}var yu,vu=new Uint8Array(16);function Bo(){if(!yu&&!(yu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(vu)}const Y_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q_=function(s){return"string"==typeof s&&Y_.test(s)};for(var St=[],Fr=0;Fr<256;++Fr)St.push((Fr+256).toString(16).substr(1));const Ve=function(s,r,n){var a=(s=s||{}).random||(s.rng||Bo)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,r){n=n||0;for(var d=0;d<16;++d)r[n+d]=a[d];return r}return function(s){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(St[s[r+0]]+St[s[r+1]]+St[s[r+2]]+St[s[r+3]]+"-"+St[s[r+4]]+St[s[r+5]]+"-"+St[s[r+6]]+St[s[r+7]]+"-"+St[s[r+8]]+St[s[r+9]]+"-"+St[s[r+10]]+St[s[r+11]]+St[s[r+12]]+St[s[r+13]]+St[s[r+14]]+St[s[r+15]]).toLowerCase();if(!Q_(n))throw TypeError("Stringified UUID is invalid");return n}(a)},Uo=(0,y.PH)("[Start Page] Init DiscardPileCards New Game"),wi=(0,y.PH)("[Start Page] Init DiscardPileCards Saved Game"),Du=(0,y.PH)("[DiscardPileCards/API] Load DiscardPileCards Success",(0,y.Ky)()),Uh=(0,y.PH)("[DiscardPileCards/API] Load DiscardPileCards Failure",(0,y.Ky)()),jh=(0,y.PH)("[DiscardPileCards] Set DiscardPileCards On Init",(0,y.Ky)()),Si=(0,y.PH)("[DiscardPileCards] Set DiscardPileCards Error",(0,y.Ky)()),Ti=(0,y.PH)("[DiscardPileCards] Add Card To Discard Pile",(0,y.Ky)()),Hh=(0,y.PH)("[DiscardPileCards] Add DiscardPileCard",(0,y.Ky)());let $h=(()=>{class s{constructor(n){this.actions$=n,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(Uo),(0,ae.U)(()=>jh({discardPileCards:[]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(wi),Ms({run:()=>Du({discardPileCards:[]}),onError:(a,d)=>(console.error("Error",d),Uh({error:d}))}))),this.addCard$=qe(()=>this.actions$.pipe(Qe(Ti),(0,ae.U)(({card:a})=>((s,r,n)=>({id:s,cardType:r,cardId:n}))(Ve(),a.type,a.id)),(0,ae.U)(a=>Hh({discardPileCard:a}))))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();var Te=(()=>{return(s=Te||(Te={}))[s.EntitiesOnly=0]="EntitiesOnly",s[s.Both=1]="Both",s[s.None=2]="None",Te;var s})();function dt(s){return function(n,a){const d={ids:[...a.ids],entities:Be({},a.entities)},h=s(n,d);return h===Te.Both?Object.assign({},a,d):h===Te.EntitiesOnly?hn(Be({},a),{entities:d.entities}):a}}function Fn(s,r){const n=r(s);return(0,o.X6Q)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",s,"The `selectId` implementation:",r.toString()),n}function vc(s){function r(oe,ie){const ne=Fn(oe,s);return ne in ie.entities?Te.None:(ie.ids.push(ne),ie.entities[ne]=oe,Te.Both)}function n(oe,ie){let ne=!1;for(const X of oe)ne=r(X,ie)!==Te.None||ne;return ne?Te.Both:Te.None}function d(oe,ie){const ne=Fn(oe,s);return ne in ie.entities?(ie.entities[ne]=oe,Te.EntitiesOnly):(ie.ids.push(ne),ie.entities[ne]=oe,Te.Both)}function D(oe,ie){const X=(oe instanceof Array?oe:ie.ids.filter(fe=>oe(ie.entities[fe]))).filter(fe=>fe in ie.entities).map(fe=>delete ie.entities[fe]).length>0;return X&&(ie.ids=ie.ids.filter(fe=>fe in ie.entities)),X?Te.Both:Te.None}function j(oe,ie){return K([oe],ie)}function K(oe,ie){const ne={};return(oe=oe.filter(fe=>fe.id in ie.entities)).length>0?oe.filter(Ce=>function(oe,ie,ne){const fe=Object.assign({},ne.entities[ie.id],ie.changes),Ce=Fn(fe,s),ke=Ce!==ie.id;return ke&&(oe[ie.id]=Ce,delete ne.entities[ie.id]),ne.entities[Ce]=fe,ke}(ne,Ce,ie)).length>0?(ie.ids=ie.ids.map(Ce=>ne[Ce]||Ce),Te.Both):Te.EntitiesOnly:Te.None}function Ee(oe,ie){const ne=[],X=[];for(const ke of oe){const Ge=Fn(ke,s);Ge in ie.entities?X.push({id:Ge,changes:ke}):ne.push(ke)}const fe=K(X,ie),Ce=n(ne,ie);switch(!0){case Ce===Te.None&&fe===Te.None:return Te.None;case Ce===Te.Both||fe===Te.Both:return Te.Both;default:return Te.EntitiesOnly}}return{removeAll:function(oe){return Object.assign({},oe,{ids:[],entities:{}})},addOne:dt(r),addMany:dt(n),setAll:dt(function(oe,ie){return ie.ids=[],ie.entities={},n(oe,ie),Te.Both}),setOne:dt(d),setMany:dt(function(oe,ie){const ne=oe.map(X=>d(X,ie));switch(!0){case ne.some(X=>X===Te.Both):return Te.Both;case ne.some(X=>X===Te.EntitiesOnly):return Te.EntitiesOnly;default:return Te.None}}),updateOne:dt(j),updateMany:dt(K),upsertOne:dt(function(oe,ie){return Ee([oe],ie)}),upsertMany:dt(Ee),removeOne:dt(function(oe,ie){return D([oe],ie)}),removeMany:dt(D),map:dt(function(oe,ie){return K(ie.ids.reduce((fe,Ce)=>{const ke=oe(ie.entities[Ce]);return ke!==ie.entities[Ce]&&fe.push({id:Ce,changes:ke}),fe},[]).filter(({id:fe})=>fe in ie.entities),ie)}),mapOne:dt(function({map:oe,id:ie},ne){const X=ne.entities[ie];return X?j({id:ie,changes:oe(X)},ne):Te.None})}}function Is(s={}){const{selectId:r,sortComparer:n}=Be({sortComparer:!1,selectId:m=>m.id},s),a={getInitialState:function(r={}){return Object.assign({ids:[],entities:{}},r)}},d={getSelectors:function(r){const n=m=>m.ids,a=m=>m.entities,d=(0,y.P1)(n,a,(m,D)=>m.map(b=>D[b])),h=(0,y.P1)(n,m=>m.length);return r?{selectIds:(0,y.P1)(r,n),selectEntities:(0,y.P1)(r,a),selectAll:(0,y.P1)(r,d),selectTotal:(0,y.P1)(r,h)}:{selectIds:n,selectEntities:a,selectAll:d,selectTotal:h}}},h=n?function(s,r){const{removeOne:n,removeMany:a,removeAll:d}=vc(s);function h(ne,X){return m([ne],X)}function m(ne,X){const fe=ne.filter(Ce=>!(Fn(Ce,s)in X.entities));return 0===fe.length?Te.None:(ie(fe,X),Te.Both)}function b(ne,X){const fe=Fn(ne,s);return fe in X.entities?(X.ids=X.ids.filter(Ce=>Ce!==fe),ie([ne],X),Te.Both):h(ne,X)}function j(ne,X){return de([ne],X)}function de(ne,X){const fe=[],Ce=ne.filter(ke=>function(ne,X,fe){if(!(X.id in fe.entities))return!1;const ke=Object.assign({},fe.entities[X.id],X.changes),Ge=Fn(ke,s);return delete fe.entities[X.id],ne.push(ke),Ge!==X.id}(fe,ke,X)).length>0;if(0===fe.length)return Te.None;{const ke=X.ids,Ge=[];return X.ids=X.ids.filter((Mt,Wt)=>Mt in X.entities||(Ge.push(Wt),!1)),ie(fe,X),!Ce&&Ge.every(Mt=>X.ids[Mt]===ke[Mt])?Te.EntitiesOnly:Te.Both}}function oe(ne,X){const fe=[],Ce=[];for(const Mt of ne){const Wt=Fn(Mt,s);Wt in X.entities?Ce.push({id:Wt,changes:Mt}):fe.push(Mt)}const ke=de(Ce,X),Ge=m(fe,X);switch(!0){case Ge===Te.None&&ke===Te.None:return Te.None;case Ge===Te.Both||ke===Te.Both:return Te.Both;default:return Te.EntitiesOnly}}function ie(ne,X){ne.sort(r);const fe=[];let Ce=0,ke=0;for(;Ce<ne.length&&ke<X.ids.length;){const Ge=ne[Ce],Mt=Fn(Ge,s),Wt=X.ids[ke];r(Ge,X.entities[Wt])<=0?(fe.push(Mt),Ce++):(fe.push(Wt),ke++)}X.ids=fe.concat(Ce<ne.length?ne.slice(Ce).map(s):X.ids.slice(ke)),ne.forEach((Ge,Mt)=>{X.entities[s(Ge)]=Ge})}return{removeOne:n,removeMany:a,removeAll:d,addOne:dt(h),updateOne:dt(j),upsertOne:dt(function(ne,X){return oe([ne],X)}),setAll:dt(function(ne,X){return X.entities={},X.ids=[],m(ne,X),Te.Both}),setOne:dt(b),setMany:dt(function(ne,X){const fe=ne.map(Ce=>b(Ce,X));switch(!0){case fe.some(Ce=>Ce===Te.Both):return Te.Both;case fe.some(Ce=>Ce===Te.EntitiesOnly):return Te.EntitiesOnly;default:return Te.None}}),addMany:dt(m),updateMany:dt(de),upsertMany:dt(oe),map:dt(function(ne,X){return de(X.ids.reduce((Ce,ke)=>{const Ge=ne(X.entities[ke]);return Ge!==X.entities[ke]&&Ce.push({id:ke,changes:Ge}),Ce},[]),X)}),mapOne:dt(function({map:ne,id:X},fe){const Ce=fe.entities[X];return Ce?j({id:X,changes:ne(Ce)},fe):Te.None})}}(r,n):vc(r);return Be(Be(Be({selectId:r,sortComparer:n},a),d),h)}const ty="discardPileCards",as=Is(),Cu=as.getInitialState({initialized:!1,loaded:!1}),Gh=(0,y.Lq)(Cu,(0,y.on)(Uo,s=>Object.assign(Object.assign({},s),{initialized:!1})),(0,y.on)(wi,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)(Du,(s,{discardPileCards:r})=>as.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(Uh,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(jh,(s,{discardPileCards:r})=>as.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(Hh,(s,{discardPileCard:r})=>as.addOne(r,s)),(0,y.on)(Si,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r}))),Ps=(0,y.ZF)(ty),{selectAll:Au,selectEntities:Zh}=as.getSelectors(),ny=(0,y.P1)(Ps,s=>s.loaded),ry=((0,y.P1)(Ps,s=>s.errorMsg),(0,y.P1)(Ps,s=>Au(s))),sy=(0,y.P1)(Ps,s=>[...Au(s)].reverse()),iy=(0,y.P1)(Ps,s=>Zh(s)),cs=(0,y.P1)(Ps,s=>s.selectedId),jo=(0,y.P1)(iy,cs,(s,r)=>{if(void 0!==r)return s[r]});let bu=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(ny)),this.allDiscardPileCards$=this.store.pipe((0,y.Ys)(ry)),this.allDiscardPileCardsReverse$=this.store.pipe((0,y.Ys)(sy)),this.selectedDiscardPileCards$=this.store.pipe((0,y.Ys)(jo))}initNewGame(){this.store.dispatch(Uo())}initSavedGame(){this.store.dispatch(wi())}addCardToDiscardPile(n){this.store.dispatch(Ti({card:n}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const oy=(s,r)=>({id:s,color:r});var Ke=(()=>{return(s=Ke||(Ke={})).Red="RED",s.Blue="BLUE",Ke;var s})(),Os=(()=>{return(s=Os||(Os={}))[s.Lower=-2]="Lower",s[s.Low=-1]="Low",s[s.Middle=0]="Middle",s[s.Up=1]="Up",s[s.Upper=2]="Upper",Os;var s})();const mt="DOMAIN_RED",_t="DOMAIN_BLUE",wu=new Map([[mt,oy(mt,Ke.Red)],[_t,oy(_t,Ke.Blue)]]),yt="LandCard",Ec="AvailableLandSlot",ft=(s,r,n,a)=>({interface:yt,id:s,type:r,die:n,color:a,print:()=>`${r}`});var ue=(()=>{return(s=ue||(ue={})).Clay="CLAY",s.Wood="WOOD",s.Gold="GOLD",s.Wheat="WHEAT",s.Stone="STONE",s.Wool="WOOL",ue;var s})(),$e=(()=>{return(s=$e||($e={})).ClayPit="CLAYPIT",s.Forest="FOREST",s.GoldMine="GOLDMINE",s.Field="FIELD",s.StoneQuarry="STONEQUARRY",s.Pasture="PASTURE",$e;var s})();const Jn=[0,1,2,3],Dc="CLAY_PIT_RED",xn="FOREST_RED",Fs="GOLD_MINE_RED",Cc="FIELD_RED",Ac="STONE_QUARRY_RED",bc="PASTURE_RED",Wh="CLAY_PIT_BLUE",qh="FOREST_BLUE",Kh="GOLD_MINE_BLUE",Ho="FIELD_BLUE",$o="STONE_QUARRY_BLUE",Go="PASTURE_BLUE",Ii=new Map([[Dc,ft(Dc,$e.ClayPit,3,Ke.Red)],[xn,ft(xn,$e.Forest,2,Ke.Red)],[Fs,ft(Fs,$e.GoldMine,1,Ke.Red)],[Cc,ft(Cc,$e.Field,6,Ke.Red)],[Ac,ft(Ac,$e.StoneQuarry,5,Ke.Red)],[bc,ft(bc,$e.Pasture,4,Ke.Red)],[Wh,ft(Wh,$e.ClayPit,2,Ke.Blue)],[qh,ft(qh,$e.Forest,3,Ke.Blue)],[Kh,ft(Kh,$e.GoldMine,4,Ke.Blue)],[Ho,ft(Ho,$e.Field,5,Ke.Blue)],[$o,ft($o,$e.StoneQuarry,6,Ke.Blue)],[Go,ft(Go,$e.Pasture,1,Ke.Blue)],["LAND_1",ft("LAND_1",$e.ClayPit,1)],["LAND_2",ft("LAND_2",$e.Field,1)],["LAND_3",ft("LAND_3",$e.GoldMine,2)],["LAND_4",ft("LAND_4",$e.StoneQuarry,2)],["LAND_5",ft("LAND_5",$e.Field,3)],["LAND_6",ft("LAND_6",$e.GoldMine,3)],["LAND_7",ft("LAND_7",$e.Forest,4)],["LAND_8",ft("LAND_8",$e.StoneQuarry,4)],["LAND_9",ft("LAND_9",$e.ClayPit,5)],["LAND_10",ft("LAND_10",$e.Pasture,5)],["LAND_11",ft("LAND_11",$e.Forest,6)],["LAND_12",ft("LAND_12",$e.Pasture,6)]]);var Yh=E(5894),zh=E(7879);function Su(...s){if(1===s.length){const r=s[0];if((0,Yh.k)(r))return wc(r,null);if((0,zh.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const n=Object.keys(r);return wc(n.map(a=>r[a]),n)}}if("function"==typeof s[s.length-1]){const r=s.pop();return wc(s=1===s.length&&(0,Yh.k)(s[0])?s[0]:s,null).pipe((0,ae.U)(n=>r(...n)))}return wc(s,null)}function wc(s,r){return new pi.y(n=>{const a=s.length;if(0===a)return void n.complete();const d=new Array(a);let h=0,m=0;for(let D=0;D<a;D++){const b=(0,gc.D)(s[D]);let R=!1;n.add(b.subscribe({next:j=>{R||(R=!0,m++),d[D]=j},error:j=>n.error(j),complete:()=>{h++,(h===a||!R)&&(m===a&&n.next(r?r.reduce((j,K,de)=>(j[K]=d[de],j),{}):d),n.complete())}}))}})}var Zo=E(5571);const Tu=(0,y.PH)("[Start Page] Init DomainsCards New Game"),Sc=(0,y.PH)("[Start Page] Init DomainsCards Saved Game"),Wo=(0,y.PH)("[DomainsCards/API] Load DomainsCards Success",(0,y.Ky)()),Qh=(0,y.PH)("[DomainsCards/API] Load DomainsCards Failure",(0,y.Ky)()),Tc=(0,y.PH)("[DomainsCards] Set DomainsCards On Init",(0,y.Ky)()),Jh=(0,y.PH)("[DomainsCards] Increase Available Resources For Die",(0,y.Ky)()),Tt=(0,y.PH)("[DomainsCards] Increase Available Resources For Auspicious Year"),Xh=(0,y.PH)("[DomainsCards] Increase Available Resources",(0,y.Ky)()),qo=(0,y.PH)("[DomainsCards] Update DomainCard",(0,y.Ky)()),xs=(0,y.PH)("[DomainsCards] Update DomainsCards",(0,y.Ky)()),Mu=(0,y.PH)("[DomainsCards] Add DomainCard",(0,y.Ky)()),ep=(0,y.PH)("[DomainsCards] Lock Resource",(0,y.Ky)()),tp=(0,y.PH)("[DomainsCards] Unlock Resources",(0,y.Ky)()),np=(0,y.PH)("[DomainsCards] Use Locked Resources"),rp=(0,y.PH)("[DomainsCards] Give Locked Resources"),sp=(0,y.PH)("[DomainsCards] Toggle DomainCard Selection",(0,y.Ky)()),ay=(0,y.PH)("[DomainsCards] Clear DomainCards Selection"),cy=(0,y.PH)("[DomainsCards] Put Card In Pivot",(0,y.Ky)()),xr=(0,y.PH)("[DomainsCards] Set DomainsCards Error",(0,y.Ky)()),Jt=(0,y.PH)("[DomainsCards] Create DomainCard",(0,y.Ky)()),Mc=(0,y.PH)("[DomainsCards] Count And Steal Unprotected Gold And Wool"),Iu=(0,y.PH)("[DomainsCards] Swap Selected Cards"),Pu=(0,y.PH)("[DomainsCards] Remove DomainCard",(0,y.Ky)());var ht=(()=>{return(s=ht||(ht={})).Road="ROAD",s.Hamlet="HAMLET",s.Town="TOWN",ht;var s})();const Xt="AgglomerationCard",Nr="AvailableAgglomerationSlot",Ou=(s,r,n,a,d)=>({interface:Xt,id:s,cost:r,type:n,victoryPoints:a,color:d,print:()=>`type: ${n}`});function Rr(s,r){return Ou(s,new Map([[ue.Wood,1],[ue.Clay,2]]),ht.Road,0,r)}function hr(s,r){return Ou(s,new Map([[ue.Wood,1],[ue.Clay,1],[ue.Wool,1],[ue.Wheat,1]]),ht.Hamlet,1,r)}function Ns(s,r){return Ou(s,new Map([[ue.Wheat,2],[ue.Stone,3]]),ht.Town,2,r)}const Fu="ROAD_RED",Ic="HAMLET_RED_1",xu="HAMLET_RED_2",Nu="ROAD_BLUE",Ru="HAMLET_BLUE_1",Ko="HAMLET_BLUE_2",Yo=new Map([[Fu,Rr(Fu,Ke.Red)],[Nu,Rr(Nu,Ke.Blue)],["ROAD_1",Rr("ROAD_1")],["ROAD_2",Rr("ROAD_2")],["ROAD_3",Rr("ROAD_3")],["ROAD_4",Rr("ROAD_4")],["ROAD_5",Rr("ROAD_5")],["ROAD_6",Rr("ROAD_6")],["ROAD_7",Rr("ROAD_7")],[Ic,hr(Ic,Ke.Red)],[xu,hr(xu,Ke.Red)],[Ru,hr(Ru,Ke.Blue)],[Ko,hr(Ko,Ke.Blue)],["HAMLET_1",hr("HAMLET_1")],["HAMLET_2",hr("HAMLET_2")],["HAMLET_3",hr("HAMLET_3")],["HAMLET_4",hr("HAMLET_4")],["HAMLET_5",hr("HAMLET_5")],["TOWN_1",Ns("TOWN_1")],["TOWN_2",Ns("TOWN_2")],["TOWN_3",Ns("TOWN_3")],["TOWN_4",Ns("TOWN_4")],["TOWN_5",Ns("TOWN_5")],["TOWN_6",Ns("TOWN_6")],["TOWN_7",Ns("TOWN_7")]]);var Rs=(()=>{return(s=Rs||(Rs={})).Building="BUILDING",s.Ship="SHIP",s.Warrior="WARRIOR",Rs;var s})(),ut=(()=>{return(s=ut||(ut={})).Brickyard="Brickyard",s.Sawmill="Sawmill",s.Mill="Mill",s.Foundry="Foundry",s.Weaving="Weaving",s.Warehouse="Warehouse",s.Market="Market",s.TollBridge="Toll bridge",s.Monastery="Monastery",s.CommunityCenter="Community center",ut;var s})();const uy=new Map([[ue.Clay,`Merchant ship - ${ue.Clay}`],[ue.Wood,`Merchant ship - ${ue.Wood}`],[ue.Gold,`Merchant ship - ${ue.Gold}`],[ue.Wheat,`Merchant ship - ${ue.Wheat}`],[ue.Stone,`Merchant ship - ${ue.Stone}`],[ue.Wool,`Merchant ship - ${ue.Wool}`],["ANY","Great merchant ship"]]);var Lr=(()=>{return(s=Lr||(Lr={})).Altair="Alta\xefr",s.Ezio="Ezio",s.Evie="Evie",s.Jacob="Jacob",s.Kassandra="Kassandra",s.Alexios="Alexios",Lr;var s})(),bn=(()=>{return(s=bn||(bn={})).Trade="TRADE",s.Strength="STRENGTH",bn;var s})();const kr="DevelopmentCard",wn="AvailableDevelopmentSlot",Lu=(s,r,n,a)=>({interface:kr,id:s,name:r,cost:n,type:a});function _n(s,r,n,a,d,h,m){const D=Lu(s,r,n,Rs.Building);return D.tradePoints=a,D.givesKnowledge=d,D.noDuplicate=h,D.victoryPoints=m,D}function Ls(s,r){const n=uy.get(r);if(void 0===n)throw new Error(`Can't find ship name for type ${r}`);const a=Lu(s,n,new Map([[ue.Wood,1],[ue.Wool,1]]),Rs.Ship);return a.tradePoints=1,a}function ks(s,r,n,a,d){const h=Lu(s,r,n,Rs.Warrior);return h.strengthPoints=a,h.celebrationPoints=d,h}const Je=(s,r,n,a,d,h,m=0,D=0)=>({id:s,domainId:r,cardType:n,cardId:a,col:d,row:h,availableResources:m,lockedResources:D}),Xn=new Map([["BUILDING_1",_n("BUILDING_1",ut.Brickyard,new Map([[ue.Clay,1],[ue.Stone,1]]))],["BUILDING_2",_n("BUILDING_2",ut.Sawmill,new Map([[ue.Wood,1],[ue.Stone,1]]))],["BUILDING_3",_n("BUILDING_3",ut.Mill,new Map([[ue.Wood,1],[ue.Wheat,1]]))],["BUILDING_4",_n("BUILDING_4",ut.Foundry,new Map([[ue.Clay,1],[ue.Stone,1]]))],["BUILDING_5",_n("BUILDING_5",ut.Weaving,new Map([[ue.Wood,1],[ue.Wool,1]]))],["BUILDING_6",_n("BUILDING_6",ut.Warehouse,new Map([[ue.Wood,1],[ue.Wool,1]]))],["BUILDING_7",_n("BUILDING_7",ut.Warehouse,new Map([[ue.Wood,1],[ue.Wool,1]]))],["BUILDING_8",_n("BUILDING_8",ut.Market,new Map([[ue.Wheat,1],[ue.Wool,1]]),1,!1,!0)],["BUILDING_9",_n("BUILDING_9",ut.Market,new Map([[ue.Wheat,1],[ue.Wool,1]]),1,!1,!0)],["BUILDING_10",_n("BUILDING_10",ut.TollBridge,new Map([[ue.Wool,1],[ue.Clay,1]]),1)],["BUILDING_11",_n("BUILDING_11",ut.Monastery,new Map([[ue.Clay,1],[ue.Wheat,1],[ue.Stone,1]]),0,!0,!0)],["BUILDING_12",_n("BUILDING_12",ut.Monastery,new Map([[ue.Clay,1],[ue.Wheat,1],[ue.Stone,1]]),0,!0,!0)],["BUILDING_13",_n("BUILDING_13",ut.CommunityCenter,new Map([[ue.Clay,1],[ue.Wheat,1]]),0,!1,!0)],["BUILDING_14",_n("BUILDING_14",ut.CommunityCenter,new Map([[ue.Clay,1],[ue.Wheat,1]]),0,!1,!0)],["SHIP_1",Ls("SHIP_1",ue.Clay)],["SHIP_2",Ls("SHIP_2",ue.Wood)],["SHIP_3",Ls("SHIP_3",ue.Gold)],["SHIP_4",Ls("SHIP_4",ue.Wheat)],["SHIP_5",Ls("SHIP_5",ue.Stone)],["SHIP_6",Ls("SHIP_6",ue.Wool)],["SHIP_7",Ls("SHIP_7","ANY")],["WARRIOR_1",ks("WARRIOR_1",Lr.Altair,new Map([[ue.Wheat,1],[ue.Stone,1]]),1,1)],["WARRIOR_2",ks("WARRIOR_2",Lr.Ezio,new Map([[ue.Wheat,1],[ue.Stone,1]]),2,1)],["WARRIOR_3",ks("WARRIOR_3",Lr.Evie,new Map([[ue.Wheat,1],[ue.Wool,1],[ue.Stone,1]]),1,3)],["WARRIOR_4",ks("WARRIOR_4",Lr.Jacob,new Map([[ue.Wheat,1],[ue.Wool,1],[ue.Stone,1]]),2,2)],["WARRIOR_5",ks("WARRIOR_5",Lr.Kassandra,new Map([[ue.Wool,2],[ue.Wheat,1],[ue.Stone,1]]),2,3)],["WARRIOR_6",ks("WARRIOR_6",Lr.Alexios,new Map([[ue.Wool,2],[ue.Wheat,1],[ue.Stone,1]]),4,1)]]),ku="domainsCards",ls=Is(),fy=ls.getInitialState({selectedIds:[],initialized:!1,loaded:!1}),hy=(0,y.Lq)(fy,(0,y.on)(Tu,s=>Object.assign(Object.assign({},s),{initialized:!1})),(0,y.on)(Sc,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)(Wo,(s,{domainsCards:r})=>ls.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(Qh,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(Tc,(s,{domainsCards:r})=>ls.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(qo,(s,{update:r})=>ls.updateOne(r,s)),(0,y.on)(xs,(s,{updates:r})=>ls.updateMany(r,s)),(0,y.on)(Mu,(s,{domainCard:r})=>ls.addOne(r,s)),(0,y.on)(sp,(s,{id:r})=>{const n=s.selectedIds.find(d=>d===r);let a;return a=void 0===n?[...s.selectedIds,r]:s.selectedIds.filter(d=>d!==n),Object.assign(Object.assign({},s),{selectedIds:a})}),(0,y.on)(ay,s=>Object.assign(Object.assign({},s),{selectedIds:[]})),(0,y.on)(Iu,s=>{const r=s.entities[s.selectedIds[0]],n=s.entities[s.selectedIds[1]];if(void 0===r||void 0===n)throw new Error("Something went wrong, card0 and card1 shouldn't be undefined at this point.");const a=Object.assign(Object.assign({},r),{col:n.col,row:n.row}),d=Object.assign(Object.assign({},n),{col:r.col,row:r.row});return Object.assign(Object.assign({},s),{entities:Object.assign(Object.assign({},s.entities),{[r.id]:a,[n.id]:d})})}),(0,y.on)(Pu,(s,{id:r})=>ls.removeOne(r,s)),(0,y.on)(xr,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r}))),pr=(0,y.ZF)(ku),{selectAll:gr,selectEntities:bC}=ls.getSelectors(),wC=(0,y.P1)(pr,s=>s.loaded),en=((0,y.P1)(pr,s=>s.errorMsg),(0,y.P1)(pr,s=>gr(s))),mr=(0,y.P1)(pr,s=>bC(s)),Vu=(0,y.P1)(pr,s=>s.selectedIds),Oc=(0,y.P1)(mr,Vu,(s,r)=>r.map(n=>s[n]).filter(n=>void 0!==n)),gy=(0,y.P1)(en,(s,r)=>s.filter(n=>{const a=Pi(n,r.die);return void 0!==a&&!fp(n,s,a.type)})),ip=(0,y.P1)(en,(s,r)=>s.filter(n=>{const a=Pi(n,r.die);return void 0!==a&&fp(n,s,a.type)})),Pi=(s,r)=>{if(s.cardType===yt&&void 0!==s.cardId){const n=Ii.get(s.cardId);if(void 0!==n&&n.die===r)return n}},zo=(0,y.P1)(en,(s,r)=>s.filter(n=>n.cardType===yt&&void 0!==n.cardId&&void 0!==Ii.get(n.cardId)&&_y(n,s,r.count))),op=(0,y.P1)(en,(s,r)=>s.find(n=>n.cardType===yt&&n.id===r.id)),Fc=(0,y.P1)(en,s=>s.filter(r=>r.cardType===yt&&r.lockedResources>0)),Bu=(0,y.P1)(en,(s,r)=>Math.min(...s.filter(n=>n.domainId===r.domainId).map(n=>n.col))),ap=(0,y.P1)(en,(s,r)=>Math.max(...s.filter(n=>n.domainId===r.domainId).map(n=>n.col))),SC=(0,y.P1)(en,(s,r)=>Math.min(...s.filter(n=>n.domainId===r.domainId).map(n=>n.row))),Oi=(0,y.P1)(en,(s,r)=>Math.max(...s.filter(n=>n.domainId===r.domainId).map(n=>n.row))),Uu=(0,y.P1)(en,(s,r)=>{const n=s.filter(m=>m.domainId===mt),a=s.filter(m=>m.domainId===_t),d=lp(n,r.type),h=lp(a,r.type);return ju(d,h)}),lp=(s,r)=>s.filter(n=>n.cardType===kr&&void 0!==n.cardId).map(n=>Xn.get(n.cardId)).filter(n=>void 0!==n).map(n=>((s,r)=>{switch(r){case bn.Trade:return s.tradePoints||0;case bn.Strength:return s.strengthPoints||0}})(n,r)).reduce((n,a)=>n+a,0),ju=(s,r)=>s>r&&s>2?mt:r>s&&r>2?_t:void 0,up=(0,y.P1)(en,(s,r)=>s.filter(n=>n.domainId===r.domainId&&n.cardType===yt&&!hp(n,s)).reduce((n,a)=>n+a.availableResources,0)),dp=(0,y.P1)(en,(s,r)=>s.filter(n=>{var a,d;return n.domainId===r.domainId&&n.cardType===yt&&void 0!==n.cardId&&((null===(a=Ii.get(n.cardId))||void 0===a?void 0:a.type)===$e.GoldMine||(null===(d=Ii.get(n.cardId))||void 0===d?void 0:d.type)===$e.Pasture)&&!hp(n,s)})),fp=(s,r,n)=>void 0!==xc(s,r).find(d=>void 0!==d.cardId&&my(d.cardId,n)),my=(s,r)=>{var n;const a=null===(n=Xn.get(s))||void 0===n?void 0:n.name;switch(r){case $e.ClayPit:return a===ut.Brickyard;case $e.Forest:return a===ut.Sawmill;case $e.Field:return a===ut.Mill;case $e.StoneQuarry:return a===ut.Foundry;case $e.Pasture:return a===ut.Weaving;case $e.GoldMine:return!1}},hp=(s,r)=>void 0!==xc(s,r).find(a=>{var d;return void 0!==a.cardId&&(null===(d=Xn.get(a.cardId))||void 0===d?void 0:d.name)===ut.Warehouse}),_y=(s,r,n)=>xc(s,r).filter(d=>{var h,m;return void 0!==d.cardId&&((null===(h=Xn.get(d.cardId))||void 0===h?void 0:h.name)===ut.Warehouse||(null===(m=Xn.get(d.cardId))||void 0===m?void 0:m.name)===ut.Monastery)}).length===n,xc=(s,r)=>r.filter(n=>n.domainId===s.domainId&&(n.col===s.col-1||n.col===s.col+1)&&(s.row<0?n.row<0:n.row>=0));let vy=(()=>{class s{constructor(n,a){this.actions$=n,this.domainsCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(Tu),(0,ae.U)(()=>Tc({domainsCards:[Je(Ve(),mt,Xt,Fu,0,0),Je(Ve(),mt,Xt,Ic,-1,0),Je(Ve(),mt,Nr,void 0,-2,0),Je(Ve(),mt,Xt,xu,1,0),Je(Ve(),mt,Nr,void 0,2,0),Je(Ve(),mt,yt,Dc,-2,-1,1),Je(Ve(),mt,yt,xn,-2,1,1),Je(Ve(),mt,wn,void 0,-1,1),Je(Ve(),mt,yt,Fs,0,1,0),Je(Ve(),mt,wn,void 0,1,1),Je(Ve(),mt,yt,Cc,2,1,1),Je(Ve(),mt,yt,Ac,2,-1,1),Je(Ve(),mt,wn,void 0,1,-1),Je(Ve(),mt,yt,bc,0,-1,1),Je(Ve(),mt,wn,void 0,-1,-1),Je(Ve(),_t,Xt,Nu,0,0),Je(Ve(),_t,Xt,Ru,-1,0),Je(Ve(),_t,Nr,void 0,-2,0),Je(Ve(),_t,Xt,Ko,1,0),Je(Ve(),_t,Nr,void 0,2,0),Je(Ve(),_t,yt,Wh,-2,-1,1),Je(Ve(),_t,yt,qh,-2,1,1),Je(Ve(),_t,wn,void 0,-1,1),Je(Ve(),_t,yt,Kh,0,1,0),Je(Ve(),_t,wn,void 0,1,1),Je(Ve(),_t,yt,Ho,2,1,1),Je(Ve(),_t,yt,$o,2,-1,1),Je(Ve(),_t,wn,void 0,1,-1),Je(Ve(),_t,yt,Go,0,-1,1),Je(Ve(),_t,wn,void 0,-1,-1)]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(Sc),Ms({run:()=>Wo({domainsCards:[]}),onError:(d,h)=>(console.error("Error",h),Qh({error:h}))}))),this.increaseResourcesForDie$=qe(()=>this.actions$.pipe(Qe(Jh),(0,Qn.b)(d=>Su({increaseOne:this.domainsCardsStore.pipe((0,y.Ys)(gy,{die:d.die}),(0,jt.q)(1)),increaseTwo:this.domainsCardsStore.pipe((0,y.Ys)(ip,{die:d.die}),(0,jt.q)(1))})),(0,ae.U)(({increaseOne:d,increaseTwo:h})=>{const m=this.updatesAvailableResources(d,1),D=this.updatesAvailableResources(h,2);return xs({updates:[...m,...D]})}))),this.increaseResourcesAuspiciousYear$=qe(()=>this.actions$.pipe(Qe(Tt),(0,Zo.M)(this.domainsCardsStore.select(zo,{count:1}),this.domainsCardsStore.select(zo,{count:2}),this.domainsCardsStore.select(zo,{count:3}),this.domainsCardsStore.select(zo,{count:4})),(0,ae.U)(([d,h,m,D,b])=>{const R=this.updatesAvailableResources(h,1),j=this.updatesAvailableResources(m,2),K=this.updatesAvailableResources(D,3),de=this.updatesAvailableResources(b,4);return xs({updates:[...R,...j,...K,...de]})}))),this.lockResource$=qe(()=>this.actions$.pipe(Qe(ep),(0,Qn.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,ae.U)(h=>{if(0===h.availableResources)throw new Error(`Can't lock unavailable resource for pivot ${h.id}.`);if(h.lockedResources===Math.max(...Jn))throw new Error(`Can't lock more resources for pivot ${h.id}.`);return qo({update:{id:h.id,changes:{availableResources:h.availableResources-1,lockedResources:h.lockedResources+1}}})}),(0,is.K)(h=>(0,fr.of)(xr({error:h.message}))))))),this.unlockResources$=qe(()=>this.actions$.pipe(Qe(tp),(0,Qn.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,ae.U)(h=>{if(h.availableResources+h.lockedResources>Math.max(...Jn))throw new Error(`Shouldn't have been able to lock so many resources for pivot ${h.id}.`);return qo({update:{id:h.id,changes:{availableResources:h.availableResources+h.lockedResources,lockedResources:0}}})}),(0,is.K)(h=>(0,fr.of)(xr({error:h.message}))))))),this.useLockedResources$=qe(()=>this.actions$.pipe(Qe(np),(0,Zo.M)(this.domainsCardsStore.select(Fc)),(0,ae.U)(([d,h])=>{const m=h.map(D=>({id:D.id,changes:{lockedResources:0}}));return xs({updates:m})}))),this.giveLockedResources$=qe(()=>this.actions$.pipe(Qe(rp),(0,Zo.M)(this.domainsCardsStore.select(Fc)),(0,Qn.b)(([d,h])=>this.domainsCardsStore.pipe((0,y.Ys)(Oc),(0,jt.q)(1),(0,ae.U)(m=>{if(0===h.length)throw new Error("Can't give locked resources if no pivots with locked resources.");const b=this.getLandCardFromPivot(h[0]);let R=0;h.forEach(Ee=>{if(this.getLandCardFromPivot(Ee).type!==b.type)throw new Error("Can't give locked resources of different types.");R+=Ee.lockedResources});const j=h.map(Ee=>({id:Ee.id,changes:{lockedResources:0}}));if(1!==m.length)throw new Error("Can't give locked resources if no pivot or more than one pivot selected.");const K=m[0];if(this.getLandCardFromPivot(K).type!==b.type)throw new Error("Can't give locked resources to pivot of different type.");const ge=K.availableResources+R;if(ge>Math.max(...Jn))throw new Error("Can't give so many locked resources to selected pivot.");return xs({updates:[...j,{id:K.id,changes:{availableResources:ge}}]})}),(0,is.K)(m=>(0,fr.of)(xr({error:m.message}))))))),this.increaseResources$=qe(()=>this.actions$.pipe(Qe(Xh),(0,Qn.b)(d=>this.takeOneDefinedPivotOrThrow(d.id).pipe((0,ae.U)(h=>{if(h.availableResources===Math.max(...Jn))throw new Error(`Can't increase available resources beyond maximum for pivot ${h.id}.`);return qo({update:{id:h.id,changes:{availableResources:h.availableResources+1}}})}),(0,is.K)(h=>(0,fr.of)(xr({error:h.message}))))))),this.putCardInPivot$=qe(()=>this.actions$.pipe(Qe(cy),(0,ae.U)(d=>qo({update:{id:d.id,changes:{cardType:d.cardType,cardId:d.cardId}}})))),this.createCard$=qe(()=>this.actions$.pipe(Qe(Jt),(0,ae.U)(({domainId:d,cardType:h,cardId:m,col:D,row:b})=>{const R=Je(Ve(),d,h,m,D,b);return Mu({domainCard:R})}))),this.countStealResources$=qe(()=>this.actions$.pipe(Qe(Mc),(0,Zo.M)(this.domainsCardsStore.select(up,{domainId:mt}),this.domainsCardsStore.select(up,{domainId:_t}),this.domainsCardsStore.select(dp,{domainId:mt}),this.domainsCardsStore.select(dp,{domainId:_t})),(0,ae.U)(([d,h,m,D,b])=>{let j=[];return h>7&&(j=[...j,...D]),m>7&&(j=[...j,...b]),j}),(0,ae.U)(d=>{const h=d.map(m=>({id:m.id,changes:{availableResources:0}}));return xs({updates:h})}))),this.updatesAvailableResources=(d,h)=>[...d.filter(b=>b.availableResources<Math.max(...Jn)-h).map(b=>({id:b.id,changes:{availableResources:b.availableResources+h}})),...d.filter(b=>b.availableResources>=Math.max(...Jn)-h&&b.availableResources<Math.max(...Jn)).map(b=>({id:b.id,changes:{availableResources:Math.max(...Jn)}}))]}takeOneDefinedPivotOrThrow(n){return this.domainsCardsStore.pipe((0,y.Ys)(op,{id:n}),(0,ae.U)(a=>{if(void 0===a)throw new Error("Couldn't find land card pivot for id.");return a}),(0,jt.q)(1))}getLandCardFromPivot(n){if(void 0===n.cardId)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");const a=Ii.get(n.cardId);if(void 0===a)throw new Error("Something went wrong, land shouldn't be undefined at this point.");return a}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os),o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),Nc=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(wC)),this.allDomainsCards$=this.store.pipe((0,y.Ys)(en)),this.selectedDomainsCards$=this.store.pipe((0,y.Ys)(Oc))}initNewGame(){this.store.dispatch(Tu())}initSavedGame(){this.store.dispatch(Sc())}lockResource(n){this.store.dispatch(ep({id:n}))}unlockResources(n){this.store.dispatch(tp({id:n}))}increaseResources(n){this.store.dispatch(Xh({id:n}))}increaseResourcesForDie(n){this.store.dispatch(Jh({die:n}))}increaseResourcesForAuspiciousYear(){this.store.dispatch(Tt())}useLockedResources(){this.store.dispatch(np())}giveLockedResources(){this.store.dispatch(rp())}toggleDomainCardSelection(n){this.store.dispatch(sp({id:n}))}clearDomainCardSelection(){this.store.dispatch(ay())}putCardInSlot(n,a,d){this.store.dispatch(cy({id:n,cardType:a,cardId:d}))}createAvailableDomainCard(n,a,d,h){this.store.dispatch(Jt({domainId:n,cardType:a,cardId:void 0,col:d,row:h}))}countAndStealUnprotectedGoldAndWool(){this.store.dispatch(Mc())}swapSelectedCards(){this.store.dispatch(Iu())}removeDomainCard(n){this.store.dispatch(Pu({id:n}))}getDomainMinCol(n){return this.store.pipe((0,y.Ys)(Bu,{domainId:n}))}getDomainMaxCol(n){return this.store.pipe((0,y.Ys)(ap,{domainId:n}))}getDomainMinRow(n){return this.store.pipe((0,y.Ys)(SC,{domainId:n}))}getDomainMaxRow(n){return this.store.pipe((0,y.Ys)(Oi,{domainId:n}))}getMasteryDomainForType(n){return this.store.pipe((0,y.Ys)(Uu,{type:n}))}getCardsVictoryPointsForDomain(n){return this.store.select((s=>(0,y.P1)(en,r=>r.filter(n=>n.domainId===s&&void 0!==n.cardId).map(n=>{var a,d;switch(n.cardType){case Xt:return(null===(a=Yo.get(n.cardId))||void 0===a?void 0:a.victoryPoints)||0;case kr:return(null===(d=Xn.get(n.cardId))||void 0===d?void 0:d.victoryPoints)||0;default:return 0}}).reduce((n,a)=>n+a,0)))(n))}getMerchantShipCountForDomain(n){return this.store.select((s=>(0,y.P1)(en,r=>r.filter(n=>n.domainId===s&&void 0!==n.cardId).map(n=>Xn.get(n.cardId)).filter(n=>void 0!==n).filter(n=>n.type===Rs.Ship).length))(n))}getCelebrationPointsForDomain(n){return this.store.select((s=>(0,y.P1)(en,r=>r.filter(n=>n.domainId===s&&void 0!==n.cardId).map(n=>Xn.get(n.cardId)).filter(n=>void 0!==n).map(n=>n.celebrationPoints||0).reduce((n,a)=>n+a,0)))(n))}hasDomainCommunityCenter(n){return this.store.select((s=>(0,y.P1)(en,r=>r.filter(n=>n.domainId===s&&void 0!==n.cardId).map(n=>Xn.get(n.cardId)).filter(n=>void 0!==n).filter(n=>n.name===ut.CommunityCenter).length>0))(n))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const Rc=(0,y.PH)("[Start Page] Init EventsPileCards New Game"),Vr=(0,y.PH)("[Start Page] Init EventsPileCards Saved Game"),Gu=(0,y.PH)("[EventsPileCards/API] Load EventsPileCards Success",(0,y.Ky)()),Zu=(0,y.PH)("[EventsPileCards/API] Load EventsPileCards Failure",(0,y.Ky)()),gp=(0,y.PH)("[Game Rules] Reset Events Pile"),Qo=(0,y.PH)("[EventsPileCards] Select First Events Pile Card"),mp=(0,y.PH)("[EventsPileCards] Remove Selected Events Pile Card"),Wu=(0,y.PH)("[EventsPileCards] Set Entities Select First EventsPileCards",(0,y.Ky)()),qu=(0,y.PH)("[EventsPileCards] Set EventsPileCards Initialized Status",(0,y.Ky)()),_p=(0,y.PH)("[EventsPileCards] Set EventsPileCards Error",(0,y.Ky)()),Jo=((0,y.PH)("[EventsPileCards] Select Events Pile Card",(0,y.Ky)()),(0,y.PH)("[EventsPileCards] Unselect Events Pile Card"),(0,y.PH)("[EventsPileCards] Remove Events Pile Card",(0,y.Ky)()),"DevelopmentCard"),_r=(s,r,n)=>({interface:Jo,id:s,name:r,ruleIds:n});var cn=(()=>{return(s=cn||(cn={})).Festival="Festival",s.AuspiciousYear="Auspicious year",s.Hawker="Hawker",s.Invention="Invention",s.MerchantShipTravel="Merchant ship travel",s.Quarrel="Quarrel",s.SiblingRivalry="Sibling rivalry",cn;var s})();const Fi=new Map([["EVENT_0",_r("EVENT_0",cn.Festival,[])],["EVENT_1",_r("EVENT_1",cn.AuspiciousYear,[])],["EVENT_2",_r("EVENT_2",cn.AuspiciousYear,[])],["EVENT_3",_r("EVENT_3",cn.Hawker,[])],["EVENT_4",_r("EVENT_4",cn.Hawker,[])],["EVENT_5",_r("EVENT_5",cn.Invention,[])],["EVENT_6",_r("EVENT_6",cn.MerchantShipTravel,[])],["EVENT_7",_r("EVENT_7",cn.Quarrel,[])],["EVENT_8",_r("EVENT_8",cn.SiblingRivalry,[])]]);var Xo=E(8521),Yu=E.n(Xo);const Dp=()=>{const r=Yu()(Array.from(Fi.keys()).slice(1));return r.splice(-3,0,"EVENT_0"),r.map(a=>((s,r)=>({id:s,cardId:r}))(Ve(),a))};let Dy=(()=>{class s{constructor(n,a){this.actions$=n,this.eventsPileCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(Rc),(0,ae.U)(()=>qu({eventsPileCards:Dp()})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(Vr),Ms({run:()=>Gu({eventsPileCards:[]}),onError:(d,h)=>(console.error("Error",h),Zu({error:h}))}))),this.resetPileAndSelectFirst$=qe(()=>this.actions$.pipe(Qe(gp),(0,ae.U)(()=>Wu({eventsPileCards:Dp()}))))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os),o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const zu="eventsPileCards",us=Is(),Cp=us.getInitialState({initialized:!1,loaded:!1}),TC=(0,y.Lq)(Cp,(0,y.on)(Rc,s=>Object.assign(Object.assign({},s),{initialized:!1,selectedId:void 0})),(0,y.on)(Vr,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)(Gu,(s,{eventsPileCards:r})=>us.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(Zu,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(_p,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(qu,(s,{eventsPileCards:r})=>us.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(Wu,(s,{eventsPileCards:r})=>us.setAll(r,Object.assign(Object.assign({},s),{selectedId:r[0].id}))),(0,y.on)(Qo,s=>Object.assign(Object.assign({},s),{selectedId:s.ids[0]})),(0,y.on)(mp,s=>{const r=Object.assign(Object.assign({},s),{selectedId:void 0});return void 0!==s.selectedId?us.removeOne(s.selectedId,r):r})),xi=(0,y.ZF)(zu),{selectAll:Cy,selectEntities:Ap}=us.getSelectors(),Ay=(0,y.P1)(xi,s=>s.loaded),er=((0,y.P1)(xi,s=>s.errorMsg),(0,y.P1)(xi,s=>Cy(s))),by=(0,y.P1)(xi,s=>Ap(s)),bp=(0,y.P1)(xi,s=>s.selectedId),wy=(0,y.P1)(by,bp,(s,r)=>{if(void 0!==r)return s[r]});let Qu=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Ay)),this.allEventsPileCards$=this.store.pipe((0,y.Ys)(er)),this.selectedEventsPileCards$=this.store.pipe((0,y.Ys)(wy))}initNewGame(){this.store.dispatch(Rc())}initSavedGame(){this.store.dispatch(Vr())}resetEventsPile(){this.store.dispatch(gp())}selectFirst(){this.store.dispatch(Qo())}removeSelected(){this.store.dispatch(mp())}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const Ju=(0,y.PH)("[Start Page] Init FaceUpPilesCards New Game"),Xu=(0,y.PH)("[Start Page] Init FaceUpPilesCards Saved Game"),ed=(0,y.PH)("[FaceUpPilesCards/API] Load FaceUpPilesCards Success",(0,y.Ky)()),wp=(0,y.PH)("[FaceUpPilesCards/API] Load FaceUpPilesCards Failure",(0,y.Ky)()),Sp=(0,y.PH)("[FaceUpPilesCards] Set FaceUpPilesCards On Init",(0,y.Ky)()),Tp=(0,y.PH)("[FaceUpPilesCards] Remove FaceUpPileCard",(0,y.Ky)()),Pe=(0,y.PH)("[FaceUpPilesCards] Select FirstCardFromFaceUpPile",(0,y.Ky)()),td=(0,y.PH)("[FaceUpPilesCards] Select Face Up Pile Card",(0,y.Ky)()),Mp=(0,y.PH)("[FaceUpPilesCards] Unselect Face Up Pile Card"),nd=(0,y.PH)("[FaceUpPilesCards] Set FaceUpPilesCards Error",(0,y.Ky)()),Vs="FACE_UP_ROAD",ln="FACE_UP_HAMLET",Ni="FACE_UP_TOWN",Sy=[Vs,ln,Ni],ea=(s,r,n)=>({id:s,pileId:r,cardId:n}),Lc="faceUpPilesCards",Ri=Is(),rd=Ri.getInitialState({initialized:!1,loaded:!1}),IC=(0,y.Lq)(rd,(0,y.on)(Ju,s=>Object.assign(Object.assign({},s),{initialized:!1})),(0,y.on)(Xu,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)(ed,(s,{faceUpPilesCards:r})=>Ri.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(wp,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(Sp,(s,{faceUpPilesCards:r})=>Ri.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(td,(s,{id:r})=>Object.assign(Object.assign({},s),{selectedId:r})),(0,y.on)(Mp,s=>Object.assign(Object.assign({},s),{selectedId:void 0})),(0,y.on)(Tp,(s,{id:r})=>Ri.removeOne(r,s)),(0,y.on)(nd,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r}))),Li=(0,y.ZF)(Lc),{selectAll:PC,selectEntities:kc}=Ri.getSelectors(),Vc=(0,y.P1)(Li,s=>s.loaded),ki=((0,y.P1)(Li,s=>s.errorMsg),(0,y.P1)(Li,s=>PC(s))),sd=(0,y.P1)(Li,s=>kc(s)),OC=(0,y.P1)(Li,s=>s.selectedId),Ty=(0,y.P1)(sd,OC,(s,r)=>{if(void 0!==r)return s[r]}),id=((0,y.P1)(ki,(s,r)=>s.find(n=>n.pileId===r.pileId&&n.cardId===r.cardId)),(0,y.P1)(ki,(s,r)=>s.filter(n=>n.pileId===r.pileId))),My=(0,y.P1)(ki,(s,r)=>s.find(n=>n.pileId===r.pileId));let Pp=(()=>{class s{constructor(n,a){this.actions$=n,this.faceUpPilesCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(Ju),(0,ae.U)(()=>Sp({faceUpPilesCards:[...Array.from(Yo.values()).filter(a=>a.type===ht.Road&&void 0===a.color).map(a=>ea(Ve(),Vs,a.id)),...Array.from(Yo.values()).filter(a=>a.type===ht.Hamlet&&void 0===a.color).map(a=>ea(Ve(),ln,a.id)),...Array.from(Yo.values()).filter(a=>a.type===ht.Town&&void 0===a.color).map(a=>ea(Ve(),Ni,a.id))]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(Xu),Ms({run:()=>ed({faceUpPilesCards:[]}),onError:(d,h)=>(console.error("Error",h),wp({error:h}))}))),this.selectFirst$=qe(()=>this.actions$.pipe(Qe(Pe),(0,Qn.b)(d=>this.faceUpPilesCardsStore.pipe((0,y.Ys)(My,{pileId:d.pileId}),(0,ae.U)(h=>{if(void 0===h)throw new Error("Can't get first card in empty face up pile.");return h}),(0,jt.q)(1),(0,ae.U)(h=>td({id:h.id})),(0,is.K)(h=>(0,fr.of)(nd({error:h.message})))))))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os),o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),Op=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Vc)),this.allFaceUpPilesCards$=this.store.pipe((0,y.Ys)(ki)),this.selectedFaceUpPilesCards$=this.store.pipe((0,y.Ys)(Ty)),this.allRoadPivots$=this.store.pipe((0,y.Ys)(id,{pileId:Vs})),this.allHamletPivots$=this.store.pipe((0,y.Ys)(id,{pileId:ln})),this.allTownPivots$=this.store.pipe((0,y.Ys)(id,{pileId:Ni}))}initNewGame(){this.store.dispatch(Ju())}initSavedGame(){this.store.dispatch(Xu())}removeFaceUpPileCard(n){this.store.dispatch(Tp({id:n}))}selectFirstCardFromFaceUpPile(n){this.store.dispatch(Pe({pileId:n}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const Fp=[1,2,3,4,5,6];var tr=(()=>{return(s=tr||(tr={})).Thieves="THIEVES",s.Trade="TRADE",s.Celebration="CELEBRATION",s.Harvest="HARVEST",s.Event="EVENT",tr;var s})();function xp(){return Math.floor(6*Math.random()+1)}const Py=(0,y.PH)("[Start Page] Init New Game"),Oy=(0,y.PH)("[Game] Set Phase",(0,y.Ky)()),Fy=(0,y.PH)("[Game] Set Player",(0,y.Ky)()),xy=(0,y.PH)("[Game] Set Action",(0,y.Ky)()),Ny=(0,y.PH)("[Dice Component] Throw Dice"),Np=(0,y.PH)("[Dice Component] Throw Production Die"),Rp=(0,y.PH)("[Dice Component] Throw Event Die"),Lp=(0,y.PH)("[Dice] Set Production Die",(0,y.Ky)()),yr=(0,y.PH)("[Dice] Set Next Production Die",(0,y.Ky)()),ta=(0,y.PH)("[Dice] Set Event Die",(0,y.Ky)());var un=(()=>{return(s=un||(un={})).InitialThrow="INITIAL THROW",s.InitialDraw="INITIAL DRAW",s.LoopThrow="LOOP THROW",s.LoopActions="LOOP ACTIONS",s.LoopDraw="LOOP DRAW",s.LoopExchange="LOOP EXCHANGE",un;var s})();const Bc={productionDie:void 0,nextProductionDie:void 0,eventDie:void 0,phase:un.InitialThrow,player:Ke.Red,action:void 0},kp=(0,y.Lq)(Bc,(0,y.on)(Py,()=>Object.assign({},Bc)),(0,y.on)(Lp,(s,{value:r})=>Object.assign(Object.assign({},s),{productionDie:r})),(0,y.on)(yr,(s,{value:r})=>Object.assign(Object.assign({},s),{nextProductionDie:r})),(0,y.on)(ta,(s,{value:r})=>Object.assign(Object.assign({},s),{eventDie:r})),(0,y.on)(Oy,(s,{phase:r})=>Object.assign(Object.assign({},s),{phase:r})),(0,y.on)(Fy,(s,{player:r})=>Object.assign(Object.assign({},s),{player:r})),(0,y.on)(xy,(s,{action:r})=>Object.assign(Object.assign({},s),{action:r}))),ds=(0,y.ZF)("game"),Ry=(0,y.P1)(ds,s=>s.productionDie),Ur=(0,y.P1)(ds,s=>s.nextProductionDie),Vp=(0,y.P1)(ds,s=>s.eventDie),Ly=(0,y.P1)(ds,s=>s.phase),cd=(0,y.P1)(ds,s=>s.player),ky=(0,y.P1)(ds,s=>s.action);let Bp=(()=>{class s{constructor(n,a){this.actions$=n,this.gameStore=a,this.throwDice$=qe(()=>this.actions$.pipe(Qe(Ny),(0,Lo.w)(()=>[Rp(),Np()]))),this.throwProduction$=qe(()=>this.actions$.pipe(Qe(Np),(0,Zo.M)(this.gameStore.select(Ur)),(0,ae.U)(([d,h])=>void 0!==h?h:xp()),(0,Lo.w)(d=>[Lp({value:void 0}),Lp({value:d}),yr({value:void 0})]))),this.throwEvent$=qe(()=>this.actions$.pipe(Qe(Rp),(0,ae.U)(()=>function(s){switch(s){case 1:case 2:return tr.Event;case 3:return tr.Thieves;case 4:return tr.Trade;case 5:return tr.Celebration;case 6:return tr.Harvest}}(xp())),(0,Lo.w)(d=>[ta({value:void 0}),ta({value:d})])))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os),o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),ld=(()=>{class s{constructor(n){this.store=n,this.productionDie$=this.store.pipe((0,y.Ys)(Ry)),this.nextProductionDie$=this.store.pipe((0,y.Ys)(Ur)),this.eventDie$=this.store.pipe((0,y.Ys)(Vp)),this.phase$=this.store.pipe((0,y.Ys)(Ly)),this.player$=this.store.pipe((0,y.Ys)(cd)),this.action$=this.store.pipe((0,y.Ys)(ky))}initNewGame(){this.store.dispatch(Py())}throwDice(){this.store.dispatch(Ny())}throwProductionDie(){this.store.dispatch(Np())}setNextProductionDie(n){this.store.dispatch(yr({value:n}))}throwEventDie(){this.store.dispatch(Rp())}setPhase(n){this.store.dispatch(Oy({phase:n}))}setPlayer(n){this.store.dispatch(Fy({player:n}))}setAction(n){this.store.dispatch(xy({action:n}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const ud=(0,y.PH)("[Start Page] Init HandsCards New Game"),Bs=(0,y.PH)("[Start Page] Init HandsCards Saved Game"),Us=(0,y.PH)("[HandsCards/API] Load HandsCards Success",(0,y.Ky)()),Uc=(0,y.PH)("[HandsCards/API] Load HandsCards Failure",(0,y.Ky)()),js=(0,y.PH)("[HandsCards] Set HandsCards On Init",(0,y.Ky)()),Vi=(0,y.PH)("[HandsCards] Add Cards To Hand",(0,y.Ky)()),Hs=(0,y.PH)("[HandsCards] Add HandsCards",(0,y.Ky)()),Vy=(0,y.PH)("[HandsCards] Set HandsCards Error",(0,y.Ky)()),dd=(0,y.PH)("[HandsCards] Select Hand Card",(0,y.Ky)()),fd=(0,y.PH)("[HandsCards] Unselect Hand Card"),jc=(0,y.PH)("[HandsCards] Remove HandCard",(0,y.Ky)());let Up=(()=>{class s{constructor(n){this.actions$=n,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(ud),(0,ae.U)(()=>js({handsCards:[]})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(Bs),Ms({run:()=>Us({handsCards:[]}),onError:(a,d)=>(console.error("Error",d),Uc({error:d}))}))),this.addCards$=qe(()=>this.actions$.pipe(Qe(Vi),(0,ae.U)(({handId:a,cards:d})=>d.map(h=>((s,r,n,a)=>({id:s,handId:r,cardType:n,cardId:a}))(Ve(),a,h.type,h.id))),(0,ae.U)(a=>Hs({handsCards:a}))))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const na="handsCards",Bi=Is(),jp=Bi.getInitialState({initialized:!1,loaded:!1}),RC=(0,y.Lq)(jp,(0,y.on)(ud,s=>Object.assign(Object.assign({},s),{initialized:!1})),(0,y.on)(Bs,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)(Us,(s,{handsCards:r})=>Bi.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(Uc,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(js,(s,{handsCards:r})=>Bi.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(Hs,(s,{handsCards:r})=>Bi.addMany(r,s)),(0,y.on)(Vy,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(dd,(s,{id:r})=>Object.assign(Object.assign({},s),{selectedId:r})),(0,y.on)(fd,s=>Object.assign(Object.assign({},s),{selectedId:void 0})),(0,y.on)(jc,(s,{id:r})=>Bi.removeOne(r,s))),Ui=(0,y.ZF)(na),{selectAll:Hp,selectEntities:By}=Bi.getSelectors(),$p=(0,y.P1)(Ui,s=>s.loaded),Uy=((0,y.P1)(Ui,s=>s.errorMsg),(0,y.P1)(Ui,s=>Hp(s))),Sn=(0,y.P1)(Ui,s=>By(s)),jy=(0,y.P1)(Ui,s=>s.selectedId),Hy=(0,y.P1)(Sn,jy,(s,r)=>{if(void 0!==r)return s[r]});let Gp=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)($p)),this.allHandsCards$=this.store.pipe((0,y.Ys)(Uy)),this.selectedHandsCards$=this.store.pipe((0,y.Ys)(Hy))}initNewGame(){this.store.dispatch(ud())}initSavedGame(){this.store.dispatch(Bs())}addCardsToHand(n,a){this.store.dispatch(Vi({handId:n,cards:a}))}selectHandCard(n){this.store.dispatch(dd({id:n}))}unselectHandCard(){this.store.dispatch(fd())}removeHandCard(n){this.store.dispatch(jc({id:n}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const Zp=(0,y.PH)("[Start Page] Init LandsPileCards New Game"),Hc=(0,y.PH)("[Start Page] Init LandsPileCards Saved Game"),$y=(0,y.PH)("[LandsPileCards/API] Load LandsPileCards Success",(0,y.Ky)()),Wp=(0,y.PH)("[LandsPileCards/API] Load LandsPileCards Failure",(0,y.Ky)()),$c=(0,y.PH)("[LandsPileCards] Set LandsPileCards On Init",(0,y.Ky)()),qp=(0,y.PH)("[LandsPileCards] Set LandsPileCards Error",(0,y.Ky)()),Kp=(0,y.PH)("[LandsPileCards] Select LandsPileCard",(0,y.Ky)()),Yp=(0,y.PH)("[LandsPileCards] Remove LandsPileCard",(0,y.Ky)());let Zy=(()=>{class s{constructor(n){this.actions$=n,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(Zp),(0,ae.U)(()=>$c({landsPileCards:Yu()(Array.from(Ii.keys())).map(n=>({id:Ve(),cardId:n}))})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(Hc),Ms({run:()=>$y({landsPileCards:[]}),onError:(a,d)=>(console.error("Error",d),Wp({error:d}))})))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const pd="landsPileCards",ra=Is(),Wy=ra.getInitialState({initialized:!1,loaded:!1}),Qp=(0,y.Lq)(Wy,(0,y.on)(Zp,s=>Object.assign(Object.assign({},s),{initialized:!1})),(0,y.on)(Hc,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)($y,(s,{landsPileCards:r})=>ra.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(Wp,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)($c,(s,{landsPileCards:r})=>ra.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(qp,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(Kp,(s,{id:r})=>Object.assign(Object.assign({},s),{selectedId:r})),(0,y.on)(Yp,(s,{id:r})=>ra.removeOne(r,s))),ji=(0,y.ZF)(pd),{selectAll:qy,selectEntities:vr}=ra.getSelectors(),gd=(0,y.P1)(ji,s=>s.loaded),Ky=((0,y.P1)(ji,s=>s.errorMsg),(0,y.P1)(ji,s=>qy(s))),VC=(0,y.P1)(ji,s=>vr(s)),Jp=(0,y.P1)(ji,s=>s.selectedId),Yy=(0,y.P1)(VC,Jp,(s,r)=>{if(void 0!==r)return s[r]});let md=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(gd)),this.allLandsPileCards$=this.store.pipe((0,y.Ys)(Ky)),this.selectedLandsPileCards$=this.store.pipe((0,y.Ys)(Yy))}initNewGame(){this.store.dispatch(Zp())}initSavedGame(){this.store.dispatch(Hc())}selectLandsPileCard(n){this.store.dispatch(Kp({id:n}))}removeLandsPileCard(n){this.store.dispatch(Yp({id:n}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const _d=(0,y.PH)("[Start Page] Init StockPilesCards New Game"),sa=(0,y.PH)("[Start Page] Init StockPilesCards Saved Game"),Xp=(0,y.PH)("[StockPilesCards/API] Load StockPilesCards Success",(0,y.Ky)()),eg=(0,y.PH)("[StockPilesCards/API] Load StockPilesCards Failure",(0,y.Ky)()),ia=(0,y.PH)("[StockPilesCards] Set StockPilesCards On Init",(0,y.Ky)()),Gc=(0,y.PH)("[StockPilesCards] Remove Cards From Stock Pile Top",(0,y.Ky)()),tg=(0,y.PH)("[StockPilesCards] Add Cards To Stock Pile Bottom",(0,y.Ky)()),Zc=(0,y.PH)("[StockPilesCards] Remove StockPilesCards",(0,y.Ky)()),Wc=(0,y.PH)("[StockPilesCards] Add StockPilesCards",(0,y.Ky)()),ng=(0,y.PH)("[StockPilesCards] Set StockPilesCards Error",(0,y.Ky)()),oa="ActionCard",jr=(s,r,n)=>({interface:oa,id:s,name:r,ruleIds:n});var Nn=(()=>{return(s=Nn||(Nn={})).Soothsayer="Soothsayer",s.Pathfinder="Pathfinder",s.Goldsmith="Goldsmith",s.TradeRoute="Trade route",s.Relocation="Relocation",Nn;var s})();const yd=new Map([["ACTION_1",jr("ACTION_1",Nn.Soothsayer,[])],["ACTION_2",jr("ACTION_2",Nn.Soothsayer,[])],["ACTION_3",jr("ACTION_3",Nn.Pathfinder,[])],["ACTION_4",jr("ACTION_4",Nn.Pathfinder,[])],["ACTION_5",jr("ACTION_5",Nn.Goldsmith,[])],["ACTION_6",jr("ACTION_6",Nn.Goldsmith,[])],["ACTION_7",jr("ACTION_7",Nn.TradeRoute,[])],["ACTION_8",jr("ACTION_8",Nn.TradeRoute,[])],["ACTION_9",jr("ACTION_9",Nn.Relocation,[])]]),aa=["STOCK_1","STOCK_2","STOCK_3","STOCK_4"],vd=(s,r,n,a)=>({id:s,pileId:r,cardType:n,cardId:a}),sg=()=>{const s=[],r=Yu()([...Array.from(yd.values()),...Array.from(Xn.values())]);for(let n=0;n<aa.length;n++){const a=Math.ceil(r.length/aa.length);for(let d=0;d<a;d++){const h=n*a+d;if(h>=r.length)break;s.push(vd(Ve(),aa[n],r[h].interface,r[h].id))}}return s},Ed="stockPilesCards",$s=Is(),Hr=$s.getInitialState({initialized:!1,loaded:!1}),qc=(0,y.Lq)(Hr,(0,y.on)(_d,s=>Object.assign(Object.assign({},s),{initialized:!1})),(0,y.on)(sa,s=>Object.assign(Object.assign({},s),{loaded:!1,errorMsg:void 0})),(0,y.on)(Xp,(s,{stockPilesCards:r})=>$s.setAll(r,Object.assign(Object.assign({},s),{loaded:!0}))),(0,y.on)(eg,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r})),(0,y.on)(ia,(s,{stockPilesCards:r})=>$s.setAll(r,Object.assign(Object.assign({},s),{initialized:!0}))),(0,y.on)(Zc,(s,{ids:r})=>$s.removeMany(r,s)),(0,y.on)(Wc,(s,{stockPilesCards:r})=>$s.addMany(r,s)),(0,y.on)(ng,(s,{error:r})=>Object.assign(Object.assign({},s),{errorMsg:r}))),ca=(0,y.ZF)(Ed),{selectAll:zy,selectEntities:BC}=$s.getSelectors(),Dd=(0,y.P1)(ca,s=>s.loaded),Kc=((0,y.P1)(ca,s=>s.errorMsg),(0,y.P1)(ca,s=>zy(s))),la=(0,y.P1)(ca,s=>BC(s)),Jy=(0,y.P1)(ca,s=>s.selectedId),Cd=(0,y.P1)(la,Jy,(s,r)=>{if(void 0!==r)return s[r]}),ig=(0,y.P1)(Kc,(s,r)=>s.find(n=>n.pileId===r.pileId&&n.cardType===r.cardType&&n.cardId===r.cardId));let og=(()=>{class s{constructor(n,a){this.actions$=n,this.stockPilesCardsStore=a,this.initNewGame$=qe(()=>this.actions$.pipe(Qe(_d),(0,ae.U)(()=>ia({stockPilesCards:sg()})))),this.initSavedGame$=qe(()=>this.actions$.pipe(Qe(sa),Ms({run:()=>Xp({stockPilesCards:[]}),onError:(d,h)=>(console.error("Error",h),eg({error:h}))}))),this.removeCards$=qe(()=>this.actions$.pipe(Qe(Gc),(0,Mo.zg)(d=>Su(d.cards.map(({type:h,id:m})=>this.stockPilesCardsStore.pipe((0,y.Ys)(ig,{pileId:d.pileId,cardType:h,cardId:m}),(0,jt.q)(1))))),(0,ae.U)(d=>d.filter(h=>void 0!==h).map(h=>h.id)),(0,ae.U)(d=>Zc({ids:d})))),this.addCards$=qe(()=>this.actions$.pipe(Qe(tg),(0,ae.U)(({pileId:d,cards:h})=>h.map(m=>vd(Ve(),d,m.type,m.id))),(0,ae.U)(d=>Wc({stockPilesCards:d}))))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(os),o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),Yc=(()=>{class s{constructor(n){this.store=n,this.loaded$=this.store.pipe((0,y.Ys)(Dd)),this.allStockPilesCards$=this.store.pipe((0,y.Ys)(Kc)),this.selectedStockPilesCards$=this.store.pipe((0,y.Ys)(Cd))}initNewGame(){this.store.dispatch(_d())}initSavedGame(){this.store.dispatch(sa())}removeCardsFromStockPileTop(n,a){this.store.dispatch(Gc({pileId:n,cards:a}))}addCardsToStockPileBottom(n,a){this.store.dispatch(tg({pileId:n,cards:a}))}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(y.yh))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),Xy=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:[ld,Nc,Gp,Op,md,Yc,Qu,bu],imports:[[hh,y.Aw.forFeature("game",kp),Or.forFeature([Bp]),y.Aw.forFeature(ku,hy),Or.forFeature([vy]),y.Aw.forFeature(na,RC),Or.forFeature([Up]),y.Aw.forFeature(Lc,IC),Or.forFeature([Dy]),y.Aw.forFeature(pd,Qp),Or.forFeature([Pp]),y.Aw.forFeature(Ed,qc),Or.forFeature([og]),y.Aw.forFeature(zu,TC),Or.forFeature([Zy]),y.Aw.forFeature(ty,Gh),Or.forFeature([$h])]]}),s})();const zc=(s,r)=>({id:s,color:r}),Hi="HAND_RED",fs="HAND_BLUE",Ad=new Map([[Hi,zc(Hi,Ke.Red)],[fs,zc(fs,Ke.Blue)]]);function Gs(s){switch(s){case Ke.Red:return mt;case Ke.Blue:return _t;default:throw new Error(`Something went wrong, ${s} should be one of ${mt} or ${_t}.`)}}var ev=E(8151),tv=E(5330),$i=E(7974),nv=E(5433);const cg={};function Er(...s){let r,n;return(0,ev.K)(s[s.length-1])&&(n=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,Yh.k)(s[0])&&(s=s[0]),(0,nv.n)(s,n).lift(new rv(r))}class rv{constructor(r){this.resultSelector=r}call(r,n){return n.subscribe(new Rn(r,this.resultSelector))}}class Rn extends tv.L{constructor(r,n){super(r),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(cg),this.observables.push(r)}_complete(){const r=this.observables,n=r.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let a=0;a<n;a++)this.add((0,$i.D)(this,r[a],void 0,a))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,n,a){const d=this.values,m=this.toRespond?d[a]===cg?--this.toRespond:this.toRespond:0;d[a]=n,0===m&&(this.resultSelector?this._tryResultSelector(d):this.destination.next(d.slice()))}_tryResultSelector(r){let n;try{n=this.resultSelector.apply(this,r)}catch(a){return void this.destination.error(a)}this.destination.next(n)}}var Zs=E(8805);let lg=(()=>{class s{constructor(n,a,d,h,m,D,b,R){this.game=n,this.domainsCards=a,this.handsCards=d,this.faceUpPilesCards=h,this.landsPileCards=m,this.stockPilesCards=D,this.eventsPileCards=b,this.discardPileCards=R,this.gameEnded$=new gi.xQ,this.event$=this.game.eventDie$.pipe((0,On.h)(j=>j===tr.Event)),this.thieves$=this.game.eventDie$.pipe((0,On.h)(j=>j===tr.Thieves)),this.countAndSteal$=this.thieves$.pipe((0,Zs.R)(this.gameEnded$),(0,ae.U)(()=>{this.domainsCards.countAndStealUnprotectedGoldAndWool()})),this.selectFirstEvent$=this.event$.pipe((0,Zs.R)(this.gameEnded$),(0,ae.U)(()=>{this.eventsPileCards.selectFirst()})),this.auspiciousYear$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,On.h)(j=>void 0!==j),(0,On.h)(j=>{var K;return(null===(K=Fi.get(j.cardId))||void 0===K?void 0:K.name)===cn.AuspiciousYear})),this.festival$=this.eventsPileCards.selectedEventsPileCards$.pipe((0,On.h)(j=>void 0!==j),(0,On.h)(j=>{var K;return(null===(K=Fi.get(j.cardId))||void 0===K?void 0:K.name)===cn.Festival})),this.increaseResourcesForDie$=this.game.productionDie$.pipe((0,Zs.R)(this.gameEnded$),(0,On.h)(j=>void 0!==j),(0,ae.U)(j=>this.domainsCards.increaseResourcesForDie(j))),this.increaseResourcesForAuspiciousYear$=this.auspiciousYear$.pipe((0,Zs.R)(this.gameEnded$),(0,ae.U)(()=>this.domainsCards.increaseResourcesForAuspiciousYear())),this.resetEventsPileOnFestival$=this.festival$.pipe((0,Zs.R)(this.gameEnded$),(0,ae.U)(()=>this.eventsPileCards.resetEventsPile()))}initNewGame(){this.gameEnded$.next(),this.countAndSteal$.subscribe(),this.selectFirstEvent$.subscribe(),this.increaseResourcesForDie$.subscribe(),this.increaseResourcesForAuspiciousYear$.subscribe(),this.resetEventsPileOnFestival$.subscribe(),this.game.initNewGame(),this.domainsCards.initNewGame(),this.handsCards.initNewGame(),this.faceUpPilesCards.initNewGame(),this.landsPileCards.initNewGame(),this.stockPilesCards.initNewGame(),this.eventsPileCards.initNewGame(),this.discardPileCards.initNewGame()}getVictoryPointsForDomain(n){return Er([this.domainsCards.getCardsVictoryPointsForDomain(n),this.domainsCards.getMasteryDomainForType(bn.Trade),this.domainsCards.getMasteryDomainForType(bn.Strength)]).pipe((0,ae.U)(([a,d,h])=>a+(d===n?1:0)+(h===n?1:0)))}drawFirstCardsFromStockToHand(n,a,d){this.stockPilesCards.allStockPilesCards$.pipe((0,jt.q)(1),(0,ae.U)(h=>h.filter(m=>m.pileId===n).slice(0,a).map(m=>({type:m.cardType,id:m.cardId})))).subscribe(h=>{this.stockPilesCards.removeCardsFromStockPileTop(n,h),this.handsCards.addCardsToHand(d,h)})}drawCardFromStockToHand(n,a,d){this.stockPilesCards.allStockPilesCards$.pipe((0,jt.q)(1),(0,ae.U)(h=>{const m=h.find(D=>D.pileId===n&&D.cardId===a);if(void 0===m)throw new Error("Something went wrong, card shouldn't be undefined at this point.");return{type:m.cardType,id:m.cardId}})).subscribe(h=>{this.stockPilesCards.removeCardsFromStockPileTop(n,[h]),this.handsCards.addCardsToHand(d,[h])})}throwDice(){this.game.throwEventDie(),this.game.phase$.pipe((0,jt.q)(1)).subscribe(n=>{n!==un.InitialThrow&&this.game.throwProductionDie()})}useResourcesToPutFaceUpPileCardInSlot(){this.domainsCards.useLockedResources(),Er([this.faceUpPilesCards.selectedFaceUpPilesCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,jt.q)(1),(0,ae.U)(([n,a])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==a.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");if(this.faceUpPilesCards.removeFaceUpPileCard(n.id),this.domainsCards.putCardInSlot(d.id,Xt,n.cardId),n.pileId===Ni)this.domainsCards.createAvailableDomainCard(d.domainId,wn,d.col,Os.Lower),this.domainsCards.createAvailableDomainCard(d.domainId,wn,d.col,Os.Upper);else{const h=d.col<0?d.col-1:d.col+1;this.domainsCards.createAvailableDomainCard(d.domainId,Nr,h,Os.Middle),n.pileId===ln&&(this.domainsCards.createAvailableDomainCard(d.domainId,Ec,h,Os.Low),this.domainsCards.createAvailableDomainCard(d.domainId,Ec,h,Os.Up))}this.domainsCards.clearDomainCardSelection()})).subscribe()}useResourcesToPutHandCardInSlot(){this.domainsCards.useLockedResources(),Er([this.handsCards.selectedHandsCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,jt.q)(1),(0,ae.U)(([n,a])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==a.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.handsCards.removeHandCard(n.id),this.domainsCards.putCardInSlot(d.id,kr,n.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putLandsPileCardInSlot(){Er([this.landsPileCards.selectedLandsPileCards$,this.domainsCards.selectedDomainsCards$]).pipe((0,jt.q)(1),(0,ae.U)(([n,a])=>{if(void 0===n)throw new Error("Can't put card in slot if no card selected.");if(1!==a.length)throw new Error("Can't put card in slot if no slot or more than one slot selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");this.landsPileCards.removeLandsPileCard(n.id),this.domainsCards.putCardInSlot(d.id,yt,n.cardId),this.domainsCards.clearDomainCardSelection()})).subscribe()}putBackFromHandToStockPile(n){this.handsCards.selectedHandsCards$.pipe((0,jt.q)(1),(0,ae.U)(a=>{if(void 0===a)throw new Error("Can't put card in pile if no card selected.");this.handsCards.removeHandCard(a.id),this.handsCards.unselectHandCard(),this.stockPilesCards.addCardsToStockPileBottom(n,[{type:a.cardType,id:a.cardId}])})).subscribe()}putBackFromDomainToStockPile(n){this.domainsCards.selectedDomainsCards$.pipe((0,jt.q)(1),(0,ae.U)(a=>{if(1!==a.length)throw new Error("Can't put card in pile if no card or more than one card selected.");const d=a[0];if(void 0===d)throw new Error("Something went wrong, domainCard shouldn't be undefined at this point.");const h=d.cardType;if(h!==kr)throw new Error("Can't put back card of type other than development.");const m=d.cardId;if(void 0===m)throw new Error("Something went wrong, cardId shouldn't be undefined at this point.");this.domainsCards.removeDomainCard(d.id),this.domainsCards.createAvailableDomainCard(d.domainId,wn,d.col,d.row),this.domainsCards.clearDomainCardSelection(),this.stockPilesCards.addCardsToStockPileBottom(n,[{type:h,id:m}])})).subscribe()}useActionCard(){this.handsCards.selectedHandsCards$.pipe((0,jt.q)(1),(0,ae.U)(n=>{if(void 0===n)throw new Error("Can't put card in pile if no card selected.");if(n.cardType!==oa||void 0===n.cardId)throw new Error("Can't use card other than action.");const a=yd.get(n.cardId);if(void 0===a)throw new Error("Something went wrong, action shouldn't be undefined at this point.");this.handsCards.removeHandCard(n.id),this.handsCards.unselectHandCard(),this.game.setAction(a.name),this.discardPileCards.addCardToDiscardPile({type:n.cardType,id:n.cardId})})).subscribe()}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(ld),o.LFG(Nc),o.LFG(Gp),o.LFG(Op),o.LFG(md),o.LFG(Yc),o.LFG(Qu),o.LFG(bu))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),bd=(()=>{class s{constructor(n,a){this._renderer=n,this._elementRef=a,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(n,a){this._renderer.setProperty(this._elementRef.nativeElement,n,a)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.Qsj),o.Y36(o.SBq))},s.\u0275dir=o.lG2({type:s}),s})(),hs=(()=>{class s extends bd{}return s.\u0275fac=function(){let r;return function(a){return(r||(r=o.n5z(s)))(a||s)}}(),s.\u0275dir=o.lG2({type:s,features:[o.qOj]}),s})();const nr=new o.OlP("NgValueAccessor"),iv={provide:nr,useExisting:(0,o.Gpc)(()=>wd),multi:!0},dg=new o.OlP("CompositionEventMode");let wd=(()=>{class s extends bd{constructor(n,a,d){super(n,a),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=Z()?Z().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(dg,8))},s.\u0275dir=o.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,a){1&n&&o.NdJ("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[o._Bn([iv]),o.qOj]}),s})();const tn=new o.OlP("NgValidators"),Ws=new o.OlP("NgAsyncValidators");function Id(s){return null!=s}function gg(s){const r=(0,o.QGY)(s)?(0,gc.D)(s):s;return(0,o.CqO)(r),r}function uv(s){let r={};return s.forEach(n=>{r=null!=n?Be(Be({},r),n):r}),0===Object.keys(r).length?null:r}function Pd(s,r){return r.map(n=>n(s))}function mg(s){return s.map(r=>function(s){return!s.validate}(r)?r:n=>r.validate(n))}function Fd(s){return null!=s?function(s){if(!s)return null;const r=s.filter(Id);return 0==r.length?null:function(n){return uv(Pd(n,r))}}(mg(s)):null}function xd(s){return null!=s?function(s){if(!s)return null;const r=s.filter(Id);return 0==r.length?null:function(n){return Su(Pd(n,r).map(gg)).pipe((0,ae.U)(uv))}}(mg(s)):null}function yg(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function Zi(s){return s?Array.isArray(s)?s:[s]:[]}function Gr(s,r){return Array.isArray(s)?s.includes(r):s===r}function Dg(s,r){const n=Zi(r);return Zi(s).forEach(d=>{Gr(n,d)||n.push(d)}),n}function Wi(s,r){return Zi(r).filter(n=>!Gr(s,n))}class Cg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Fd(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=xd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,n){return!!this.control&&this.control.hasError(r,n)}getError(r,n){return this.control?this.control.getError(r,n):null}}class dn extends Cg{get formDirective(){return null}get path(){return null}}class Dr extends Cg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ps=(()=>{class s extends class{constructor(r){this._cd=r}is(r){var n,a,d;return"submitted"===r?!!(null==(n=this._cd)?void 0:n.submitted):!!(null==(d=null==(a=this._cd)?void 0:a.control)?void 0:d[r])}}{constructor(n){super(n)}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(Dr,2))},s.\u0275dir=o.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,a){2&n&&o.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[o.qOj]}),s})();function zi(s,r){(function(s,r){const n=function(s){return s._rawValidators}(s);null!==r.validator?s.setValidators(yg(n,r.validator)):"function"==typeof n&&s.setValidators([n]);const a=function(s){return s._rawAsyncValidators}(s);null!==r.asyncValidator?s.setAsyncValidators(yg(a,r.asyncValidator)):"function"==typeof a&&s.setAsyncValidators([a]);const d=()=>s.updateValueAndValidity();ya(r._rawValidators,d),ya(r._rawAsyncValidators,d)})(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(n=>{s._pendingValue=n,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&Nd(s,r)})}(s,r),function(s,r){const n=(a,d)=>{r.valueAccessor.writeValue(a),d&&r.viewToModelUpdate(a)};s.registerOnChange(n),r._registerOnDestroy(()=>{s._unregisterOnChange(n)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&Nd(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const n=a=>{r.valueAccessor.setDisabledState(a)};s.registerOnDisabledChange(n),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(n)})}}(s,r)}function ya(s,r){s.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(r)})}function Nd(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function nl(s,r){const n=s.indexOf(r);n>-1&&s.splice(n,1)}const Ea="VALID",Qi="INVALID",ms="PENDING",Da="DISABLED";function Mg(s){return(Ig(s)?s.validators:s)||null}function gv(s){return Array.isArray(s)?Fd(s):s||null}function kd(s,r){return(Ig(r)?r.asyncValidators:s)||null}function Vd(s){return Array.isArray(s)?xd(s):s||null}function Ig(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Bd{constructor(r,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=n,this._composedValidatorFn=gv(this._rawValidators),this._composedAsyncValidatorFn=Vd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Ea}get invalid(){return this.status===Qi}get pending(){return this.status==ms}get disabled(){return this.status===Da}get enabled(){return this.status!==Da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=gv(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=Vd(r)}addValidators(r){this.setValidators(Dg(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Dg(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Wi(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Wi(r,this._rawAsyncValidators))}hasValidator(r){return Gr(this._rawValidators,r)}hasAsyncValidator(r){return Gr(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ms,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const n=this._parentMarkedDirty(r.onlySelf);this.status=Da,this.errors=null,this._forEachChild(a=>{a.disable(hn(Be({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(hn(Be({},r),{skipPristineCheck:n})),this._onDisabledChange.forEach(a=>a(!0))}enable(r={}){const n=this._parentMarkedDirty(r.onlySelf);this.status=Ea,this._forEachChild(a=>{a.enable(hn(Be({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(hn(Be({},r),{skipPristineCheck:n})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ea||this.status===ms)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Da:Ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ms,this._hasOwnPendingAsyncValidator=!0;const n=gg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,n={}){this.errors=r,this._updateControlsErrors(!1!==n.emitEvent)}get(r){return function(s,r,n){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let a=s;return r.forEach(d=>{a=a instanceof Ud?a.controls.hasOwnProperty(d)?a.controls[d]:null:a instanceof Pg&&a.at(d)||null}),a}(this,r)}getError(r,n){const a=n?this.get(n):this;return a&&a.errors?a.errors[r]:null}hasError(r,n){return!!this.getError(r,n)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Da:this.errors?Qi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ms)?ms:this._anyControlsHaveStatus(Qi)?Qi:Ea}_anyControlsHaveStatus(r){return this._anyControls(n=>n.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Ig(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zr extends Bd{constructor(r=null,n,a){super(Mg(n),kd(a,n)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,n={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(r,n={}){this.setValue(r,n)}reset(r=null,n={}){this._applyFormState(r),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){nl(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){nl(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Ud extends Bd{constructor(r,n,a){super(Mg(n),kd(a,n)),this.controls=r,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,n){return this.controls[r]?this.controls[r]:(this.controls[r]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(r,n,a={}){this.registerControl(r,n),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(r,n={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(r,n,a={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],n&&this.registerControl(r,n),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,n={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(r[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(r,n={}){null!=r&&(Object.keys(r).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(r[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(r={},n={}){this._forEachChild((a,d)=>{a.reset(r[d],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(r,n,a)=>(r[a]=n instanceof Zr?n.value:n.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(n,a)=>!!a._syncPendingControls()||n);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(n=>{const a=this.controls[n];a&&r(a,n)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const n of Object.keys(this.controls)){const a=this.controls[n];if(this.contains(n)&&r(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,n,a)=>((n.enabled||this.disabled)&&(r[a]=n.value),r))}_reduceChildren(r,n){let a=r;return this._forEachChild((d,h)=>{a=n(a,d,h)}),a}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((n,a)=>{if(void 0===r[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class Pg extends Bd{constructor(r,n,a){super(Mg(n),kd(a,n)),this.controls=r,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,n={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(r,n,a={}){this.controls.splice(r,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(r,n={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(r,n,a={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,n={}){this._checkAllValuesPresent(r),r.forEach((a,d)=>{this._throwIfControlMissing(d),this.at(d).setValue(a,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(r,n={}){null!=r&&(r.forEach((a,d)=>{this.at(d)&&this.at(d).patchValue(a,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(r=[],n={}){this._forEachChild((a,d)=>{a.reset(r[d],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(r=>r instanceof Zr?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((n,a)=>!!a._syncPendingControls()||n,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((n,a)=>{r(n,a)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(n=>n.enabled&&r(n))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((n,a)=>{if(void 0===r[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const xg={provide:Dr,useExisting:(0,o.Gpc)(()=>rl)},Ng=(()=>Promise.resolve(null))();let rl=(()=>{class s extends Dr{constructor(n,a,d,h){super(),this.control=new Zr,this._registered=!1,this.update=new o.vpe,this._parent=n,this._setValidators(a),this._setAsyncValidators(d),this.valueAccessor=function(s,r){if(!r)return null;let n,a,d;return Array.isArray(r),r.forEach(h=>{h.constructor===wd?n=h:function(s){return Object.getPrototypeOf(s.constructor)===hs}(h)?a=h:d=h}),d||a||n||null}(0,h)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(s,r){if(!s.hasOwnProperty("model"))return!1;const n=s.model;return!!n.isFirstChange()||!Object.is(r,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(s,r){return[...r.path,s]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Ng.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const a=n.isDisabled.currentValue,d=""===a||a&&"false"!==a;Ng.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(dn,9),o.Y36(tn,10),o.Y36(Ws,10),o.Y36(nr,10))},s.\u0275dir=o.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([xg]),o.qOj,o.TTD]}),s})();const Hd={provide:nr,useExisting:(0,o.Gpc)(()=>$d),multi:!0};let Ev=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({}),s})(),Ca=(()=>{class s{constructor(){this._accessors=[]}add(n,a){this._accessors.push([n,a])}remove(n){for(let a=this._accessors.length-1;a>=0;--a)if(this._accessors[a][1]===n)return void this._accessors.splice(a,1)}select(n){this._accessors.forEach(a=>{this._isSameGroup(a,n)&&a[1]!==n&&a[1].fireUncheck(n.value)})}_isSameGroup(n,a){return!!n[0].control&&n[0]._parent===a._control._parent&&n[1].name===a.name}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:Ev}),s})(),$d=(()=>{class s extends hs{constructor(n,a,d,h){super(n,a),this._registry=d,this._injector=h,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Dr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ca),o.Y36(o.zs3))},s.\u0275dir=o.lG2({type:s,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,a){1&n&&o.NdJ("change",function(){return a.onChange()})("blur",function(){return a.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([Hd]),o.qOj]}),s})(),Xg=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[[Ev]]}),s})(),eo=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[Xg]}),s})();function em(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"label"),o.TgZ(2,"input",6),o.NdJ("ngModelChange",function(d){return o.CHM(n),o.oxw().setPlayer(d)}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA(),o.qZA()}if(2&s){const n=r.$implicit,a=o.oxw();o.xp6(2),o.Q6J("value",n.value)("ngModel",o.lcZ(3,3,a.getPlayer())),o.xp6(2),o.Oqu(n.key)}}function JC(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"label"),o.TgZ(2,"input",7),o.NdJ("ngModelChange",function(d){return o.CHM(n),o.oxw().setPhase(d)}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA(),o.qZA()}if(2&s){const n=r.$implicit,a=o.oxw();o.xp6(2),o.Q6J("value",n.value)("ngModel",o.lcZ(3,3,a.getPhase())),o.xp6(2),o.Oqu(n.key)}}function tm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"label"),o.TgZ(2,"input",8),o.NdJ("ngModelChange",function(d){return o.CHM(n),o.oxw().setNextProductionDie(d)}),o.ALo(3,"async"),o.qZA(),o._uU(4),o.qZA(),o.qZA()}if(2&s){const n=r.$implicit,a=o.oxw();o.xp6(2),o.Q6J("value",n)("ngModel",o.lcZ(3,3,a.getNextProductionDie())),o.xp6(2),o.Oqu(n)}}function nf(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Cr(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,nf,2,1,"div",3),o.qZA()),2&s){const n=r.ngIf,a=o.oxw();o.xp6(1),o.Q6J("ngIf",a.getEventCard(n.cardId))}}function Iv(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n," ")}}function Pv(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=o.oxw();o.xp6(1),o.hij(" ",n.selectedStockPileId," ")}}function Ar(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij("Production: ",n,"")}}function sr(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij("Event: ",n,"")}}function ir(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.pileId," ")}}function nm(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&s){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function rm(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&s){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function Ov(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.cardId," ")}}function Fv(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&s){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function xv(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&s){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function Nv(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.cardId," ")}}function rf(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.cardId," ")}}function ba(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&s){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function Rv(s,r){if(1&s&&(o.TgZ(0,"p"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&s){const n=r.$implicit;o.xp6(1),o.hij(" ",n.domainId,""),o.xp6(2),o.hij(" ",n.col,""),o.xp6(2),o.hij(" ",n.row," ")}}function sm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"button",0),o.NdJ("click",function(){const h=o.CHM(n).$implicit;return o.oxw().selectFirst(h)}),o._uU(4,"Select"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"async"),o.qZA(),o.qZA()}if(2&s){const n=r.$implicit,a=o.oxw();o.xp6(2),o.Oqu(n),o.xp6(4),o.hij("Remaining: ",o.lcZ(7,2,a.getFaceUpPileCount(n)),"")}}function Lv(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw().selectLandsPileCard(d.id)}),o._uU(1," Select "),o.qZA()}}function im(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,Lv,2,0,"button",9),o.ALo(3,"async"),o.qZA()),2&s){const n=r.ngIf,a=o.oxw().index,d=o.oxw();o.xp6(1),o.AsE(" ",n.type," - ",n.die," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,3,d.canSelectAnyLandCard())||a<2)}}function om(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,im,4,5,"div",3),o.qZA()),2&s){const n=r.$implicit,a=o.oxw();o.xp6(1),o.Q6J("ngIf",a.getLandCard(n.cardId))}}function dl(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw().drawInitialRedHand(d)}),o._uU(1," Draw 3 cards to red hand "),o.qZA()}}function kv(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw().drawFirstCardRedHand(d)}),o._uU(1," Draw first card to red hand "),o.qZA()}}function am(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw().drawInitialBlueHand(d)}),o._uU(1," Draw 3 cards to blue hand "),o.qZA()}}function cm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw().drawFirstCardBlueHand(d)}),o._uU(1," Draw first card to blue hand "),o.qZA()}}function sf(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function fl(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,sf,2,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",a.getActionCard(n.cardId))}}function af(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function lm(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,af,2,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function um(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit,h=o.oxw().$implicit;return o.oxw().drawCardCurrentPlayer(h,d.cardId)}),o._uU(1," Draw "),o.qZA()}}function dm(s,r){if(1&s&&(o.TgZ(0,"div",10),o.YNc(1,fl,2,1,"div",11),o.YNc(2,lm,2,1,"div",11),o.YNc(3,um,2,0,"button",9),o.ALo(4,"async"),o.qZA()),2&s){const n=r.$implicit,a=o.oxw().$implicit,d=o.oxw();o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",d.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",d.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngIf",o.lcZ(4,4,d.canDrawAnyCardInStockPile(a)))}}function fm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw().putBackSelectedHandCard(d)}),o._uU(1," Put back selected hand card "),o.qZA()}}function hm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw().buySelectStockPile(d)}),o._uU(1," Select stock pile (buy) "),o.qZA()}}function pm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.YNc(2,dl,2,0,"button",9),o.ALo(3,"async"),o.YNc(4,kv,2,0,"button",9),o.ALo(5,"async"),o.YNc(6,am,2,0,"button",9),o.ALo(7,"async"),o.YNc(8,cm,2,0,"button",9),o.ALo(9,"async"),o.YNc(10,dm,5,6,"div",5),o.ALo(11,"async"),o.YNc(12,fm,2,0,"button",9),o.ALo(13,"async"),o.TgZ(14,"button",0),o.NdJ("click",function(){const h=o.CHM(n).$implicit;return o.oxw().putBackSelectedDomainCard(h)}),o._uU(15," Put back selected domain card "),o.qZA(),o.YNc(16,hm,2,0,"button",9),o.ALo(17,"async"),o.qZA()}if(2&s){const n=r.$implicit,a=r.index,d=o.oxw();o.xp6(1),o.hij(" STOCK PILE ",a," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,8,d.drawInitialRedHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,10,d.drawFirstCardRedHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(7,12,d.drawInitialBlueHandAvailable())),o.xp6(2),o.Q6J("ngIf",o.lcZ(9,14,d.drawFirstCardBlueHandAvailable())),o.xp6(2),o.Q6J("ngForOf",o.lcZ(11,16,d.getStockPilesCards(n))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,18,d.putBackSelectedHandCardAvailable())),o.xp6(4),o.Q6J("ngIf",o.lcZ(17,20,d.canSelectStockPile()))}}function gm(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Vv(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,gm,2,1,"div",3),o.qZA()),2&s){const n=r.$implicit,a=o.oxw();o.xp6(1),o.Q6J("ngIf",a.getEventCard(n.cardId))}}function Bv(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Uv(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,Bv,2,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw();o.xp6(1),o.Q6J("ngIf",a.getActionCard(n.cardId))}}function jv(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Hv(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,jv,2,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw();o.xp6(1),o.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function $v(s,r){if(1&s&&(o.TgZ(0,"div",10),o.YNc(1,Uv,2,1,"div",11),o.YNc(2,Hv,2,1,"div",11),o.qZA()),2&s){const n=r.$implicit,a=o.oxw();o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",a.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME)}}function Gv(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(d.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function Zv(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,Gv,4,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",a.getActionCard(n.cardId))}}function Wv(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(d.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function qv(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,Wv,4,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function Kv(s,r){if(1&s&&(o.TgZ(0,"div",10),o.YNc(1,Zv,2,1,"div",11),o.YNc(2,qv,2,1,"div",11),o.qZA()),2&s){const n=r.$implicit,a=o.oxw(2);o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",a.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME)}}function Yv(s,r){if(1&s&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.YNc(3,Kv,3,3,"div",5),o.ALo(4,"async"),o.qZA()),2&s){const n=r.ngIf,a=o.oxw();o.xp6(2),o.Oqu(n.color),o.xp6(1),o.Q6J("ngForOf",o.lcZ(4,2,a.getHandsCards(n.id)))}}function zv(s,r){1&s&&(o.TgZ(0,"span"),o._uU(1," - Trade Mastery"),o.qZA())}function Qv(s,r){1&s&&(o.TgZ(0,"span"),o._uU(1," - Strength Mastery"),o.qZA())}function Jv(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(3),o.ALo(4,"async"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf,a=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.name," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,d.isDomainCardSelected(a.id))?"Unselect":"Select"," ")}}function Xv(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,Jv,5,4,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&a.getDevelopmentCard(n.cardId))}}function eE(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(3),o.ALo(4,"async"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf,a=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.type," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,d.isDomainCardSelected(a.id))?"Unselect":"Select"," ")}}function tE(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,eE,5,4,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&a.getAgglomerationCard(n.cardId))}}function mm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o._UZ(6,"br"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).lockResource(d.id)}),o._uU(10,"Lock"),o.qZA(),o.TgZ(11,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).unlockResources(d.id)}),o._uU(12," Unlock"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).increaseResources(d.id)}),o._uU(15," Increase"),o.qZA(),o._UZ(16,"br"),o.TgZ(17,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(18),o.ALo(19,"async"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf,a=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.type,""),o.xp6(2),o.hij(" ",n.die,""),o.xp6(2),o.hij(" Available: ",a.availableResources,""),o.xp6(2),o.hij(" Locked: ",a.lockedResources,""),o.xp6(11),o.hij(" ",o.lcZ(19,5,d.isDomainCardSelected(a.id))?"Unselect":"Select"," ")}}function _m(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,mm,20,7,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&a.getLandCard(n.cardId))}}function ym(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function vm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function Em(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}const cf=function(s,r){return{"grid-column-start":s,"grid-row-start":r}};function Dm(s,r){if(1&s&&(o.TgZ(0,"div",14),o.YNc(1,Xv,2,1,"div",11),o.YNc(2,tE,2,1,"div",11),o.YNc(3,_m,2,1,"div",11),o.YNc(4,ym,4,3,"div",11),o.YNc(5,vm,4,3,"div",11),o.YNc(6,Em,4,3,"div",11),o.qZA()),2&s){const n=r.$implicit,a=o.oxw(2);o.Q6J("ngSwitch",n.cardType)("ngStyle",o.WLB(8,cf,"col"+n.col,"row"+n.row)),o.xp6(1),o.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.AGGLOMERATION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.LAND_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.AVAILABLE_AGGLOMERATION_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",a.AVAILABLE_DEVELOPMENT_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",a.AVAILABLE_LAND_SLOT)}}const lf=function(s,r){return{"grid-template-columns":s,"grid-template-rows":r}};function Cm(s,r){if(1&s&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"async"),o.qZA(),o.YNc(10,zv,2,0,"span",3),o.ALo(11,"async"),o.YNc(12,Qv,2,0,"span",3),o.ALo(13,"async"),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"async"),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.ALo(18,"async"),o.ALo(19,"async"),o.YNc(20,Dm,7,11,"div",13),o.ALo(21,"async"),o.qZA(),o.qZA()),2&s){const n=r.ngIf,a=o.oxw();o.xp6(3),o.Oqu(n.color),o.xp6(2),o.hij(" - Ships count: ",o.lcZ(6,8,a.getShipsCount(n.id)),""),o.xp6(3),o.hij(" - Celebration points: ",o.lcZ(9,10,a.getCelebrationPoints(n.id)),""),o.xp6(2),o.Q6J("ngIf",o.lcZ(11,12,a.getTradeMastery(n.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,14,a.getStrengthMastery(n.id))),o.xp6(3),o.hij(" - Victory points: ",o.lcZ(16,16,a.getVictoryPoints(n.id)),""),o.xp6(2),o.Q6J("ngStyle",o.WLB(24,lf,o.lcZ(18,18,a.getColumnsTemplate(n.id)),o.lcZ(19,20,a.getRowsTemplate(n.id)))),o.xp6(3),o.Q6J("ngForOf",o.lcZ(21,22,a.getDomainsCards(n.id)))}}function Am(s,r){1&s&&(o.TgZ(0,"span"),o._uU(1," - Trade Mastery"),o.qZA())}function bm(s,r){1&s&&(o.TgZ(0,"span"),o._uU(1," - Strength Mastery"),o.qZA())}function qs(s,r){if(1&s&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function nE(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,qs,2,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&a.getDevelopmentCard(n.cardId))}}function rE(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(3),o.ALo(4,"async"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf,a=o.oxw(2).$implicit,d=o.oxw(2);o.xp6(1),o.hij(" ",n.type," "),o.xp6(2),o.hij(" ",o.lcZ(4,2,d.isDomainCardSelected(a.id))?"Unselect":"Select"," ")}}function to(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,rE,5,4,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&a.getAgglomerationCard(n.cardId))}}function XC(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o._UZ(6,"br"),o._uU(7),o._UZ(8,"br"),o.TgZ(9,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).lockResource(d.id)}),o._uU(10,"Lock"),o.qZA(),o.TgZ(11,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).unlockResources(d.id)}),o._uU(12," Unlock"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).increaseResources(d.id)}),o._uU(15," Increase "),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf,a=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",n.type,""),o.xp6(2),o.hij(" ",n.die,""),o.xp6(2),o.hij(" Available: ",a.availableResources,""),o.xp6(2),o.hij(" locked: ",a.lockedResources,"")}}function uf(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,XC,16,4,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",void 0!==n.cardId&&a.getLandCard(n.cardId))}}function eA(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function wm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function Sm(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw().$implicit;return o.oxw(2).toggleDomainCardSelection(d.id)}),o._uU(2),o.ALo(3,"async"),o.qZA(),o.qZA()}if(2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,1,a.isDomainCardSelected(n.id))?"Unselect":"Select"," ")}}function tA(s,r){if(1&s&&(o.TgZ(0,"div",14),o.YNc(1,nE,2,1,"div",11),o.YNc(2,to,2,1,"div",11),o.YNc(3,uf,2,1,"div",11),o.YNc(4,eA,4,3,"div",11),o.YNc(5,wm,4,3,"div",11),o.YNc(6,Sm,4,3,"div",11),o.qZA()),2&s){const n=r.$implicit,a=o.oxw(2);o.Q6J("ngSwitch",n.cardType)("ngStyle",o.WLB(8,cf,"col"+n.col,"row"+n.row)),o.xp6(1),o.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.AGGLOMERATION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.LAND_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.AVAILABLE_AGGLOMERATION_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",a.AVAILABLE_DEVELOPMENT_SLOT),o.xp6(1),o.Q6J("ngSwitchCase",a.AVAILABLE_LAND_SLOT)}}function we(s,r){if(1&s&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"async"),o.qZA(),o.YNc(10,Am,2,0,"span",3),o.ALo(11,"async"),o.YNc(12,bm,2,0,"span",3),o.ALo(13,"async"),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"async"),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.ALo(18,"async"),o.ALo(19,"async"),o.YNc(20,tA,7,11,"div",13),o.ALo(21,"async"),o.qZA(),o.qZA()),2&s){const n=r.ngIf,a=o.oxw();o.xp6(3),o.Oqu(n.color),o.xp6(2),o.hij(" - Ships count: ",o.lcZ(6,8,a.getShipsCount(n.id)),""),o.xp6(3),o.hij(" - Celebration points: ",o.lcZ(9,10,a.getCelebrationPoints(n.id)),""),o.xp6(2),o.Q6J("ngIf",o.lcZ(11,12,a.getTradeMastery(n.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(13,14,a.getStrengthMastery(n.id))),o.xp6(3),o.hij(" - Victory points: ",o.lcZ(16,16,a.getVictoryPoints(n.id)),""),o.xp6(2),o.Q6J("ngStyle",o.WLB(24,lf,o.lcZ(18,18,a.getColumnsTemplate(n.id)),o.lcZ(19,20,a.getRowsTemplate(n.id)))),o.xp6(3),o.Q6J("ngForOf",o.lcZ(21,22,a.getDomainsCards(n.id)))}}function sE(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(d.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function iE(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,sE,4,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",a.getActionCard(n.cardId))}}function oE(s,r){if(1&s){const n=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"button",0),o.NdJ("click",function(){o.CHM(n);const d=o.oxw(2).$implicit;return o.oxw(2).selectHandCard(d.id)}),o._uU(3,"Select"),o.qZA(),o.qZA()}if(2&s){const n=r.ngIf;o.xp6(1),o.hij(" ",n.name," ")}}function hl(s,r){if(1&s&&(o.TgZ(0,"div"),o.YNc(1,oE,4,1,"div",3),o.qZA()),2&s){const n=o.oxw().$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf",a.getDevelopmentCard(n.cardId))}}function aE(s,r){if(1&s&&(o.TgZ(0,"div",10),o.YNc(1,iE,2,1,"div",11),o.YNc(2,hl,2,1,"div",11),o.qZA()),2&s){const n=r.$implicit,a=o.oxw(2);o.Q6J("ngSwitch",n.cardType),o.xp6(1),o.Q6J("ngSwitchCase",a.ACTION_CARD_INTERFACE_NAME),o.xp6(1),o.Q6J("ngSwitchCase",a.DEVELOPMENT_CARD_INTERFACE_NAME)}}function pl(s,r){if(1&s&&(o.TgZ(0,"div"),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.YNc(3,aE,3,3,"div",5),o.ALo(4,"async"),o.qZA()),2&s){const n=r.ngIf,a=o.oxw();o.xp6(2),o.Oqu(n.color),o.xp6(1),o.Q6J("ngForOf",o.lcZ(4,2,a.getHandsCards(n.id)))}}let gl=(()=>{class s{constructor(n,a,d,h,m,D,b,R,j){this.game=n,this.domainsCards=a,this.handsCards=d,this.faceUpPilesCards=h,this.landsPileCards=m,this.stockPilesCards=D,this.eventsPileCards=b,this.discardPileCards=R,this.gameRules=j,this.GamePhase=un,this.DomainColor=Ke,this.ACTION_CARD_INTERFACE_NAME=oa,this.AGGLOMERATION_CARD_INTERFACE_NAME=Xt,this.DEVELOPMENT_CARD_INTERFACE_NAME=kr,this.LAND_CARD_INTERFACE_NAME=yt,this.AVAILABLE_AGGLOMERATION_SLOT=Nr,this.AVAILABLE_DEVELOPMENT_SLOT=wn,this.AVAILABLE_LAND_SLOT=Ec,this.RESOURCE_VALUES=Fp}startNewGame(){this.gameRules.initNewGame()}getPhase(){return this.game.phase$}setPhase(n){this.game.setPhase(n)}getPlayer(){return this.game.player$}setPlayer(n){this.game.setPlayer(n)}getNextProductionDie(){return this.game.nextProductionDie$}setNextProductionDie(n){this.game.setNextProductionDie(n)}getSelectedEventsPileCard(){return this.eventsPileCards.selectedEventsPileCards$}removeSelectedEventsPileCard(){this.eventsPileCards.removeSelected()}getAction(){return this.game.action$}unsetAction(){this.game.setAction(void 0)}throwDisabled(){return this.game.phase$.pipe((0,ae.U)(n=>n!==un.InitialThrow&&n!==un.LoopThrow))}onThrow(){this.gameRules.throwDice()}getProductionDie(){return this.game.productionDie$}getEventDie(){return this.game.eventDie$}buyDisabled(){return this.game.phase$.pipe((0,ae.U)(n=>n!==un.LoopActions))}getRedDomain(){return wu.get(mt)}getBlueDomain(){return wu.get(_t)}getVictoryPoints(n){return this.gameRules.getVictoryPointsForDomain(n)}getStrengthMastery(n){return this.domainsCards.getMasteryDomainForType(bn.Strength).pipe((0,ae.U)(a=>n===a))}getTradeMastery(n){return this.domainsCards.getMasteryDomainForType(bn.Trade).pipe((0,ae.U)(a=>n===a))}getCelebrationPoints(n){return this.domainsCards.getCelebrationPointsForDomain(n)}getShipsCount(n){return this.domainsCards.getMerchantShipCountForDomain(n)}getColumnsTemplate(n){return Er([this.domainsCards.getDomainMinCol(n),this.domainsCards.getDomainMaxCol(n)]).pipe((0,ae.U)(([a,d])=>{let h="";for(let m=a;m<d+1;m++)h+=`[col${m}] 150px `;return h}))}getRowsTemplate(n){return Er([this.domainsCards.getDomainMinRow(n),this.domainsCards.getDomainMaxRow(n)]).pipe((0,ae.U)(([a,d])=>{let h="";for(let m=a;m<d+1;m++)h+=`[row${m}] 150px `;return h}))}getDomainsCards(n){return this.domainsCards.allDomainsCards$.pipe((0,ae.U)(a=>a.filter(d=>d.domainId===n)))}isDomainCardSelected(n){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(a=>a.map(d=>d.id).includes(n)))}toggleDomainCardSelection(n){this.domainsCards.toggleDomainCardSelection(n)}clearDomainCardSelection(){this.domainsCards.clearDomainCardSelection()}swapSelectedDomainsCards(){this.domainsCards.swapSelectedCards()}lockResource(n){this.domainsCards.lockResource(n)}unlockResources(n){this.domainsCards.unlockResources(n)}increaseResources(n){this.domainsCards.increaseResources(n)}getFaceUpPiles(){return Sy}selectFirst(n){this.faceUpPilesCards.selectFirstCardFromFaceUpPile(n)}getFaceUpPileCount(n){switch(n){case Vs:return this.faceUpPilesCards.allRoadPivots$.pipe((0,ae.U)(a=>a.length));case ln:return this.faceUpPilesCards.allHamletPivots$.pipe((0,ae.U)(a=>a.length));case Ni:return this.faceUpPilesCards.allTownPivots$.pipe((0,ae.U)(a=>a.length));default:throw new Error(`Can't get count for pile with id ${n}.`)}}getLandsPileCards(){return this.landsPileCards.allLandsPileCards$}canSelectAnyLandCard(){return this.game.action$.pipe((0,ae.U)(n=>n===Nn.Pathfinder))}selectLandsPileCard(n){this.landsPileCards.selectLandsPileCard(n)}canSelectStockPile(){return this.game.player$.pipe((0,Lo.w)(n=>{const a=Gs(n);return this.domainsCards.hasDomainCommunityCenter(a)}))}buySelectStockPile(n){this.domainsCards.useLockedResources(),this.selectedStockPileId=n}unselectStockPile(){this.selectedStockPileId=void 0}canDrawAnyCardInStockPile(n){return this.game.player$.pipe((0,Lo.w)(a=>{const d=Gs(a);return this.domainsCards.hasDomainCommunityCenter(d)}),(0,ae.U)(a=>a&&n===this.selectedStockPileId))}drawCardCurrentPlayer(n,a){this.game.player$.pipe((0,jt.q)(1)).subscribe(d=>{const h=function(s){switch(s){case Ke.Red:return Hi;case Ke.Blue:return fs;default:throw new Error(`Something went wrong, ${s} should be one of ${fs} or ${fs}.`)}}(d);this.gameRules.drawCardFromStockToHand(n,a,h),this.unselectStockPile()})}getStockPiles(){return aa}getStockPilesCards(n){return this.stockPilesCards.allStockPilesCards$.pipe((0,ae.U)(a=>a.filter(d=>d.pileId===n)))}getEventsPileCards(){return this.eventsPileCards.allEventsPileCards$}getEventCard(n){return Fi.get(n)}getDiscardPileCardsReverse(){return this.discardPileCards.allDiscardPileCardsReverse$}useActionCardDisabled(){return this.game.phase$.pipe((0,ae.U)(n=>n!==un.LoopActions))}useActionCard(){this.gameRules.useActionCard()}getRedHand(){return Ad.get(Hi)}getBlueHand(){return Ad.get(fs)}getHandsCards(n){return this.handsCards.allHandsCards$.pipe((0,ae.U)(a=>a.filter(d=>d.handId===n)))}selectHandCard(n){this.handsCards.selectHandCard(n)}drawInitialRedHandAvailable(){return Er([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,a])=>n===un.InitialDraw&&a===Ke.Red))}drawInitialRedHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,3,Hi)}drawFirstCardRedHandAvailable(){return Er([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,a])=>n===un.LoopDraw&&a===Ke.Red))}drawFirstCardRedHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,1,Hi)}drawInitialBlueHandAvailable(){return Er([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,a])=>n===un.InitialDraw&&a===Ke.Blue))}drawInitialBlueHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,3,fs)}drawFirstCardBlueHandAvailable(){return Er([this.game.phase$,this.game.player$]).pipe((0,ae.U)(([n,a])=>n===un.LoopDraw&&a===Ke.Blue))}drawFirstCardBlueHand(n){this.gameRules.drawFirstCardsFromStockToHand(n,1,fs)}putBackSelectedHandCardAvailable(){return this.game.phase$.pipe((0,ae.U)(n=>n===un.LoopExchange))}putBackSelectedHandCard(n){this.gameRules.putBackFromHandToStockPile(n)}putBackSelectedDomainCard(n){this.gameRules.putBackFromDomainToStockPile(n)}getActionCard(n){return yd.get(n)}getAgglomerationCard(n){return Yo.get(n)}getDevelopmentCard(n){return Xn.get(n)}getLandCard(n){return Ii.get(n)}buyAgglomeration(){this.gameRules.useResourcesToPutFaceUpPileCardInSlot()}buyDevelopment(){this.gameRules.useResourcesToPutHandCardInSlot()}putLand(){this.gameRules.putLandsPileCardInSlot()}giveLockedResources(){this.domainsCards.giveLockedResources()}getSelectedFaceUpPileCard(){return this.faceUpPilesCards.selectedFaceUpPilesCards$}getDomainSelectedAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(a=>(null==a?void 0:a.cardType)===Xt)))}getSelectedHandCard(){return this.handsCards.selectedHandsCards$}getHandSelectedDevelopmentCard(){return this.handsCards.selectedHandsCards$.pipe((0,On.h)(n=>(null==n?void 0:n.cardType)===kr))}getDomainSelectedDevelopmentCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(a=>(null==a?void 0:a.cardType)===kr)))}getSelectedActionCard(){return this.handsCards.selectedHandsCards$.pipe((0,On.h)(n=>(null==n?void 0:n.cardType)===oa))}getPileSelectedLandCard(){return this.landsPileCards.selectedLandsPileCards$}getSelectedAvailableLandSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(a=>(null==a?void 0:a.cardType)===Ec)))}getDomainSelectedLandCards(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(a=>(null==a?void 0:a.cardType)===yt)))}getSelectedAvailableAgglomerationSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(a=>(null==a?void 0:a.cardType)===Nr)))}getSelectedAvailableDevelopmentSlots(){return this.domainsCards.selectedDomainsCards$.pipe((0,ae.U)(n=>n.filter(a=>(null==a?void 0:a.cardType)===wn)))}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(ld),o.Y36(Nc),o.Y36(Gp),o.Y36(Op),o.Y36(md),o.Y36(Yc),o.Y36(Qu),o.Y36(bu),o.Y36(lg))},s.\u0275cmp=o.Xpm({type:s,selectors:[["taormina-root"]],decls:151,vars:78,consts:[["type","button",3,"click"],[1,"flex-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"disabled","click"],[3,"ngSwitch",4,"ngFor","ngForOf"],["type","radio","name","player",3,"value","ngModel","ngModelChange"],["type","radio","name","phase",3,"value","ngModel","ngModelChange"],["type","radio","name","nextProductionDie",3,"value","ngModel","ngModelChange"],["type","button",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"grid-container",3,"ngStyle"],["class","grid-cell",3,"ngSwitch","ngStyle",4,"ngFor","ngForOf"],[1,"grid-cell",3,"ngSwitch","ngStyle"]],template:function(n,a){1&n&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return a.startNewGame()}),o._uU(1,"New Game !"),o.qZA(),o._UZ(2,"hr"),o.TgZ(3,"div",1),o.TgZ(4,"div"),o.TgZ(5,"p"),o._uU(6,"Current Player:"),o.qZA(),o.YNc(7,em,5,5,"div",2),o.ALo(8,"keyvalue"),o.qZA(),o.TgZ(9,"div"),o.TgZ(10,"p"),o._uU(11,"Current Phase:"),o.qZA(),o.YNc(12,JC,5,5,"div",2),o.ALo(13,"keyvalue"),o.qZA(),o.TgZ(14,"div"),o.TgZ(15,"p"),o._uU(16,"Next Production Die:"),o.qZA(),o.YNc(17,tm,5,5,"div",2),o.qZA(),o.TgZ(18,"div"),o.TgZ(19,"p"),o._uU(20,"Current event:"),o.qZA(),o.YNc(21,Cr,2,1,"div",3),o.ALo(22,"async"),o._UZ(23,"hr"),o.TgZ(24,"button",0),o.NdJ("click",function(){return a.removeSelectedEventsPileCard()}),o._uU(25," Finish event "),o.qZA(),o.qZA(),o.TgZ(26,"div"),o.TgZ(27,"p"),o._uU(28,"Current action:"),o.qZA(),o.YNc(29,Iv,2,1,"div",3),o.ALo(30,"async"),o._UZ(31,"hr"),o.TgZ(32,"button",0),o.NdJ("click",function(){return a.unsetAction()}),o._uU(33,"Finish action"),o.qZA(),o.qZA(),o.TgZ(34,"div"),o.TgZ(35,"p"),o._uU(36,"Selected stock pile:"),o.qZA(),o.YNc(37,Pv,2,1,"div",3),o._UZ(38,"hr"),o.TgZ(39,"button",4),o.NdJ("click",function(){return a.unselectStockPile()}),o._uU(40," Unselect "),o.qZA(),o.qZA(),o.TgZ(41,"div"),o.TgZ(42,"button",0),o.NdJ("click",function(){return a.swapSelectedDomainsCards()}),o._uU(43," swap selected domains cards"),o.qZA(),o._UZ(44,"br"),o.TgZ(45,"button",0),o.NdJ("click",function(){return a.clearDomainCardSelection()}),o._uU(46," clear domain selection "),o.qZA(),o.qZA(),o.qZA(),o._UZ(47,"hr"),o.TgZ(48,"div",1),o.TgZ(49,"button",4),o.NdJ("click",function(){return a.onThrow()}),o.ALo(50,"async"),o._uU(51," throw "),o.qZA(),o.YNc(52,Ar,2,1,"p",3),o.ALo(53,"async"),o.YNc(54,sr,2,1,"p",3),o.ALo(55,"async"),o.qZA(),o._UZ(56,"hr"),o.TgZ(57,"div",1),o.TgZ(58,"button",4),o.NdJ("click",function(){return a.buyAgglomeration()}),o.ALo(59,"async"),o._uU(60," buy agglomeration "),o.qZA(),o.TgZ(61,"div"),o.TgZ(62,"p"),o._uU(63,"Pile Selected Agglomeration Card:"),o.qZA(),o.YNc(64,ir,2,1,"p",3),o.ALo(65,"async"),o.qZA(),o.TgZ(66,"div"),o.TgZ(67,"p"),o._uU(68,"Selected Available Agglomeration Slots:"),o.qZA(),o.YNc(69,nm,6,3,"p",2),o.ALo(70,"async"),o.qZA(),o.TgZ(71,"div"),o.TgZ(72,"p"),o._uU(73,"Domain Selected Agglomeration Slots:"),o.qZA(),o.YNc(74,rm,6,3,"p",2),o.ALo(75,"async"),o.qZA(),o.qZA(),o._UZ(76,"hr"),o.TgZ(77,"div",1),o.TgZ(78,"button",4),o.NdJ("click",function(){return a.buyDevelopment()}),o.ALo(79,"async"),o._uU(80," buy development "),o.qZA(),o.TgZ(81,"div"),o.TgZ(82,"p"),o._uU(83,"Hand Selected Development Card:"),o.qZA(),o.YNc(84,Ov,2,1,"p",3),o.ALo(85,"async"),o.qZA(),o.TgZ(86,"div"),o.TgZ(87,"p"),o._uU(88,"Selected Available Development Slots:"),o.qZA(),o.YNc(89,Fv,6,3,"p",2),o.ALo(90,"async"),o.qZA(),o.TgZ(91,"div"),o.TgZ(92,"p"),o._uU(93,"Domain Selected Development Cards:"),o.qZA(),o.YNc(94,xv,6,3,"p",2),o.ALo(95,"async"),o.qZA(),o.qZA(),o._UZ(96,"hr"),o.TgZ(97,"div",1),o.TgZ(98,"button",4),o.NdJ("click",function(){return a.useActionCard()}),o.ALo(99,"async"),o._uU(100," Use action card "),o.qZA(),o.TgZ(101,"div"),o.TgZ(102,"p"),o._uU(103,"Selected Action Card:"),o.qZA(),o.YNc(104,Nv,2,1,"p",3),o.ALo(105,"async"),o.qZA(),o.qZA(),o._UZ(106,"hr"),o.TgZ(107,"div",1),o.TgZ(108,"button",0),o.NdJ("click",function(){return a.putLand()}),o._uU(109,"put land"),o.qZA(),o.TgZ(110,"button",0),o.NdJ("click",function(){return a.giveLockedResources()}),o._uU(111," Give locked resources "),o.qZA(),o.TgZ(112,"div"),o.TgZ(113,"p"),o._uU(114,"Pile Selected Land Card:"),o.qZA(),o.YNc(115,rf,2,1,"p",3),o.ALo(116,"async"),o.qZA(),o.TgZ(117,"div"),o.TgZ(118,"p"),o._uU(119,"Selected Available Land Slots:"),o.qZA(),o.YNc(120,ba,6,3,"p",2),o.ALo(121,"async"),o.qZA(),o.TgZ(122,"div"),o.TgZ(123,"p"),o._uU(124,"Domain Selected Available Land Slots:"),o.qZA(),o.YNc(125,Rv,6,3,"p",2),o.ALo(126,"async"),o.qZA(),o.qZA(),o._UZ(127,"hr"),o.TgZ(128,"div",1),o.YNc(129,sm,8,4,"div",2),o.TgZ(130,"div"),o._uU(131," LANDS PILE "),o.YNc(132,om,2,1,"div",2),o.ALo(133,"async"),o.qZA(),o.YNc(134,pm,18,22,"div",2),o.TgZ(135,"div"),o._uU(136," EVENTS PILE "),o.YNc(137,Vv,2,1,"div",2),o.ALo(138,"async"),o.qZA(),o.TgZ(139,"div"),o._uU(140," DISCARD PILE "),o.YNc(141,$v,3,3,"div",5),o.ALo(142,"async"),o.qZA(),o.qZA(),o._UZ(143,"hr"),o.YNc(144,Yv,5,4,"div",3),o._UZ(145,"hr"),o.YNc(146,Cm,22,27,"div",3),o._UZ(147,"hr"),o.YNc(148,we,22,27,"div",3),o._UZ(149,"hr"),o.YNc(150,pl,5,4,"div",3)),2&n&&(o.xp6(7),o.Q6J("ngForOf",o.lcZ(8,32,a.DomainColor)),o.xp6(5),o.Q6J("ngForOf",o.lcZ(13,34,a.GamePhase)),o.xp6(5),o.Q6J("ngForOf",a.RESOURCE_VALUES),o.xp6(4),o.Q6J("ngIf",o.lcZ(22,36,a.getSelectedEventsPileCard())),o.xp6(8),o.Q6J("ngIf",o.lcZ(30,38,a.getAction())),o.xp6(8),o.Q6J("ngIf",a.selectedStockPileId),o.xp6(2),o.Q6J("disabled",!a.selectedStockPileId),o.xp6(10),o.Q6J("disabled",o.lcZ(50,40,a.throwDisabled())),o.xp6(3),o.Q6J("ngIf",o.lcZ(53,42,a.getProductionDie())),o.xp6(2),o.Q6J("ngIf",o.lcZ(55,44,a.getEventDie())),o.xp6(4),o.Q6J("disabled",o.lcZ(59,46,a.buyDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(65,48,a.getSelectedFaceUpPileCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(70,50,a.getSelectedAvailableAgglomerationSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(75,52,a.getDomainSelectedAgglomerationSlots())),o.xp6(4),o.Q6J("disabled",o.lcZ(79,54,a.buyDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(85,56,a.getHandSelectedDevelopmentCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(90,58,a.getSelectedAvailableDevelopmentSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(95,60,a.getDomainSelectedDevelopmentCards())),o.xp6(4),o.Q6J("disabled",o.lcZ(99,62,a.useActionCardDisabled())),o.xp6(6),o.Q6J("ngIf",o.lcZ(105,64,a.getSelectedActionCard())),o.xp6(11),o.Q6J("ngIf",o.lcZ(116,66,a.getPileSelectedLandCard())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(121,68,a.getSelectedAvailableLandSlots())),o.xp6(5),o.Q6J("ngForOf",o.lcZ(126,70,a.getDomainSelectedLandCards())),o.xp6(4),o.Q6J("ngForOf",a.getFaceUpPiles()),o.xp6(3),o.Q6J("ngForOf",o.lcZ(133,72,a.getLandsPileCards())),o.xp6(2),o.Q6J("ngForOf",a.getStockPiles()),o.xp6(3),o.Q6J("ngForOf",o.lcZ(138,74,a.getEventsPileCards())),o.xp6(4),o.Q6J("ngForOf",o.lcZ(142,76,a.getDiscardPileCardsReverse())),o.xp6(3),o.Q6J("ngIf",a.getRedHand()),o.xp6(2),o.Q6J("ngIf",a.getRedDomain()),o.xp6(2),o.Q6J("ngIf",a.getBlueDomain()),o.xp6(2),o.Q6J("ngIf",a.getBlueHand()))},directives:[Ja,w,$d,wd,ps,rl,ee,re,je],pipes:[ec,g_],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;grid-column-gap:20px;column-gap:20px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-gap:20px}.grid-cell[_ngcontent-%COMP%]{border:1px solid black}"]}),s})();E(7687);class df{}const Wr="*";function ff(s,r=null){return{type:2,steps:s,options:r}}function Mm(s){return{type:6,styles:s,offset:null}}function pf(s){Promise.resolve(null).then(s)}class Ks{constructor(r=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}class Im{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let n=0,a=0,d=0;const h=this.players.length;0==h?pf(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++n==h&&this._onFinish()}),m.onDestroy(()=>{++a==h&&this._onDestroy()}),m.onStart(()=>{++d==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,D)=>Math.max(m,D.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const n=r*this.totalTime;this.players.forEach(a=>{const d=a.totalTime?Math.min(1,n/a.totalTime):1;a.setPosition(d)})}getPosition(){const r=this.players.reduce((n,a)=>null===n||a.totalTime>n.totalTime?a:n,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}function no(){return"undefined"!=typeof window&&void 0!==window.document}function gf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _s(s){switch(s.length){case 0:return new Ks;case 1:return s[0];default:return new Im(s)}}function Pm(s,r,n,a,d={},h={}){const m=[],D=[];let b=-1,R=null;if(a.forEach(j=>{const K=j.offset,de=K==b,ge=de&&R||{};Object.keys(j).forEach(ce=>{let Ee=ce,oe=j[ce];if("offset"!==ce)switch(Ee=r.normalizePropertyName(Ee,m),oe){case"!":oe=d[ce];break;case Wr:oe=h[ce];break;default:oe=r.normalizeStyleValue(ce,Ee,oe,m)}ge[Ee]=oe}),de||D.push(ge),R=ge,b=K}),m.length){const j="\n - ";throw new Error(`Unable to animate due to the following errors:${j}${m.join(j)}`)}return D}function _l(s,r,n,a){switch(r){case"start":s.onStart(()=>a(n&&yl(n,"start",s)));break;case"done":s.onDone(()=>a(n&&yl(n,"done",s)));break;case"destroy":s.onDestroy(()=>a(n&&yl(n,"destroy",s)))}}function yl(s,r,n){const a=n.totalTime,h=vl(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==a?s.totalTime:a,!!n.disabled),m=s._data;return null!=m&&(h._data=m),h}function vl(s,r,n,a,d="",h=0,m){return{element:s,triggerName:r,fromState:n,toState:a,phaseName:d,totalTime:h,disabled:!!m}}function Tn(s,r,n){let a;return s instanceof Map?(a=s.get(r),a||s.set(r,a=n)):(a=s[r],a||(a=s[r]=n)),a}function mf(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}let _f=(s,r)=>!1,yf=(s,r)=>!1,hE=(s,r,n)=>[];const pE=gf();(pE||"undefined"!=typeof Element)&&(_f=no()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),yf=(()=>{if(pE||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(n,a)=>r.apply(n,[a]):yf}})(),hE=(s,r,n)=>{let a=[];if(n){const d=s.querySelectorAll(r);for(let h=0;h<d.length;h++)a.push(d[h])}else{const d=s.querySelector(r);d&&a.push(d)}return a});let ro=null,vf=!1;function so(s){ro||(ro=("undefined"!=typeof document?document.body:null)||{},vf=!!ro.style&&"WebkitAppearance"in ro.style);let r=!0;return ro.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in ro.style,!r&&vf&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in ro.style)),r}const Ef=yf,El=_f,zs=hE;function Om(s){const r={};return Object.keys(s).forEach(n=>{const a=n.replace(/([a-z])([A-Z])/g,"$1-$2");r[a]=s[n]}),r}let Fm=(()=>{class s{validateStyleProperty(n){return so(n)}matchesElement(n,a){return Ef(n,a)}containsElement(n,a){return El(n,a)}query(n,a,d){return zs(n,a,d)}computeStyle(n,a,d){return d||""}animate(n,a,d,h,m,D=[],b){return new Ks(d,h)}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),Df=(()=>{class s{}return s.NOOP=new Fm,s})();const Cf="ng-enter",Dl="ng-leave",Sa="ng-trigger",Cl=".ng-trigger",Af="ng-animating",bf=".ng-animating";function ys(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:wf(parseFloat(r[1]),r[2])}function wf(s,r){return"s"===r?1e3*s:s}function io(s,r,n){return s.hasOwnProperty("duration")?s:function(s,r,n){let d,h=0,m="";if("string"==typeof s){const D=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===D)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};d=wf(parseFloat(D[1]),D[2]);const b=D[3];null!=b&&(h=wf(parseFloat(b),D[4]));const R=D[5];R&&(m=R)}else d=s;if(!n){let D=!1,b=r.length;d<0&&(r.push("Duration values below 0 are not allowed for this animation step."),D=!0),h<0&&(r.push("Delay values below 0 are not allowed for this animation step."),D=!0),D&&r.splice(b,0,`The provided timing value "${s}" is invalid.`)}return{duration:d,delay:h,easing:m}}(s,r,n)}function Qs(s,r={}){return Object.keys(s).forEach(n=>{r[n]=s[n]}),r}function vs(s,r,n={}){if(r)for(let a in s)n[a]=s[a];else Qs(s,n);return n}function Rm(s,r,n){return n?r+":"+n+";":""}function Lm(s){let r="";for(let n=0;n<s.style.length;n++){const a=s.style.item(n);r+=Rm(0,a,s.style.getPropertyValue(a))}for(const n in s.style)s.style.hasOwnProperty(n)&&!n.startsWith("_")&&(r+=Rm(0,EE(n),s.style[n]));s.setAttribute("style",r)}function kn(s,r,n){s.style&&(Object.keys(r).forEach(a=>{const d=Mf(a);n&&!n.hasOwnProperty(a)&&(n[a]=s.style[d]),s.style[d]=r[a]}),gf()&&Lm(s))}function Js(s,r){s.style&&(Object.keys(r).forEach(n=>{const a=Mf(n);s.style[a]=""}),gf()&&Lm(s))}function oo(s){return Array.isArray(s)?1==s.length?s[0]:ff(s):s}const Tf=new RegExp("{{\\s*(.+?)\\s*}}","g");function km(s){let r=[];if("string"==typeof s){let n;for(;n=Tf.exec(s);)r.push(n[1]);Tf.lastIndex=0}return r}function Al(s,r,n){const a=s.toString(),d=a.replace(Tf,(h,m)=>{let D=r[m];return r.hasOwnProperty(m)||(n.push(`Please provide a value for the animation param ${m}`),D=""),D.toString()});return d==a?s:d}function bl(s){const r=[];let n=s.next();for(;!n.done;)r.push(n.value),n=s.next();return r}const vE=/-+([a-z0-9])/g;function Mf(s){return s.replace(vE,(...r)=>r[1].toUpperCase())}function EE(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function If(s,r){return 0===s||0===r}function Pf(s,r,n){const a=Object.keys(n);if(a.length&&r.length){let h=r[0],m=[];if(a.forEach(D=>{h.hasOwnProperty(D)||m.push(D),h[D]=n[D]}),m.length)for(var d=1;d<r.length;d++){let D=r[d];m.forEach(function(b){D[b]=Of(s,b)})}}return r}function Mn(s,r,n){switch(r.type){case 7:return s.visitTrigger(r,n);case 0:return s.visitState(r,n);case 1:return s.visitTransition(r,n);case 2:return s.visitSequence(r,n);case 3:return s.visitGroup(r,n);case 4:return s.visitAnimate(r,n);case 5:return s.visitKeyframes(r,n);case 6:return s.visitStyle(r,n);case 8:return s.visitReference(r,n);case 9:return s.visitAnimateChild(r,n);case 10:return s.visitAnimateRef(r,n);case 11:return s.visitQuery(r,n);case 12:return s.visitStagger(r,n);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function Of(s,r){return window.getComputedStyle(s)[r]}function DE(s,r){const n=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(a=>function(s,r,n){if(":"==s[0]){const b=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,a)=>parseFloat(a)>parseFloat(n);case":decrement":return(n,a)=>parseFloat(a)<parseFloat(n);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,n);if("function"==typeof b)return void r.push(b);s=b}const a=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return n.push(`The provided transition expression "${s}" is not supported`),r;const d=a[1],h=a[2],m=a[3];r.push(Ff(d,m));"<"==h[0]&&!("*"==d&&"*"==m)&&r.push(Ff(m,d))}(a,n,r)):n.push(s),n}const ao=new Set(["true","1"]),co=new Set(["false","0"]);function Ff(s,r){const n=ao.has(s)||co.has(s),a=ao.has(r)||co.has(r);return(d,h)=>{let m="*"==s||s==d,D="*"==r||r==h;return!m&&n&&"boolean"==typeof d&&(m=d?ao.has(s):co.has(s)),!D&&a&&"boolean"==typeof h&&(D=h?ao.has(r):co.has(r)),m&&D}}const bE=new RegExp("s*:selfs*,?","g");function xf(s,r,n){return new wE(s).build(r,n)}class wE{constructor(r){this._driver=r}build(r,n){const a=new Bm(n);return this._resetContextStyleTimingState(a),Mn(this,oo(r),a)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,n){let a=n.queryCount=0,d=n.depCount=0;const h=[],m=[];return"@"==r.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(D=>{if(this._resetContextStyleTimingState(n),0==D.type){const b=D,R=b.name;R.toString().split(/\s*,\s*/).forEach(j=>{b.name=j,h.push(this.visitState(b,n))}),b.name=R}else if(1==D.type){const b=this.visitTransition(D,n);a+=b.queryCount,d+=b.depCount,m.push(b)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:h,transitions:m,queryCount:a,depCount:d,options:null}}visitState(r,n){const a=this.visitStyle(r.styles,n),d=r.options&&r.options.params||null;if(a.containsDynamicStyles){const h=new Set,m=d||{};if(a.styles.forEach(D=>{if(Ma(D)){const b=D;Object.keys(b).forEach(R=>{km(b[R]).forEach(j=>{m.hasOwnProperty(j)||h.add(j)})})}}),h.size){const D=bl(h.values());n.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${D.join(", ")}`)}}return{type:0,name:r.name,style:a,options:d?{params:d}:null}}visitTransition(r,n){n.queryCount=0,n.depCount=0;const a=Mn(this,oo(r.animation),n);return{type:1,matchers:DE(r.expr,n.errors),animation:a,queryCount:n.queryCount,depCount:n.depCount,options:Xs(r.options)}}visitSequence(r,n){return{type:2,steps:r.steps.map(a=>Mn(this,a,n)),options:Xs(r.options)}}visitGroup(r,n){const a=n.currentTime;let d=0;const h=r.steps.map(m=>{n.currentTime=a;const D=Mn(this,m,n);return d=Math.max(d,n.currentTime),D});return n.currentTime=d,{type:3,steps:h,options:Xs(r.options)}}visitAnimate(r,n){const a=function(s,r){let n=null;if(s.hasOwnProperty("duration"))n=s;else if("number"==typeof s)return ei(io(s,r).duration,0,"");const a=s;if(a.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=ei(0,0,"");return h.dynamic=!0,h.strValue=a,h}return n=n||io(a,r),ei(n.duration,n.delay,n.easing)}(r.timings,n.errors);n.currentAnimateTimings=a;let d,h=r.styles?r.styles:Mm({});if(5==h.type)d=this.visitKeyframes(h,n);else{let m=r.styles,D=!1;if(!m){D=!0;const R={};a.easing&&(R.easing=a.easing),m=Mm(R)}n.currentTime+=a.duration+a.delay;const b=this.visitStyle(m,n);b.isEmptyStep=D,d=b}return n.currentAnimateTimings=null,{type:4,timings:a,style:d,options:null}}visitStyle(r,n){const a=this._makeStyleAst(r,n);return this._validateStyleAst(a,n),a}_makeStyleAst(r,n){const a=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==Wr?a.push(m):n.errors.push(`The provided style string value ${m} is not allowed.`):a.push(m)}):a.push(r.styles);let d=!1,h=null;return a.forEach(m=>{if(Ma(m)){const D=m,b=D.easing;if(b&&(h=b,delete D.easing),!d)for(let R in D)if(D[R].toString().indexOf("{{")>=0){d=!0;break}}}),{type:6,styles:a,easing:h,offset:r.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(r,n){const a=n.currentAnimateTimings;let d=n.currentTime,h=n.currentTime;a&&h>0&&(h-=a.duration+a.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(D=>{if(!this._driver.validateStyleProperty(D))return void n.errors.push(`The provided animation property "${D}" is not a supported CSS property for animations`);const b=n.collectedStyles[n.currentQuerySelector],R=b[D];let j=!0;R&&(h!=d&&h>=R.startTime&&d<=R.endTime&&(n.errors.push(`The CSS property "${D}" that exists between the times of "${R.startTime}ms" and "${R.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${d}ms"`),j=!1),h=R.startTime),j&&(b[D]={startTime:h,endTime:d}),n.options&&function(s,r,n){const a=r.params||{},d=km(s);d.length&&d.forEach(h=>{a.hasOwnProperty(h)||n.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[D],n.options,n.errors)})})}visitKeyframes(r,n){const a={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),a;let h=0;const m=[];let D=!1,b=!1,R=0;const j=r.steps.map(ie=>{const ne=this._makeStyleAst(ie,n);let X=null!=ne.offset?ne.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(n=>{if(Ma(n)&&n.hasOwnProperty("offset")){const a=n;r=parseFloat(a.offset),delete a.offset}});else if(Ma(s)&&s.hasOwnProperty("offset")){const n=s;r=parseFloat(n.offset),delete n.offset}return r}(ne.styles),fe=0;return null!=X&&(h++,fe=ne.offset=X),b=b||fe<0||fe>1,D=D||fe<R,R=fe,m.push(fe),ne});b&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),D&&n.errors.push("Please ensure that all keyframe offsets are in order");const K=r.steps.length;let de=0;h>0&&h<K?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(de=1/(K-1));const ge=K-1,ce=n.currentTime,Ee=n.currentAnimateTimings,oe=Ee.duration;return j.forEach((ie,ne)=>{const X=de>0?ne==ge?1:de*ne:m[ne],fe=X*oe;n.currentTime=ce+Ee.delay+fe,Ee.duration=fe,this._validateStyleAst(ie,n),ie.offset=X,a.styles.push(ie)}),a}visitReference(r,n){return{type:8,animation:Mn(this,oo(r.animation),n),options:Xs(r.options)}}visitAnimateChild(r,n){return n.depCount++,{type:9,options:Xs(r.options)}}visitAnimateRef(r,n){return{type:10,animation:this.visitReference(r.animation,n),options:Xs(r.options)}}visitQuery(r,n){const a=n.currentQuerySelector,d=r.options||{};n.queryCount++,n.currentQuery=r;const[h,m]=function(s){const r=!!s.split(/\s*,\s*/).find(n=>":self"==n);return r&&(s=s.replace(bE,"")),s=s.replace(/@\*/g,Cl).replace(/@\w+/g,n=>Cl+"-"+n.substr(1)).replace(/:animating/g,bf),[s,r]}(r.selector);n.currentQuerySelector=a.length?a+" "+h:h,Tn(n.collectedStyles,n.currentQuerySelector,{});const D=Mn(this,oo(r.animation),n);return n.currentQuery=null,n.currentQuerySelector=a,{type:11,selector:h,limit:d.limit||0,optional:!!d.optional,includeSelf:m,animation:D,originalSelector:r.selector,options:Xs(r.options)}}visitStagger(r,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const a="full"===r.timings?{duration:0,delay:0,easing:"full"}:io(r.timings,n.errors,!0);return{type:12,animation:Mn(this,oo(r.animation),n),timings:a,options:null}}}class Bm{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ma(s){return!Array.isArray(s)&&"object"==typeof s}function Xs(s){return s?(s=Qs(s)).params&&(s.params=function(s){return s?Qs(s):null}(s.params)):s={},s}function ei(s,r,n){return{duration:s,delay:r,easing:n}}function Nf(s,r,n,a,d,h,m=null,D=!1){return{type:1,element:s,keyframes:r,preStyleProps:n,postStyleProps:a,duration:d,delay:h,totalTime:d+h,easing:m,subTimeline:D}}class qr{constructor(){this._map=new Map}consume(r){let n=this._map.get(r);return n?this._map.delete(r):n=[],n}append(r,n){let a=this._map.get(r);a||this._map.set(r,a=[]),a.push(...n)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const uA=new RegExp(":enter","g"),IE=new RegExp(":leave","g");function Rf(s,r,n,a,d,h={},m={},D,b,R=[]){return(new PE).buildKeyframes(s,r,n,a,d,h,m,D,b,R)}class PE{buildKeyframes(r,n,a,d,h,m,D,b,R,j=[]){R=R||new qr;const K=new Ml(r,n,R,d,h,j,[]);K.options=b,K.currentTimeline.setStyles([m],null,K.errors,b),Mn(this,a,K);const de=K.timelines.filter(ge=>ge.containsAnimation());if(de.length&&Object.keys(D).length){const ge=de[de.length-1];ge.allowOnlyTimelineStyles()||ge.setStyles([D],null,K.errors,b)}return de.length?de.map(ge=>ge.buildKeyframes()):[Nf(n,[],[],[],0,0,"",!1)]}visitTrigger(r,n){}visitState(r,n){}visitTransition(r,n){}visitAnimateChild(r,n){const a=n.subInstructions.consume(n.element);if(a){const d=n.createSubContext(r.options),h=n.currentTimeline.currentTime,m=this._visitSubInstructions(a,d,d.options);h!=m&&n.transformIntoNewTimeline(m)}n.previousNode=r}visitAnimateRef(r,n){const a=n.createSubContext(r.options);a.transformIntoNewTimeline(),this.visitReference(r.animation,a),n.transformIntoNewTimeline(a.currentTimeline.currentTime),n.previousNode=r}_visitSubInstructions(r,n,a){let h=n.currentTimeline.currentTime;const m=null!=a.duration?ys(a.duration):null,D=null!=a.delay?ys(a.delay):null;return 0!==m&&r.forEach(b=>{const R=n.appendInstructionToTimeline(b,m,D);h=Math.max(h,R.duration+R.delay)}),h}visitReference(r,n){n.updateOptions(r.options,!0),Mn(this,r.animation,n),n.previousNode=r}visitSequence(r,n){const a=n.subContextCount;let d=n;const h=r.options;if(h&&(h.params||h.delay)&&(d=n.createSubContext(h),d.transformIntoNewTimeline(),null!=h.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Tl);const m=ys(h.delay);d.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>Mn(this,m,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>a&&d.transformIntoNewTimeline()),n.previousNode=r}visitGroup(r,n){const a=[];let d=n.currentTimeline.currentTime;const h=r.options&&r.options.delay?ys(r.options.delay):0;r.steps.forEach(m=>{const D=n.createSubContext(r.options);h&&D.delayNextStep(h),Mn(this,m,D),d=Math.max(d,D.currentTimeline.currentTime),a.push(D.currentTimeline)}),a.forEach(m=>n.currentTimeline.mergeTimelineCollectedStyles(m)),n.transformIntoNewTimeline(d),n.previousNode=r}_visitTiming(r,n){if(r.dynamic){const a=r.strValue;return io(n.params?Al(a,n.params,n.errors):a,n.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,n){const a=n.currentAnimateTimings=this._visitTiming(r.timings,n),d=n.currentTimeline;a.delay&&(n.incrementTime(a.delay),d.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,n):(n.incrementTime(a.duration),this.visitStyle(h,n),d.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=r}visitStyle(r,n){const a=n.currentTimeline,d=n.currentAnimateTimings;!d&&a.getCurrentStyleProperties().length&&a.forwardFrame();const h=d&&d.easing||r.easing;r.isEmptyStep?a.applyEmptyStep(h):a.setStyles(r.styles,h,n.errors,n.options),n.previousNode=r}visitKeyframes(r,n){const a=n.currentAnimateTimings,d=n.currentTimeline.duration,h=a.duration,D=n.createSubContext().currentTimeline;D.easing=a.easing,r.styles.forEach(b=>{D.forwardTime((b.offset||0)*h),D.setStyles(b.styles,b.easing,n.errors,n.options),D.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(D),n.transformIntoNewTimeline(d+h),n.previousNode=r}visitQuery(r,n){const a=n.currentTimeline.currentTime,d=r.options||{},h=d.delay?ys(d.delay):0;h&&(6===n.previousNode.type||0==a&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Tl);let m=a;const D=n.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!d.optional,n.errors);n.currentQueryTotal=D.length;let b=null;D.forEach((R,j)=>{n.currentQueryIndex=j;const K=n.createSubContext(r.options,R);h&&K.delayNextStep(h),R===n.element&&(b=K.currentTimeline),Mn(this,r.animation,K),K.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,K.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(m),b&&(n.currentTimeline.mergeTimelineCollectedStyles(b),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=r}visitStagger(r,n){const a=n.parentContext,d=n.currentTimeline,h=r.timings,m=Math.abs(h.duration),D=m*(n.currentQueryTotal-1);let b=m*n.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":b=D-b;break;case"full":b=a.currentStaggerTime}const j=n.currentTimeline;b&&j.delayNextStep(b);const K=j.currentTime;Mn(this,r.animation,n),n.previousNode=r,a.currentStaggerTime=d.currentTime-K+(d.startTime-a.currentTimeline.startTime)}}const Tl={};class Ml{constructor(r,n,a,d,h,m,D,b){this._driver=r,this.element=n,this.subInstructions=a,this._enterClassName=d,this._leaveClassName=h,this.errors=m,this.timelines=D,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new Il(this._driver,n,0),D.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,n){if(!r)return;const a=r;let d=this.options;null!=a.duration&&(d.duration=ys(a.duration)),null!=a.delay&&(d.delay=ys(a.delay));const h=a.params;if(h){let m=d.params;m||(m=this.options.params={}),Object.keys(h).forEach(D=>{(!n||!m.hasOwnProperty(D))&&(m[D]=Al(h[D],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const n=this.options.params;if(n){const a=r.params={};Object.keys(n).forEach(d=>{a[d]=n[d]})}}return r}createSubContext(r=null,n,a){const d=n||this.element,h=new Ml(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,a||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=Tl,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,n,a){const d={duration:null!=n?n:r.duration,delay:this.currentTimeline.currentTime+(null!=a?a:0)+r.delay,easing:""},h=new Lf(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,d,r.stretchStartingKeyframe);return this.timelines.push(h),d}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,n,a,d,h,m){let D=[];if(d&&D.push(this.element),r.length>0){r=(r=r.replace(uA,"."+this._enterClassName)).replace(IE,"."+this._leaveClassName);let R=this._driver.query(this.element,r,1!=a);0!==a&&(R=a<0?R.slice(R.length+a,R.length):R.slice(0,a)),D.push(...R)}return!h&&0==D.length&&m.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),D}}class Il{constructor(r,n,a,d){this._driver=r,this.element=n,this.startTime=a,this._elementTimelineStylesLookup=d,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+r),n&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,n){return this.applyStylesToKeyframe(),new Il(this._driver,r,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,n){this._localTimelineStyles[r]=n,this._globalTimelineStyles[r]=n,this._styleSummary[r]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Wr,this._currentKeyframe[n]=Wr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,n,a,d){n&&(this._previousKeyframe.easing=n);const h=d&&d.params||{},m=function(s,r){const n={};let a;return s.forEach(d=>{"*"===d?(a=a||Object.keys(r),a.forEach(h=>{n[h]=Wr})):vs(d,!1,n)}),n}(r,this._globalTimelineStyles);Object.keys(m).forEach(D=>{const b=Al(m[D],h,a);this._pendingStyles[D]=b,this._localTimelineStyles.hasOwnProperty(D)||(this._backFill[D]=this._globalTimelineStyles.hasOwnProperty(D)?this._globalTimelineStyles[D]:Wr),this._updateStyle(D,b)})}applyStylesToKeyframe(){const r=this._pendingStyles,n=Object.keys(r);0!=n.length&&(this._pendingStyles={},n.forEach(a=>{this._currentKeyframe[a]=r[a]}),Object.keys(this._localTimelineStyles).forEach(a=>{this._currentKeyframe.hasOwnProperty(a)||(this._currentKeyframe[a]=this._localTimelineStyles[a])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const n=this._localTimelineStyles[r];this._pendingStyles[r]=n,this._updateStyle(r,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let n in this._currentKeyframe)r.push(n);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(n=>{const a=this._styleSummary[n],d=r._styleSummary[n];(!a||d.time>a.time)&&this._updateStyle(n,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,n=new Set,a=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((D,b)=>{const R=vs(D,!0);Object.keys(R).forEach(j=>{const K=R[j];"!"==K?r.add(j):K==Wr&&n.add(j)}),a||(R.offset=b/this.duration),d.push(R)});const h=r.size?bl(r.values()):[],m=n.size?bl(n.values()):[];if(a){const D=d[0],b=Qs(D);D.offset=0,b.offset=1,d=[D,b]}return Nf(this.element,d,h,m,this.duration,this.startTime,this.easing,!1)}}class Lf extends Il{constructor(r,n,a,d,h,m,D=!1){super(r,n,m.delay),this.keyframes=a,this.preStyleProps=d,this.postStyleProps=h,this._stretchStartingKeyframe=D,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:n,duration:a,easing:d}=this.timings;if(this._stretchStartingKeyframe&&n){const h=[],m=a+n,D=n/m,b=vs(r[0],!1);b.offset=0,h.push(b);const R=vs(r[0],!1);R.offset=Pa(D),h.push(R);const j=r.length-1;for(let K=1;K<=j;K++){let de=vs(r[K],!1);de.offset=Pa((n+de.offset*a)/m),h.push(de)}a=m,n=0,d="",r=h}return Nf(this.element,r,this.preStyleProps,this.postStyleProps,a,n,d,!0)}}function Pa(s,r=3){const n=Math.pow(10,r-1);return Math.round(s*n)/n}class Pl{}class FE extends Pl{normalizePropertyName(r,n){return Mf(r)}normalizeStyleValue(r,n,a,d){let h="";const m=a.toString().trim();if(xE[n]&&0!==a&&"0"!==a)if("number"==typeof a)h="px";else{const D=a.match(/^[+-]?[\d\.]+([a-z]*)$/);D&&0==D[1].length&&d.push(`Please provide a CSS unit value for ${r}:${a}`)}return m+h}}const xE=(()=>function(s){const r={};return s.forEach(n=>r[n]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ol(s,r,n,a,d,h,m,D,b,R,j,K,de){return{type:0,element:s,triggerName:r,isRemovalTransition:d,fromState:n,fromStyles:h,toState:a,toStyles:m,timelines:D,queriedElements:b,preStyleProps:R,postStyleProps:j,totalTime:K,errors:de}}const kf={};class RE{constructor(r,n,a){this._triggerName=r,this.ast=n,this._stateStyles=a}match(r,n,a,d){return function(s,r,n,a,d){return s.some(h=>h(r,n,a,d))}(this.ast.matchers,r,n,a,d)}buildStyles(r,n,a){const d=this._stateStyles["*"],h=this._stateStyles[r],m=d?d.buildStyles(n,a):{};return h?h.buildStyles(n,a):m}build(r,n,a,d,h,m,D,b,R,j){const K=[],de=this.ast.options&&this.ast.options.params||kf,ce=this.buildStyles(a,D&&D.params||kf,K),Ee=b&&b.params||kf,oe=this.buildStyles(d,Ee,K),ie=new Set,ne=new Map,X=new Map,fe="void"===d,Ce={params:Be(Be({},de),Ee)},ke=j?[]:Rf(r,n,this.ast.animation,h,m,ce,oe,Ce,R,K);let Ge=0;if(ke.forEach(Wt=>{Ge=Math.max(Wt.duration+Wt.delay,Ge)}),K.length)return Ol(n,this._triggerName,a,d,fe,ce,oe,[],[],ne,X,Ge,K);ke.forEach(Wt=>{const Un=Wt.element,dD=Tn(ne,Un,{});Wt.preStyleProps.forEach(ho=>dD[ho]=!0);const kl=Tn(X,Un,{});Wt.postStyleProps.forEach(ho=>kl[ho]=!0),Un!==n&&ie.add(Un)});const Mt=bl(ie.values());return Ol(n,this._triggerName,a,d,fe,ce,oe,ke,Mt,ne,X,Ge)}}class kE{constructor(r,n,a){this.styles=r,this.defaultParams=n,this.normalizer=a}buildStyles(r,n){const a={},d=Qs(this.defaultParams);return Object.keys(r).forEach(h=>{const m=r[h];null!=m&&(d[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(D=>{let b=m[D];b.length>1&&(b=Al(b,d,n));const R=this.normalizer.normalizePropertyName(D,n);b=this.normalizer.normalizeStyleValue(D,R,b,n),a[R]=b})}}),a}}class VE{constructor(r,n,a){this.name=r,this.ast=n,this._normalizer=a,this.transitionFactories=[],this.states={},n.states.forEach(d=>{this.states[d.name]=new kE(d.style,d.options&&d.options.params||{},a)}),BE(this.states,"true","1"),BE(this.states,"false","0"),n.transitions.forEach(d=>{this.transitionFactories.push(new RE(r,d,this.states))}),this.fallbackTransition=function(s,r,n){return new RE(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,D)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,n,a,d){return this.transitionFactories.find(m=>m.match(r,n,a,d))||null}matchStyles(r,n,a){return this.fallbackTransition.buildStyles(r,n,a)}}function BE(s,r,n){s.hasOwnProperty(r)?s.hasOwnProperty(n)||(s[n]=s[r]):s.hasOwnProperty(n)&&(s[r]=s[n])}const jm=new qr;class UE{constructor(r,n,a){this.bodyNode=r,this._driver=n,this._normalizer=a,this._animations={},this._playersById={},this.players=[]}register(r,n){const a=[],d=xf(this._driver,n,a);if(a.length)throw new Error(`Unable to build the animation due to the following errors: ${a.join("\n")}`);this._animations[r]=d}_buildPlayer(r,n,a){const d=r.element,h=Pm(0,this._normalizer,0,r.keyframes,n,a);return this._driver.animate(d,h,r.duration,r.delay,r.easing,[],!0)}create(r,n,a={}){const d=[],h=this._animations[r];let m;const D=new Map;if(h?(m=Rf(this._driver,n,h,Cf,Dl,{},{},a,jm,d),m.forEach(j=>{const K=Tn(D,j.element,{});j.postStyleProps.forEach(de=>K[de]=null)})):(d.push("The requested animation doesn't exist or has already been destroyed"),m=[]),d.length)throw new Error(`Unable to create the animation due to the following errors: ${d.join("\n")}`);D.forEach((j,K)=>{Object.keys(j).forEach(de=>{j[de]=this._driver.computeStyle(K,de,Wr)})});const R=_s(m.map(j=>{const K=D.get(j.element);return this._buildPlayer(j,{},K)}));return this._playersById[r]=R,R.onDestroy(()=>this.destroy(r)),this.players.push(R),R}destroy(r){const n=this._getPlayer(r);n.destroy(),delete this._playersById[r];const a=this.players.indexOf(n);a>=0&&this.players.splice(a,1)}_getPlayer(r){const n=this._playersById[r];if(!n)throw new Error(`Unable to find the timeline player referenced by ${r}`);return n}listen(r,n,a,d){const h=vl(n,"","","");return _l(this._getPlayer(r),a,h,d),()=>{}}command(r,n,a,d){if("register"==a)return void this.register(r,d[0]);if("create"==a)return void this.create(r,n,d[0]||{});const h=this._getPlayer(r);switch(a){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(r)}}}const jE="ng-animate-queued",HE="ng-animate-disabled",Vf=".ng-animate-disabled",GE=[],Uf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vn="__ng_removed";class jf{constructor(r,n=""){this.namespaceId=n;const a=r&&r.hasOwnProperty("value");if(this.value=null!=(s=a?r.value:r)?s:null,a){const h=Qs(r);delete h.value,this.options=h}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const n=r.params;if(n){const a=this.options.params;Object.keys(n).forEach(d=>{null==a[d]&&(a[d]=n[d])})}}}const Fa="void",Hf=new jf(Fa);class WE{constructor(r,n,a){this.id=r,this.hostElement=n,this._engine=a,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Bn(n,this._hostClassName)}listen(r,n,a,d){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${a}" because the animation trigger "${n}" doesn't exist!`);if(null==a||0==a.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if("start"!=(s=a)&&"done"!=s)throw new Error(`The provided animation trigger event "${a}" for the animation trigger "${n}" is not supported!`);var s;const h=Tn(this._elementListeners,r,[]),m={name:n,phase:a,callback:d};h.push(m);const D=Tn(this._engine.statesByElement,r,{});return D.hasOwnProperty(n)||(Bn(r,Sa),Bn(r,Sa+"-"+n),D[n]=Hf),()=>{this._engine.afterFlush(()=>{const b=h.indexOf(m);b>=0&&h.splice(b,1),this._triggers[n]||delete D[n]})}}register(r,n){return!this._triggers[r]&&(this._triggers[r]=n,!0)}_getTrigger(r){const n=this._triggers[r];if(!n)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return n}trigger(r,n,a,d=!0){const h=this._getTrigger(n),m=new ti(this.id,n,r);let D=this._engine.statesByElement.get(r);D||(Bn(r,Sa),Bn(r,Sa+"-"+n),this._engine.statesByElement.set(r,D={}));let b=D[n];const R=new jf(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&b&&R.absorbOptions(b.options),D[n]=R,b||(b=Hf),R.value!==Fa&&b.value===R.value){if(!function(s,r){const n=Object.keys(s),a=Object.keys(r);if(n.length!=a.length)return!1;for(let d=0;d<n.length;d++){const h=n[d];if(!r.hasOwnProperty(h)||s[h]!==r[h])return!1}return!0}(b.params,R.params)){const Ee=[],oe=h.matchStyles(b.value,b.params,Ee),ie=h.matchStyles(R.value,R.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{Js(r,oe),kn(r,ie)})}return}const de=Tn(this._engine.playersByElement,r,[]);de.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==n&&Ee.queued&&Ee.destroy()});let ge=h.matchTransition(b.value,R.value,r,R.params),ce=!1;if(!ge){if(!d)return;ge=h.fallbackTransition,ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:n,transition:ge,fromState:b,toState:R,player:m,isFallbackTransition:ce}),ce||(Bn(r,jE),m.onStart(()=>{fo(r,jE)})),m.onDone(()=>{let Ee=this.players.indexOf(m);Ee>=0&&this.players.splice(Ee,1);const oe=this._engine.playersByElement.get(r);if(oe){let ie=oe.indexOf(m);ie>=0&&oe.splice(ie,1)}}),this.players.push(m),de.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((n,a)=>{delete n[r]}),this._elementListeners.forEach((n,a)=>{this._elementListeners.set(a,n.filter(d=>d.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const n=this._engine.playersByElement.get(r);n&&(n.forEach(a=>a.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,n){const a=this._engine.driver.query(r,Cl,!0);a.forEach(d=>{if(d[Vn])return;const h=this._engine.fetchNamespacesByElement(d);h.size?h.forEach(m=>m.triggerLeaveAnimation(d,n,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(r,n,a,d){const h=this._engine.statesByElement.get(r);if(h){const m=[];if(Object.keys(h).forEach(D=>{if(this._triggers[D]){const b=this.trigger(r,D,Fa,d);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,n),a&&_s(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const n=this._elementListeners.get(r),a=this._engine.statesByElement.get(r);if(n&&a){const d=new Set;n.forEach(h=>{const m=h.name;if(d.has(m))return;d.add(m);const b=this._triggers[m].fallbackTransition,R=a[m]||Hf,j=new jf(Fa),K=new ti(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:b,fromState:R,toState:j,player:K,isFallbackTransition:!0})})}}removeNode(r,n){const a=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,n),this.triggerLeaveAnimation(r,n,!0))return;let d=!1;if(a.totalAnimations){const h=a.players.length?a.playersByQueriedElement.get(r):[];if(h&&h.length)d=!0;else{let m=r;for(;m=m.parentNode;)if(a.statesByElement.get(m)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(r),d)a.markElementAsRemoved(this.id,r,!1,n);else{const h=r[Vn];(!h||h===Uf)&&(a.afterFlush(()=>this.clearElementCache(r)),a.destroyInnerAnimations(r),a._onRemovalComplete(r,n))}}insertNode(r,n){Bn(r,this._hostClassName)}drainQueuedTransitions(r){const n=[];return this._queue.forEach(a=>{const d=a.player;if(d.destroyed)return;const h=a.element,m=this._elementListeners.get(h);m&&m.forEach(D=>{if(D.name==a.triggerName){const b=vl(h,a.triggerName,a.fromState.value,a.toState.value);b._data=r,_l(a.player,D.phase,b,D.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):n.push(a)}),this._queue=[],n.sort((a,d)=>{const h=a.transition.ast.depCount,m=d.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(a.element,d.element)?1:-1})}destroy(r){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let n=!1;return this._elementListeners.has(r)&&(n=!0),n=!!this._queue.find(a=>a.element===r)||n,n}}class qE{constructor(r,n,a){this.bodyNode=r,this.driver=n,this._normalizer=a,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,h)=>{}}_onRemovalComplete(r,n){this.onRemovalComplete(r,n)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(n=>{n.players.forEach(a=>{a.queued&&r.push(a)})}),r}createNamespace(r,n){const a=new WE(r,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(a,n):(this.newHostElements.set(n,a),this.collectEnterElement(n)),this._namespaceLookup[r]=a}_balanceNamespaceList(r,n){const a=this._namespaceList.length-1;if(a>=0){let d=!1;for(let h=a;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,n)){this._namespaceList.splice(h+1,0,r),d=!0;break}d||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(n,r),r}register(r,n){let a=this._namespaceLookup[r];return a||(a=this.createNamespace(r,n)),a}registerTrigger(r,n,a){let d=this._namespaceLookup[r];d&&d.register(n,a)&&this.totalAnimations++}destroy(r,n){if(!r)return;const a=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(a.hostElement),delete this._namespaceLookup[r];const d=this._namespaceList.indexOf(a);d>=0&&this._namespaceList.splice(d,1)}),this.afterFlushAnimationsDone(()=>a.destroy(n))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const n=new Set,a=this.statesByElement.get(r);if(a){const d=Object.keys(a);for(let h=0;h<d.length;h++){const m=a[d[h]].namespaceId;if(m){const D=this._fetchNamespace(m);D&&n.add(D)}}}return n}trigger(r,n,a,d){if(xa(n)){const h=this._fetchNamespace(r);if(h)return h.trigger(n,a,d),!0}return!1}insertNode(r,n,a,d){if(!xa(n))return;const h=n[Vn];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(n);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(n,a)}d&&this.collectEnterElement(n)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,n){n?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Bn(r,HE)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),fo(r,HE))}removeNode(r,n,a,d){if(xa(n)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(n,d):this.markElementAsRemoved(r,n,!1,d),a){const m=this.namespacesByHostElement.get(n);m&&m.id!==r&&m.removeNode(n,d)}}else this._onRemovalComplete(n,d)}markElementAsRemoved(r,n,a,d){this.collectedLeaveElements.push(n),n[Vn]={namespaceId:r,setForRemoval:d,hasAnimation:a,removedBeforeQueried:!1}}listen(r,n,a,d,h){return xa(n)?this._fetchNamespace(r).listen(n,a,d,h):()=>{}}_buildInstruction(r,n,a,d,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,a,d,r.fromState.options,r.toState.options,n,h)}destroyInnerAnimations(r){let n=this.driver.query(r,Cl,!0);n.forEach(a=>this.destroyActiveAnimationsForElement(a)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(r,bf,!0),n.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(r){const n=this.playersByElement.get(r);n&&n.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(r){const n=this.playersByQueriedElement.get(r);n&&n.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return _s(this.players).onDone(()=>r());r()})}processLeaveNode(r){const n=r[Vn];if(n&&n.setForRemoval){if(r[Vn]=Uf,n.namespaceId){this.destroyInnerAnimations(r);const a=this._fetchNamespace(n.namespaceId);a&&a.clearElementCache(r)}this._onRemovalComplete(r,n.setForRemoval)}this.driver.matchesElement(r,Vf)&&this.markElementAsDisabled(r,!1),this.driver.query(r,Vf,!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(r=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,d)=>this._balanceNamespaceList(a,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++)Bn(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const a=[];try{n=this._flushAnimations(a,r)}finally{for(let d=0;d<a.length;d++)a[d]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){const a=this._whenQuietFns;this._whenQuietFns=[],n.length?_s(n).onDone(()=>{a.forEach(d=>d())}):a.forEach(d=>d())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,n){const a=new qr,d=[],h=new Map,m=[],D=new Map,b=new Map,R=new Map,j=new Set;this.disabledNodes.forEach(ve=>{j.add(ve);const Se=this.driver.query(ve,".ng-animate-queued",!0);for(let Ne=0;Ne<Se.length;Ne++)j.add(Se[Ne])});const K=this.bodyNode,de=Array.from(this.statesByElement.keys()),ge=Wm(de,this.collectedEnterElements),ce=new Map;let Ee=0;ge.forEach((ve,Se)=>{const Ne=Cf+Ee++;ce.set(Se,Ne),ve.forEach(He=>Bn(He,Ne))});const oe=[],ie=new Set,ne=new Set;for(let ve=0;ve<this.collectedLeaveElements.length;ve++){const Se=this.collectedLeaveElements[ve],Ne=Se[Vn];Ne&&Ne.setForRemoval&&(oe.push(Se),ie.add(Se),Ne.hasAnimation?this.driver.query(Se,".ng-star-inserted",!0).forEach(He=>ie.add(He)):ne.add(Se))}const X=new Map,fe=Wm(de,Array.from(ie));fe.forEach((ve,Se)=>{const Ne=Dl+Ee++;X.set(Se,Ne),ve.forEach(He=>Bn(He,Ne))}),r.push(()=>{ge.forEach((ve,Se)=>{const Ne=ce.get(Se);ve.forEach(He=>fo(He,Ne))}),fe.forEach((ve,Se)=>{const Ne=X.get(Se);ve.forEach(He=>fo(He,Ne))}),oe.forEach(ve=>{this.processLeaveNode(ve)})});const Ce=[],ke=[];for(let ve=this._namespaceList.length-1;ve>=0;ve--)this._namespaceList[ve].drainQueuedTransitions(n).forEach(Ne=>{const He=Ne.player,qt=Ne.element;if(Ce.push(He),this.collectedEnterElements.length){const Hn=qt[Vn];if(Hn&&Hn.setForMove)return void He.destroy()}const jn=!K||!this.driver.containsElement(K,qt),Ht=X.get(qt),Yr=ce.get(qt),bt=this._buildInstruction(Ne,a,Yr,Ht,jn);if(bt.errors&&bt.errors.length)ke.push(bt);else{if(jn)return He.onStart(()=>Js(qt,bt.fromStyles)),He.onDestroy(()=>kn(qt,bt.toStyles)),void d.push(He);if(Ne.isFallbackTransition)return He.onStart(()=>Js(qt,bt.fromStyles)),He.onDestroy(()=>kn(qt,bt.toStyles)),void d.push(He);bt.timelines.forEach(Hn=>Hn.stretchStartingKeyframe=!0),a.append(qt,bt.timelines),m.push({instruction:bt,player:He,element:qt}),bt.queriedElements.forEach(Hn=>Tn(D,Hn,[]).push(He)),bt.preStyleProps.forEach((Hn,po)=>{const ja=Object.keys(Hn);if(ja.length){let ni=b.get(po);ni||b.set(po,ni=new Set),ja.forEach(a_=>ni.add(a_))}}),bt.postStyleProps.forEach((Hn,po)=>{const ja=Object.keys(Hn);let ni=R.get(po);ni||R.set(po,ni=new Set),ja.forEach(a_=>ni.add(a_))})}});if(ke.length){const ve=[];ke.forEach(Se=>{ve.push(`@${Se.triggerName} has failed due to:\n`),Se.errors.forEach(Ne=>ve.push(`- ${Ne}\n`))}),Ce.forEach(Se=>Se.destroy()),this.reportError(ve)}const Ge=new Map,Mt=new Map;m.forEach(ve=>{const Se=ve.element;a.has(Se)&&(Mt.set(Se,Se),this._beforeAnimationBuild(ve.player.namespaceId,ve.instruction,Ge))}),d.forEach(ve=>{const Se=ve.element;this._getPreviousPlayers(Se,!1,ve.namespaceId,ve.triggerName,null).forEach(He=>{Tn(Ge,Se,[]).push(He),He.destroy()})});const Wt=oe.filter(ve=>or(ve,b,R)),Un=new Map;Gf(Un,this.driver,ne,R,Wr).forEach(ve=>{or(ve,b,R)&&Wt.push(ve)});const kl=new Map;ge.forEach((ve,Se)=>{Gf(kl,this.driver,new Set(ve),b,"!")}),Wt.forEach(ve=>{const Se=Un.get(ve),Ne=kl.get(ve);Un.set(ve,Be(Be({},Se),Ne))});const ho=[],fD=[],hD={};m.forEach(ve=>{const{element:Se,player:Ne,instruction:He}=ve;if(a.has(Se)){if(j.has(Se))return Ne.onDestroy(()=>kn(Se,He.toStyles)),Ne.disabled=!0,Ne.overrideTotalTime(He.totalTime),void d.push(Ne);let qt=hD;if(Mt.size>1){let Ht=Se;const Yr=[];for(;Ht=Ht.parentNode;){const bt=Mt.get(Ht);if(bt){qt=bt;break}Yr.push(Ht)}Yr.forEach(bt=>Mt.set(bt,qt))}const jn=this._buildAnimation(Ne.namespaceId,He,Ge,h,kl,Un);if(Ne.setRealPlayer(jn),qt===hD)ho.push(Ne);else{const Ht=this.playersByElement.get(qt);Ht&&Ht.length&&(Ne.parentPlayer=_s(Ht)),d.push(Ne)}}else Js(Se,He.fromStyles),Ne.onDestroy(()=>kn(Se,He.toStyles)),fD.push(Ne),j.has(Se)&&d.push(Ne)}),fD.forEach(ve=>{const Se=h.get(ve.element);if(Se&&Se.length){const Ne=_s(Se);ve.setRealPlayer(Ne)}}),d.forEach(ve=>{ve.parentPlayer?ve.syncPlayerEvents(ve.parentPlayer):ve.destroy()});for(let ve=0;ve<oe.length;ve++){const Se=oe[ve],Ne=Se[Vn];if(fo(Se,Dl),Ne&&Ne.hasAnimation)continue;let He=[];if(D.size){let jn=D.get(Se);jn&&jn.length&&He.push(...jn);let Ht=this.driver.query(Se,bf,!0);for(let Yr=0;Yr<Ht.length;Yr++){let bt=D.get(Ht[Yr]);bt&&bt.length&&He.push(...bt)}}const qt=He.filter(jn=>!jn.destroyed);qt.length?KE(this,Se,qt):this.processLeaveNode(Se)}return oe.length=0,ho.forEach(ve=>{this.players.push(ve),ve.onDone(()=>{ve.destroy();const Se=this.players.indexOf(ve);this.players.splice(Se,1)}),ve.play()}),ho}elementContainsData(r,n){let a=!1;const d=n[Vn];return d&&d.setForRemoval&&(a=!0),this.playersByElement.has(n)&&(a=!0),this.playersByQueriedElement.has(n)&&(a=!0),this.statesByElement.has(n)&&(a=!0),this._fetchNamespace(r).elementContainsData(n)||a}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,n,a,d,h){let m=[];if(n){const D=this.playersByQueriedElement.get(r);D&&(m=D)}else{const D=this.playersByElement.get(r);if(D){const b=!h||h==Fa;D.forEach(R=>{R.queued||!b&&R.triggerName!=d||m.push(R)})}}return(a||d)&&(m=m.filter(D=>!(a&&a!=D.namespaceId||d&&d!=D.triggerName))),m}_beforeAnimationBuild(r,n,a){const h=n.element,m=n.isRemovalTransition?void 0:r,D=n.isRemovalTransition?void 0:n.triggerName;for(const b of n.timelines){const R=b.element,j=R!==h,K=Tn(a,R,[]);this._getPreviousPlayers(R,j,m,D,n.toState).forEach(ge=>{const ce=ge.getRealPlayer();ce.beforeDestroy&&ce.beforeDestroy(),ge.destroy(),K.push(ge)})}Js(h,n.fromStyles)}_buildAnimation(r,n,a,d,h,m){const D=n.triggerName,b=n.element,R=[],j=new Set,K=new Set,de=n.timelines.map(ce=>{const Ee=ce.element;j.add(Ee);const oe=Ee[Vn];if(oe&&oe.removedBeforeQueried)return new Ks(ce.duration,ce.delay);const ie=Ee!==b,ne=function(s){const r=[];return qm(s,r),r}((a.get(Ee)||GE).map(Ge=>Ge.getRealPlayer())).filter(Ge=>!!Ge.element&&Ge.element===Ee),X=h.get(Ee),fe=m.get(Ee),Ce=Pm(0,this._normalizer,0,ce.keyframes,X,fe),ke=this._buildPlayer(ce,Ce,ne);if(ce.subTimeline&&d&&K.add(Ee),ie){const Ge=new ti(r,D,Ee);Ge.setRealPlayer(ke),R.push(Ge)}return ke});R.forEach(ce=>{Tn(this.playersByQueriedElement,ce.element,[]).push(ce),ce.onDone(()=>function(s,r,n){let a;if(s instanceof Map){if(a=s.get(r),a){if(a.length){const d=a.indexOf(n);a.splice(d,1)}0==a.length&&s.delete(r)}}else if(a=s[r],a){if(a.length){const d=a.indexOf(n);a.splice(d,1)}0==a.length&&delete s[r]}return a}(this.playersByQueriedElement,ce.element,ce))}),j.forEach(ce=>Bn(ce,Af));const ge=_s(de);return ge.onDestroy(()=>{j.forEach(ce=>fo(ce,Af)),kn(b,n.toStyles)}),K.forEach(ce=>{Tn(d,ce,[]).push(ge)}),ge}_buildPlayer(r,n,a){return n.length>0?this.driver.animate(r.element,n,r.duration,r.delay,r.easing,a):new Ks(r.duration,r.delay)}}class ti{constructor(r,n,a){this.namespaceId=r,this.triggerName=n,this.element=a,this._player=new Ks,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(a=>_l(r,n,void 0,a))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const n=this._player;n.triggerCallback&&r.onStart(()=>n.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,n){Tn(this._queuedCallbacks,r,[]).push(n)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const n=this._player;n.triggerCallback&&n.triggerCallback(r)}}function xa(s){return s&&1===s.nodeType}function $f(s,r){const n=s.style.display;return s.style.display=null!=r?r:"none",n}function Gf(s,r,n,a,d){const h=[];n.forEach(b=>h.push($f(b)));const m=[];a.forEach((b,R)=>{const j={};b.forEach(K=>{const de=j[K]=r.computeStyle(R,K,d);(!de||0==de.length)&&(R[Vn]=ZE,m.push(R))}),s.set(R,j)});let D=0;return n.forEach(b=>$f(b,h[D++])),m}function Wm(s,r){const n=new Map;if(s.forEach(D=>n.set(D,[])),0==r.length)return n;const d=new Set(r),h=new Map;function m(D){if(!D)return 1;let b=h.get(D);if(b)return b;const R=D.parentNode;return b=n.has(R)?R:d.has(R)?1:m(R),h.set(D,b),b}return r.forEach(D=>{const b=m(D);1!==b&&n.get(b).push(D)}),n}const Na="$$classes";function Bn(s,r){if(s.classList)s.classList.add(r);else{let n=s[Na];n||(n=s[Na]={}),n[r]=!0}}function fo(s,r){if(s.classList)s.classList.remove(r);else{let n=s[Na];n&&delete n[r]}}function KE(s,r,n){_s(n).onDone(()=>s.processLeaveNode(r))}function qm(s,r){for(let n=0;n<s.length;n++){const a=s[n];a instanceof Im?qm(a.players,r):r.push(a)}}function or(s,r,n){const a=n.get(s);if(!a)return!1;let d=r.get(s);return d?a.forEach(h=>d.add(h)):r.set(s,a),n.delete(s),!0}class Fl{constructor(r,n,a){this.bodyNode=r,this._driver=n,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(d,h)=>{},this._transitionEngine=new qE(r,n,a),this._timelineEngine=new UE(r,n,a),this._transitionEngine.onRemovalComplete=(d,h)=>this.onRemovalComplete(d,h)}registerTrigger(r,n,a,d,h){const m=r+"-"+d;let D=this._triggerCache[m];if(!D){const b=[],R=xf(this._driver,h,b);if(b.length)throw new Error(`The animation trigger "${d}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);D=function(s,r,n){return new VE(s,r,n)}(d,R,this._normalizer),this._triggerCache[m]=D}this._transitionEngine.registerTrigger(n,d,D)}register(r,n){this._transitionEngine.register(r,n)}destroy(r,n){this._transitionEngine.destroy(r,n)}onInsert(r,n,a,d){this._transitionEngine.insertNode(r,n,a,d)}onRemove(r,n,a,d){this._transitionEngine.removeNode(r,n,d||!1,a)}disableAnimations(r,n){this._transitionEngine.markElementAsDisabled(r,n)}process(r,n,a,d){if("@"==a.charAt(0)){const[h,m]=mf(a);this._timelineEngine.command(h,n,m,d)}else this._transitionEngine.trigger(r,n,a,d)}listen(r,n,a,d,h){if("@"==a.charAt(0)){const[m,D]=mf(a);return this._timelineEngine.listen(m,n,D,h)}return this._transitionEngine.listen(r,n,a,d,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xl(s,r){let n=null,a=null;return Array.isArray(r)&&r.length?(n=Wf(r[0]),r.length>1&&(a=Wf(r[r.length-1]))):r&&(n=Wf(r)),n||a?new La(s,n,a):null}let La=(()=>{class s{constructor(n,a,d){this._element=n,this._startStyles=a,this._endStyles=d,this._state=0;let h=s.initialStylesByElement.get(n);h||s.initialStylesByElement.set(n,h={}),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&kn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kn(this._element,this._initialStyles),this._endStyles&&(kn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(Js(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Js(this._element,this._endStyles),this._endStyles=null),kn(this._element,this._initialStyles),this._state=3)}}return s.initialStylesByElement=new WeakMap,s})();function Wf(s){let r=null;const n=Object.keys(s);for(let a=0;a<n.length;a++){const d=n[a];YE(d)&&(r=r||{},r[d]=s[d])}return r}function YE(s){return"display"===s||"position"===s}const ka="animation",Va="animationend";class JE{constructor(r,n,a,d,h,m,D){this._element=r,this._name=n,this._duration=a,this._delay=d,this._easing=h,this._fillMode=m,this._onDoneFn=D,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(s,r){const n=Ba(s,"").trim();let a=0;n.length&&(function(s,r){let n=0;for(let a=0;a<s.length;a++)","===s.charAt(a)&&n++;return n}(n)+1,r=`${n}, ${r}`),Qf(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ym(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qf(this._element,this._name,"paused")}resume(){qf(this._element,this._name,"running")}setPosition(r){const n=Yf(this._element,this._name);this._position=r*this._duration,Qf(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(r){const n=r._ngTestManualTimestamp||Date.now(),a=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&a>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ym(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const a=Ba(s,"").split(","),d=zf(a,r);d>=0&&(a.splice(d,1),Qf(s,"",a.join(",")))}(this._element,this._name))}}function qf(s,r,n){Qf(s,"PlayState",n,Yf(s,r))}function Yf(s,r){const n=Ba(s,"");return n.indexOf(",")>0?zf(n.split(","),r):zf([n],r)}function zf(s,r){for(let n=0;n<s.length;n++)if(s[n].indexOf(r)>=0)return n;return-1}function Ym(s,r,n){n?s.removeEventListener(Va,r):s.addEventListener(Va,r)}function Qf(s,r,n,a){const d=ka+r;if(null!=a){const h=s.style[d];if(h.length){const m=h.split(",");m[a]=n,n=m.join(",")}}s.style[d]=n}function Ba(s,r){return s.style[ka+r]||""}class Nl{constructor(r,n,a,d,h,m,D,b){this.element=r,this.keyframes=n,this.animationName=a,this._duration=d,this._delay=h,this._finalStyles=D,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=d+h,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new JE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(a=>{"offset"!=a&&(r[a]=n?this._finalStyles[a]:Of(this.element,a))})}this.currentSnapshot=r}}class XE extends Ks{constructor(r,n){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=Om(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const n=this._startingStyles[r];n?this.element.style.setProperty(r,n):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class Jm{constructor(){this._count=0}validateStyleProperty(r){return so(r)}matchesElement(r,n){return Ef(r,n)}containsElement(r,n){return El(r,n)}query(r,n,a){return zs(r,n,a)}computeStyle(r,n,a){return window.getComputedStyle(r)[n]}buildKeyframeElement(r,n,a){a=a.map(D=>Om(D));let d=`@keyframes ${n} {\n`,h="";a.forEach(D=>{h=" ";const b=parseFloat(D.offset);d+=`${h}${100*b}% {\n`,h+=" ",Object.keys(D).forEach(R=>{const j=D[R];switch(R){case"offset":return;case"easing":return void(j&&(d+=`${h}animation-timing-function: ${j};\n`));default:return void(d+=`${h}${R}: ${j};\n`)}}),d+=`${h}}\n`}),d+="}\n";const m=document.createElement("style");return m.textContent=d,m}animate(r,n,a,d,h,m=[],D){const b=m.filter(oe=>oe instanceof Nl),R={};If(a,d)&&b.forEach(oe=>{let ie=oe.currentSnapshot;Object.keys(ie).forEach(ne=>R[ne]=ie[ne])});const j=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(a=>{Object.keys(a).forEach(d=>{"offset"==d||"easing"==d||(r[d]=a[d])})}),r}(n=Pf(r,n,R));if(0==a)return new XE(r,j);const K="gen_css_kf_"+this._count++,de=this.buildKeyframeElement(r,K,n);(function(s){var n;const r=null==(n=s.getRootNode)?void 0:n.call(s);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(r).appendChild(de);const ce=xl(r,n),Ee=new Nl(r,n,K,a,d,h,j,ce);return Ee.onDestroy(()=>{var s;(s=de).parentNode.removeChild(s)}),Ee}}class t_{constructor(r,n,a,d){this.element=r,this.keyframes=n,this.options=a,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,n,a){return r.animate(n,a)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(r[n]=this._finished?this._finalKeyframe[n]:Of(this.element,n))}),this.currentSnapshot=r}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}class nD{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(th().toString()),this._cssKeyframesDriver=new Jm}validateStyleProperty(r){return so(r)}matchesElement(r,n){return Ef(r,n)}containsElement(r,n){return El(r,n)}query(r,n,a){return zs(r,n,a)}computeStyle(r,n,a){return window.getComputedStyle(r)[n]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,n,a,d,h,m=[],D){if(!D&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,n,a,d,h,m);const j={duration:a,delay:d,fill:0==d?"both":"forwards"};h&&(j.easing=h);const K={},de=m.filter(ce=>ce instanceof t_);If(a,d)&&de.forEach(ce=>{let Ee=ce.currentSnapshot;Object.keys(Ee).forEach(oe=>K[oe]=Ee[oe])});const ge=xl(r,n=Pf(r,n=n.map(ce=>vs(ce,!1)),K));return new t_(r,n,j,ge)}}function th(){return no()&&Element.prototype.animate||{}}let rD=(()=>{class s extends df{constructor(n,a){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(a.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(n){const a=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(n)?ff(n):n;return nn(this._renderer,null,a,"register",[d]),new r_(a,this._renderer)}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(o.FYo),o.LFG(O))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();class r_ extends class{}{constructor(r,n){super(),this._id=r,this._renderer=n}create(r,n){return new sD(this._id,r,n||{},this._renderer)}}class sD{constructor(r,n,a,d){this.id=r,this.element=n,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",a)}_listen(r,n){return this._renderer.listen(this.element,`@@${this.id}:${r}`,n)}_command(r,...n){return nn(this._renderer,this.element,this.id,r,n)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,n;return null!=(n=null==(r=this._renderer.engine.players[+this.id])?void 0:r.getPosition())?n:0}}function nn(s,r,n,a,d){return s.setProperty(r,`@@${n}:${a}`,d)}const s_="@.disabled";let iD=(()=>{class s{constructor(n,a,d){this.delegate=n,this.engine=a,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),a.onRemovalComplete=(h,m)=>{const D=null==m?void 0:m.parentNode(h);D&&m.removeChild(D,h)}}createRenderer(n,a){const h=this.delegate.createRenderer(n,a);if(!(n&&a&&a.data&&a.data.animation)){let j=this._rendererCache.get(h);return j||(j=new oD("",h,this.engine),this._rendererCache.set(h,j)),j}const m=a.id,D=a.id+"-"+this._currentId;this._currentId++,this.engine.register(D,n);const b=j=>{Array.isArray(j)?j.forEach(b):this.engine.registerTrigger(m,D,n,j.name,j)};return a.data.animation.forEach(b),new Ua(this,D,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,a,d){n>=0&&n<this._microtaskId?this._zone.run(()=>a(d)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,D]=h;m(D)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([a,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(o.FYo),o.LFG(Fl),o.LFG(o.R0b))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();class oD{constructor(r,n,a){this.namespaceId=r,this.delegate=n,this.engine=a,this.destroyNode=this.delegate.destroyNode?d=>n.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,n){return this.delegate.createElement(r,n)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,n){this.delegate.appendChild(r,n),this.engine.onInsert(this.namespaceId,n,r,!1)}insertBefore(r,n,a,d=!0){this.delegate.insertBefore(r,n,a),this.engine.onInsert(this.namespaceId,n,r,d)}removeChild(r,n,a){this.engine.onRemove(this.namespaceId,n,this.delegate,a)}selectRootElement(r,n){return this.delegate.selectRootElement(r,n)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,n,a,d){this.delegate.setAttribute(r,n,a,d)}removeAttribute(r,n,a){this.delegate.removeAttribute(r,n,a)}addClass(r,n){this.delegate.addClass(r,n)}removeClass(r,n){this.delegate.removeClass(r,n)}setStyle(r,n,a,d){this.delegate.setStyle(r,n,a,d)}removeStyle(r,n,a){this.delegate.removeStyle(r,n,a)}setProperty(r,n,a){"@"==n.charAt(0)&&n==s_?this.disableAnimations(r,!!a):this.delegate.setProperty(r,n,a)}setValue(r,n){this.delegate.setValue(r,n)}listen(r,n,a){return this.delegate.listen(r,n,a)}disableAnimations(r,n){this.engine.disableAnimations(r,n)}}class Ua extends oD{constructor(r,n,a,d){super(n,a,d),this.factory=r,this.namespaceId=n}setProperty(r,n,a){"@"==n.charAt(0)?"."==n.charAt(1)&&n==s_?this.disableAnimations(r,a=void 0===a||!!a):this.engine.process(this.namespaceId,r,n.substr(1),a):this.delegate.setProperty(r,n,a)}listen(r,n,a){if("@"==n.charAt(0)){const d=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let h=n.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(h)),this.engine.listen(this.namespaceId,d,h,m,D=>{this.factory.scheduleListenerCallback(D._data||-1,a,D)})}return this.delegate.listen(r,n,a)}}let cD=(()=>{class s extends Fl{constructor(n,a,d){super(n.body,a,d)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(n){return new(n||s)(o.LFG(O),o.LFG(Df),o.LFG(Pl))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const Rl=new o.OlP("AnimationModuleType"),rh=[{provide:df,useClass:rD},{provide:Pl,useFactory:function(){return new FE}},{provide:Fl,useClass:cD},{provide:o.FYo,useFactory:function(s,r,n){return new iD(s,r,n)},deps:[ns,Fl,o.R0b]}],sh=[{provide:Df,useFactory:function(){return"function"==typeof th()?new nD:new Jm}},{provide:Rl,useValue:"BrowserAnimations"},...rh],Ll=[{provide:Df,useClass:Fm},{provide:Rl,useValue:"NoopAnimations"},...rh];let ih=(()=>{class s{static withConfig(n){return{ngModule:s,providers:n.disableAnimations?Ll:sh}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:sh,imports:[lc]}),s})(),o_=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s,bootstrap:[gl]}),s.\u0275inj=o.cJS({providers:[],imports:[[lc,eo,y.Aw.forRoot({},{metaReducers:[],runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),Or.forRoot([]),[],Xy,ih]]}),s})();(0,o.G48)(),eu().bootstrapModule(o_).catch(s=>console.error(s))},8521:L=>{L.exports=T=>{if(!Array.isArray(T))throw new TypeError("Expected an array, got "+typeof T);for(let E=(T=[...T]).length-1;E>0;E--){const o=Math.floor(Math.random()*(E+1));[T[E],T[o]]=[T[o],T[E]]}return T}},8085:(L,T,E)=>{E.d(T,{P:()=>F});var o=E(172),V=E(2411),Z=E(540);class F{constructor(O,A,M){this.kind=O,this.value=A,this.error=M,this.hasValue="N"===O}observe(O){switch(this.kind){case"N":return O.next&&O.next(this.value);case"E":return O.error&&O.error(this.error);case"C":return O.complete&&O.complete()}}do(O,A,M){switch(this.kind){case"N":return O&&O(this.value);case"E":return A&&A(this.error);case"C":return M&&M()}}accept(O,A,M){return O&&"function"==typeof O.next?this.observe(O):this.do(O,A,M)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return(0,Z._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(O){return void 0!==O?new F("N",O):F.undefinedValueNotification}static createError(O){return new F("E",void 0,O)}static createComplete(){return F.completeNotification}}F.completeNotification=new F("C"),F.undefinedValueNotification=new F("N",void 0)},5548:(L,T,E)=>{E.d(T,{y:()=>B});var o=E(4168),Z=E(2926),W=E(6617),I=E(1359),O=E(7255);var S=E(5426);let B=(()=>{class G{constructor(z){this._isScalar=!1,z&&(this._subscribe=z)}lift(z){const te=new G;return te.source=this,te.operator=z,te}subscribe(z,te,me){const{operator:H}=this,J=function(G,pe,z){if(G){if(G instanceof o.L)return G;if(G[Z.b])return G[Z.b]()}return G||pe||z?new o.L(G,pe,z):new o.L(W.c)}(z,te,me);if(J.add(H?H.call(J,this.source):this.source||S.v.useDeprecatedSynchronousErrorHandling&&!J.syncErrorThrowable?this._subscribe(J):this._trySubscribe(J)),S.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable&&(J.syncErrorThrowable=!1,J.syncErrorThrown))throw J.syncErrorValue;return J}_trySubscribe(z){try{return this._subscribe(z)}catch(te){S.v.useDeprecatedSynchronousErrorHandling&&(z.syncErrorThrown=!0,z.syncErrorValue=te),function(G){for(;G;){const{closed:pe,destination:z,isStopped:te}=G;if(pe||te)return!1;G=z&&z instanceof o.L?z:null}return!0}(z)?z.error(te):console.warn(te)}}forEach(z,te){return new(te=x(te))((me,H)=>{let J;J=this.subscribe(_e=>{try{z(_e)}catch(Le){H(Le),J&&J.unsubscribe()}},H,me)})}_subscribe(z){const{source:te}=this;return te&&te.subscribe(z)}[I.L](){return this}pipe(...z){return 0===z.length?this:function(G){return 0===G.length?O.y:1===G.length?G[0]:function(z){return G.reduce((te,me)=>me(te),z)}}(z)(this)}toPromise(z){return new(z=x(z))((te,me)=>{let H;this.subscribe(J=>H=J,J=>me(J),()=>te(H))})}}return G.create=pe=>new G(pe),G})();function x(G){if(G||(G=S.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},6617:(L,T,E)=>{E.d(T,{c:()=>Z});var o=E(5426),V=E(9887);const Z={closed:!0,next(W){},error(W){if(o.v.useDeprecatedSynchronousErrorHandling)throw W;(0,V.z)(W)},complete(){}}},5330:(L,T,E)=>{E.d(T,{L:()=>V});var o=E(4168);class V extends o.L{notifyNext(W,F,I,O,A){this.destination.next(F)}notifyError(W,F){this.destination.error(W)}notifyComplete(W){this.destination.complete()}}},466:(L,T,E)=>{E.d(T,{t:()=>O});var o=E(3405),V=E(7575),Z=E(1346),W=E(9748),F=E(2108),I=E(5973);class O extends o.xQ{constructor(S=Number.POSITIVE_INFINITY,B=Number.POSITIVE_INFINITY,x){super(),this.scheduler=x,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=S<1?1:S,this._windowTime=B<1?1:B,B===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(S){if(!this.isStopped){const B=this._events;B.push(S),B.length>this._bufferSize&&B.shift()}super.next(S)}nextTimeWindow(S){this.isStopped||(this._events.push(new A(this._getNow(),S)),this._trimBufferThenGetEvents()),super.next(S)}_subscribe(S){const B=this._infiniteTimeWindow,x=B?this._events:this._trimBufferThenGetEvents(),G=this.scheduler,pe=x.length;let z;if(this.closed)throw new F.N;if(this.isStopped||this.hasError?z=Z.w.EMPTY:(this.observers.push(S),z=new I.W(this,S)),G&&S.add(S=new W.ht(S,G)),B)for(let te=0;te<pe&&!S.closed;te++)S.next(x[te]);else for(let te=0;te<pe&&!S.closed;te++)S.next(x[te].value);return this.hasError?S.error(this.thrownError):this.isStopped&&S.complete(),z}_getNow(){return(this.scheduler||V.c).now()}_trimBufferThenGetEvents(){const S=this._getNow(),B=this._bufferSize,x=this._windowTime,G=this._events,pe=G.length;let z=0;for(;z<pe&&!(S-G[z].time<x);)z++;return pe>B&&(z=Math.max(z,pe-B)),z>0&&G.splice(0,z),G}}class A{constructor(S,B){this.time=S,this.value=B}}},3405:(L,T,E)=>{E.d(T,{Yc:()=>O,xQ:()=>A});var o=E(5548),V=E(4168),Z=E(1346),W=E(2108),F=E(5973),I=E(2926);class O extends V.L{constructor(B){super(B),this.destination=B}}let A=(()=>{class S extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[I.b](){return new O(this)}lift(x){const G=new M(this,this);return G.operator=x,G}next(x){if(this.closed)throw new W.N;if(!this.isStopped){const{observers:G}=this,pe=G.length,z=G.slice();for(let te=0;te<pe;te++)z[te].next(x)}}error(x){if(this.closed)throw new W.N;this.hasError=!0,this.thrownError=x,this.isStopped=!0;const{observers:G}=this,pe=G.length,z=G.slice();for(let te=0;te<pe;te++)z[te].error(x);this.observers.length=0}complete(){if(this.closed)throw new W.N;this.isStopped=!0;const{observers:x}=this,G=x.length,pe=x.slice();for(let z=0;z<G;z++)pe[z].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(x){if(this.closed)throw new W.N;return super._trySubscribe(x)}_subscribe(x){if(this.closed)throw new W.N;return this.hasError?(x.error(this.thrownError),Z.w.EMPTY):this.isStopped?(x.complete(),Z.w.EMPTY):(this.observers.push(x),new F.W(this,x))}asObservable(){const x=new o.y;return x.source=this,x}}return S.create=(B,x)=>new M(B,x),S})();class M extends A{constructor(B,x){super(),this.destination=B,this.source=x}next(B){const{destination:x}=this;x&&x.next&&x.next(B)}error(B){const{destination:x}=this;x&&x.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:x}=this;return x?this.source.subscribe(B):Z.w.EMPTY}}},5973:(L,T,E)=>{E.d(T,{W:()=>V});var o=E(1346);class V extends o.w{constructor(W,F){super(),this.subject=W,this.subscriber=F,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const W=this.subject,F=W.observers;if(this.subject=null,!F||0===F.length||W.isStopped||W.closed)return;const I=F.indexOf(this.subscriber);-1!==I&&F.splice(I,1)}}},4168:(L,T,E)=>{E.d(T,{L:()=>O});var o=E(6783),V=E(6617),Z=E(1346),W=E(2926),F=E(5426),I=E(9887);class O extends Z.w{constructor(S,B,x){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=V.c;break;case 1:if(!S){this.destination=V.c;break}if("object"==typeof S){S instanceof O?(this.syncErrorThrowable=S.syncErrorThrowable,this.destination=S,S.add(this)):(this.syncErrorThrowable=!0,this.destination=new A(this,S));break}default:this.syncErrorThrowable=!0,this.destination=new A(this,S,B,x)}}[W.b](){return this}static create(S,B,x){const G=new O(S,B,x);return G.syncErrorThrowable=!1,G}next(S){this.isStopped||this._next(S)}error(S){this.isStopped||(this.isStopped=!0,this._error(S))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(S){this.destination.next(S)}_error(S){this.destination.error(S),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:S}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=S,this}}class A extends O{constructor(S,B,x,G){super(),this._parentSubscriber=S;let pe,z=this;(0,o.m)(B)?pe=B:B&&(pe=B.next,x=B.error,G=B.complete,B!==V.c&&(z=Object.create(B),(0,o.m)(z.unsubscribe)&&this.add(z.unsubscribe.bind(z)),z.unsubscribe=this.unsubscribe.bind(this))),this._context=z,this._next=pe,this._error=x,this._complete=G}next(S){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;F.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,S)&&this.unsubscribe():this.__tryOrUnsub(this._next,S)}}error(S){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:x}=F.v;if(this._error)x&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,S),this.unsubscribe()):(this.__tryOrUnsub(this._error,S),this.unsubscribe());else if(B.syncErrorThrowable)x?(B.syncErrorValue=S,B.syncErrorThrown=!0):(0,I.z)(S),this.unsubscribe();else{if(this.unsubscribe(),x)throw S;(0,I.z)(S)}}}complete(){if(!this.isStopped){const{_parentSubscriber:S}=this;if(this._complete){const B=()=>this._complete.call(this._context);F.v.useDeprecatedSynchronousErrorHandling&&S.syncErrorThrowable?(this.__tryOrSetError(S,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(S,B){try{S.call(this._context,B)}catch(x){if(this.unsubscribe(),F.v.useDeprecatedSynchronousErrorHandling)throw x;(0,I.z)(x)}}__tryOrSetError(S,B,x){if(!F.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,x)}catch(G){return F.v.useDeprecatedSynchronousErrorHandling?(S.syncErrorValue=G,S.syncErrorThrown=!0,!0):((0,I.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:S}=this;this._context=null,this._parentSubscriber=null,S.unsubscribe()}}},1346:(L,T,E)=>{E.d(T,{w:()=>I});var o=E(5894),V=E(7879),Z=E(6783);const F=(()=>{function A(M){return Error.call(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((S,B)=>`${B+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M,this}return A.prototype=Object.create(Error.prototype),A})();class I{constructor(M){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,M&&(this._ctorUnsubscribe=!0,this._unsubscribe=M)}unsubscribe(){let M;if(this.closed)return;let{_parentOrParents:S,_ctorUnsubscribe:B,_unsubscribe:x,_subscriptions:G}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,S instanceof I)S.remove(this);else if(null!==S)for(let pe=0;pe<S.length;++pe)S[pe].remove(this);if((0,Z.m)(x)){B&&(this._unsubscribe=void 0);try{x.call(this)}catch(pe){M=pe instanceof F?O(pe.errors):[pe]}}if((0,o.k)(G)){let pe=-1,z=G.length;for(;++pe<z;){const te=G[pe];if((0,V.K)(te))try{te.unsubscribe()}catch(me){M=M||[],me instanceof F?M=M.concat(O(me.errors)):M.push(me)}}}if(M)throw new F(M)}add(M){let S=M;if(!M)return I.EMPTY;switch(typeof M){case"function":S=new I(M);case"object":if(S===this||S.closed||"function"!=typeof S.unsubscribe)return S;if(this.closed)return S.unsubscribe(),S;if(!(S instanceof I)){const G=S;S=new I,S._subscriptions=[G]}break;default:throw new Error("unrecognized teardown "+M+" added to Subscription.")}let{_parentOrParents:B}=S;if(null===B)S._parentOrParents=this;else if(B instanceof I){if(B===this)return S;S._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return S;B.push(this)}const x=this._subscriptions;return null===x?this._subscriptions=[S]:x.push(S),S}remove(M){const S=this._subscriptions;if(S){const B=S.indexOf(M);-1!==B&&S.splice(B,1)}}}var A;function O(A){return A.reduce((M,S)=>M.concat(S instanceof F?S.errors:S),[])}I.EMPTY=((A=new I).closed=!0,A)},5426:(L,T,E)=>{E.d(T,{v:()=>V});let o=!1;const V={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Z){if(Z){const W=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+W.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=Z},get useDeprecatedSynchronousErrorHandling(){return o}}},8345:(L,T,E)=>{E.d(T,{IY:()=>W,Ds:()=>I,ft:()=>A});var o=E(4168),V=E(5548),Z=E(4651);class W extends o.L{constructor(S){super(),this.parent=S}_next(S){this.parent.notifyNext(S)}_error(S){this.parent.notifyError(S),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class I extends o.L{notifyNext(S){this.destination.next(S)}notifyError(S){this.destination.error(S)}notifyComplete(){this.destination.complete()}}function A(M,S){if(S.closed)return;if(M instanceof V.y)return M.subscribe(S);let B;try{B=(0,Z.s)(M)(S)}catch(x){S.error(x)}return B}},172:(L,T,E)=>{E.d(T,{E:()=>V,c:()=>Z});var o=E(5548);const V=new o.y(F=>F.complete());function Z(F){return F?function(F){return new o.y(I=>F.schedule(()=>I.complete()))}(F):V}},1915:(L,T,E)=>{E.d(T,{D:()=>z});var o=E(5548),V=E(4651),Z=E(1346),W=E(1359),O=E(3428),A=E(4352),B=E(847),x=E(1265);function z(te,me){return me?function(te,me){if(null!=te){if(function(te){return te&&"function"==typeof te[W.L]}(te))return function(te,me){return new o.y(H=>{const J=new Z.w;return J.add(me.schedule(()=>{const _e=te[W.L]();J.add(_e.subscribe({next(Le){J.add(me.schedule(()=>H.next(Le)))},error(Le){J.add(me.schedule(()=>H.error(Le)))},complete(){J.add(me.schedule(()=>H.complete()))}}))})),J})}(te,me);if((0,B.t)(te))return function(te,me){return new o.y(H=>{const J=new Z.w;return J.add(me.schedule(()=>te.then(_e=>{J.add(me.schedule(()=>{H.next(_e),J.add(me.schedule(()=>H.complete()))}))},_e=>{J.add(me.schedule(()=>H.error(_e)))}))),J})}(te,me);if((0,x.z)(te))return(0,O.r)(te,me);if(function(te){return te&&"function"==typeof te[A.hZ]}(te)||"string"==typeof te)return function(te,me){if(!te)throw new Error("Iterable cannot be null");return new o.y(H=>{const J=new Z.w;let _e;return J.add(()=>{_e&&"function"==typeof _e.return&&_e.return()}),J.add(me.schedule(()=>{_e=te[A.hZ](),J.add(me.schedule(function(){if(H.closed)return;let Le,Xe;try{const $t=_e.next();Le=$t.value,Xe=$t.done}catch($t){return void H.error($t)}Xe?H.complete():(H.next(Le),this.schedule())}))})),J})}(te,me)}throw new TypeError((null!==te&&typeof te||te)+" is not observable")}(te,me):te instanceof o.y?te:new o.y((0,V.s)(te))}},5433:(L,T,E)=>{E.d(T,{n:()=>W});var o=E(5548),V=E(8769),Z=E(3428);function W(F,I){return I?(0,Z.r)(F,I):new o.y((0,V.V)(F))}},3894:(L,T,E)=>{E.d(T,{T:()=>O});var o=E(5548),V=E(8151),Z=E(4421),W=E(7255),I=E(5433);function O(...A){let M=Number.POSITIVE_INFINITY,S=null,B=A[A.length-1];return(0,V.K)(B)?(S=A.pop(),A.length>1&&"number"==typeof A[A.length-1]&&(M=A.pop())):"number"==typeof B&&(M=A.pop()),null===S&&1===A.length&&A[0]instanceof o.y?A[0]:function(A=Number.POSITIVE_INFINITY){return(0,Z.zg)(W.y,A)}(M)((0,I.n)(A,S))}},2411:(L,T,E)=>{E.d(T,{of:()=>W});var o=E(8151),V=E(5433),Z=E(3428);function W(...F){let I=F[F.length-1];return(0,o.K)(I)?(F.pop(),(0,Z.r)(F,I)):(0,V.n)(F)}},540:(L,T,E)=>{E.d(T,{_:()=>V});var o=E(5548);function V(W,F){return new o.y(F?I=>F.schedule(Z,0,{error:W,subscriber:I}):I=>I.error(W))}function Z({error:W,subscriber:F}){F.error(W)}},2047:(L,T,E)=>{E.d(T,{K:()=>V});var o=E(8345);function V(F){return function(O){const A=new Z(F),M=O.lift(A);return A.caught=M}}class Z{constructor(I){this.selector=I}call(I,O){return O.subscribe(new W(I,this.selector,this.caught))}}class W extends o.Ds{constructor(I,O,A){super(I),this.selector=O,this.caught=A}error(I){if(!this.isStopped){let O;try{O=this.selector(I,this.caught)}catch(S){return void super.error(S)}this._unsubscribeAndRecycle();const A=new o.IY(this);this.add(A);const M=(0,o.ft)(O,A);M!==A&&this.add(M)}}}},6700:(L,T,E)=>{E.d(T,{b:()=>V});var o=E(4421);function V(Z,W){return(0,o.zg)(Z,W,1)}},5686:(L,T,E)=>{E.d(T,{b:()=>Z});var o=E(4168),V=E(8178);function Z(O,A=V.P){return M=>M.lift(new W(O,A))}class W{constructor(A,M){this.dueTime=A,this.scheduler=M}call(A,M){return M.subscribe(new F(A,this.dueTime,this.scheduler))}}class F extends o.L{constructor(A,M,S){super(A),this.dueTime=M,this.scheduler=S,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(A){this.clearDebounce(),this.lastValue=A,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(I,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:A}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(A)}}clearDebounce(){const A=this.debouncedSubscription;null!==A&&(this.remove(A),A.unsubscribe(),this.debouncedSubscription=null)}}function I(O){O.debouncedNext()}},8735:(L,T,E)=>{E.d(T,{h:()=>V});var o=E(4168);function V(F,I){return function(A){return A.lift(new Z(F,I))}}class Z{constructor(I,O){this.predicate=I,this.thisArg=O}call(I,O){return O.subscribe(new W(I,this.predicate,this.thisArg))}}class W extends o.L{constructor(I,O,A){super(I),this.predicate=O,this.thisArg=A,this.count=0}_next(I){let O;try{O=this.predicate.call(this.thisArg,I,this.count++)}catch(A){return void this.destination.error(A)}O&&this.destination.next(I)}}},8053:(L,T,E)=>{E.d(T,{U:()=>V});var o=E(4168);function V(F,I){return function(A){if("function"!=typeof F)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return A.lift(new Z(F,I))}}class Z{constructor(I,O){this.project=I,this.thisArg=O}call(I,O){return O.subscribe(new W(I,this.project,this.thisArg))}}class W extends o.L{constructor(I,O,A){super(I),this.project=O,this.count=0,this.thisArg=A||this}_next(I){let O;try{O=this.project.call(this.thisArg,I,this.count++)}catch(A){return void this.destination.error(A)}this.destination.next(O)}}},4421:(L,T,E)=>{E.d(T,{zg:()=>W});var o=E(8053),V=E(1915),Z=E(8345);function W(A,M,S=Number.POSITIVE_INFINITY){return"function"==typeof M?B=>B.pipe(W((x,G)=>(0,V.D)(A(x,G)).pipe((0,o.U)((pe,z)=>M(x,pe,G,z))),S)):("number"==typeof M&&(S=M),B=>B.lift(new F(A,S)))}class F{constructor(M,S=Number.POSITIVE_INFINITY){this.project=M,this.concurrent=S}call(M,S){return S.subscribe(new I(M,this.project,this.concurrent))}}class I extends Z.Ds{constructor(M,S,B=Number.POSITIVE_INFINITY){super(M),this.project=S,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(M){this.active<this.concurrent?this._tryNext(M):this.buffer.push(M)}_tryNext(M){let S;const B=this.index++;try{S=this.project(M,B)}catch(x){return void this.destination.error(x)}this.active++,this._innerSub(S)}_innerSub(M){const S=new Z.IY(this),B=this.destination;B.add(S);const x=(0,Z.ft)(M,S);x!==S&&B.add(x)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(M){this.destination.next(M)}notifyComplete(){const M=this.buffer;this.active--,M.length>0?this._next(M.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9748:(L,T,E)=>{E.d(T,{QV:()=>Z,ht:()=>F});var o=E(4168),V=E(8085);function Z(O,A=0){return function(S){return S.lift(new W(O,A))}}class W{constructor(A,M=0){this.scheduler=A,this.delay=M}call(A,M){return M.subscribe(new F(A,this.scheduler,this.delay))}}class F extends o.L{constructor(A,M,S=0){super(A),this.scheduler=M,this.delay=S}static dispatch(A){const{notification:M,destination:S}=A;M.observe(S),this.unsubscribe()}scheduleMessage(A){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new I(A,this.destination)))}_next(A){this.scheduleMessage(V.P.createNext(A))}_error(A){this.scheduleMessage(V.P.createError(A)),this.unsubscribe()}_complete(){this.scheduleMessage(V.P.createComplete()),this.unsubscribe()}}class I{constructor(A,M){this.notification=A,this.destination=M}}},7434:(L,T,E)=>{E.d(T,{R:()=>V});var o=E(4168);function V(F,I){let O=!1;return arguments.length>=2&&(O=!0),function(M){return M.lift(new Z(F,I,O))}}class Z{constructor(I,O,A=!1){this.accumulator=I,this.seed=O,this.hasSeed=A}call(I,O){return O.subscribe(new W(I,this.accumulator,this.seed,this.hasSeed))}}class W extends o.L{constructor(I,O,A,M){super(I),this.accumulator=O,this._seed=A,this.hasSeed=M,this.index=0}get seed(){return this._seed}set seed(I){this.hasSeed=!0,this._seed=I}_next(I){if(this.hasSeed)return this._tryNext(I);this.seed=I,this.destination.next(I)}_tryNext(I){const O=this.index++;let A;try{A=this.accumulator(this.seed,I,O)}catch(M){this.destination.error(M)}this.seed=A,this.destination.next(A)}}},3005:(L,T,E)=>{E.d(T,{B:()=>te});var o=E(3405),V=E(5548),Z=E(1346),W=E(4168);function F(){return function(H){return H.lift(new I(H))}}class I{constructor(H){this.connectable=H}call(H,J){const{connectable:_e}=this;_e._refCount++;const Le=new O(H,_e),Xe=J.subscribe(Le);return Le.closed||(Le.connection=_e.connect()),Xe}}class O extends W.L{constructor(H,J){super(H),this.connectable=J}_unsubscribe(){const{connectable:H}=this;if(!H)return void(this.connection=null);this.connectable=null;const J=H._refCount;if(J<=0)return void(this.connection=null);if(H._refCount=J-1,J>1)return void(this.connection=null);const{connection:_e}=this,Le=H._connection;this.connection=null,Le&&(!_e||Le===_e)&&Le.unsubscribe()}}class A extends V.y{constructor(H,J){super(),this.source=H,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new Z.w,H.add(this.source.subscribe(new S(this.getSubject(),this))),H.closed&&(this._connection=null,H=Z.w.EMPTY)),H}refCount(){return F()(this)}}const M=(()=>{const me=A.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:me._subscribe},_isComplete:{value:me._isComplete,writable:!0},getSubject:{value:me.getSubject},connect:{value:me.connect},refCount:{value:me.refCount}}})();class S extends o.Yc{constructor(H,J){super(H),this.connectable=J}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const J=H._connection;H._refCount=0,H._subject=null,H._connection=null,J&&J.unsubscribe()}}}function z(){return new o.xQ}function te(){return me=>F()(function(me,H){return function(_e){let Le;Le="function"==typeof me?me:function(){return me};const Xe=Object.create(_e,M);return Xe.source=_e,Xe.subjectFactory=Le,Xe}}(z)(me))}},5488:(L,T,E)=>{E.d(T,{T:()=>V});var o=E(4168);function V(F){return I=>I.lift(new Z(F))}class Z{constructor(I){this.total=I}call(I,O){return O.subscribe(new W(I,this.total))}}class W extends o.L{constructor(I,O){super(I),this.total=O,this.count=0}_next(I){++this.count>this.total&&this.destination.next(I)}}},9204:(L,T,E)=>{E.d(T,{w:()=>W});var o=E(8053),V=E(1915),Z=E(8345);function W(O,A){return"function"==typeof A?M=>M.pipe(W((S,B)=>(0,V.D)(O(S,B)).pipe((0,o.U)((x,G)=>A(S,x,B,G))))):M=>M.lift(new F(O))}class F{constructor(A){this.project=A}call(A,M){return M.subscribe(new I(A,this.project))}}class I extends Z.Ds{constructor(A,M){super(A),this.project=M,this.index=0}_next(A){let M;const S=this.index++;try{M=this.project(A,S)}catch(B){return void this.destination.error(B)}this._innerSub(M)}_innerSub(A){const M=this.innerSubscription;M&&M.unsubscribe();const S=new Z.IY(this),B=this.destination;B.add(S),this.innerSubscription=(0,Z.ft)(A,S),this.innerSubscription!==S&&B.add(this.innerSubscription)}_complete(){const{innerSubscription:A}=this;(!A||A.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(A){this.destination.next(A)}}},1887:(L,T,E)=>{E.d(T,{q:()=>F});var o=E(4168);const Z=(()=>{function A(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return A.prototype=Object.create(Error.prototype),A})();var W=E(172);function F(A){return M=>0===A?(0,W.c)():M.lift(new I(A))}class I{constructor(M){if(this.total=M,this.total<0)throw new Z}call(M,S){return S.subscribe(new O(M,this.total))}}class O extends o.L{constructor(M,S){super(M),this.total=S,this.count=0}_next(M){const S=this.total,B=++this.count;B<=S&&(this.destination.next(M),B===S&&(this.destination.complete(),this.unsubscribe()))}}},8805:(L,T,E)=>{E.d(T,{R:()=>V});var o=E(8345);function V(F){return I=>I.lift(new Z(F))}class Z{constructor(I){this.notifier=I}call(I,O){const A=new W(I),M=(0,o.ft)(this.notifier,new o.IY(A));return M&&!A.seenValue?(A.add(M),O.subscribe(A)):A}}class W extends o.Ds{constructor(I){super(I),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},9163:(L,T,E)=>{E.d(T,{V:()=>S});var o=E(8178);const Z=(()=>{function B(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return B.prototype=Object.create(Error.prototype),B})();var F=E(8345);class O{constructor(x,G,pe,z){this.waitFor=x,this.absoluteTimeout=G,this.withObservable=pe,this.scheduler=z}call(x,G){return G.subscribe(new A(x,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class A extends F.Ds{constructor(x,G,pe,z,te){super(x),this.absoluteTimeout=G,this.waitFor=pe,this.withObservable=z,this.scheduler=te,this.scheduleTimeout()}static dispatchTimeout(x){const{withObservable:G}=x;x._unsubscribeAndRecycle(),x.add((0,F.ft)(G,new F.IY(x)))}scheduleTimeout(){const{action:x}=this;x?this.action=x.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(A.dispatchTimeout,this.waitFor,this))}_next(x){this.absoluteTimeout||this.scheduleTimeout(),super._next(x)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var M=E(540);function S(B,x=o.P){return function(B,x,G=o.P){return pe=>{let z=function(B){return B instanceof Date&&!isNaN(+B)}(B),te=z?+B-G.now():Math.abs(B);return pe.lift(new O(te,z,x,G))}}(B,(0,M._)(new Z),x)}},5571:(L,T,E)=>{E.d(T,{M:()=>Z});var o=E(5330),V=E(7974);function Z(...I){return O=>{let A;return"function"==typeof I[I.length-1]&&(A=I.pop()),O.lift(new W(I,A))}}class W{constructor(O,A){this.observables=O,this.project=A}call(O,A){return A.subscribe(new F(O,this.observables,this.project))}}class F extends o.L{constructor(O,A,M){super(O),this.observables=A,this.project=M,this.toRespond=[];const S=A.length;this.values=new Array(S);for(let B=0;B<S;B++)this.toRespond.push(B);for(let B=0;B<S;B++)this.add((0,V.D)(this,A[B],void 0,B))}notifyNext(O,A,M){this.values[M]=A;const S=this.toRespond;if(S.length>0){const B=S.indexOf(M);-1!==B&&S.splice(B,1)}}notifyComplete(){}_next(O){if(0===this.toRespond.length){const A=[O,...this.values];this.project?this._tryProject(A):this.destination.next(A)}}_tryProject(O){let A;try{A=this.project.apply(this,O)}catch(M){return void this.destination.error(M)}this.destination.next(A)}}},3428:(L,T,E)=>{E.d(T,{r:()=>Z});var o=E(5548),V=E(1346);function Z(W,F){return new o.y(I=>{const O=new V.w;let A=0;return O.add(F.schedule(function(){A!==W.length?(I.next(W[A++]),I.closed||O.add(this.schedule())):I.complete()})),O})}},6339:(L,T,E)=>{E.d(T,{o:()=>Z});var o=E(1346);class V extends o.w{constructor(F,I){super()}schedule(F,I=0){return this}}class Z extends V{constructor(F,I){super(F,I),this.scheduler=F,this.work=I,this.pending=!1}schedule(F,I=0){if(this.closed)return this;this.state=F;const O=this.id,A=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(A,O,I)),this.pending=!0,this.delay=I,this.id=this.id||this.requestAsyncId(A,this.id,I),this}requestAsyncId(F,I,O=0){return setInterval(F.flush.bind(F,this),O)}recycleAsyncId(F,I,O=0){if(null!==O&&this.delay===O&&!1===this.pending)return I;clearInterval(I)}execute(F,I){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(F,I);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(F,I){let A,O=!1;try{this.work(F)}catch(M){O=!0,A=!!M&&M||new Error(M)}if(O)return this.unsubscribe(),A}_unsubscribe(){const F=this.id,I=this.scheduler,O=I.actions,A=O.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==A&&O.splice(A,1),null!=F&&(this.id=this.recycleAsyncId(I,F,null)),this.delay=null}}},5192:(L,T,E)=>{E.d(T,{v:()=>V});let o=(()=>{class Z{constructor(F,I=Z.now){this.SchedulerAction=F,this.now=I}schedule(F,I=0,O){return new this.SchedulerAction(this,F).schedule(O,I)}}return Z.now=()=>Date.now(),Z})();class V extends o{constructor(W,F=o.now){super(W,()=>V.delegate&&V.delegate!==this?V.delegate.now():F()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(W,F=0,I){return V.delegate&&V.delegate!==this?V.delegate.schedule(W,F,I):super.schedule(W,F,I)}flush(W){const{actions:F}=this;if(this.active)return void F.push(W);let I;this.active=!0;do{if(I=W.execute(W.state,W.delay))break}while(W=F.shift());if(this.active=!1,I){for(;W=F.shift();)W.unsubscribe();throw I}}}},8178:(L,T,E)=>{E.d(T,{P:()=>W});var o=E(6339);const W=new(E(5192).v)(o.o)},7575:(L,T,E)=>{E.d(T,{c:()=>I,N:()=>F});var o=E(6339),Z=E(5192);const F=new class extends Z.v{}(class extends o.o{constructor(A,M){super(A,M),this.scheduler=A,this.work=M}schedule(A,M=0){return M>0?super.schedule(A,M):(this.delay=M,this.state=A,this.scheduler.flush(this),this)}execute(A,M){return M>0||this.closed?super.execute(A,M):this._execute(A,M)}requestAsyncId(A,M,S=0){return null!==S&&S>0||null===S&&this.delay>0?super.requestAsyncId(A,M,S):A.flush(this)}}),I=F},4352:(L,T,E)=>{E.d(T,{hZ:()=>V});const V="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(L,T,E)=>{E.d(T,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(L,T,E)=>{E.d(T,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},2108:(L,T,E)=>{E.d(T,{N:()=>V});const V=(()=>{function Z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Z.prototype=Object.create(Error.prototype),Z})()},9887:(L,T,E)=>{function o(V){setTimeout(()=>{throw V},0)}E.d(T,{z:()=>o})},7255:(L,T,E)=>{function o(V){return V}E.d(T,{y:()=>o})},5894:(L,T,E)=>{E.d(T,{k:()=>o});const o=Array.isArray||(V=>V&&"number"==typeof V.length)},1265:(L,T,E)=>{E.d(T,{z:()=>o});const o=V=>V&&"number"==typeof V.length&&"function"!=typeof V},6783:(L,T,E)=>{function o(V){return"function"==typeof V}E.d(T,{m:()=>o})},7879:(L,T,E)=>{function o(V){return null!==V&&"object"==typeof V}E.d(T,{K:()=>o})},847:(L,T,E)=>{function o(V){return!!V&&"function"!=typeof V.subscribe&&"function"==typeof V.then}E.d(T,{t:()=>o})},8151:(L,T,E)=>{function o(V){return V&&"function"==typeof V.schedule}E.d(T,{K:()=>o})},4651:(L,T,E)=>{E.d(T,{s:()=>B});var o=E(8769),V=E(9887),W=E(4352),I=E(1359),A=E(1265),M=E(847),S=E(7879);const B=x=>{if(x&&"function"==typeof x[I.L])return(x=>G=>{const pe=x[I.L]();if("function"!=typeof pe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return pe.subscribe(G)})(x);if((0,A.z)(x))return(0,o.V)(x);if((0,M.t)(x))return(x=>G=>(x.then(pe=>{G.closed||(G.next(pe),G.complete())},pe=>G.error(pe)).then(null,V.z),G))(x);if(x&&"function"==typeof x[W.hZ])return(x=>G=>{const pe=x[W.hZ]();for(;;){let z;try{z=pe.next()}catch(te){return G.error(te),G}if(z.done){G.complete();break}if(G.next(z.value),G.closed)break}return"function"==typeof pe.return&&G.add(()=>{pe.return&&pe.return()}),G})(x);{const pe=`You provided ${(0,S.K)(x)?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(pe)}}},8769:(L,T,E)=>{E.d(T,{V:()=>o});const o=V=>Z=>{for(let W=0,F=V.length;W<F&&!Z.closed;W++)Z.next(V[W]);Z.complete()}},7974:(L,T,E)=>{E.d(T,{D:()=>F});var o=E(4168);class V extends o.L{constructor(O,A,M){super(),this.parent=O,this.outerValue=A,this.outerIndex=M,this.index=0}_next(O){this.parent.notifyNext(this.outerValue,O,this.outerIndex,this.index++,this)}_error(O){this.parent.notifyError(O,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Z=E(4651),W=E(5548);function F(I,O,A,M,S=new V(I,A,M)){if(!S.closed)return O instanceof W.y?O.subscribe(S):(0,Z.s)(O)(S)}},3668:(L,T,E)=>{E.d(T,{AFp:()=>Yr,ip1:()=>jn,CZH:()=>Ht,hGG:()=>Vb,sBO:()=>hb,_Vd:()=>ei,EJc:()=>pA,SBq:()=>Ia,qLn:()=>bn,vpe:()=>or,tBr:()=>St,OlP:()=>Ct,zs3:()=>Rn,ZZ4:()=>d_,aQg:()=>f_,soG:()=>c_,h0i:()=>lo,R0b:()=>ar,FiY:()=>Fr,Lbi:()=>ja,g9A:()=>po,Qsj:()=>IE,FYo:()=>Um,JOm:()=>mr,PiD:()=>Eu,tp0:()=>bi,Rgc:()=>La,dDg:()=>yA,GfV:()=>Ml,s_b:()=>Va,ifc:()=>De,eFA:()=>DA,G48:()=>fb,Gpc:()=>B,X6Q:()=>db,_c5:()=>Ob,VLi:()=>nb,zSh:()=>Kc,wAp:()=>we,vHH:()=>z,cg1:()=>uf,kL8:()=>wm,dqk:()=>rt,sIi:()=>Wi,CqO:()=>Ug,QGY:()=>Kd,F4k:()=>Yd,RDi:()=>zD,AaK:()=>A,qOj:()=>Od,TTD:()=>bo,_Bn:()=>Vm,xp6:()=>td,uIk:()=>qi,ekj:()=>nf,Xpm:()=>ai,lG2:()=>Qa,Yz7:()=>wt,cJS:()=>Vt,oAB:()=>As,Yjl:()=>li,Y36:()=>Ca,_UZ:()=>kg,qZA:()=>il,TgZ:()=>Zd,EpF:()=>qd,n5z:()=>qe,LFG:()=>Lt,$8M:()=>Po,NdJ:()=>al,oxw:()=>Gg,ALo:()=>Gf,lcZ:()=>Na,Q6J:()=>Gd,WLB:()=>Uf,CHM:()=>wo,YNc:()=>Nd,_uU:()=>cm,Oqu:()=>sf,hij:()=>fl,AsE:()=>af});var o=E(3405),V=E(1346),Z=E(5548),W=E(3894),F=E(3005);function I(e){for(let t in e)if(e[t]===I)return t;throw Error("Could not find renamed property on target object.")}function O(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function A(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(A).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function M(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const S=I({__forward_ref__:I});function B(e){return e.__forward_ref__=B,e.toString=function(){return A(this())},e}function x(e){return G(e)?e():e}function G(e){return"function"==typeof e&&e.hasOwnProperty(S)&&e.__forward_ref__===B}class z extends Error{constructor(t,i){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,i)),this.code=t}}function H(e){return"string"==typeof e?e:null==e?"":String(e)}function J(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():H(e)}function $t(e,t){const i=t?` in ${t}`:"";throw new z("201",`No provider for ${J(e)} found${i}`)}function Yt(e,t){null==e&&function(e,t,i,c){throw new Error(`ASSERTION ERROR: ${e}`+(null==c?"":` [Expected=> ${i} ${c} ${t} <=Actual]`))}(t,e,null,"!=")}function wt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function $n(e){return _o(e,Es)||_o(e,Ds)}function _o(e,t){return e.hasOwnProperty(t)?e[t]:null}function si(e){return e&&(e.hasOwnProperty(ii)||e.hasOwnProperty(yo))?e[ii]:null}const Es=I({\u0275prov:I}),ii=I({\u0275inj:I}),Ds=I({ngInjectableDef:I}),yo=I({ngInjectorDef:I});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Nt;function vn(e){const t=Nt;return Nt=e,t}function Za(e,t,i){const c=$n(e);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&Re.Optional?null:void 0!==t?t:void $t(A(e),"Injector")}function Gn(e){return{toString:e}.toString()}var Bt=(()=>((Bt=Bt||{})[Bt.OnPush=0]="OnPush",Bt[Bt.Default=1]="Default",Bt))(),De=(()=>{return(e=De||(De={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",De;var e})();const Oe="undefined"!=typeof globalThis&&globalThis,qa="undefined"!=typeof window&&window,Jr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rt=Oe||"undefined"!=typeof global&&global||qa||Jr,ot={},et=[],ze=I({\u0275cmp:I}),Eo=I({\u0275dir:I}),br=I({\u0275pipe:I}),oi=I({\u0275mod:I}),pn=I({\u0275fac:I}),Cs=I({__NG_ELEMENT_ID__:I});let Do=0;function ai(e){return Gn(()=>{const i={},c={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||et,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||De.Emulated,id:"c",styles:e.styles||et,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,u=e.features,f=e.pipes;return c.id+=Do++,c.inputs=za(e.inputs,i),c.outputs=za(e.outputs),u&&u.forEach(p=>p(c)),c.directiveDefs=l?()=>("function"==typeof l?l():l).map(Xr):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(Ka):null,c})}function Xr(e){return Gt(e)||function(e){return e[Eo]||null}(e)}function Ka(e){return function(e){return e[br]||null}(e)}const Ya={};function As(e){return Gn(()=>{const t={type:e.type,bootstrap:e.bootstrap||et,declarations:e.declarations||et,imports:e.imports||et,exports:e.exports||et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ya[e.id]=e.type),t})}function za(e,t){if(null==e)return ot;const i={};for(const c in e)if(e.hasOwnProperty(c)){let l=e[c],u=l;Array.isArray(l)&&(u=l[1],l=l[0]),i[l]=c,t&&(t[l]=u)}return i}const Qa=ai;function li(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Gt(e){return e[ze]||null}function Ut(e,t){const i=e[oi]||null;if(!i&&!0===t)throw new Error(`Type ${A(e)} does not have '\u0275mod' property.`);return i}const U=10;function re(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ie(e){return Array.isArray(e)&&!0===e[1]}function Ot(e){return 0!=(8&e.flags)}function at(e){return 2==(2&e.flags)}function Zt(e){return 1==(1&e.flags)}function je(e){return null!==e.template}function Cn(e){return 0!=(512&e[2])}function ws(e,t){return e.hasOwnProperty(pn)?e[pn]:null}class Hl{constructor(t,i,c){this.previousValue=t,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function bo(){return fh}function fh(e){return e.type.prototype.ngOnChanges&&(e.setInput=hh),KD}function KD(){const e=ph(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===ot)e.previous=t;else for(let c in t)i[c]=t[c];e.current=null,this.ngOnChanges(t)}}function hh(e,t,i,c){const l=ph(e)||function(e,t){return e[$l]=t}(e,{previous:ot,current:null}),u=l.current||(l.current={}),f=l.previous,p=this.declaredInputs[i],g=f[p];u[p]=new Hl(g&&g.currentValue,t,f===ot),e[c]=t}bo.ngInherit=!0;const $l="__ngSimpleChanges__";function ph(e){return e[$l]||null}let gh;function zD(e){gh=e}function vt(e){return!!e.listen}const D_={createRenderer:(e,t)=>void 0!==gh?gh:"undefined"!=typeof document?document:void 0};function Ft(e){for(;Array.isArray(e);)e=e[0];return e}function nc(e,t){return Ft(t[e])}function sn(e,t){return Ft(t[e.index])}function rc(e,t){return e.data[t]}function An(e,t){const i=t[e];return re(i)?i:i[0]}function Wl(e){return 128==(128&e[2])}function Yn(e,t){return null==t?null:e[t]}function ql(e){e[18]=0}function oc(e,t){e[5]+=t;let i=e,c=e[3];for(;null!==c&&(1===t&&1===i[5]||-1===t&&0===i[5]);)c[5]+=t,i=c,c=c[3]}const Me={lFrame:Dh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zl(){return Me.bindingsEnabled}function Q(){return Me.lFrame.lView}function We(){return Me.lFrame.tView}function wo(e){return Me.lFrame.contextLView=e,e[8]}function xt(){let e=T_();for(;null!==e&&64===e.type;)e=e.parent;return e}function T_(){return Me.lFrame.currentTNode}function Pn(e,t){const i=Me.lFrame;i.currentTNode=e,i.isParent=t}function Ql(){return Me.lFrame.isParent}function cc(){return Me.isInCheckNoChangesMode}function So(e){Me.isInCheckNoChangesMode=e}function on(){const e=Me.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hi(){return Me.lFrame.bindingIndex++}function Mr(e){const t=Me.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function P_(e,t){const i=Me.lFrame;i.bindingIndex=i.bindingRootIndex=e,Xl(t)}function Xl(e){Me.lFrame.currentDirectiveIndex=e}function lc(e){Me.lFrame.currentQueryIndex=e}function JD(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Eh(e,t,i){if(i&Re.SkipSelf){let l=t,u=e;for(;!(l=l.parent,null!==l||i&Re.Host||(l=JD(u),null===l||(u=u[15],10&l.type))););if(null===l)return!1;t=l,e=u}const c=Me.lFrame=F_();return c.currentTNode=t,c.lView=e,!0}function tu(e){const t=F_(),i=e[1];Me.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function F_(){const e=Me.lFrame,t=null===e?null:e.child;return null===t?Dh(e):t}function Dh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ch(){const e=Me.lFrame;return Me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ah=Ch;function nu(){const e=Ch();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Et(){return Me.lFrame.selectedIndex}function rs(e){Me.lFrame.selectedIndex=e}function Dt(){const e=Me.lFrame;return rc(e.tView,e.selectedIndex)}function su(e,t){for(let i=t.directiveStart,c=t.directiveEnd;i<c;i++){const u=e.data[i].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:p,ngAfterViewInit:g,ngAfterViewChecked:_,ngOnDestroy:v}=u;f&&(e.contentHooks||(e.contentHooks=[])).push(-i,f),p&&((e.contentHooks||(e.contentHooks=[])).push(i,p),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,p)),g&&(e.viewHooks||(e.viewHooks=[])).push(-i,g),_&&((e.viewHooks||(e.viewHooks=[])).push(i,_),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,_)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(i,v)}}function uc(e,t,i){N_(e,t,3,i)}function iu(e,t,i,c){(3&e[2])===i&&N_(e,t,i,c)}function Sh(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function N_(e,t,i,c){const u=null!=c?c:-1,f=t.length-1;let p=0;for(let g=void 0!==c?65535&e[18]:0;g<f;g++)if("number"==typeof t[g+1]){if(p=t[g],null!=c&&p>=c)break}else t[g]<0&&(e[18]+=65536),(p<u||-1==u)&&(R_(e,i,t,g),e[18]=(4294901760&e[18])+g+2),g++}function R_(e,t,i,c){const l=i[c]<0,u=i[c+1],p=e[l?-i[c]:i[c]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(p)}finally{}}}else try{u.call(p)}finally{}}class dc{constructor(t,i,c){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function y(e,t,i){const c=vt(e);let l=0;for(;l<i.length;){const u=i[l];if("number"==typeof u){if(0!==u)break;l++;const f=i[l++],p=i[l++],g=i[l++];c?e.setAttribute(t,p,g,f):t.setAttributeNS(f,p,g)}else{const f=u,p=i[++l];pi(f)?c&&e.setProperty(t,f,p):c?e.setAttribute(t,f,p):t.setAttribute(f,p),l++}}return l}function ou(e){return 3===e||4===e||6===e}function pi(e){return 64===e.charCodeAt(0)}function gi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let c=0;c<t.length;c++){const l=t[c];"number"==typeof l?i=l:0===i||mi(e,i,l,null,-1===i||2===i?t[++c]:null)}}return e}function mi(e,t,i,c,l){let u=0,f=e.length;if(-1===t)f=-1;else for(;u<e.length;){const p=e[u++];if("number"==typeof p){if(p===t){f=-1;break}if(p>t){f=u-1;break}}}for(;u<e.length;){const p=e[u];if("number"==typeof p)break;if(p===i){if(null===c)return void(null!==l&&(e[u+1]=l));if(c===e[u+1])return void(e[u+2]=l)}u++,null!==c&&u++,null!==l&&u++}-1!==f&&(e.splice(f,0,t),u=f+1),e.splice(u++,0,i),null!==c&&e.splice(u++,0,c),null!==l&&e.splice(u++,0,l)}function Mh(e){return-1!==e}function _i(e){return 32767&e}function ss(e,t){let i=function(e){return e>>16}(e),c=t;for(;i>0;)c=c[15],i--;return c}let au=!0;function hc(e){const t=au;return au=e,t}let On=0;function Ts(e,t){const i=lu(e,t);if(-1!==i)return i;const c=t[1];c.firstCreatePass&&(e.injectorIndex=t.length,cu(c.data,e),cu(t,null),cu(c.blueprint,null));const l=pc(e,t),u=e.injectorIndex;if(Mh(l)){const f=_i(l),p=ss(l,t),g=p[1].data;for(let _=0;_<8;_++)t[u+_]=p[f+_]|g[f+_]}return t[u+8]=l,u}function cu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function lu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function pc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,c=null,l=t;for(;null!==l;){const u=l[1],f=u.type;if(c=2===f?u.declTNode:1===f?l[6]:null,null===c)return-1;if(i++,l=l[15],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return-1}function To(e,t,i){!function(e,t,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(Cs)&&(c=i[Cs]),null==c&&(c=i[Cs]=On++);const l=255&c;t.data[e+(l>>5)]|=1<<l}(e,t,i)}function Mo(e,t,i){if(i&Re.Optional)return e;$t(t,"NodeInjector")}function gc(e,t,i,c){if(i&Re.Optional&&void 0===c&&(c=null),0==(i&(Re.Self|Re.Host))){const l=e[9],u=vn(void 0);try{return l?l.get(t,c,i&Re.Optional):Za(t,c,i&Re.Optional)}finally{vn(u)}}return Mo(c,t,i)}function mc(e,t,i,c=Re.Default,l){if(null!==e){const u=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Cs)?e[Cs]:void 0;return"number"==typeof t?t>=0?255&t:V_:t}(i);if("function"==typeof u){if(!Eh(t,e,c))return c&Re.Host?Mo(l,i,c):gc(t,i,c,l);try{const f=u(c);if(null!=f||c&Re.Optional)return f;$t(i)}finally{Ah()}}else if("number"==typeof u){let f=null,p=lu(e,t),g=-1,_=c&Re.Host?t[16][6]:null;for((-1===p||c&Re.SkipSelf)&&(g=-1===p?pc(e,t):t[p+8],-1!==g&&du(c,!1)?(f=t[1],p=_i(g),t=ss(g,t)):p=-1);-1!==p;){const v=t[1];if(jt(u,p,v.data)){const C=B_(p,t,i,f,c,_);if(C!==uu)return C}g=t[p+8],-1!==g&&du(c,t[1].data[p+8]===_)&&jt(u,p,t)?(f=v,p=_i(g),t=ss(g,t)):p=-1}}}return gc(t,i,c,l)}const uu={};function V_(){return new Ir(xt(),Q())}function B_(e,t,i,c,l,u){const f=t[1],p=f.data[e+8],v=function(e,t,i,c,l){const u=e.providerIndexes,f=t.data,p=1048575&u,g=e.directiveStart,v=u>>20,P=l?p+v:e.directiveEnd;for(let k=c?p:p+v;k<P;k++){const q=f[k];if(k<g&&i===q||k>=g&&q.type===i)return k}if(l){const k=f[g];if(k&&je(k)&&k.type===i)return g}return null}(p,f,i,null==c?at(p)&&au:c!=f&&0!=(3&p.type),l&Re.Host&&u===p);return null!==v?Io(t,f,v,p):uu}function Io(e,t,i,c){let l=e[i];const u=t.data;if(function(e){return e instanceof dc}(l)){const f=l;f.resolving&&function(e,t){throw new z("200",`Circular dependency in DI detected for ${e}`)}(J(u[i]));const p=hc(f.canSeeViewProviders);f.resolving=!0;const g=f.injectImpl?vn(f.injectImpl):null;Eh(e,c,Re.Default);try{l=e[i]=f.factory(void 0,u,e,c),t.firstCreatePass&&i>=c.directiveStart&&function(e,t,i){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:u}=t.type.prototype;if(c){const f=fh(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,f),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,f)}l&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,l),u&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,u),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,u))}(i,u[i],t)}finally{null!==g&&vn(g),hc(p),f.resolving=!1,Ah()}}return l}function jt(e,t,i){return!!(i[t+(e>>5)]&1<<e)}function du(e,t){return!(e&Re.Self||e&Re.Host&&t)}class Ir{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,c){return mc(this._tNode,this._lView,t,c,i)}}function qe(e){return Gn(()=>{const t=e.prototype.constructor,i=t[pn]||fu(t),c=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==c;){const u=l[pn]||fu(l);if(u&&u!==i)return u;l=Object.getPrototypeOf(l)}return u=>new u})}function fu(e){return G(e)?()=>{const t=fu(x(e));return t&&t()}:ws(e)}function Po(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const c=i.length;let l=0;for(;l<c;){const u=i[l];if(ou(u))break;if(0===u)l+=2;else if("number"==typeof u)for(l++;l<c&&"string"==typeof i[l];)l++;else{if(u===t)return i[l+1];l+=2}}}return null}(xt(),e)}const Oo="__parameters__";function Ei(e,t,i){return Gn(()=>{const c=function(e){return function(...i){if(e){const c=e(...i);for(const l in c)this[l]=c[l]}}}(t);function l(...u){if(this instanceof l)return c.apply(this,u),this;const f=new l(...u);return p.annotation=f,p;function p(g,_,v){const C=g.hasOwnProperty(Oo)?g[Oo]:Object.defineProperty(g,Oo,{value:[]})[Oo];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(f),g}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class Ct{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=wt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}function zn(e,t){e.forEach(i=>Array.isArray(i)?zn(i,t):t(i))}function No(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Di(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function an(e,t,i){let c=Ro(e,t);return c>=0?e[1|c]=i:(c=~c,function(e,t,i,c){let l=e.length;if(l==t)e.push(i,c);else if(1===l)e.push(c,e[0]),e[0]=i;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=i,e[t+1]=c}}(e,c,t,i)),c}function yc(e,t){const i=Ro(e,t);if(i>=0)return e[1|i]}function Ro(e,t){return function(e,t,i){let c=0,l=e.length>>i;for(;l!==c;){const u=c+(l-c>>1),f=e[u<<i];if(t===f)return u<<i;f>t?l=u:c=u+1}return~(l<<i)}(e,t,1)}const Qn={},kh="__NG_DI_FLAG__",_u="ngTempTokenPath",_C=/\n/gm,Ai="__source",ko=I({provide:String,useValue:I});let Vo;function q_(e){const t=Vo;return Vo=e,t}function Bh(e,t=Re.Default){if(void 0===Vo)throw new Error("inject() must be called from an injection context");return null===Vo?Za(e,void 0,t):Vo.get(e,t&Re.Optional?null:void 0,t)}function Lt(e,t=Re.Default){return(Nt||Bh)(x(e),t)}function vu(e){const t=[];for(let i=0;i<e.length;i++){const c=x(e[i]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let l,u=Re.Default;for(let f=0;f<c.length;f++){const p=c[f],g=Y_(p);"number"==typeof g?-1===g?l=p.token:u|=g:l=p}t.push(Lt(l,u))}else t.push(Lt(c))}return t}function Bo(e,t){return e[kh]=t,e.prototype[kh]=t,e}function Y_(e){return e[kh]}const St=Bo(Ei("Inject",e=>({token:e})),-1),Fr=Bo(Ei("Optional"),8),Eu=Bo(Ei("Self"),2),bi=Bo(Ei("SkipSelf"),4);const Pu="__ngContext__";function ht(e,t){e[Pu]=t}function Nr(e){const t=function(e){return e[Pu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Pc(e){return e.ngOriginalError}function Lr(e,...t){e.error(...t)}class bn{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t),c=(e=t)&&e.ngErrorLogger||Lr;var e;c(this._console,"ERROR",t),i&&c(this._console,"ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&Pc(t);for(;i&&Pc(i);)i=Pc(i);return i||null}}const ku=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rt))();function gr(e){return e instanceof Function?e():e}var mr=(()=>((mr=mr||{})[mr.Important=1]="Important",mr[mr.DashCase=2]="DashCase",mr))();function Oc(e,t){return undefined(e,t)}function Pi(e){const t=e[3];return Ie(t)?t[3]:t}function Fc(e){return ap(e[13])}function Bu(e){return ap(e[4])}function ap(e){for(;null!==e&&!Ie(e);)e=e[4];return e}function Oi(e,t,i,c,l){if(null!=c){let u,f=!1;Ie(c)?u=c:re(c)&&(f=!0,c=c[0]);const p=Ft(c);0===e&&null!==i?null==l?Gu(t,i,p):Vr(t,i,p,l||null,!0):1===e&&null!==i?Vr(t,i,p,l||null,!0):2===e?function(e,t,i){const c=Qo(e,t);c&&function(e,t,i,c){vt(e)?e.removeChild(t,i,c):t.removeChild(i)}(e,c,t,i)}(t,p,f):3===e&&t.destroyNode(p),null!=u&&function(e,t,i,c,l){const u=i[7];u!==Ft(i)&&Oi(t,e,c,u,l);for(let p=U;p<i.length;p++){const g=i[p];Xo(g[1],g,e,t,c,u)}}(t,e,u,i,l)}}function ju(e,t,i){return vt(e)?e.createElement(t,i):null===i?e.createElement(t):e.createElementNS(i,t)}function xc(e,t){const i=e[9],c=i.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,oc(l,-1)),i.splice(c,1)}function Hu(e,t){if(e.length<=U)return;const i=U+t,c=e[i];if(c){const l=c[17];null!==l&&l!==e&&xc(l,c),t>0&&(e[i-1][4]=c[4]);const u=Di(e,U+t);!function(e,t){Xo(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(c[1],c);const f=u[19];null!==f&&f.detachView(u[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function pp(e,t){if(!(256&t[2])){const i=t[11];vt(i)&&i.destroyNode&&Xo(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return $u(e[1],e);for(;t;){let i=null;if(re(t))i=t[13];else{const c=t[U];c&&(i=c)}if(!i){for(;t&&!t[4]&&t!==e;)re(t)&&$u(t[1],t),t=t[3];null===t&&(t=e),re(t)&&$u(t[1],t),i=t&&t[4]}t=i}}(t)}}function $u(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let c=0;c<i.length;c+=2){const l=t[i[c]];if(!(l instanceof dc)){const u=i[c+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){const p=l[u[f]],g=u[f+1];try{g.call(p)}finally{}}else try{u.call(l)}finally{}}}}(e,t),function(e,t){const i=e.cleanup,c=t[7];let l=-1;if(null!==i)for(let u=0;u<i.length-1;u+=2)if("string"==typeof i[u]){const f=i[u+1],p="function"==typeof f?f(t):Ft(t[f]),g=c[l=i[u+2]],_=i[u+3];"boolean"==typeof _?p.removeEventListener(i[u],g,_):_>=0?c[l=_]():c[l=-_].unsubscribe(),u+=2}else{const f=c[l=i[u+1]];i[u].call(f)}if(null!==c){for(let u=l+1;u<c.length;u++)c[u]();t[7]=null}}(e,t),1===t[1].type&&vt(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&Ie(t[3])){i!==t[3]&&xc(i,t);const c=t[19];null!==c&&c.detachView(e)}}}function Nc(e,t,i){return function(e,t,i){let c=t;for(;null!==c&&40&c.type;)c=(t=c).parent;if(null===c)return i[0];if(2&c.flags){const l=e.data[c.directiveStart].encapsulation;if(l===De.None||l===De.Emulated)return null}return sn(c,i)}(e,t.parent,i)}function Vr(e,t,i,c,l){vt(e)?e.insertBefore(t,i,c,l):t.insertBefore(i,c,l)}function Gu(e,t,i){vt(e)?e.appendChild(t,i):t.appendChild(i)}function Zu(e,t,i,c,l){null!==c?Vr(e,t,i,c,l):Gu(e,t,i)}function Qo(e,t){return vt(e)?e.parentNode(t):t.parentNode}let _p=function(e,t,i){return 40&e.type?sn(e,i):null};function Ku(e,t,i,c){const l=Nc(e,c,t),u=t[11],p=function(e,t,i){return _p(e,t,i)}(c.parent||t[6],c,t);if(null!=l)if(Array.isArray(i))for(let g=0;g<i.length;g++)Zu(u,l,i[g],p,!1);else Zu(u,l,i,p,!1)}function Jo(e,t){if(null!==t){const i=t.type;if(3&i)return sn(t,e);if(4&i)return vp(-1,e[t.index]);if(8&i){const c=t.child;if(null!==c)return Jo(e,c);{const l=e[t.index];return Ie(l)?vp(-1,l):Ft(l)}}if(32&i)return Oc(t,e)()||Ft(e[t.index]);{const c=_r(e,t);return null!==c?Array.isArray(c)?c[0]:Jo(Pi(e[16]),c):Jo(e,t.next)}}return null}function _r(e,t){return null!==t?e[16][6].projection[t.projection]:null}function vp(e,t){const i=U+e+1;if(i<t.length){const c=t[i],l=c[1].firstChild;if(null!==l)return Jo(c,l)}return t[7]}function Fi(e,t,i,c,l,u,f){for(;null!=i;){const p=c[i.index],g=i.type;if(f&&0===t&&(p&&ht(Ft(p),c),i.flags|=4),64!=(64&i.flags))if(8&g)Fi(e,t,i.child,c,l,u,!1),Oi(t,e,l,p,u);else if(32&g){const _=Oc(i,c);let v;for(;v=_();)Oi(t,e,l,v,u);Oi(t,e,l,p,u)}else 16&g?Ep(e,t,c,i,l,u):Oi(t,e,l,p,u);i=f?i.projectionNext:i.next}}function Xo(e,t,i,c,l,u){Fi(i,c,e.firstChild,t,l,u,!1)}function Ep(e,t,i,c,l,u){const f=i[16],g=f[6].projection[c.projection];if(Array.isArray(g))for(let _=0;_<g.length;_++)Oi(t,e,l,g[_],u);else Fi(e,t,g,f[3],l,u,!0)}function zu(e,t,i){vt(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function us(e,t,i){vt(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}function Cp(e,t,i){let c=e.length;for(;;){const l=e.indexOf(t,i);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const u=t.length;if(l+u===c||e.charCodeAt(l+u)<=32)return l}i=l+1}}const xi="ng-template";function Cy(e,t,i){let c=0;for(;c<e.length;){let l=e[c++];if(i&&"class"===l){if(l=e[c],-1!==Cp(l.toLowerCase(),t,0))return!0}else if(1===l){for(;c<e.length&&"string"==typeof(l=e[c++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function Ap(e){return 4===e.type&&e.value!==xi}function Ay(e,t,i){return t===(4!==e.type||i?e.value:xi)}function MC(e,t,i){let c=4;const l=e.attrs||[],u=function(e){for(let t=0;t<e.length;t++)if(ou(e[t]))return t;return e.length}(l);let f=!1;for(let p=0;p<t.length;p++){const g=t[p];if("number"!=typeof g){if(!f)if(4&c){if(c=2|1&c,""!==g&&!Ay(e,g,i)||""===g&&1===t.length){if(er(c))return!1;f=!0}}else{const _=8&c?g:t[++p];if(8&c&&null!==e.attrs){if(!Cy(e.attrs,_,i)){if(er(c))return!1;f=!0}continue}const C=by(8&c?"class":g,l,Ap(e),i);if(-1===C){if(er(c))return!1;f=!0;continue}if(""!==_){let P;P=C>u?"":l[C+1].toLowerCase();const k=8&c?P:null;if(k&&-1!==Cp(k,_,0)||2&c&&_!==P){if(er(c))return!1;f=!0}}}}else{if(!f&&!er(c)&&!er(g))return!1;if(f&&er(g))continue;f=!1,c=g|1&c}}return er(c)||f}function er(e){return 0==(1&e)}function by(e,t,i,c){if(null===t)return-1;let l=0;if(c||!i){let u=!1;for(;l<t.length;){const f=t[l];if(f===e)return l;if(3===f||6===f)u=!0;else{if(1===f||2===f){let p=t[++l];for(;"string"==typeof p;)p=t[++l];continue}if(4===f)break;if(0===f){l+=4;continue}}l+=u?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const c=e[i];if("number"==typeof c)return-1;if(c===t)return i;i++}return-1}(t,e)}function bp(e,t,i=!1){for(let c=0;c<t.length;c++)if(MC(e,t[c],i))return!0;return!1}function ed(e,t){return e?":not("+t.trim()+")":t}function wp(e){let t=e[0],i=1,c=2,l="",u=!1;for(;i<e.length;){let f=e[i];if("string"==typeof f)if(2&c){const p=e[++i];l+="["+f+(p.length>0?'="'+p+'"':"")+"]"}else 8&c?l+="."+f:4&c&&(l+=" "+f);else""!==l&&!er(f)&&(t+=ed(u,l),l=""),c=f,u=u||!er(c);i++}return""!==l&&(t+=ed(u,l)),t}const Pe={};function td(e){Mp(We(),Q(),Et()+e,cc())}function Mp(e,t,i,c){if(!c)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&uc(t,u,i)}else{const u=e.preOrderHooks;null!==u&&iu(t,u,0,i)}rs(i)}function Vs(e,t){return e<<17|t<<2}function ln(e){return e>>17&32767}function ea(e){return 2|e}function Br(e){return(131068&e)>>2}function Lc(e,t){return-131069&e|t<<2}function rd(e){return 1|e}function Bp(e,t){const i=e.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const l=i[c],u=i[c+1];if(-1!==u){const f=e.data[u];lc(l),f.contentQueries(2,t[u],u)}}}function Bs(e,t,i,c,l,u,f,p,g,_){const v=t.blueprint.slice();return v[0]=l,v[2]=140|c,ql(v),v[3]=v[15]=e,v[8]=i,v[10]=f||e&&e[10],v[11]=p||e&&e[11],v[12]=g||e&&e[12]||null,v[9]=_||e&&e[9]||null,v[6]=u,v[16]=2==t.type?e[16]:v,v}function Us(e,t,i,c,l){let u=e.data[t];if(null===u)u=function(e,t,i,c,l){const u=T_(),f=Ql(),g=e.data[t]=function(e,t,i,c,l,u){return{type:i,index:c,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?u:u&&u.parent,i,t,c,l);return null===e.firstChild&&(e.firstChild=g),null!==u&&(f?null==u.child&&null!==g.parent&&(u.child=g):null===u.next&&(u.next=g)),g}(e,t,i,c,l),Me.lFrame.inI18n&&(u.flags|=64);else if(64&u.type){u.type=i,u.value=c,u.attrs=l;const f=function(){const e=Me.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===f?-1:f.injectorIndex}return Pn(u,!0),u}function js(e,t,i,c){if(0===i)return-1;const l=t.length;for(let u=0;u<i;u++)t.push(c),e.blueprint.push(c),e.data.push(null);return l}function Vi(e,t,i){tu(t);try{const c=e.viewQuery;null!==c&&rg(1,c,i);const l=e.template;null!==l&&dd(e,t,l,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Bp(e,t),e.staticViewQueries&&rg(2,e.viewQuery,i);const u=e.components;null!==u&&function(e,t){for(let i=0;i<t.length;i++)Xp(e,t[i])}(t,u)}catch(c){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),c}finally{t[2]&=-5,nu()}}function Hs(e,t,i,c){const l=t[2];if(256==(256&l))return;tu(t);const u=cc();try{ql(t),function(e){Me.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&dd(e,t,i,2,c);const f=3==(3&l);if(!u)if(f){const _=e.preOrderCheckHooks;null!==_&&uc(t,_,null)}else{const _=e.preOrderHooks;null!==_&&iu(t,_,0,null),Sh(t,0)}if(function(e){for(let t=Fc(e);null!==t;t=Bu(t)){if(!t[2])continue;const i=t[9];for(let c=0;c<i.length;c++){const l=i[c],u=l[3];0==(1024&l[2])&&oc(u,1),l[2]|=1024}}}(t),function(e){for(let t=Fc(e);null!==t;t=Bu(t))for(let i=U;i<t.length;i++){const c=t[i],l=c[1];Wl(c)&&Hs(l,c,l.template,c[8])}}(t),null!==e.contentQueries&&Bp(e,t),!u)if(f){const _=e.contentCheckHooks;null!==_&&uc(t,_)}else{const _=e.contentHooks;null!==_&&iu(t,_,1),Sh(t,1)}!function(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let c=0;c<i.length;c++){const l=i[c];if(l<0)rs(~l);else{const u=l,f=i[++c],p=i[++c];P_(f,u),p(2,t[u])}}}finally{rs(-1)}}(e,t);const p=e.components;null!==p&&function(e,t){for(let i=0;i<t.length;i++)_d(e,t[i])}(t,p);const g=e.viewQuery;if(null!==g&&rg(2,g,c),!u)if(f){const _=e.viewCheckHooks;null!==_&&uc(t,_)}else{const _=e.viewHooks;null!==_&&iu(t,_,2),Sh(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),u||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,oc(t[3],-1))}finally{nu()}}function Vy(e,t,i,c){const l=t[10],u=!cc(),f=function(e){return 4==(4&e[2])}(t);try{u&&!f&&l.begin&&l.begin(),f&&Vi(e,t,c),Hs(e,t,i,c)}finally{u&&!f&&l.end&&l.end()}}function dd(e,t,i,c,l){const u=Et(),f=2&c;try{rs(-1),f&&t.length>20&&Mp(e,t,20,cc()),i(c,l)}finally{rs(u)}}function jc(e,t,i){!zl()||(function(e,t,i,c){const l=i.directiveStart,u=i.directiveEnd;e.firstCreatePass||Ts(i,t),ht(c,t);const f=i.initialInputs;for(let p=l;p<u;p++){const g=e.data[p],_=je(g);_&&qy(t,i,g);const v=Io(t,e,p,i);ht(v,t),null!==f&&kC(0,p-l,v,g,0,f),_&&(An(i.index,t)[8]=v)}}(e,t,i,sn(i,t)),128==(128&i.flags)&&function(e,t,i){const c=i.directiveStart,l=i.directiveEnd,f=i.index,p=Me.lFrame.currentDirectiveIndex;try{rs(f);for(let g=c;g<l;g++){const _=e.data[g],v=t[g];Xl(g),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&zp(_,v)}}finally{rs(-1),Xl(p)}}(e,t,i))}function hd(e,t,i=sn){const c=t.localNames;if(null!==c){let l=t.index+1;for(let u=0;u<c.length;u+=2){const f=c[u+1],p=-1===f?i(t,e):e[f];e[l++]=p}}}function Up(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=na(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function na(e,t,i,c,l,u,f,p,g,_){const v=20+c,C=v+l,P=function(e,t){const i=[];for(let c=0;c<t;c++)i.push(c<e?null:Pe);return i}(v,C),k="function"==typeof _?_():_;return P[1]={type:e,blueprint:P,template:i,queries:null,viewQuery:p,declTNode:t,data:P.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:g,consts:k,incompleteFirstPass:!1}}function $p(e,t,i){for(let c in e)if(e.hasOwnProperty(c)){const l=e[c];(i=null===i?{}:i).hasOwnProperty(c)?i[c].push(t,l):i[c]=[t,l]}return i}function $c(e,t,i,c){let l=!1;if(zl()){const u=function(e,t,i){const c=e.directiveRegistry;let l=null;if(c)for(let u=0;u<c.length;u++){const f=c[u];bp(i,f.selectors,!1)&&(l||(l=[]),To(Ts(i,t),e,f.type),je(f)?(pd(e,i),l.unshift(f)):l.push(f))}return l}(e,t,i),f=null===c?null:{"":-1};if(null!==u){l=!0,Qp(i,e.data.length,u.length);for(let v=0;v<u.length;v++){const C=u[v];C.providersResolver&&C.providersResolver(C)}let p=!1,g=!1,_=js(e,t,u.length,null);for(let v=0;v<u.length;v++){const C=u[v];i.mergedAttrs=gi(i.mergedAttrs,C.hostAttrs),ji(e,i,t,_,C),Wy(_,C,f),null!==C.contentQueries&&(i.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(i.flags|=128);const P=C.type.prototype;!p&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index),p=!0),!g&&(P.ngOnChanges||P.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index),g=!0),_++}!function(e,t){const c=t.directiveEnd,l=e.data,u=t.attrs,f=[];let p=null,g=null;for(let _=t.directiveStart;_<c;_++){const v=l[_],C=v.inputs,P=null===u||Ap(t)?null:Ky(C,u);f.push(P),p=$p(C,_,p),g=$p(v.outputs,_,g)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=16),p.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=f,t.inputs=p,t.outputs=g}(e,i)}f&&function(e,t,i){if(t){const c=e.localNames=[];for(let l=0;l<t.length;l+=2){const u=i[t[l+1]];if(null==u)throw new z("301",`Export of name '${t[l+1]}' not found!`);c.push(t[l],u)}}}(i,c,f)}return i.mergedAttrs=gi(i.mergedAttrs,i.attrs),l}function qp(e,t,i,c,l,u){const f=u.hostBindings;if(f){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const g=~t.index;(function(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(p)!=g&&p.push(g),p.push(c,l,f)}}function zp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function pd(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Wy(e,t,i){if(i){if(t.exportAs)for(let c=0;c<t.exportAs.length;c++)i[t.exportAs[c]]=e;je(t)&&(i[""]=e)}}function Qp(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function ji(e,t,i,c,l){e.data[c]=l;const u=l.factory||(l.factory=ws(l.type)),f=new dc(u,je(l),null);e.blueprint[c]=f,i[c]=f,qp(e,t,0,c,js(e,i,l.hostVars,Pe),l)}function qy(e,t,i){const c=sn(t,e),l=Up(i),u=e[10],f=ia(e,Bs(e,l,null,i.onPush?64:16,c,t,u,u.createRenderer(c,i),null,null));e[t.index]=f}function vr(e,t,i,c,l,u){const f=sn(e,t);!function(e,t,i,c,l,u,f){if(null==u)vt(e)?e.removeAttribute(t,l,i):t.removeAttribute(l);else{const p=null==f?H(u):f(u,c||"",l);vt(e)?e.setAttribute(t,l,p,i):i?t.setAttributeNS(i,l,p):t.setAttribute(l,p)}}(t[11],f,u,e.value,i,c,l)}function kC(e,t,i,c,l,u){const f=u[t];if(null!==f){const p=c.setInput;for(let g=0;g<f.length;){const _=f[g++],v=f[g++],C=f[g++];null!==p?c.setInput(i,C,_,v):i[v]=C}}}function Ky(e,t){let i=null,c=0;for(;c<t.length;){const l=t[c];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===i&&(i=[]),i.push(l,e[l],t[c+1])),c+=2}else c+=2;else c+=4}return i}function Jp(e,t,i,c){return new Array(e,!0,!1,t,null,0,c,i,null,null)}function _d(e,t){const i=An(t,e);if(Wl(i)){const c=i[1];80&i[2]?Hs(c,i,c.template,i[8]):i[5]>0&&sa(i)}}function sa(e){for(let c=Fc(e);null!==c;c=Bu(c))for(let l=U;l<c.length;l++){const u=c[l];if(1024&u[2]){const f=u[1];Hs(f,u,f.template,u[8])}else u[5]>0&&sa(u)}const i=e[1].components;if(null!==i)for(let c=0;c<i.length;c++){const l=An(i[c],e);Wl(l)&&l[5]>0&&sa(l)}}function Xp(e,t){const i=An(t,e),c=i[1];(function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(c,i),Vi(c,i,i[8])}function ia(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Gc(e){for(;e;){e[2]|=64;const t=Pi(e);if(Cn(e)&&!t)return e;e=t}return null}function Wc(e,t,i){const c=t[10];c.begin&&c.begin();try{Hs(e,t,e.template,i)}catch(l){throw Ed(t,l),l}finally{c.end&&c.end()}}function ng(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],c=Nr(i),l=c[1];Vy(l,c,l.template,i)}}(e[8])}function rg(e,t,i){lc(0),t(e,i)}const yd=(()=>Promise.resolve(null))();function aa(e){return e[7]||(e[7]=[])}function vd(e){return e.cleanup||(e.cleanup=[])}function Ed(e,t){const i=e[9],c=i?i.get(bn,null):null;c&&c.handleError(t)}function $s(e,t,i,c,l){for(let u=0;u<i.length;){const f=i[u++],p=i[u++],g=t[f],_=e.data[f];null!==_.setInput?_.setInput(g,l,c,p):g[p]=l}}function Hr(e,t,i){const c=nc(t,e);!function(e,t,i){vt(e)?e.setValue(t,i):t.textContent=i}(e[11],c,i)}function qc(e,t,i){let c=i?e.styles:null,l=i?e.classes:null,u=0;if(null!==t)for(let f=0;f<t.length;f++){const p=t[f];"number"==typeof p?u=p:1==u?l=M(l,p):2==u&&(c=M(c,p+": "+t[++f]+";"))}i?e.styles=c:e.stylesWithoutHost=c,i?e.classes=l:e.classesWithoutHost=l}const Dd=new Ct("INJECTOR",-1);class Qy{get(t,i=Qn){if(i===Qn){const c=new Error(`NullInjectorError: No provider for ${A(t)}!`);throw c.name="NullInjectorError",c}return i}}const Kc=new Ct("Set Injector scope."),la={},Jy={};let Cd;function ig(){return void 0===Cd&&(Cd=new Qy),Cd}function og(e,t=null,i=null,c){const l=Yc(e,t,i,c);return l._resolveInjectorDefTypes(),l}function Yc(e,t=null,i=null,c){return new Xy(e,i,t||ig(),c)}class Xy{constructor(t,i,c,l=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];i&&zn(i,p=>this.processProvider(p,t,i)),zn([t],p=>this.processInjectorType(p,[],u)),this.records.set(Dd,Gs(void 0,this));const f=this.records.get(Kc);this.scope=null!=f?f.value:null,this.source=l||("object"==typeof t?null:A(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,i=Qn,c=Re.Default){this.assertNotDestroyed();const l=q_(this),u=vn(void 0);try{if(!(c&Re.SkipSelf)){let p=this.records.get(t);if(void 0===p){const g=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Ct)&&$n(t);p=g&&this.injectableDefInScope(g)?Gs(zc(t),la):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(c&Re.Self?ig():this.parent).get(t,i=c&Re.Optional&&i===Qn?null:i)}catch(f){if("NullInjectorError"===f.name){if((f[_u]=f[_u]||[]).unshift(A(t)),l)throw f;return function(e,t,i,c){const l=e[_u];throw t[Ai]&&l.unshift(t[Ai]),e.message=function(e,t,i,c=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=A(t);if(Array.isArray(t))l=t.map(A).join(" -> ");else if("object"==typeof t){let u=[];for(let f in t)if(t.hasOwnProperty(f)){let p=t[f];u.push(f+":"+("string"==typeof p?JSON.stringify(p):A(p)))}l=`{${u.join(", ")}}`}return`${i}${c?"("+c+")":""}[${l}]: ${e.replace(_C,"\n  ")}`}("\n"+e.message,l,i,c),e.ngTokenPath=l,e[_u]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{vn(u),q_(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((c,l)=>t.push(A(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,i,c){if(!(t=x(t)))return!1;let l=si(t);const u=null==l&&t.ngModule||void 0,f=void 0===u?t:u,p=-1!==c.indexOf(f);if(void 0!==u&&(l=si(u)),null==l)return!1;if(null!=l.imports&&!p){let v;c.push(f);try{zn(l.imports,C=>{this.processInjectorType(C,i,c)&&(void 0===v&&(v=[]),v.push(C))})}finally{}if(void 0!==v)for(let C=0;C<v.length;C++){const{ngModule:P,providers:k}=v[C];zn(k,q=>this.processProvider(q,P,k||et))}}this.injectorDefTypes.add(f);const g=ws(f)||(()=>new f);this.records.set(f,Gs(g,la));const _=l.providers;if(null!=_&&!p){const v=t;zn(_,C=>this.processProvider(C,v,_))}return void 0!==u&&void 0!==t.providers}processProvider(t,i,c){let l=$i(t=x(t))?t:x(t&&t.provide);const u=(e=t,ag(e)?Gs(void 0,e.useValue):Gs(Ad(e),la));var e;if($i(t)||!0!==t.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Gs(void 0,la,!0),f.factory=()=>vu(f.multi),this.records.set(l,f)),l=t,f.multi.push(t)}this.records.set(l,u)}hydrate(t,i){return i.value===la&&(i.value=Jy,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(e=i.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const i=x(t.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function zc(e){const t=$n(e),i=null!==t?t.factory:ws(e);if(null!==i)return i;if(e instanceof Ct)throw new Error(`Token ${A(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const c=function(e,t){const i=[];for(let c=0;c<e;c++)i.push(t);return i}(t,"?");throw new Error(`Can't resolve all parameters for ${A(e)}: (${c.join(", ")}).`)}const i=function(e){const t=e&&(e[Es]||e[Ds]);if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ad(e,t,i){let c;if($i(e)){const l=x(e);return ws(l)||zc(l)}if(ag(e))c=()=>x(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))c=()=>e.useFactory(...vu(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))c=()=>Lt(x(e.useExisting));else{const l=x(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ws(l)||zc(l);c=()=>new l(...vu(e.deps))}return c}function Gs(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function ag(e){return null!==e&&"object"==typeof e&&ko in e}function $i(e){return"function"==typeof e}let Rn=(()=>{class e{static create(i,c){var l;if(Array.isArray(i))return og({name:""},c,i,"");{const u=null!=(l=i.name)?l:"";return og({name:u},i.parent,i.providers,u)}}}return e.THROW_IF_NOT_FOUND=Qn,e.NULL=new Qy,e.\u0275prov=wt({token:e,providedIn:"any",factory:()=>Lt(Dd)}),e.__NG_ELEMENT_ID__=-1,e})();function gg(e,t){su(Nr(e)[1],xt())}function Od(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const c=[e];for(;t;){let l;if(je(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");l=t.\u0275dir}if(l){if(i){c.push(l);const f=e;f.inputs=Qc(e.inputs),f.declaredInputs=Qc(e.declaredInputs),f.outputs=Qc(e.outputs);const p=l.hostBindings;p&&xd(e,p);const g=l.viewQuery,_=l.contentQueries;if(g&&Fd(e,g),_&&_g(e,_),O(e.inputs,l.inputs),O(e.declaredInputs,l.declaredInputs),O(e.outputs,l.outputs),je(l)&&l.data.animation){const v=e.data;v.animation=(v.animation||[]).concat(l.data.animation)}}const u=l.features;if(u)for(let f=0;f<u.length;f++){const p=u[f];p&&p.ngInherit&&p(e),p===Od&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let c=e.length-1;c>=0;c--){const l=e[c];l.hostVars=t+=l.hostVars,l.hostAttrs=gi(l.hostAttrs,i=gi(i,l.hostAttrs))}}(c)}function Qc(e){return e===ot?{}:e===et?[]:e}function Fd(e,t){const i=e.viewQuery;e.viewQuery=i?(c,l)=>{t(c,l),i(c,l)}:t}function _g(e,t){const i=e.contentQueries;e.contentQueries=i?(c,l,u)=>{t(c,l,u),i(c,l,u)}:t}function xd(e,t){const i=e.hostBindings;e.hostBindings=i?(c,l)=>{t(c,l),i(c,l)}:t}let Zi=null;function Gr(){if(!Zi){const e=rt.Symbol;if(e&&e.iterator)Zi=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<t.length;++i){const c=t[i];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Zi=c)}}}return Zi}function Wi(e){return!!Dr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Gr()in e)}function Dr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function rr(e,t,i){return e[t]=i}function fn(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function ps(e,t,i,c){const l=fn(e,t,i);return fn(e,t+1,c)||l}function qi(e,t,i,c){const l=Q();return fn(l,hi(),t)&&(We(),vr(Dt(),l,e,t,i,c)),qi}function Yi(e,t,i,c,l,u){const p=ps(e,Me.lFrame.bindingIndex,i,l);return Mr(2),p?t+H(i)+c+H(l)+u:Pe}function Nd(e,t,i,c,l,u,f,p){const g=Q(),_=We(),v=e+20,C=_.firstCreatePass?function(e,t,i,c,l,u,f,p,g){const _=t.consts,v=Us(t,e,4,f||null,Yn(_,p));$c(t,i,v,Yn(_,g)),su(t,v);const C=v.tViews=na(2,v,c,l,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,_);return null!==t.queries&&(t.queries.template(t,v),C.queries=t.queries.embeddedTView(v)),v}(v,_,g,t,i,c,l,u,f):_.data[v];Pn(C,!1);const P=g[11].createComment("");Ku(_,g,P,C),ht(P,g),ia(g,g[v]=Jp(P,g,P,C)),Zt(C)&&jc(_,g,C),null!=f&&hd(g,C,p)}function Ca(e,t=Re.Default){const i=Q();return null===i?Lt(e,t):mc(xt(),i,x(e),t)}function Gd(e,t,i){const c=Q();return fn(c,hi(),t)&&function(e,t,i,c,l,u,f,p){const g=sn(t,i);let v,_=t.inputs;!p&&null!=_&&(v=_[c])?($s(e,i,v,c,l),at(t)&&function(e,t){const i=An(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3&t.type&&(c=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(c),l=null!=f?f(l,t.value||"",c):l,vt(u)?u.setProperty(g,c,l):pi(c)||(g.setProperty?g.setProperty(c,l):g[c]=l))}(We(),Dt(),c,e,t,c[11],i,!1),Gd}function sl(e,t,i,c,l){const f=l?"class":"style";$s(e,i,t.inputs[f],f,c)}function Zd(e,t,i,c){const l=Q(),u=We(),f=20+e,p=l[11],g=l[f]=ju(p,t,Me.lFrame.currentNamespace),_=u.firstCreatePass?function(e,t,i,c,l,u,f){const p=t.consts,_=Us(t,e,2,l,Yn(p,u));return $c(t,i,_,Yn(p,f)),null!==_.attrs&&qc(_,_.attrs,!1),null!==_.mergedAttrs&&qc(_,_.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,_),_}(f,u,l,0,t,i,c):u.data[f];Pn(_,!0);const v=_.mergedAttrs;null!==v&&y(p,g,v);const C=_.classes;null!==C&&us(p,g,C);const P=_.styles;null!==P&&zu(p,g,P),64!=(64&_.flags)&&Ku(u,l,g,_),0===Me.lFrame.elementDepthCount&&ht(g,l),Me.lFrame.elementDepthCount++,Zt(_)&&(jc(u,l,_),function(e,t,i){if(Ot(t)){const l=t.directiveEnd;for(let u=t.directiveStart;u<l;u++){const f=e.data[u];f.contentQueries&&f.contentQueries(1,i[u],u)}}}(u,_,l)),null!==c&&hd(l,_)}function il(){let e=xt();Ql()?Me.lFrame.isParent=!1:(e=e.parent,Pn(e,!1));const t=e;Me.lFrame.elementDepthCount--;const i=We();i.firstCreatePass&&(su(i,e),Ot(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&sl(i,t,Q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&sl(i,t,Q(),t.stylesWithoutHost,!1)}function kg(e,t,i,c){Zd(e,t,i,c),il()}function qd(){return Q()}function Kd(e){return!!e&&"function"==typeof e.then}function Yd(e){return!!e&&"function"==typeof e.subscribe}const Ug=Yd;function al(e,t,i,c){const l=Q(),u=We(),f=xt();return function(e,t,i,c,l,u,f,p){const g=Zt(c),v=e.firstCreatePass&&vd(e),C=t[8],P=aa(t);let k=!0;if(3&c.type||p){const le=sn(c,t),ye=p?p(le):le,Y=P.length,be=p?Ze=>p(Ft(Ze[c.index])):c.index;if(vt(i)){let Ze=null;if(!p&&g&&(Ze=function(e,t,i,c){const l=e.cleanup;if(null!=l)for(let u=0;u<l.length-1;u+=2){const f=l[u];if(f===i&&l[u+1]===c){const p=t[7],g=l[u+2];return p.length>g?p[g]:null}"string"==typeof f&&(u+=2)}return null}(e,t,l,c.index)),null!==Ze)(Ze.__ngLastListenerFn__||Ze).__ngNextListenerFn__=u,Ze.__ngLastListenerFn__=u,k=!1;else{u=cl(c,t,C,u,!1);const it=i.listen(ye,l,u);P.push(u,it),v&&v.push(l,be,Y,Y+1)}}else u=cl(c,t,C,u,!0),ye.addEventListener(l,u,f),P.push(u),v&&v.push(l,be,Y,f)}else u=cl(c,t,C,u,!1);const q=c.outputs;let se;if(k&&null!==q&&(se=q[l])){const le=se.length;if(le)for(let ye=0;ye<le;ye+=2){const cr=t[se[ye]][se[ye+1]].subscribe(u),$a=P.length;P.push(u,cr),v&&v.push(l,c.index,$a,-($a+1))}}}(u,l,l[11],f,e,t,!!i,c),al}function $g(e,t,i,c){try{return!1!==i(c)}catch(l){return Ed(e,l),!1}}function cl(e,t,i,c,l){return function u(f){if(f===Function)return c;const p=2&e.flags?An(e.index,t):t;0==(32&t[2])&&Gc(p);let g=$g(t,0,c,f),_=u.__ngNextListenerFn__;for(;_;)g=$g(t,0,_,f)&&g,_=_.__ngNextListenerFn__;return l&&!1===g&&(f.preventDefault(),f.returnValue=!1),g}}function Gg(e=1){return function(e){return(Me.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Me.lFrame.contextLView))[8]}(e)}function zg(e,t,i,c,l){const u=e[i+1],f=null===t;let p=c?ln(u):Br(u),g=!1;for(;0!==p&&(!1===g||f);){const v=e[p+1];Qg(e[p],t)&&(g=!0,e[p+1]=c?rd(v):ea(v)),p=c?ln(v):Br(v)}g&&(e[i+1]=c?ea(u):rd(u))}function Qg(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ro(e,t)>=0}function nf(e,t){return function(e,t,i,c){const l=Q(),u=We(),f=Mr(2);u.firstUpdatePass&&function(e,t,i,c){const l=e.data;if(null===l[i+1]){const u=l[Et()],f=function(e,t){return t>=e.expandoStartIndex}(e,i);(function(e,t){return 0!=(e.flags&(t?16:32))})(u,c)&&null===t&&!f&&(t=!1),t=function(e,t,i,c){const l=function(e){const t=Me.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=c?t.residualClasses:t.residualStyles;if(null===l)0===(c?t.classBindings:t.styleBindings)&&(i=ba(i=rf(null,e,t,i,c),t.attrs,c),u=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==l)if(i=rf(l,e,t,i,c),null===u){let g=function(e,t,i){const c=i?t.classBindings:t.styleBindings;if(0!==Br(c))return e[ln(c)]}(e,t,c);void 0!==g&&Array.isArray(g)&&(g=rf(null,e,t,g[1],c),g=ba(g,t.attrs,c),function(e,t,i,c){e[ln(i?t.classBindings:t.styleBindings)]=c}(e,t,c,g))}else u=function(e,t,i){let c;const l=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<l;u++)c=ba(c,e[u].hostAttrs,i);return ba(c,t.attrs,i)}(e,t,c)}return void 0!==u&&(c?t.residualClasses=u:t.residualStyles=u),i}(l,u,t,c),function(e,t,i,c,l,u){let f=u?t.classBindings:t.styleBindings,p=ln(f),g=Br(f);e[c]=i;let v,_=!1;if(Array.isArray(i)){const C=i;v=C[1],(null===v||Ro(C,v)>0)&&(_=!0)}else v=i;if(l)if(0!==g){const P=ln(e[p+1]);e[c+1]=Vs(P,p),0!==P&&(e[P+1]=Lc(e[P+1],c)),e[p+1]=function(e,t){return 131071&e|t<<17}(e[p+1],c)}else e[c+1]=Vs(p,0),0!==p&&(e[p+1]=Lc(e[p+1],c)),p=c;else e[c+1]=Vs(g,0),0===p?p=c:e[g+1]=Lc(e[g+1],c),g=c;_&&(e[c+1]=ea(e[c+1])),zg(e,v,c,!0),zg(e,v,c,!1),function(e,t,i,c,l){const u=l?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&Ro(u,t)>=0&&(i[c+1]=rd(i[c+1]))}(t,v,e,c,u),f=Vs(p,g),u?t.classBindings=f:t.styleBindings=f}(l,u,t,i,f,c)}}(u,e,f,c),t!==Pe&&fn(l,f,t)&&function(e,t,i,c,l,u,f,p){if(!(3&t.type))return;const g=e.data,_=g[p+1];dl(function(e){return 1==(1&e)}(_)?om(g,t,i,l,Br(_),f):void 0)||(dl(u)||function(e){return 2==(2&e)}(_)&&(u=om(g,null,i,l,p,f)),function(e,t,i,c,l){const u=vt(e);if(t)l?u?e.addClass(i,c):i.classList.add(c):u?e.removeClass(i,c):i.classList.remove(c);else{let f=-1===c.indexOf("-")?void 0:mr.DashCase;if(null==l)u?e.removeStyle(i,c,f):i.style.removeProperty(c);else{const p="string"==typeof l&&l.endsWith("!important");p&&(l=l.slice(0,-10),f|=mr.Important),u?e.setStyle(i,c,l,f):i.style.setProperty(c,l,p?"important":"")}}}(c,f,nc(Et(),i),l,u))}(u,u.data[Et()],l,l[11],e,l[f+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=A(function(e){return e instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,i),c,f)}(e,t,null,!0),nf}function rf(e,t,i,c,l){let u=null;const f=i.directiveEnd;let p=i.directiveStylingLast;for(-1===p?p=i.directiveStart:p++;p<f&&(u=t[p],c=ba(c,u.hostAttrs,l),u!==e);)p++;return null!==e&&(i.directiveStylingLast=p),c}function ba(e,t,i){const c=i?1:2;let l=-1;if(null!==t)for(let u=0;u<t.length;u++){const f=t[u];"number"==typeof f?l=f:l===c&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),an(e,f,!!i||t[++u]))}return void 0===e?null:e}function om(e,t,i,c,l,u){const f=null===t;let p;for(;l>0;){const g=e[l],_=Array.isArray(g),v=_?g[1]:g,C=null===v;let P=i[l+1];P===Pe&&(P=C?et:void 0);let k=C?yc(P,c):v===c?P:void 0;if(_&&!dl(k)&&(k=yc(g,c)),dl(k)&&(p=k,f))return p;const q=e[l+1];l=f?ln(q):Br(q)}if(null!==t){let g=u?t.residualClasses:t.residualStyles;null!=g&&(p=yc(g,c))}return p}function dl(e){return void 0!==e}function cm(e,t=""){const i=Q(),c=We(),l=e+20,u=c.firstCreatePass?Us(c,l,1,t,null):c.data[l],f=i[l]=function(e,t){return vt(e)?e.createText(t):e.createTextNode(t)}(i[11],t);Ku(c,i,f,u),Pn(u,!1)}function sf(e){return fl("",e,""),sf}function fl(e,t,i){const c=Q(),l=function(e,t,i,c){return fn(e,hi(),i)?t+H(i)+c:Pe}(c,e,t,i);return l!==Pe&&Hr(c,Et(),l),fl}function af(e,t,i,c,l){const u=Q(),f=Yi(u,e,t,i,c,l);return f!==Pe&&Hr(u,Et(),f),af}const qs=void 0;var rE=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const i=Math.floor(Math.abs(e)),c=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let to={};function uf(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Sm(t);if(i)return i;const c=t.split("-")[0];if(i=Sm(c),i)return i;if("en"===c)return rE;throw new Error(`Missing locale data for the locale "${e}".`)}function wm(e){return uf(e)[we.PluralCase]}function Sm(e){return e in to||(to[e]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[e]),to[e]}var we=(()=>((we=we||{})[we.LocaleId=0]="LocaleId",we[we.DayPeriodsFormat=1]="DayPeriodsFormat",we[we.DayPeriodsStandalone=2]="DayPeriodsStandalone",we[we.DaysFormat=3]="DaysFormat",we[we.DaysStandalone=4]="DaysStandalone",we[we.MonthsFormat=5]="MonthsFormat",we[we.MonthsStandalone=6]="MonthsStandalone",we[we.Eras=7]="Eras",we[we.FirstDayOfWeek=8]="FirstDayOfWeek",we[we.WeekendRange=9]="WeekendRange",we[we.DateFormat=10]="DateFormat",we[we.TimeFormat=11]="TimeFormat",we[we.DateTimeFormat=12]="DateTimeFormat",we[we.NumberSymbols=13]="NumberSymbols",we[we.NumberFormats=14]="NumberFormats",we[we.CurrencyCode=15]="CurrencyCode",we[we.CurrencySymbol=16]="CurrencySymbol",we[we.CurrencyName=17]="CurrencyName",we[we.Currencies=18]="Currencies",we[we.Directionality=19]="Directionality",we[we.PluralCase=20]="PluralCase",we[we.ExtraData=21]="ExtraData",we))();const hl="en-US";let df=hl;function ao(e,t,i,c,l){if(e=x(e),Array.isArray(e))for(let u=0;u<e.length;u++)ao(e[u],t,i,c,l);else{const u=We(),f=Q();let p=$i(e)?e:x(e.provide),g=Ad(e);const _=xt(),v=1048575&_.providerIndexes,C=_.directiveStart,P=_.providerIndexes>>20;if($i(e)||!e.multi){const k=new dc(g,l,Ca),q=wl(p,t,l?v:v+P,C);-1===q?(To(Ts(_,f),u,p),co(u,e,t.length),t.push(p),_.directiveStart++,_.directiveEnd++,l&&(_.providerIndexes+=1048576),i.push(k),f.push(k)):(i[q]=k,f[q]=k)}else{const k=wl(p,t,v+P,C),q=wl(p,t,v,v+P),se=k>=0&&i[k],le=q>=0&&i[q];if(l&&!le||!l&&!se){To(Ts(_,f),u,p);const ye=function(e,t,i,c,l){const u=new dc(e,i,Ca);return u.multi=[],u.index=t,u.componentProviders=0,Ff(u,l,c&&!i),u}(l?xf:bE,i.length,l,c,g);!l&&le&&(i[q].providerFactory=ye),co(u,e,t.length,0),t.push(p),_.directiveStart++,_.directiveEnd++,l&&(_.providerIndexes+=1048576),i.push(ye),f.push(ye)}else co(u,e,k>-1?k:q,Ff(i[l?q:k],g,!l&&c));!l&&c&&le&&i[q].componentProviders++}}}function co(e,t,i,c){const l=$i(t),u=function(e){return!!e.useClass}(t);if(l||u){const g=(u?x(t.useClass):t).prototype.ngOnDestroy;if(g){const _=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const v=_.indexOf(i);-1===v?_.push(i,[c,g]):_[v+1].push(c,g)}else _.push(i,g)}}}function Ff(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function wl(e,t,i,c){for(let l=i;l<c;l++)if(t[l]===e)return l;return-1}function bE(e,t,i,c){return Sl(this.multi,[])}function xf(e,t,i,c){const l=this.multi;let u;if(this.providerFactory){const f=this.providerFactory.componentProviders,p=Io(i,i[1],this.providerFactory.index,c);u=p.slice(0,f),Sl(l,u);for(let g=f;g<p.length;g++)u.push(p[g])}else u=[],Sl(l,u);return u}function Sl(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function Vm(e,t=[]){return i=>{i.providersResolver=(c,l)=>function(e,t,i){const c=We();if(c.firstCreatePass){const l=je(e);ao(i,c.data,c.blueprint,l,!0),ao(t,c.data,c.blueprint,l,!1)}}(c,l?l(e):e,t)}}class Bm{}class Xs{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${A(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let ei=(()=>{class e{}return e.NULL=new Xs,e})();function Nf(){return qr(xt(),Q())}function qr(e,t){return new Ia(sn(e,t))}let Ia=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=Nf,e})();class Um{}let IE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function(){const e=Q(),i=An(xt().index,e);return function(e){return e[11]}(re(i)?i:e)}(),e})(),Tl=(()=>{class e{}return e.\u0275prov=wt({token:e,providedIn:"root",factory:()=>null}),e})();class Ml{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Il=new Ml("13.0.3"),Lf={};function Pa(e,t,i,c,l=!1){for(;null!==i;){const u=t[i.index];if(null!==u&&c.push(Ft(u)),Ie(u))for(let p=U;p<u.length;p++){const g=u[p],_=g[1].firstChild;null!==_&&Pa(g[1],g,_,c)}const f=i.type;if(8&f)Pa(e,t,i.child,c);else if(32&f){const p=Oc(i,t);let g;for(;g=p();)c.push(g)}else if(16&f){const p=_r(t,i);if(Array.isArray(p))c.push(...p);else{const g=Pi(t[16]);Pa(g[1],g,p,c,!0)}}i=l?i.projectionNext:i.next}return c}class Oa{constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,i=t[1];return Pa(i,t,i.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ie(t)){const i=t[8],c=i?i.indexOf(this):-1;c>-1&&(Hu(t,c),Di(i,c))}this._attachedToViewContainer=!1}pp(this._lView[1],this._lView)}onDestroy(t){!function(e,t,i,c){const l=aa(t);null===i?l.push(c):(l.push(i),e.firstCreatePass&&vd(e).push(c,l.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Gc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){So(!0);try{Wc(e,t,i)}finally{So(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Xo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class dA extends Oa{constructor(t){super(t),this._view=t}detectChanges(){ng(this._view)}checkNoChanges(){!function(e){So(!0);try{ng(e)}finally{So(!1)}}(this._view)}get context(){return null}}class Pl extends ei{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Gt(t);return new Ol(i,this.ngModule)}}function OE(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const xE=new Ct("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ku});class Ol extends Bm{constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=t.selectors.map(wp).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return OE(this.componentDef.inputs)}get outputs(){return OE(this.componentDef.outputs)}create(t,i,c,l){const u=(l=l||this.ngModule)?function(e,t){return{get:(i,c,l)=>{const u=e.get(i,Lf,l);return u!==Lf||c===Lf?u:t.get(i,c,l)}}}(t,l.injector):t,f=u.get(Um,D_),p=u.get(Tl,null),g=f.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=c?function(e,t,i){if(vt(e))return e.selectRootElement(t,i===De.ShadowDom);let c="string"==typeof t?e.querySelector(t):t;return c.textContent="",c}(g,c,this.componentDef.encapsulation):ju(f.createRenderer(null,this.componentDef),_,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(_)),C=this.componentDef.onPush?576:528,P=function(e,t){return{components:[],scheduler:e||ku,clean:yd,playerHandler:t||null,flags:0}}(),k=na(0,null,null,1,0,null,null,null,null,null),q=Bs(null,k,P,C,null,null,f,g,p,u);let se,le;tu(q);try{const ye=function(e,t,i,c,l,u){const f=i[1];i[20]=e;const g=Us(f,20,2,"#host",null),_=g.mergedAttrs=t.hostAttrs;null!==_&&(qc(g,_,!0),null!==e&&(y(l,e,_),null!==g.classes&&us(l,e,g.classes),null!==g.styles&&zu(l,e,g.styles)));const v=c.createRenderer(e,t),C=Bs(i,Up(t),null,t.onPush?64:16,i[20],g,c,v,u||null,null);return f.firstCreatePass&&(To(Ts(g,i),f,t.type),pd(f,g),Qp(g,i.length,1)),ia(i,C),i[20]=C}(v,this.componentDef,q,f,g);if(v)if(c)y(g,v,["ng-version",Il.full]);else{const{attrs:Y,classes:be}=function(e){const t=[],i=[];let c=1,l=2;for(;c<e.length;){let u=e[c];if("string"==typeof u)2===l?""!==u&&t.push(u,e[++c]):8===l&&i.push(u);else{if(!er(l))break;l=u}c++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);Y&&y(g,v,Y),be&&be.length>0&&us(g,v,be.join(" "))}if(le=rc(k,20),void 0!==i){const Y=le.projection=[];for(let be=0;be<this.ngContentSelectors.length;be++){const Ze=i[be];Y.push(null!=Ze?Array.from(Ze):null)}}se=function(e,t,i,c,l){const u=i[1],f=function(e,t,i){const c=xt();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),ji(e,c,t,js(e,t,1,null),i));const l=Io(t,e,c.directiveStart,c);ht(l,t);const u=sn(c,t);return u&&ht(u,t),l}(u,i,t);if(c.components.push(f),e[8]=f,l&&l.forEach(g=>g(f,t)),t.contentQueries){const g=xt();t.contentQueries(1,f,g.directiveStart)}const p=xt();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(rs(p.index),qp(i[1],p,0,p.directiveStart,p.directiveEnd,t),zp(t,f)),f}(ye,this.componentDef,q,P,[gg]),Vi(k,q,null)}finally{nu()}return new LE(this.componentType,se,qr(le,q),q,le)}}class LE extends class{}{constructor(t,i,c,l,u){super(),this.location=c,this._rootLView=l,this._tNode=u,this.instance=i,this.hostView=this.changeDetectorRef=new dA(l),this.componentType=t}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class lo{}const uo=new Map;class Vf extends lo{constructor(t,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pl(this);const c=Ut(t);this._bootstrapComponents=gr(c.bootstrap),this._r3Injector=Yc(t,i,[{provide:lo,useValue:this},{provide:ei,useValue:this.componentFactoryResolver}],A(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,i=Rn.THROW_IF_NOT_FOUND,c=Re.Default){return t===Rn||t===lo||t===Dd?this:this._r3Injector.get(t,i,c)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bf extends class{}{constructor(t){super(),this.moduleType=t,null!==Ut(t)&&function(e){const t=new Set;!function i(c){const l=Ut(c,!0),u=l.id;null!==u&&(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${A(t)} vs ${A(t.name)}`)}(u,uo.get(u),c),uo.set(u,c));const f=gr(l.imports);for(const p of f)t.has(p)||(t.add(p),i(p))}(e)}(t)}create(t){return new Vf(this.moduleType,t)}}function Uf(e,t,i,c,l){return function(e,t,i,c,l,u,f){const p=t+i;return ps(e,p,l,u)?rr(e,p+2,f?c.call(f,l,u):c(l,u)):ti(e,p+2)}(Q(),on(),e,t,i,c,l)}function ti(e,t){const i=e[t];return i===Pe?void 0:i}function Gf(e,t){const i=We();let c;const l=e+20;i.firstCreatePass?(c=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const c=t[i];if(e===c.name)return c}}(t,i.pipeRegistry),i.data[l]=c,c.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(l,c.onDestroy)):c=i.data[l];const u=c.factory||(c.factory=ws(c.type)),f=vn(Ca);try{const p=hc(!1),g=u();return hc(p),function(e,t,i,c){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=c}(i,Q(),l,g),g}finally{vn(f)}}function Na(e,t,i){const c=e+20,l=Q(),u=function(e,t){return e[t]}(l,c);return function(e,t){return e[1].data[t].pure}(l,c)?function(e,t,i,c,l,u){const f=t+i;return fn(e,f,l)?rr(e,f+1,u?c.call(u,l):c(l)):ti(e,f+1)}(l,on(),t,u.transform,i,u):u.transform(i)}function Zf(e){return t=>{setTimeout(e,void 0,t)}}const or=class extends o.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,c){var g,_,v;let l=t,u=i||(()=>null),f=c;if(t&&"object"==typeof t){const C=t;l=null==(g=C.next)?void 0:g.bind(C),u=null==(_=C.error)?void 0:_.bind(C),f=null==(v=C.complete)?void 0:v.bind(C)}this.__isAsync&&(u=Zf(u),l&&(l=Zf(l)),f&&(f=Zf(f)));const p=super.subscribe({next:l,error:u,complete:f});return t instanceof V.w&&t.add(p),p}};Symbol;let La=(()=>{class e{}return e.__NG_ELEMENT_ID__=zE,e})();const Wf=La,YE=class extends Wf{constructor(t,i,c){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=c}createEmbeddedView(t){const i=this._declarationTContainer.tViews,c=Bs(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(c[19]=u.createEmbeddedView(i)),Vi(i,c,t),new Oa(c)}};function zE(){return e=xt(),t=Q(),4&e.type?new YE(t,e,qr(e,t)):null;var e,t}let Va=(()=>{class e{}return e.__NG_ELEMENT_ID__=QE,e})();function QE(){return function(e,t){let i;const c=t[e.index];if(Ie(c))i=c;else{let l;if(8&e.type)l=Ft(c);else{const u=t[11];l=u.createComment("");const f=sn(e,t);Vr(u,Qo(u,f),l,function(e,t){return vt(e)?e.nextSibling(t):t.nextSibling}(u,f),!1)}t[e.index]=i=Jp(c,t,l,e),ia(t,i)}return new qf(i,e,t)}(xt(),Q())}const JE=Va,qf=class extends JE{constructor(t,i,c){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=c}get element(){return qr(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const t=pc(this._hostTNode,this._hostLView);if(Mh(t)){const i=ss(t,this._hostLView),c=_i(t);return new Ir(i[1].data[c+8],i)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=Km(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-U}createEmbeddedView(t,i,c){const l=t.createEmbeddedView(i||{});return this.insert(l,c),l}createComponent(t,i,c,l,u){const f=t&&!("function"==typeof t);let p;if(f)p=i;else{const C=i||{};p=C.index,c=C.injector,l=C.projectableNodes,u=C.ngModuleRef}const g=f?t:new Ol(Gt(t)),_=c||this.parentInjector;if(!u&&null==g.ngModule&&_){const C=_.get(lo,null);C&&(u=C)}const v=g.create(_,l,void 0,u);return this.insert(v.hostView,p),v}insert(t,i){const c=t._lView,l=c[1];if(Ie(c[3])){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=c[3],P=new qf(C,C[6],C[3]);P.detach(P.indexOf(t))}}const u=this._adjustIndex(i),f=this._lContainer;!function(e,t,i,c){const l=U+c,u=i.length;c>0&&(i[l-1][4]=t),c<u-U?(t[4]=i[l],No(i,U+c,t)):(i.push(t),t[4]=null),t[3]=i;const f=t[17];null!==f&&i!==f&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(f,t);const p=t[19];null!==p&&p.insertView(e),t[2]|=128}(l,c,f,u);const p=vp(u,f),g=c[11],_=Qo(g,f[7]);return null!==_&&function(e,t,i,c,l,u){c[0]=l,c[6]=t,Xo(e,c,i,1,l,u)}(l,f[6],g,c,_,p),t.attachToViewContainerRef(),No(Kf(f),u,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=Km(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),c=Hu(this._lContainer,i);c&&(Di(Kf(this._lContainer),i),pp(c[1],c))}detach(t){const i=this._adjustIndex(t,-1),c=Hu(this._lContainer,i);return c&&null!=Di(Kf(this._lContainer),i)?new Oa(c):null}_adjustIndex(t,i=0){return null==t?this.length+i:t}};function Km(e){return e[8]}function Kf(e){return e[8]||(e[8]=[])}function He(...e){}const jn=new Ct("Application Initializer");let Ht=(()=>{class e{constructor(i){this.appInits=i,this.resolve=He,this.reject=He,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l})}runInitializers(){if(this.initialized)return;const i=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const u=this.appInits[l]();if(Kd(u))i.push(u);else if(Ug(u)){const f=new Promise((p,g)=>{u.subscribe({complete:p,error:g})});i.push(f)}}Promise.all(i).then(()=>{c()}).catch(l=>{this.reject(l)}),0===i.length&&c(),this.initialized=!0}}return e.\u0275fac=function(i){return new(i||e)(Lt(jn,8))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})();const Yr=new Ct("AppId"),pD={provide:Yr,useFactory:function(){return`${Hn()}${Hn()}${Hn()}`},deps:[]};function Hn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const po=new Ct("Platform Initializer"),ja=new Ct("Platform ID"),ni=new Ct("appBootstrapListener");let WA=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})();const c_=new Ct("LocaleId"),pA=new Ct("DefaultCurrencyCode");class qA{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let gA=(()=>{class e{compileModuleSync(i){return new Bf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),u=gr(Ut(i).declarations).reduce((f,p)=>{const g=Gt(p);return g&&f.push(new Ol(g)),f},[]);return new qA(c,u)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})();const YA=(()=>Promise.resolve(0))();function gD(e){"undefined"==typeof Zone?YA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ar{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new or(!1),this.onMicrotaskEmpty=new or(!1),this.onStable=new or(!1),this.onError=new or(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&i,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=rt.requestAnimationFrame,t=rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const c=t[Zone.__symbol__("OriginalDelegate")];c&&(t=c)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(rt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_D(e),e.isCheckStableRunning=!0,mD(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_D(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,l,u,f,p)=>{try{return mA(e),i.invokeTask(l,u,f,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),_A(e)}},onInvoke:(i,c,l,u,f,p,g)=>{try{return mA(e),i.invoke(l,u,f,p,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),_A(e)}},onHasTask:(i,c,l,u)=>{i.hasTask(l,u),c===l&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,_D(e),mD(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(i,c,l,u)=>(i.handleError(l,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ar.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ar.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,i,c){return this._inner.run(t,i,c)}runTask(t,i,c,l){const u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+l,t,QA,He,He);try{return u.runTask(f,i,c)}finally{u.cancelTask(f)}}runGuarded(t,i,c){return this._inner.runGuarded(t,i,c)}runOutsideAngular(t){return this._outer.run(t)}}const QA={};function mD(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _D(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _A(e){e._nesting--,mD(e)}class eb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new or,this.onMicrotaskEmpty=new or,this.onStable=new or,this.onError=new or}run(t,i,c){return t.apply(i,c)}runGuarded(t,i,c){return t.apply(i,c)}runOutsideAngular(t){return t()}runTask(t,i,c,l){return t.apply(i,c)}}let yA=(()=>{class e{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ar.assertNotInAngularZone(),gD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gD(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,l){let u=-1;c&&c>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==u),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:l})}whenStable(i,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,c,l){return[]}}return e.\u0275fac=function(i){return new(i||e)(Lt(ar))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})(),vA=(()=>{class e{constructor(){this._applications=new Map,yD.addToWindow(this)}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return yD.findTestabilityInTree(this,i,c)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})();class tb{addToWindow(t){}findTestabilityInTree(t,i,c){return null}}function nb(e){yD=e}let zr,yD=new tb;const EA=new Ct("AllowMultipleToken");function DA(e,t,i=[]){const c=`Platform: ${t}`,l=new Ct(c);return(u=[])=>{let f=CA();if(!f||f.injector.get(EA,!1))if(e)e(i.concat(u).concat({provide:l,useValue:!0}));else{const p=i.concat(u).concat({provide:l,useValue:!0},{provide:Kc,useValue:"platform"});!function(e){if(zr&&!zr.destroyed&&!zr.injector.get(EA,!1))throw new z("400","");zr=e.get(AA);const t=e.get(po,null);t&&t.forEach(i=>i())}(Rn.create({providers:p,name:c}))}return function(e){const t=CA();if(!t)throw new z("401","");return t}()}}function CA(){return zr&&!zr.destroyed?zr:null}let AA=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const p=function(e,t){let i;return i="noop"===e?new eb:("zone.js"===e?void 0:e)||new ar({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),i}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),g=[{provide:ar,useValue:p}];return p.run(()=>{const _=Rn.create({providers:g,parent:this.injector,name:i.moduleType.name}),v=i.create(_),C=v.injector.get(bn,null);if(!C)throw new z("402","");return p.runOutsideAngular(()=>{const P=p.onError.subscribe({next:k=>{C.handleError(k)}});v.onDestroy(()=>{vD(this._modules,v),P.unsubscribe()})}),function(e,t,i){try{const c=i();return Kd(c)?c.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):c}catch(c){throw t.runOutsideAngular(()=>e.handleError(c)),c}}(C,p,()=>{const P=v.injector.get(Ht);return P.runInitializers(),P.donePromise.then(()=>(function(e){Yt(e,"Expected localeId to be defined"),"string"==typeof e&&(df=e.toLowerCase().replace(/_/g,"-"))}(v.injector.get(c_,hl)||hl),this._moduleDoBootstrap(v),v))})})}bootstrapModule(i,c=[]){const l=bA({},c);return function(e,t,i){const c=new Bf(i);return Promise.resolve(c)}(0,0,i).then(u=>this.bootstrapModuleFactory(u,l))}_moduleDoBootstrap(i){const c=i.injector.get(l_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>c.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new z("403","");i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z("404","");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(i){return new(i||e)(Lt(Rn))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})();function bA(e,t){return Array.isArray(t)?t.reduce(bA,e):Be(Be({},e),t)}let l_=(()=>{class e{constructor(i,c,l,u,f){this._zone=i,this._injector=c,this._exceptionHandler=l,this._componentFactoryResolver=u,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new Z.y(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),g=new Z.y(_=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{ar.assertNotInAngularZone(),gD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{ar.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{v.unsubscribe(),C.unsubscribe()}});this.isStable=(0,W.T)(p,g.pipe((0,F.B)()))}bootstrap(i,c){if(!this._initStatus.done)throw new z("405","");let l;l=i instanceof Bm?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(l.componentType);const u=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(lo),p=l.create(Rn.NULL,[],c||l.selector,u),g=p.location.nativeElement,_=p.injector.get(yA,null),v=_&&p.injector.get(vA);return _&&v&&v.registerApplication(g,_),p.onDestroy(()=>{this.detachView(p.hostView),vD(this.components,p),v&&v.unregisterApplication(g)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new z("101","");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;vD(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(ni,[]).concat(this._bootstrapListeners).forEach(l=>l(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(i){return new(i||e)(Lt(ar),Lt(Rn),Lt(bn),Lt(ei),Lt(Ht))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e})();function vD(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}let SA=!0,TA=!1;function db(){return TA=!0,SA}function fb(){if(TA)throw new Error("Cannot enable prod mode after platform setup.");SA=!1}let hb=(()=>{class e{}return e.__NG_ELEMENT_ID__=pb,e})();function pb(e){return function(e,t,i){if(at(e)&&!i){const c=An(e.index,t);return new Oa(c,c)}return 47&e.type?new Oa(t[16],t):null}(xt(),Q(),16==(16&e))}class xA{constructor(){}supports(t){return Wi(t)}create(t){return new Db(t)}}const Eb=(e,t)=>t;class Db{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Eb}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,c=this._removalsHead,l=0,u=null;for(;i||c;){const f=!c||i&&i.currentIndex<RA(c,l,u)?i:c,p=RA(f,l,u),g=f.currentIndex;if(f===c)l--,c=c._nextRemoved;else if(i=i._next,null==f.previousIndex)l++;else{u||(u=[]);const _=p-l,v=g-l;if(_!=v){for(let P=0;P<_;P++){const k=P<u.length?u[P]:u[P]=0,q=k+P;v<=q&&q<_&&(u[P]=k+1)}u[f.previousIndex]=v-_}}p!==g&&t(f,p,g)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!Wi(t))throw new Error(`Error trying to diff '${A(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,u,f,i=this._itHead,c=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)u=t[p],f=this._trackByFn(p,u),null!==i&&Object.is(i.trackById,f)?(c&&(i=this._verifyReinsertion(i,u,f,p)),Object.is(i.item,u)||this._addIdentityChange(i,u)):(i=this._mismatch(i,u,f,p),c=!0),i=i._next}else l=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Gr()]();let c;for(;!(c=i.next()).done;)t(c.value)}}(t,p=>{f=this._trackByFn(l,p),null!==i&&Object.is(i.trackById,f)?(c&&(i=this._verifyReinsertion(i,p,f,l)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,f,l),c=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,c,l){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,u,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,u,l)):t=this._addAfter(new Cb(i,c),u,l),t}_verifyReinsertion(t,i,c,l){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==u?t=this._reinsertAfter(u,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,u=t._nextRemoved;return null===l?this._removalsHead=u:l._nextRemoved=u,null===u?this._removalsTail=l:u._prevRemoved=l,this._insertAfter(t,i,c),this._addToMoves(t,c),t}_moveAfter(t,i,c){return this._unlink(t),this._insertAfter(t,i,c),this._addToMoves(t,c),t}_addAfter(t,i,c){return this._insertAfter(t,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,c){const l=null===i?this._itHead:i._next;return t._next=l,t._prev=i,null===l?this._itTail=t:l._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new NA),this._linkedRecords.put(t),t.currentIndex=c,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,c=t._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Cb{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ab{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,t))return c;return null}remove(t){const i=t._prevDup,c=t._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class NA{constructor(){this.map=new Map}put(t){const i=t.trackById;let c=this.map.get(i);c||(c=new Ab,this.map.set(i,c)),c.add(t)}get(t,i){const l=this.map.get(t);return l?l.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RA(e,t,i){const c=e.previousIndex;if(null===c)return c;let l=0;return i&&c<i.length&&(l=i[c]),c+t+l}class LA{constructor(){}supports(t){return t instanceof Map||Dr(t)}create(){return new bb}}class bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||Dr(t)))throw new Error(`Error trying to diff '${A(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(c,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const u=this._getOrCreateRecordForKey(l,c);i=this._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const c=t._prev;return i._next=t,i._prev=c,t._prev=i,c&&(c._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,i);const u=l._prev,f=l._next;return u&&(u._next=f),f&&(f._prev=u),l._next=null,l._prev=null,l}const c=new wb(t);return this._records.set(t,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(c=>i(t[c],c))}}class wb{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new d_([new xA])}let d_=(()=>{class e{constructor(i){this.factories=i}static create(i,c){if(null!=c){const l=c.factories.slice();i=i.concat(l)}return new e(i)}static extend(i){return{provide:e,useFactory:c=>e.create(i,c||kA()),deps:[[e,new bi,new Fr]]}}find(i){const c=this.factories.find(l=>l.supports(i));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(e){return e.name||typeof e}(i)}'`)}}return e.\u0275prov=wt({token:e,providedIn:"root",factory:kA}),e})();function VA(){return new f_([new LA])}let f_=(()=>{class e{constructor(i){this.factories=i}static create(i,c){if(c){const l=c.factories.slice();i=i.concat(l)}return new e(i)}static extend(i){return{provide:e,useFactory:c=>e.create(i,c||VA()),deps:[[e,new bi,new Fr]]}}find(i){const c=this.factories.find(l=>l.supports(i));if(c)return c;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return e.\u0275prov=wt({token:e,providedIn:"root",factory:VA}),e})();const Tb=[new LA],Ib=new d_([new xA]),Pb=new f_(Tb),Ob=DA(null,"core",[{provide:ja,useValue:"unknown"},{provide:AA,deps:[Rn]},{provide:vA,deps:[]},{provide:WA,deps:[]}]),Lb=[{provide:l_,useClass:l_,deps:[ar,Rn,bn,ei,Ht]},{provide:xE,deps:[ar],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(i){t.push(i)}}},{provide:Ht,useClass:Ht,deps:[[new Fr,jn]]},{provide:gA,useClass:gA,deps:[]},pD,{provide:d_,useFactory:function(){return Ib},deps:[]},{provide:f_,useFactory:function(){return Pb},deps:[]},{provide:c_,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||hl},deps:[[new St(c_),new Fr,new bi]]},{provide:pA,useValue:"USD"}];let Vb=(()=>{class e{constructor(i){}}return e.\u0275fac=function(i){return new(i||e)(Lt(l_))},e.\u0275mod=As({type:e}),e.\u0275inj=Vt({providers:Lb}),e})()},7687:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3668),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4467),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(172),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5548),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2411),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3894),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7575),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(466),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3005),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8735),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8053),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6700),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9163),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5686),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2047),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1887),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8805),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9204),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5488),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9748),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5571),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(7434);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(L){const T={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},E="function"==typeof L?L():L,Z=Object.assign({},T,{features:E.features||!!E.logOnly&&{pause:!0,export:!0,test:!0}||T.features},E);if(Z.maxAge&&Z.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${Z.maxAge}`);return Z}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(T,E){if(this.action=T,this.timestamp=E,this.type=PERFORM_ACTION,void 0===T.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(T){this.timestamp=T,this.type=RESET}}class Rollback{constructor(T){this.timestamp=T,this.type=ROLLBACK}}class Commit{constructor(T){this.timestamp=T,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(T){this.id=T,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(T,E,o=!0){this.start=T,this.end=E,this.active=o,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(T){this.index=T,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(T){this.actionId=T,this.type=JUMP_TO_ACTION}}class ImportState{constructor(T){this.nextLiftedState=T,this.type=IMPORT_STATE}}class LockChanges{constructor(T){this.status=T,this.type=LOCK_CHANGES}}class PauseRecording{constructor(T){this.status=T,this.type=PAUSE_RECORDING}}function difference(L,T){return L.filter(E=>T.indexOf(E)<0)}function unliftState(L){const{computedStates:T,currentStateIndex:E}=L;if(E>=T.length){const{state:V}=T[T.length-1];return V}const{state:o}=T[E];return o}function unliftAction(L){return L.actionsById[L.nextActionId-1]}function liftAction(L){return new PerformAction(L,+Date.now())}function sanitizeActions(L,T){return Object.keys(T).reduce((E,o)=>{const V=Number(o);return E[V]=sanitizeAction(L,T[V],V),E},{})}function sanitizeAction(L,T,E){return hn(Be({},T),{action:L(T.action,E)})}function sanitizeStates(L,T){return T.map((E,o)=>({state:sanitizeState(L,E.state,o),error:E.error}))}function sanitizeState(L,T,E){return L(T,E)}function shouldFilterActions(L){return L.predicate||L.actionsSafelist||L.actionsBlocklist}function filterLiftedState(L,T,E,o){const V=[],Z={},W=[];return L.stagedActionIds.forEach((F,I)=>{const O=L.actionsById[F];!O||I&&isActionFiltered(L.computedStates[I],O,T,E,o)||(Z[F]=O,V.push(F),W.push(L.computedStates[I]))}),hn(Be({},L),{stagedActionIds:V,actionsById:Z,computedStates:W})}function isActionFiltered(L,T,E,o,V){const Z=E&&!E(L,T.action),W=o&&!T.action.type.match(o.map(I=>escapeRegExp(I)).join("|")),F=V&&T.action.type.match(V.map(I=>escapeRegExp(I)).join("|"));return Z||W||F}function escapeRegExp(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(L,T,E,o,V){if(o)return{state:E,error:"Interrupted by an error up the chain"};let W,Z=E;try{Z=L(E,T)}catch(F){W=F.toString(),V.handleError(F)}return{state:Z,error:W}}function recomputeStates(L,T,E,o,V,Z,W,F,I){if(T>=L.length&&L.length===Z.length)return L;const O=L.slice(0,T),A=Z.length-(I?1:0);for(let M=T;M<A;M++){const S=Z[M],B=V[S].action,x=O[M-1],G=x?x.state:o,pe=x?x.error:void 0,te=W.indexOf(S)>-1?x:computeNextEntry(E,B,G,pe,F);O.push(te)}return I&&O.push(L[L.length-1]),O}function liftInitialState(L,T){return{monitorState:T(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:L,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(L,T,E,o,V={}){return Z=>(W,F)=>{let{monitorState:I,actionsById:O,nextActionId:A,stagedActionIds:M,skippedActionIds:S,committedState:B,currentStateIndex:x,computedStates:G,isLocked:pe,isPaused:z}=W||T;function te(J){let _e=J,Le=M.slice(1,_e+1);for(let Xe=0;Xe<Le.length;Xe++){if(G[Xe+1].error){_e=Xe,Le=M.slice(1,_e+1);break}delete O[Le[Xe]]}S=S.filter(Xe=>-1===Le.indexOf(Xe)),M=[0,...M.slice(_e+1)],B=G[_e].state,G=G.slice(_e),x=x>_e?x-_e:0}function me(){O={0:liftAction(INIT_ACTION)},A=1,M=[0],S=[],B=G[x].state,x=0,G=[]}W||(O=Object.create(O));let H=0;switch(F.type){case LOCK_CHANGES:pe=F.status,H=1/0;break;case PAUSE_RECORDING:z=F.status,z?(M=[...M,A],O[A]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),A++,H=M.length-1,G=G.concat(G[G.length-1]),x===M.length-2&&x++,H=1/0):me();break;case RESET:O={0:liftAction(INIT_ACTION)},A=1,M=[0],S=[],B=L,x=0,G=[];break;case COMMIT:me();break;case ROLLBACK:O={0:liftAction(INIT_ACTION)},A=1,M=[0],S=[],x=0,G=[];break;case TOGGLE_ACTION:{const{id:J}=F;S=-1===S.indexOf(J)?[J,...S]:S.filter(Le=>Le!==J),H=M.indexOf(J);break}case SET_ACTIONS_ACTIVE:{const{start:J,end:_e,active:Le}=F,Xe=[];for(let $t=J;$t<_e;$t++)Xe.push($t);S=Le?difference(S,Xe):[...S,...Xe],H=M.indexOf(J);break}case JUMP_TO_STATE:x=F.index,H=1/0;break;case JUMP_TO_ACTION:{const J=M.indexOf(F.actionId);-1!==J&&(x=J),H=1/0;break}case SWEEP:M=difference(M,S),S=[],x=Math.min(x,M.length-1);break;case PERFORM_ACTION:{if(pe)return W||T;if(z||W&&isActionFiltered(W.computedStates[x],F,V.predicate,V.actionsSafelist,V.actionsBlocklist)){const _e=G[G.length-1];G=[...G.slice(0,-1),computeNextEntry(Z,F.action,_e.state,_e.error,E)],H=1/0;break}V.maxAge&&M.length===V.maxAge&&te(1),x===M.length-1&&x++;const J=A++;O[J]=F,M=[...M,J],H=M.length-1;break}case IMPORT_STATE:({monitorState:I,actionsById:O,nextActionId:A,stagedActionIds:M,skippedActionIds:S,committedState:B,currentStateIndex:x,computedStates:G,isLocked:pe,isPaused:z}=F.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:H=0,V.maxAge&&M.length>V.maxAge&&(G=recomputeStates(G,H,Z,B,O,M,S,E,z),te(M.length-V.maxAge),H=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(G.filter(_e=>_e.error).length>0)H=0,V.maxAge&&M.length>V.maxAge&&(G=recomputeStates(G,H,Z,B,O,M,S,E,z),te(M.length-V.maxAge),H=1/0);else{if(!z&&!pe){x===M.length-1&&x++;const _e=A++;O[_e]=new PerformAction(F,+Date.now()),M=[...M,_e],H=M.length-1,G=recomputeStates(G,H,Z,B,O,M,S,E,z)}G=G.map(_e=>hn(Be({},_e),{state:Z(_e.state,RECOMPUTE_ACTION)})),x=M.length-1,V.maxAge&&M.length>V.maxAge&&te(M.length-V.maxAge),H=1/0}break;default:H=1/0}return G=recomputeStates(G,H,Z,B,O,M,S,E,z),I=o(I,F),{monitorState:I,actionsById:O,nextActionId:A,stagedActionIds:M,skippedActionIds:S,committedState:B,currentStateIndex:x,computedStates:G,isLocked:pe,isPaused:z}}}let DevtoolsDispatcher=(()=>{class L extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return L.\u0275fac=function(){let T;return function(o){return(T||(T=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(L)))(o||L)}}(),L.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:L,factory:L.\u0275fac}),L})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(L,T,E){this.config=T,this.dispatcher=E,this.devtoolsExtension=L,this.createActionStreams()}notify(L,T){if(this.devtoolsExtension)if(L.type===PERFORM_ACTION){if(T.isLocked||T.isPaused)return;const E=unliftState(T);if(shouldFilterActions(this.config)&&isActionFiltered(E,L,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,E,T.currentStateIndex):E,V=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,L,T.nextActionId):L;this.sendToReduxDevtools(()=>this.extensionConnection.send(V,o))}else{const E=hn(Be({},T),{stagedActionIds:T.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,T.actionsById):T.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,T.computedStates):T.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,E,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(L=>{const T=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=T,T.init(),T.subscribe(E=>L.next(E)),T.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const L=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),T=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.START)),E=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.STOP)),o=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(F=>this.unwrapAction(F.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(F=>F.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(I=>I.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>F),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(F)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(F))),Z=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(F=>this.unwrapAction(F.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),W=o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E));this.start$=T.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(E)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Z)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>W))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(L){var E;const T={name:L.name,features:L.features,serialize:L.serialize,autoPause:null!=(E=L.autoPause)&&E};return!1!==L.maxAge&&(T.maxAge=L.maxAge),T}sendToReduxDevtools(L){try{L()}catch(T){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",T)}}}return DevtoolsExtension.\u0275fac=function(T){return new(T||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class L{constructor(E,o,V,Z,W,F,I,O){const A=liftInitialState(I,O.monitor),M=liftReducerWith(I,A,F,O.monitor,O),S=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(o.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),Z.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),E,Z.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),B=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(M)),x=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),G=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(B),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:me},[H,J])=>{let _e=J(me,H);return H.type!==PERFORM_ACTION&&shouldFilterActions(O)&&(_e=filterLiftedState(_e,O.predicate,O.actionsSafelist,O.actionsBlocklist)),Z.notify(H,_e),{state:_e,action:H}},{state:A,action:null})).subscribe(({state:me,action:H})=>{x.next(me),H.type===PERFORM_ACTION&&W.next(H.action)}),pe=Z.start$.subscribe(()=>{this.refresh()}),z=x.asObservable(),te=z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=pe,this.stateSubscription=G,this.dispatcher=E,this.liftedState=z,this.state=te}dispatch(E){this.dispatcher.next(E)}next(E){this.dispatcher.next(E)}error(E){}complete(){}performAction(E){this.dispatch(new PerformAction(E,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(E){this.dispatch(new ToggleAction(E))}jumpToAction(E){this.dispatch(new JumpToAction(E))}jumpToState(E){this.dispatch(new JumpToState(E))}importState(E){this.dispatch(new ImportState(E))}lockChanges(E){this.dispatch(new LockChanges(E))}pauseRecording(E){this.dispatch(new PauseRecording(E))}}return L.\u0275fac=function(E){return new(E||L)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},L.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:L,factory:L.\u0275fac}),L})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(L,T){return Boolean(L)||T.monitor!==noMonitor}function createReduxDevtoolsExtension(){const L="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[L]?window[L]:null}function createStateObservable(L){return L.state}let StoreDevtoolsModule=(()=>{class L{static instrument(E={}){return{ngModule:L,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:E},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return L.\u0275fac=function(E){return new(E||L)},L.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:L}),L.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),L})()},4467:(L,T,E)=>{E.d(T,{UO:()=>It,qg:()=>$t,Y6:()=>Ye,mK:()=>yo,n$:()=>Ds,Y$:()=>vn,FR:()=>Wa,yh:()=>gt,CK:()=>dr,Aw:()=>Qt,cr:()=>ur,wb:()=>Re,qC:()=>si,PH:()=>J,ZF:()=>li,Lq:()=>Ao,P1:()=>Co,on:()=>bs,Ky:()=>_e,Ys:()=>Oe});var o=E(3668),V=E(3405),Z=E(2108);class W extends V.xQ{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const N=super._subscribe($);return N&&!N.closed&&$.next(this._value),N}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Z.N;return this._value}next($){super.next(this._value=$)}}var F=E(5548),I=E(7575),O=E(8053),S=E(4168);class x{constructor($,N){this.compare=$,this.keySelector=N}call($,N){return N.subscribe(new G($,this.compare,this.keySelector))}}class G extends S.L{constructor($,N,U){super($),this.keySelector=U,this.hasKey=!1,"function"==typeof N&&(this.compare=N)}compare($,N){return $===N}_next($){let N;try{const{keySelector:ee}=this;N=ee?ee($):$}catch(ee){return this.destination.error(ee)}let U=!1;if(this.hasKey)try{const{compare:ee}=this;U=ee(this.key,N)}catch(ee){return this.destination.error(ee)}else this.hasKey=!0;U||(this.key=N,this.destination.next($))}}var pe=E(9748),z=E(5571),te=E(7434);const me={};function J(w,$){if(me[w]=(me[w]||0)+1,"function"==typeof $)return Xe(w,(...U)=>hn(Be({},$(...U)),{type:w}));switch($?$._as:"empty"){case"empty":return Xe(w,()=>({type:w}));case"props":return Xe(w,U=>hn(Be({},U),{type:w}));default:throw new Error("Unexpected config.")}}function _e(){return{_as:"props",_p:void 0}}function Xe(w,$){return Object.defineProperty($,"type",{value:w,writable:!1})}const $t="@ngrx/store/init";let It=(()=>{class w extends W{constructor(){super({type:$t})}next(N){if("function"==typeof N)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===N)throw new TypeError("Actions must be objects");if(void 0===N.type)throw new TypeError("Actions must have a type property");super.next(N)}complete(){}ngOnDestroy(){super.complete()}}return w.\u0275fac=function(N){return new(N||w)},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const h_=[It],go=new o.OlP("@ngrx/store Internal Root Guard"),Kt=new o.OlP("@ngrx/store Internal Initial State"),Ye=new o.OlP("@ngrx/store Initial State"),pt=new o.OlP("@ngrx/store Reducer Factory"),Ue=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),ct=new o.OlP("@ngrx/store Initial Reducers"),Ae=new o.OlP("@ngrx/store Internal Initial Reducers"),Vl=new o.OlP("@ngrx/store Store Features"),Bl=new o.OlP("@ngrx/store Internal Store Reducers"),mo=new o.OlP("@ngrx/store Internal Feature Reducers"),Ul=new o.OlP("@ngrx/store Internal Feature Configs"),Yt=new o.OlP("@ngrx/store Internal Store Features"),nt=new o.OlP("@ngrx/store Internal Feature Reducers Token"),oh=new o.OlP("@ngrx/store Feature Reducers"),ah=new o.OlP("@ngrx/store User Provided Meta Reducers"),Qr=new o.OlP("@ngrx/store Meta Reducers"),wt=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),ri=new o.OlP("@ngrx/store User Runtime Checks Config"),Vt=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),$n=new o.OlP("@ngrx/store Internal Runtime Checks"),_o=new o.OlP("@ngrx/store Check if Action types are unique");function Ga(w,$={}){const N=Object.keys(w),U={};for(let re=0;re<N.length;re++){const Ie=N[re];"function"==typeof w[Ie]&&(U[Ie]=w[Ie])}const ee=Object.keys(U);return function(Ie,Ot){Ie=void 0===Ie?$:Ie;let at=!1;const Zt={};for(let je=0;je<ee.length;je++){const Cn=ee[je],gn=Ie[Cn],Xa=(0,U[Cn])(gn,Ot);Zt[Cn]=Xa,at=at||Xa!==gn}return at?Zt:Ie}}function si(...w){return function($){if(0===w.length)return $;const N=w[w.length-1];return w.slice(0,-1).reduceRight((ee,re)=>re(ee),N($))}}function Es(w,$){return Array.isArray($)&&$.length>0&&(w=si.apply(null,[...$,w])),(N,U)=>{const ee=w(N);return(re,Ie)=>ee(re=void 0===re?U:re,Ie)}}class Ds extends F.y{}class yo extends It{}const Re="@ngrx/store/update-reducers";let Nt=(()=>{class w extends W{constructor(N,U,ee,re){super(re(ee,U)),this.dispatcher=N,this.initialState=U,this.reducers=ee,this.reducerFactory=re}get currentReducers(){return this.reducers}addFeature(N){this.addFeatures([N])}addFeatures(N){const U=N.reduce((ee,{reducers:re,reducerFactory:Ie,metaReducers:Ot,initialState:at,key:Zt})=>{const je="function"==typeof re?function(w){const $=Array.isArray(w)&&w.length>0?si(...w):N=>N;return(N,U)=>(N=$(N),(ee,re)=>N(ee=void 0===ee?U:ee,re))}(Ot)(re,at):Es(Ie,Ot)(re,at);return ee[Zt]=je,ee},{});this.addReducers(U)}removeFeature(N){this.removeFeatures([N])}removeFeatures(N){this.removeReducers(N.map(U=>U.key))}addReducer(N,U){this.addReducers({[N]:U})}addReducers(N){this.reducers=Be(Be({},this.reducers),N),this.updateReducers(Object.keys(N))}removeReducer(N){this.removeReducers([N])}removeReducers(N){N.forEach(U=>{this.reducers=function(w,$){return Object.keys(w).filter(N=>N!==$).reduce((N,U)=>Object.assign(N,{[U]:w[U]}),{})}(this.reducers,U)}),this.updateReducers(N)}updateReducers(N){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Re,features:N})}ngOnDestroy(){this.complete()}}return w.\u0275fac=function(N){return new(N||w)(o.LFG(yo),o.LFG(Ye),o.LFG(ct),o.LFG(pt))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const vo=[Nt,{provide:Ds,useExisting:Nt},{provide:yo,useExisting:It}];let vn=(()=>{class w extends V.xQ{ngOnDestroy(){this.complete()}}return w.\u0275fac=function(){let $;return function(U){return($||($=o.n5z(w)))(U||w)}}(),w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const Za=[vn];class Wa extends F.y{}let Gn=(()=>{class w extends W{constructor(N,U,ee,re){super(re);const Zt=N.pipe((0,pe.QV)(I.N)).pipe((0,z.M)(U)).pipe((0,te.R)(Bt,{state:re}));this.stateSubscription=Zt.subscribe(({state:je,action:Cn})=>{this.next(je),ee.next(Cn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return w.INIT=$t,w.\u0275fac=function(N){return new(N||w)(o.LFG(It),o.LFG(Ds),o.LFG(vn),o.LFG(Ye))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();function Bt(w={state:void 0},[$,N]){const{state:U}=w;return{state:N(U,$),action:$}}const lh=[Gn,{provide:Wa,useExisting:Gn}];let gt=(()=>{class w extends F.y{constructor(N,U,ee){super(),this.actionsObserver=U,this.reducerManager=ee,this.source=N}select(N,...U){return Oe.call(null,N,...U)(this)}lift(N){const U=new w(this,this.actionsObserver,this.reducerManager);return U.operator=N,U}dispatch(N){this.actionsObserver.next(N)}next(N){this.actionsObserver.next(N)}error(N){this.actionsObserver.error(N)}complete(){this.actionsObserver.complete()}addReducer(N,U){this.reducerManager.addReducer(N,U)}removeReducer(N){this.reducerManager.removeReducer(N)}}return w.\u0275fac=function(N){return new(N||w)(o.LFG(Wa),o.LFG(It),o.LFG(Nt))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})();const De=[gt];function Oe(w,$,...N){return function(ee){let re;if("string"==typeof w){const Ie=[$,...N].filter(Boolean);re=ee.pipe(function(...w){const $=w.length;if(0===$)throw new Error("list of properties cannot be empty.");return N=>(0,O.U)(function(w,$){return U=>{let ee=U;for(let re=0;re<$;re++){const Ie=null!=ee?ee[w[re]]:void 0;if(void 0===Ie)return;ee=Ie}return ee}}(w,$))(N)}(w,...Ie))}else{if("function"!=typeof w)throw new TypeError(`Unexpected type '${typeof w}' in select operator, expected 'string' or 'function'`);re=ee.pipe((0,O.U)(Ie=>w(Ie,$)))}return re.pipe(N=>N.lift(new x(void 0,void 0)))}}const Jr="https://ngrx.io/guide/store/configuration/runtime-checks";function Zn(w){return void 0===w}function rt(w){return null===w}function En(w){return Array.isArray(w)}function ze(w){return"object"==typeof w&&null!==w}function oi(w){return"function"==typeof w}function Xr(w,$){return w===$}function Ka(w,$,N){for(let U=0;U<w.length;U++)if(!N(w[U],$[U]))return!0;return!1}function As(w,$=Xr,N=Xr){let re,U=null,ee=null;return{memoized:function(){if(void 0!==re)return re.result;if(!U)return ee=w.apply(null,arguments),U=arguments,ee;if(!Ka(arguments,U,$))return ee;const je=w.apply(null,arguments);return U=arguments,N(ee,je)?ee:(ee=je,je)},reset:function(){U=null,ee=null},setResult:function(je){re={result:je}},clearResult:function(){re=void 0}}}function Co(...w){return function(w,$={stateFn:za}){return function(...N){let U=N;if(Array.isArray(U[0])){const[je,...Cn]=U;U=[...je,...Cn]}const ee=U.slice(0,U.length-1),re=U[U.length-1],Ie=ee.filter(je=>je.release&&"function"==typeof je.release),Ot=w(function(...je){return re.apply(null,je)}),at=As(function(je,Cn){return $.stateFn.apply(null,[je,ee,Cn,Ot])});return Object.assign(at.memoized,{release:function(){at.reset(),Ot.reset(),Ie.forEach(je=>je.release())},projector:Ot.memoized,setResult:at.setResult,clearResult:at.clearResult})}}(As)(...w)}function za(w,$,N,U){if(void 0===N){const re=$.map(Ie=>Ie(w));return U.memoized.apply(null,re)}const ee=$.map(re=>re(w,N));return U.memoized.apply(null,[...ee,N])}function li(w){return Co($=>{const N=$[w];return(0,o.X6Q)()&&!(w in $)&&console.warn(`@ngrx/store: The feature name "${w}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${w}', ...) or StoreModule.forFeature('${w}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),N},$=>$)}function zt(w){Object.freeze(w);const $=oi(w);return Object.getOwnPropertyNames(w).forEach(N=>{if(!N.startsWith("\u0275")&&function(w,$){return Object.prototype.hasOwnProperty.call(w,$)}(w,N)&&(!$||"caller"!==N&&"callee"!==N&&"arguments"!==N)){const U=w[N];(ze(U)||oi(U))&&!Object.isFrozen(U)&&zt(U)}}),w}function Fe(w,$=[]){return(Zn(w)||rt(w))&&0===$.length?{path:["root"],value:w}:Object.keys(w).reduce((U,ee)=>{if(U)return U;const re=w[ee];return function(w){return oi(w)&&w.hasOwnProperty("\u0275cmp")}(re)?U:!(Zn(re)||rt(re)||function(w){return"number"==typeof w}(re)||function(w){return"boolean"==typeof w}(re)||function(w){return"string"==typeof w}(re)||En(re))&&(function(w){if(!function(w){return ze(w)&&!En(w)}(w))return!1;const $=Object.getPrototypeOf(w);return $===Object.prototype||null===$}(re)?Fe(re,[...$,ee]):{path:[...$,ee],value:re})},!1)}function st(w,$){if(!1===w)return;const N=w.path.join("."),U=new Error(`Detected unserializable ${$} at "${N}". ${Jr}#strict${$}serializability`);throw U.value=w.value,U.unserializablePath=N,U}function qn(w){return(0,o.X6Q)()?Be({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},w):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Pt({strictActionSerializability:w,strictStateSerializability:$}){return N=>w||$?function(w,$){return function(N,U){$.action(U)&&st(Fe(U),"action");const ee=w(N,U);return $.state()&&st(Fe(ee),"state"),ee}}(N,{action:U=>w&&!lt(U),state:()=>$}):N}function wr({strictActionImmutability:w,strictStateImmutability:$}){return N=>w||$?function(w,$){return function(N,U){const ee=$.action(U)?zt(U):U,re=w(N,ee);return $.state()?zt(re):re}}(N,{action:U=>w&&!lt(U),state:()=>$}):N}function lt(w){return w.type.startsWith("@ngrx")}function Sr({strictActionWithinNgZone:w}){return $=>w?function(w,$){return function(N,U){if($.action(U)&&!o.R0b.isInAngularZone())throw new Error(`Action '${U.type}' running outside NgZone. ${Jr}#strictactionwithinngzone`);return w(N,U)}}($,{action:N=>w&&!lt(N)}):$}function es(w){return[{provide:Vt,useValue:w},{provide:ri,useFactory:ui,deps:[Vt]},{provide:$n,deps:[ri],useFactory:qn},{provide:Qr,multi:!0,deps:[$n],useFactory:wr},{provide:Qr,multi:!0,deps:[$n],useFactory:Pt},{provide:Qr,multi:!0,deps:[$n],useFactory:Sr}]}function xe(){return[{provide:_o,multi:!0,deps:[$n],useFactory:lr}]}function ui(w){return w}function lr(w){if(!w.strictActionTypeUniqueness)return;const $=Object.entries(me).filter(([,N])=>N>1).map(([N])=>N);if($.length)throw new Error(`Action types are registered more than once, ${$.map(N=>`"${N}"`).join(", ")}. ${Jr}#strictactiontypeuniqueness`)}let ur=(()=>{class w{constructor(N,U,ee,re,Ie,Ot){}}return w.\u0275fac=function(N){return new(N||w)(o.LFG(It),o.LFG(Ds),o.LFG(vn),o.LFG(gt),o.LFG(go,8),o.LFG(_o,8))},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})(),dr=(()=>{class w{constructor(N,U,ee,re,Ie){this.features=N,this.featureReducers=U,this.reducerManager=ee;const Ot=N.map((at,Zt)=>{const Cn=U.shift()[Zt];return hn(Be({},at),{reducers:Cn,initialState:tt(at.initialState)})});ee.addFeatures(Ot)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return w.\u0275fac=function(N){return new(N||w)(o.LFG(Yt),o.LFG(oh),o.LFG(Nt),o.LFG(ur),o.LFG(_o,8))},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})(),Qt=(()=>{class w{static forRoot(N,U={}){return{ngModule:ur,providers:[{provide:go,useFactory:Ja,deps:[[gt,new o.FiY,new o.tp0]]},{provide:Kt,useValue:U.initialState},{provide:Ye,useFactory:tt,deps:[Kt]},{provide:Ae,useValue:N},{provide:Bl,useExisting:N instanceof o.OlP?N:Ae},{provide:ct,deps:[o.zs3,Ae,[new o.tBr(Bl)]],useFactory:di},{provide:ah,useValue:U.metaReducers?U.metaReducers:[]},{provide:wt,deps:[Qr,ah],useFactory:jl},{provide:Ue,useValue:U.reducerFactory?U.reducerFactory:Ga},{provide:pt,deps:[Ue,wt],useFactory:Es},h_,vo,Za,lh,De,es(U.runtimeChecks),xe()]}}static forFeature(N,U,ee={}){return{ngModule:dr,providers:[{provide:Ul,multi:!0,useValue:N instanceof Object?{}:ee},{provide:Vl,multi:!0,useValue:{key:N instanceof Object?N.name:N,reducerFactory:ee instanceof o.OlP||!ee.reducerFactory?Ga:ee.reducerFactory,metaReducers:ee instanceof o.OlP||!ee.metaReducers?[]:ee.metaReducers,initialState:ee instanceof o.OlP||!ee.initialState?void 0:ee.initialState}},{provide:Yt,deps:[o.zs3,Ul,Vl],useFactory:ts},{provide:mo,multi:!0,useValue:N instanceof Object?N.reducer:U},{provide:nt,multi:!0,useExisting:U instanceof o.OlP?U:mo},{provide:oh,multi:!0,deps:[o.zs3,mo,[new o.tBr(nt)]],useFactory:Dn},xe()]}}}return w.\u0275fac=function(N){return new(N||w)},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})();function di(w,$){return $ instanceof o.OlP?w.get($):$}function ts(w,$,N){return N.map((U,ee)=>{if($[ee]instanceof o.OlP){const re=w.get($[ee]);return{key:U.key,reducerFactory:re.reducerFactory?re.reducerFactory:Ga,metaReducers:re.metaReducers?re.metaReducers:[],initialState:re.initialState}}return U})}function Dn(w,$){return $.map(U=>U instanceof o.OlP?w.get(U):U)}function tt(w){return"function"==typeof w?w():w}function jl(w,$){return w.concat($)}function Ja(w){if(w)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function bs(...w){return{reducer:w.pop(),types:w.map(U=>U.type)}}function Ao(w,...$){const N=new Map;for(const U of $)for(const ee of U.types){const re=N.get(ee);N.set(ee,re?(Ot,at)=>U.reducer(re(Ot,at),at):U.reducer)}return function(U=w,ee){const re=N.get(ee.type);return re?re(U,ee):U}}}},L=>{L(L.s=9706)}]);